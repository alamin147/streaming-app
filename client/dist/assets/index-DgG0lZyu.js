var Zee=Object.defineProperty;var Jee=(t,e,r)=>e in t?Zee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var rE=(t,e,r)=>Jee(t,typeof e!="symbol"?e+"":e,r);function bG(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nE={exports:{}},Sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk;function ete(){if(dk)return Sh;dk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:s,ref:i!==void 0?i:null,props:a}}return Sh.Fragment=e,Sh.jsx=r,Sh.jsxs=r,Sh}var fk;function tte(){return fk||(fk=1,nE.exports=ete()),nE.exports}var v=tte(),iE={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk;function rte(){if(hk)return pt;hk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(G){return G===null||typeof G!="object"?null:(G=f&&G[f]||G["@@iterator"],typeof G=="function"?G:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function x(G,Y,X){this.props=G,this.context=Y,this.refs=b,this.updater=X||g}x.prototype.isReactComponent={},x.prototype.setState=function(G,Y){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,Y,"setState")},x.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function w(){}w.prototype=x.prototype;function E(G,Y,X){this.props=G,this.context=Y,this.refs=b,this.updater=X||g}var T=E.prototype=new w;T.constructor=E,y(T,x.prototype),T.isPureReactComponent=!0;var O=Array.isArray,_={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function R(G,Y,X,te,ee,ue){return X=ue.ref,{$$typeof:t,type:G,key:Y,ref:X!==void 0?X:null,props:ue}}function D(G,Y){return R(G.type,Y,void 0,void 0,void 0,G.props)}function I(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function M(G){var Y={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(X){return Y[X]})}var N=/\/+/g;function k(G,Y){return typeof G=="object"&&G!==null&&G.key!=null?M(""+G.key):Y.toString(36)}function F(){}function U(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(F,F):(G.status="pending",G.then(function(Y){G.status==="pending"&&(G.status="fulfilled",G.value=Y)},function(Y){G.status==="pending"&&(G.status="rejected",G.reason=Y)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function z(G,Y,X,te,ee){var ue=typeof G;(ue==="undefined"||ue==="boolean")&&(G=null);var he=!1;if(G===null)he=!0;else switch(ue){case"bigint":case"string":case"number":he=!0;break;case"object":switch(G.$$typeof){case t:case e:he=!0;break;case d:return he=G._init,z(he(G._payload),Y,X,te,ee)}}if(he)return ee=ee(G),he=te===""?"."+k(G,0):te,O(ee)?(X="",he!=null&&(X=he.replace(N,"$&/")+"/"),z(ee,Y,X,"",function(me){return me})):ee!=null&&(I(ee)&&(ee=D(ee,X+(ee.key==null||G&&G.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+he)),Y.push(ee)),1;he=0;var ve=te===""?".":te+":";if(O(G))for(var Se=0;Se<G.length;Se++)te=G[Se],ue=ve+k(te,Se),he+=z(te,Y,X,ue,ee);else if(Se=p(G),typeof Se=="function")for(G=Se.call(G),Se=0;!(te=G.next()).done;)te=te.value,ue=ve+k(te,Se++),he+=z(te,Y,X,ue,ee);else if(ue==="object"){if(typeof G.then=="function")return z(U(G),Y,X,te,ee);throw Y=String(G),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return he}function j(G,Y,X){if(G==null)return G;var te=[],ee=0;return z(G,te,"","",function(ue){return Y.call(X,ue,ee++)}),te}function H(G){if(G._status===-1){var Y=G._result;Y=Y(),Y.then(function(X){(G._status===0||G._status===-1)&&(G._status=1,G._result=X)},function(X){(G._status===0||G._status===-1)&&(G._status=2,G._result=X)}),G._status===-1&&(G._status=0,G._result=Y)}if(G._status===1)return G._result.default;throw G._result}var V=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function q(){}return pt.Children={map:j,forEach:function(G,Y,X){j(G,function(){Y.apply(this,arguments)},X)},count:function(G){var Y=0;return j(G,function(){Y++}),Y},toArray:function(G){return j(G,function(Y){return Y})||[]},only:function(G){if(!I(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},pt.Component=x,pt.Fragment=r,pt.Profiler=i,pt.PureComponent=E,pt.StrictMode=n,pt.Suspense=l,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,pt.act=function(){throw Error("act(...) is not supported in production builds of React.")},pt.cache=function(G){return function(){return G.apply(null,arguments)}},pt.cloneElement=function(G,Y,X){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var te=y({},G.props),ee=G.key,ue=void 0;if(Y!=null)for(he in Y.ref!==void 0&&(ue=void 0),Y.key!==void 0&&(ee=""+Y.key),Y)!P.call(Y,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Y.ref===void 0||(te[he]=Y[he]);var he=arguments.length-2;if(he===1)te.children=X;else if(1<he){for(var ve=Array(he),Se=0;Se<he;Se++)ve[Se]=arguments[Se+2];te.children=ve}return R(G.type,ee,void 0,void 0,ue,te)},pt.createContext=function(G){return G={$$typeof:s,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},pt.createElement=function(G,Y,X){var te,ee={},ue=null;if(Y!=null)for(te in Y.key!==void 0&&(ue=""+Y.key),Y)P.call(Y,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ee[te]=Y[te]);var he=arguments.length-2;if(he===1)ee.children=X;else if(1<he){for(var ve=Array(he),Se=0;Se<he;Se++)ve[Se]=arguments[Se+2];ee.children=ve}if(G&&G.defaultProps)for(te in he=G.defaultProps,he)ee[te]===void 0&&(ee[te]=he[te]);return R(G,ue,void 0,void 0,null,ee)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(G){return{$$typeof:o,render:G}},pt.isValidElement=I,pt.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:H}},pt.memo=function(G,Y){return{$$typeof:c,type:G,compare:Y===void 0?null:Y}},pt.startTransition=function(G){var Y=_.T,X={};_.T=X;try{var te=G(),ee=_.S;ee!==null&&ee(X,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(q,V)}catch(ue){V(ue)}finally{_.T=Y}},pt.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},pt.use=function(G){return _.H.use(G)},pt.useActionState=function(G,Y,X){return _.H.useActionState(G,Y,X)},pt.useCallback=function(G,Y){return _.H.useCallback(G,Y)},pt.useContext=function(G){return _.H.useContext(G)},pt.useDebugValue=function(){},pt.useDeferredValue=function(G,Y){return _.H.useDeferredValue(G,Y)},pt.useEffect=function(G,Y){return _.H.useEffect(G,Y)},pt.useId=function(){return _.H.useId()},pt.useImperativeHandle=function(G,Y,X){return _.H.useImperativeHandle(G,Y,X)},pt.useInsertionEffect=function(G,Y){return _.H.useInsertionEffect(G,Y)},pt.useLayoutEffect=function(G,Y){return _.H.useLayoutEffect(G,Y)},pt.useMemo=function(G,Y){return _.H.useMemo(G,Y)},pt.useOptimistic=function(G,Y){return _.H.useOptimistic(G,Y)},pt.useReducer=function(G,Y,X){return _.H.useReducer(G,Y,X)},pt.useRef=function(G){return _.H.useRef(G)},pt.useState=function(G){return _.H.useState(G)},pt.useSyncExternalStore=function(G,Y,X){return _.H.useSyncExternalStore(G,Y,X)},pt.useTransition=function(){return _.H.useTransition()},pt.version="19.0.0",pt}var pk;function Cm(){return pk||(pk=1,iE.exports=rte()),iE.exports}var A=Cm();const W=$t(A),Ki=bG({__proto__:null,default:W},[A]);var aE={exports:{}},wh={},sE={exports:{}},oE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk;function nte(){return mk||(mk=1,function(t){function e(j,H){var V=j.length;j.push(H);e:for(;0<V;){var q=V-1>>>1,G=j[q];if(0<i(G,H))j[q]=H,j[V]=G,V=q;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var H=j[0],V=j.pop();if(V!==H){j[0]=V;e:for(var q=0,G=j.length,Y=G>>>1;q<Y;){var X=2*(q+1)-1,te=j[X],ee=X+1,ue=j[ee];if(0>i(te,V))ee<G&&0>i(ue,te)?(j[q]=ue,j[ee]=V,q=ee):(j[q]=te,j[X]=V,q=X);else if(ee<G&&0>i(ue,V))j[q]=ue,j[ee]=V,q=ee;else break e}}return H}function i(j,H){var V=j.sortIndex-H.sortIndex;return V!==0?V:j.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,p=3,g=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(j){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=j)n(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=r(c)}}function O(j){if(b=!1,T(j),!y)if(r(l)!==null)y=!0,U();else{var H=r(c);H!==null&&z(O,H.startTime-j)}}var _=!1,P=-1,R=5,D=-1;function I(){return!(t.unstable_now()-D<R)}function M(){if(_){var j=t.unstable_now();D=j;var H=!0;try{e:{y=!1,b&&(b=!1,w(P),P=-1),g=!0;var V=p;try{t:{for(T(j),f=r(l);f!==null&&!(f.expirationTime>j&&I());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var G=q(f.expirationTime<=j);if(j=t.unstable_now(),typeof G=="function"){f.callback=G,T(j),H=!0;break t}f===r(l)&&n(l),T(j)}else n(l);f=r(l)}if(f!==null)H=!0;else{var Y=r(c);Y!==null&&z(O,Y.startTime-j),H=!1}}break e}finally{f=null,p=V,g=!1}H=void 0}}finally{H?N():_=!1}}}var N;if(typeof E=="function")N=function(){E(M)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,F=k.port2;k.port1.onmessage=M,N=function(){F.postMessage(null)}}else N=function(){x(M,0)};function U(){_||(_=!0,N())}function z(j,H){P=x(function(){j(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,U())},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var V=p;p=H;try{return j()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=p;p=j;try{return H()}finally{p=V}},t.unstable_scheduleCallback=function(j,H,V){var q=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,j={id:d++,callback:H,priorityLevel:j,startTime:V,expirationTime:G,sortIndex:-1},V>q?(j.sortIndex=V,e(c,j),r(l)===null&&j===r(c)&&(b?(w(P),P=-1):b=!0,z(O,V-q))):(j.sortIndex=G,e(l,j),y||g||(y=!0,U())),j},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(j){var H=p;return function(){var V=p;p=H;try{return j.apply(this,arguments)}finally{p=V}}}}(oE)),oE}var gk;function ite(){return gk||(gk=1,sE.exports=nte()),sE.exports}var lE={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk;function ate(){if(vk)return wn;vk=1;var t=Cm();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,c,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:c,implementation:d}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,wn.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(l,c,null,d)},wn.flushSync=function(l){var c=s.T,d=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=c,n.p=d,n.d.f()}},wn.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},wn.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},wn.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,f=o(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:g}):d==="script"&&n.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},wn.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=o(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},wn.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,f=o(d,c.crossOrigin);n.d.L(l,d,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},wn.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=o(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},wn.requestFormReset=function(l){n.d.r(l)},wn.unstable_batchedUpdates=function(l,c){return l(c)},wn.useFormState=function(l,c,d){return s.H.useFormState(l,c,d)},wn.useFormStatus=function(){return s.H.useHostTransitionStatus()},wn.version="19.0.0",wn}var yk;function xG(){if(yk)return lE.exports;yk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lE.exports=ate(),lE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk;function ste(){if(bk)return wh;bk=1;var t=ite(),e=Cm(),r=xG();function n(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),O=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function P(u){return u===null||typeof u!="object"?null:(u=_&&u[_]||u["@@iterator"],typeof u=="function"?u:null)}var R=Symbol.for("react.client.reference");function D(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===R?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case o:return"Portal";case d:return"Profiler";case c:return"StrictMode";case b:return"Suspense";case x:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case g:return(u.displayName||"Context")+".Provider";case p:return(u._context.displayName||"Context")+".Consumer";case y:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case w:return h=u.displayName||null,h!==null?h:D(u.type)||"Memo";case E:h=u._payload,u=u._init;try{return D(u(h))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,N,k;function F(u){if(N===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);N=h&&h[1]||"",k=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+u+k}var U=!1;function z(u,h){if(!u||U)return"";U=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(h){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ye){var pe=ye}Reflect.construct(u,[],Re)}else{try{Re.call()}catch(ye){pe=ye}u.call(Re.prototype)}}else{try{throw Error()}catch(ye){pe=ye}(Re=u())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(ye){if(ye&&pe&&typeof ye.stack=="string")return[ye.stack,pe.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=S.DetermineComponentFrameRoot(),B=L[0],K=L[1];if(B&&K){var Q=B.split(`
`),ie=K.split(`
`);for(C=S=0;S<Q.length&&!Q[S].includes("DetermineComponentFrameRoot");)S++;for(;C<ie.length&&!ie[C].includes("DetermineComponentFrameRoot");)C++;if(S===Q.length||C===ie.length)for(S=Q.length-1,C=ie.length-1;1<=S&&0<=C&&Q[S]!==ie[C];)C--;for(;1<=S&&0<=C;S--,C--)if(Q[S]!==ie[C]){if(S!==1||C!==1)do if(S--,C--,0>C||Q[S]!==ie[C]){var xe=`
`+Q[S].replace(" at new "," at ");return u.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",u.displayName)),xe}while(1<=S&&0<=C);break}}}finally{U=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?F(m):""}function j(u){switch(u.tag){case 26:case 27:case 5:return F(u.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return u=z(u.type,!1),u;case 11:return u=z(u.type.render,!1),u;case 1:return u=z(u.type,!0),u;default:return""}}function H(u){try{var h="";do h+=j(u),u=u.return;while(u);return h}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function V(u){var h=u,m=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(m=h.return),u=h.return;while(u)}return h.tag===3?m:null}function q(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function G(u){if(V(u)!==u)throw Error(n(188))}function Y(u){var h=u.alternate;if(!h){if(h=V(u),h===null)throw Error(n(188));return h!==u?null:u}for(var m=u,S=h;;){var C=m.return;if(C===null)break;var L=C.alternate;if(L===null){if(S=C.return,S!==null){m=S;continue}break}if(C.child===L.child){for(L=C.child;L;){if(L===m)return G(C),u;if(L===S)return G(C),h;L=L.sibling}throw Error(n(188))}if(m.return!==S.return)m=C,S=L;else{for(var B=!1,K=C.child;K;){if(K===m){B=!0,m=C,S=L;break}if(K===S){B=!0,S=C,m=L;break}K=K.sibling}if(!B){for(K=L.child;K;){if(K===m){B=!0,m=L,S=C;break}if(K===S){B=!0,S=L,m=C;break}K=K.sibling}if(!B)throw Error(n(189))}}if(m.alternate!==S)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?u:h}function X(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=X(u),h!==null)return h;u=u.sibling}return null}var te=Array.isArray,ee=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},he=[],ve=-1;function Se(u){return{current:u}}function me(u){0>ve||(u.current=he[ve],he[ve]=null,ve--)}function Ee(u,h){ve++,he[ve]=u.current,u.current=h}var Ce=Se(null),ce=Se(null),ke=Se(null),Ue=Se(null);function ut(u,h){switch(Ee(ke,h),Ee(ce,u),Ee(Ce,null),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)&&(h=h.namespaceURI)?B2(h):0;break;default:if(u=u===8?h.parentNode:h,h=u.tagName,u=u.namespaceURI)u=B2(u),h=U2(u,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}me(Ce),Ee(Ce,h)}function Ie(){me(Ce),me(ce),me(ke)}function nt(u){u.memoizedState!==null&&Ee(Ue,u);var h=Ce.current,m=U2(h,u.type);h!==m&&(Ee(ce,u),Ee(Ce,m))}function Z(u){ce.current===u&&(me(Ce),me(ce)),Ue.current===u&&(me(Ue),gh._currentValue=ue)}var ae=Object.prototype.hasOwnProperty,ne=t.unstable_scheduleCallback,Ae=t.unstable_cancelCallback,_e=t.unstable_shouldYield,Pe=t.unstable_requestPaint,Ne=t.unstable_now,tt=t.unstable_getCurrentPriorityLevel,Ft=t.unstable_ImmediatePriority,Xt=t.unstable_UserBlockingPriority,pr=t.unstable_NormalPriority,yn=t.unstable_LowPriority,yi=t.unstable_IdlePriority,bn=t.log,Rf=t.unstable_setDisableYieldValue,cn=null,Xr=null;function Pl(u){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(cn,u,void 0,(u.current.flags&128)===128)}catch{}}function Yi(u){if(typeof bn=="function"&&Rf(u),Xr&&typeof Xr.setStrictMode=="function")try{Xr.setStrictMode(cn,u)}catch{}}var _n=Math.clz32?Math.clz32:lg,og=Math.log,uu=Math.LN2;function lg(u){return u>>>=0,u===0?32:31-(og(u)/uu|0)|0}var vo=128,yo=4194304;function os(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Dl(u,h){var m=u.pendingLanes;if(m===0)return 0;var S=0,C=u.suspendedLanes,L=u.pingedLanes,B=u.warmLanes;u=u.finishedLanes!==0;var K=m&134217727;return K!==0?(m=K&~C,m!==0?S=os(m):(L&=K,L!==0?S=os(L):u||(B=K&~B,B!==0&&(S=os(B))))):(K=m&~C,K!==0?S=os(K):L!==0?S=os(L):u||(B=m&~B,B!==0&&(S=os(B)))),S===0?0:h!==0&&h!==S&&(h&C)===0&&(C=S&-S,B=h&-h,C>=B||C===32&&(B&4194176)!==0)?h:S}function Ll(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function cg(u,h){switch(u){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Il(){var u=vo;return vo<<=1,(vo&4194176)===0&&(vo=128),u}function Ml(){var u=yo;return yo<<=1,(yo&62914560)===0&&(yo=4194304),u}function Cf(u){for(var h=[],m=0;31>m;m++)h.push(u);return h}function Nl(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function J(u,h,m,S,C,L){var B=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var K=u.entanglements,Q=u.expirationTimes,ie=u.hiddenUpdates;for(m=B&~m;0<m;){var xe=31-_n(m),Re=1<<xe;K[xe]=0,Q[xe]=-1;var pe=ie[xe];if(pe!==null)for(ie[xe]=null,xe=0;xe<pe.length;xe++){var ye=pe[xe];ye!==null&&(ye.lane&=-536870913)}m&=~Re}S!==0&&se(u,S,0),L!==0&&C===0&&u.tag!==0&&(u.suspendedLanes|=L&~(B&~h))}function se(u,h,m){u.pendingLanes|=h,u.suspendedLanes&=~h;var S=31-_n(h);u.entangledLanes|=h,u.entanglements[S]=u.entanglements[S]|1073741824|m&4194218}function ge(u,h){var m=u.entangledLanes|=h;for(u=u.entanglements;m;){var S=31-_n(m),C=1<<S;C&h|u[S]&h&&(u[S]|=h),m&=~C}}function Oe(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function $e(){var u=ee.p;return u!==0?u:(u=window.event,u===void 0?32:ak(u.type))}function Qe(u,h){var m=ee.p;try{return ee.p=u,h()}finally{ee.p=m}}var et=Math.random().toString(36).slice(2),Me="__reactFiber$"+et,je="__reactProps$"+et,Be="__reactContainer$"+et,Ye="__reactEvents$"+et,gt="__reactListeners$"+et,wt="__reactHandles$"+et,Dr="__reactResources$"+et,Mt="__reactMarker$"+et;function Tt(u){delete u[Me],delete u[je],delete u[Ye],delete u[gt],delete u[wt]}function Bt(u){var h=u[Me];if(h)return h;for(var m=u.parentNode;m;){if(h=m[Be]||m[Me]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(u=V2(u);u!==null;){if(m=u[Me])return m;u=V2(u)}return h}u=m,m=u.parentNode}return null}function Jn(u){if(u=u[Me]||u[Be]){var h=u.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return u}return null}function Xi(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(n(33))}function xn(u){var h=u[Dr];return h||(h=u[Dr]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function qt(u){u[Mt]=!0}var du=new Set,bo={};function On(u,h){Qi(u,h),Qi(u+"Capture",h)}function Qi(u,h){for(bo[u]=h,u=0;u<h.length;u++)du.add(h[u])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},ls={};function kl(u){return ae.call(ls,u)?!0:ae.call(lr,u)?!1:Ct.test(u)?ls[u]=!0:(lr[u]=!0,!1)}function cr(u,h,m){if(kl(h))if(m===null)u.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var S=h.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+m)}}function Zi(u,h,m){if(m===null)u.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+m)}}function bi(u,h,m,S){if(S===null)u.removeAttribute(m);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(h,m,""+S)}}function Bn(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function zI(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function KZ(u){var h=zI(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),S=""+u[h];if(!u.hasOwnProperty(h)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,L=m.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return C.call(this)},set:function(B){S=""+B,L.call(this,B)}}),Object.defineProperty(u,h,{enumerable:m.enumerable}),{getValue:function(){return S},setValue:function(B){S=""+B},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function ug(u){u._valueTracker||(u._valueTracker=KZ(u))}function VI(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var m=h.getValue(),S="";return u&&(S=zI(u)?u.checked?"true":"false":u.value),u=S,u!==m?(h.setValue(u),!0):!1}function dg(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var WZ=/[\n"\\]/g;function xi(u){return u.replace(WZ,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function eS(u,h,m,S,C,L,B,K){u.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?u.type=B:u.removeAttribute("type"),h!=null?B==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+Bn(h)):u.value!==""+Bn(h)&&(u.value=""+Bn(h)):B!=="submit"&&B!=="reset"||u.removeAttribute("value"),h!=null?tS(u,B,Bn(h)):m!=null?tS(u,B,Bn(m)):S!=null&&u.removeAttribute("value"),C==null&&L!=null&&(u.defaultChecked=!!L),C!=null&&(u.checked=C&&typeof C!="function"&&typeof C!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?u.name=""+Bn(K):u.removeAttribute("name")}function qI(u,h,m,S,C,L,B,K){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(u.type=L),h!=null||m!=null){if(!(L!=="submit"&&L!=="reset"||h!=null))return;m=m!=null?""+Bn(m):"",h=h!=null?""+Bn(h):m,K||h===u.value||(u.value=h),u.defaultValue=h}S=S??C,S=typeof S!="function"&&typeof S!="symbol"&&!!S,u.checked=K?u.checked:!!S,u.defaultChecked=!!S,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(u.name=B)}function tS(u,h,m){h==="number"&&dg(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function fu(u,h,m,S){if(u=u.options,h){h={};for(var C=0;C<m.length;C++)h["$"+m[C]]=!0;for(m=0;m<u.length;m++)C=h.hasOwnProperty("$"+u[m].value),u[m].selected!==C&&(u[m].selected=C),C&&S&&(u[m].defaultSelected=!0)}else{for(m=""+Bn(m),h=null,C=0;C<u.length;C++){if(u[C].value===m){u[C].selected=!0,S&&(u[C].defaultSelected=!0);return}h!==null||u[C].disabled||(h=u[C])}h!==null&&(h.selected=!0)}}function HI(u,h,m){if(h!=null&&(h=""+Bn(h),h!==u.value&&(u.value=h),m==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=m!=null?""+Bn(m):""}function KI(u,h,m,S){if(h==null){if(S!=null){if(m!=null)throw Error(n(92));if(te(S)){if(1<S.length)throw Error(n(93));S=S[0]}m=S}m==null&&(m=""),h=m}m=Bn(h),u.defaultValue=m,S=u.textContent,S===m&&S!==""&&S!==null&&(u.value=S)}function hu(u,h){if(h){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=h;return}}u.textContent=h}var YZ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function WI(u,h,m){var S=h.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?S?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":S?u.setProperty(h,m):typeof m!="number"||m===0||YZ.has(h)?h==="float"?u.cssFloat=m:u[h]=(""+m).trim():u[h]=m+"px"}function YI(u,h,m){if(h!=null&&typeof h!="object")throw Error(n(62));if(u=u.style,m!=null){for(var S in m)!m.hasOwnProperty(S)||h!=null&&h.hasOwnProperty(S)||(S.indexOf("--")===0?u.setProperty(S,""):S==="float"?u.cssFloat="":u[S]="");for(var C in h)S=h[C],h.hasOwnProperty(C)&&m[C]!==S&&WI(u,C,S)}else for(var L in h)h.hasOwnProperty(L)&&WI(u,L,h[L])}function rS(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XZ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),QZ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fg(u){return QZ.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var nS=null;function iS(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var pu=null,mu=null;function XI(u){var h=Jn(u);if(h&&(u=h.stateNode)){var m=u[je]||null;e:switch(u=h.stateNode,h.type){case"input":if(eS(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),h=m.name,m.type==="radio"&&h!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+xi(""+h)+'"][type="radio"]'),h=0;h<m.length;h++){var S=m[h];if(S!==u&&S.form===u.form){var C=S[je]||null;if(!C)throw Error(n(90));eS(S,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(h=0;h<m.length;h++)S=m[h],S.form===u.form&&VI(S)}break e;case"textarea":HI(u,m.value,m.defaultValue);break e;case"select":h=m.value,h!=null&&fu(u,!!m.multiple,h,!1)}}}var aS=!1;function QI(u,h,m){if(aS)return u(h,m);aS=!0;try{var S=u(h);return S}finally{if(aS=!1,(pu!==null||mu!==null)&&(Yg(),pu&&(h=pu,u=mu,mu=pu=null,XI(h),u)))for(h=0;h<u.length;h++)XI(u[h])}}function Pf(u,h){var m=u.stateNode;if(m===null)return null;var S=m[je]||null;if(S===null)return null;m=S[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(n(231,h,typeof m));return m}var sS=!1;if(Fn)try{var Df={};Object.defineProperty(Df,"passive",{get:function(){sS=!0}}),window.addEventListener("test",Df,Df),window.removeEventListener("test",Df,Df)}catch{sS=!1}var xo=null,oS=null,hg=null;function ZI(){if(hg)return hg;var u,h=oS,m=h.length,S,C="value"in xo?xo.value:xo.textContent,L=C.length;for(u=0;u<m&&h[u]===C[u];u++);var B=m-u;for(S=1;S<=B&&h[m-S]===C[L-S];S++);return hg=C.slice(u,1<S?1-S:void 0)}function pg(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function mg(){return!0}function JI(){return!1}function Un(u){function h(m,S,C,L,B){this._reactName=m,this._targetInst=C,this.type=S,this.nativeEvent=L,this.target=B,this.currentTarget=null;for(var K in u)u.hasOwnProperty(K)&&(m=u[K],this[K]=m?m(L):L[K]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?mg:JI,this.isPropagationStopped=JI,this}return M(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=mg)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=mg)},persist:function(){},isPersistent:mg}),h}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gg=Un(jl),Lf=M({},jl,{view:0,detail:0}),ZZ=Un(Lf),lS,cS,If,vg=M({},Lf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dS,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==If&&(If&&u.type==="mousemove"?(lS=u.screenX-If.screenX,cS=u.screenY-If.screenY):cS=lS=0,If=u),lS)},movementY:function(u){return"movementY"in u?u.movementY:cS}}),eM=Un(vg),JZ=M({},vg,{dataTransfer:0}),eJ=Un(JZ),tJ=M({},Lf,{relatedTarget:0}),uS=Un(tJ),rJ=M({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),nJ=Un(rJ),iJ=M({},jl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),aJ=Un(iJ),sJ=M({},jl,{data:0}),tM=Un(sJ),oJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uJ(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=cJ[u])?!!h[u]:!1}function dS(){return uJ}var dJ=M({},Lf,{key:function(u){if(u.key){var h=oJ[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=pg(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?lJ[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dS,charCode:function(u){return u.type==="keypress"?pg(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?pg(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),fJ=Un(dJ),hJ=M({},vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rM=Un(hJ),pJ=M({},Lf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dS}),mJ=Un(pJ),gJ=M({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),vJ=Un(gJ),yJ=M({},vg,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),bJ=Un(yJ),xJ=M({},jl,{newState:0,oldState:0}),SJ=Un(xJ),wJ=[9,13,27,32],fS=Fn&&"CompositionEvent"in window,Mf=null;Fn&&"documentMode"in document&&(Mf=document.documentMode);var EJ=Fn&&"TextEvent"in window&&!Mf,nM=Fn&&(!fS||Mf&&8<Mf&&11>=Mf),iM=" ",aM=!1;function sM(u,h){switch(u){case"keyup":return wJ.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oM(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var gu=!1;function TJ(u,h){switch(u){case"compositionend":return oM(h);case"keypress":return h.which!==32?null:(aM=!0,iM);case"textInput":return u=h.data,u===iM&&aM?null:u;default:return null}}function AJ(u,h){if(gu)return u==="compositionend"||!fS&&sM(u,h)?(u=ZI(),hg=oS=xo=null,gu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return nM&&h.locale!=="ko"?null:h.data;default:return null}}var _J={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lM(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!_J[u.type]:h==="textarea"}function cM(u,h,m,S){pu?mu?mu.push(S):mu=[S]:pu=S,h=ev(h,"onChange"),0<h.length&&(m=new gg("onChange","change",null,m,S),u.push({event:m,listeners:h}))}var Nf=null,kf=null;function OJ(u){N2(u,0)}function yg(u){var h=Xi(u);if(VI(h))return u}function uM(u,h){if(u==="change")return h}var dM=!1;if(Fn){var hS;if(Fn){var pS="oninput"in document;if(!pS){var fM=document.createElement("div");fM.setAttribute("oninput","return;"),pS=typeof fM.oninput=="function"}hS=pS}else hS=!1;dM=hS&&(!document.documentMode||9<document.documentMode)}function hM(){Nf&&(Nf.detachEvent("onpropertychange",pM),kf=Nf=null)}function pM(u){if(u.propertyName==="value"&&yg(kf)){var h=[];cM(h,kf,u,iS(u)),QI(OJ,h)}}function RJ(u,h,m){u==="focusin"?(hM(),Nf=h,kf=m,Nf.attachEvent("onpropertychange",pM)):u==="focusout"&&hM()}function CJ(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return yg(kf)}function PJ(u,h){if(u==="click")return yg(h)}function DJ(u,h){if(u==="input"||u==="change")return yg(h)}function LJ(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var ei=typeof Object.is=="function"?Object.is:LJ;function jf(u,h){if(ei(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var m=Object.keys(u),S=Object.keys(h);if(m.length!==S.length)return!1;for(S=0;S<m.length;S++){var C=m[S];if(!ae.call(h,C)||!ei(u[C],h[C]))return!1}return!0}function mM(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function gM(u,h){var m=mM(u);u=0;for(var S;m;){if(m.nodeType===3){if(S=u+m.textContent.length,u<=h&&S>=h)return{node:m,offset:h-u};u=S}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=mM(m)}}function vM(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?vM(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function yM(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=dg(u.document);h instanceof u.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)u=h.contentWindow;else break;h=dg(u.document)}return h}function mS(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function IJ(u,h){var m=yM(h);h=u.focusedElem;var S=u.selectionRange;if(m!==h&&h&&h.ownerDocument&&vM(h.ownerDocument.documentElement,h)){if(S!==null&&mS(h)){if(u=S.start,m=S.end,m===void 0&&(m=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(m,h.value.length);else if(m=(u=h.ownerDocument||document)&&u.defaultView||window,m.getSelection){m=m.getSelection();var C=h.textContent.length,L=Math.min(S.start,C);S=S.end===void 0?L:Math.min(S.end,C),!m.extend&&L>S&&(C=S,S=L,L=C),C=gM(h,L);var B=gM(h,S);C&&B&&(m.rangeCount!==1||m.anchorNode!==C.node||m.anchorOffset!==C.offset||m.focusNode!==B.node||m.focusOffset!==B.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),m.removeAllRanges(),L>S?(m.addRange(u),m.extend(B.node,B.offset)):(u.setEnd(B.node,B.offset),m.addRange(u)))}}for(u=[],m=h;m=m.parentNode;)m.nodeType===1&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)m=u[h],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var MJ=Fn&&"documentMode"in document&&11>=document.documentMode,vu=null,gS=null,$f=null,vS=!1;function bM(u,h,m){var S=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;vS||vu==null||vu!==dg(S)||(S=vu,"selectionStart"in S&&mS(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),$f&&jf($f,S)||($f=S,S=ev(gS,"onSelect"),0<S.length&&(h=new gg("onSelect","select",null,h,m),u.push({event:h,listeners:S}),h.target=vu)))}function $l(u,h){var m={};return m[u.toLowerCase()]=h.toLowerCase(),m["Webkit"+u]="webkit"+h,m["Moz"+u]="moz"+h,m}var yu={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionrun:$l("Transition","TransitionRun"),transitionstart:$l("Transition","TransitionStart"),transitioncancel:$l("Transition","TransitionCancel"),transitionend:$l("Transition","TransitionEnd")},yS={},xM={};Fn&&(xM=document.createElement("div").style,"AnimationEvent"in window||(delete yu.animationend.animation,delete yu.animationiteration.animation,delete yu.animationstart.animation),"TransitionEvent"in window||delete yu.transitionend.transition);function Fl(u){if(yS[u])return yS[u];if(!yu[u])return u;var h=yu[u],m;for(m in h)if(h.hasOwnProperty(m)&&m in xM)return yS[u]=h[m];return u}var SM=Fl("animationend"),wM=Fl("animationiteration"),EM=Fl("animationstart"),NJ=Fl("transitionrun"),kJ=Fl("transitionstart"),jJ=Fl("transitioncancel"),TM=Fl("transitionend"),AM=new Map,_M="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ji(u,h){AM.set(u,h),On(h,[u])}var Si=[],bu=0,bS=0;function bg(){for(var u=bu,h=bS=bu=0;h<u;){var m=Si[h];Si[h++]=null;var S=Si[h];Si[h++]=null;var C=Si[h];Si[h++]=null;var L=Si[h];if(Si[h++]=null,S!==null&&C!==null){var B=S.pending;B===null?C.next=C:(C.next=B.next,B.next=C),S.pending=C}L!==0&&OM(m,C,L)}}function xg(u,h,m,S){Si[bu++]=u,Si[bu++]=h,Si[bu++]=m,Si[bu++]=S,bS|=S,u.lanes|=S,u=u.alternate,u!==null&&(u.lanes|=S)}function xS(u,h,m,S){return xg(u,h,m,S),Sg(u)}function So(u,h){return xg(u,null,null,h),Sg(u)}function OM(u,h,m){u.lanes|=m;var S=u.alternate;S!==null&&(S.lanes|=m);for(var C=!1,L=u.return;L!==null;)L.childLanes|=m,S=L.alternate,S!==null&&(S.childLanes|=m),L.tag===22&&(u=L.stateNode,u===null||u._visibility&1||(C=!0)),u=L,L=L.return;C&&h!==null&&u.tag===3&&(L=u.stateNode,C=31-_n(m),L=L.hiddenUpdates,u=L[C],u===null?L[C]=[h]:u.push(h),h.lane=m|536870912)}function Sg(u){if(50<ch)throw ch=0,_w=null,Error(n(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var xu={},RM=new WeakMap;function wi(u,h){if(typeof u=="object"&&u!==null){var m=RM.get(u);return m!==void 0?m:(h={value:u,source:h,stack:H(h)},RM.set(u,h),h)}return{value:u,source:h,stack:H(h)}}var Su=[],wu=0,wg=null,Eg=0,Ei=[],Ti=0,Bl=null,cs=1,us="";function Ul(u,h){Su[wu++]=Eg,Su[wu++]=wg,wg=u,Eg=h}function CM(u,h,m){Ei[Ti++]=cs,Ei[Ti++]=us,Ei[Ti++]=Bl,Bl=u;var S=cs;u=us;var C=32-_n(S)-1;S&=~(1<<C),m+=1;var L=32-_n(h)+C;if(30<L){var B=C-C%5;L=(S&(1<<B)-1).toString(32),S>>=B,C-=B,cs=1<<32-_n(h)+C|m<<C|S,us=L+u}else cs=1<<L|m<<C|S,us=u}function SS(u){u.return!==null&&(Ul(u,1),CM(u,1,0))}function wS(u){for(;u===wg;)wg=Su[--wu],Su[wu]=null,Eg=Su[--wu],Su[wu]=null;for(;u===Bl;)Bl=Ei[--Ti],Ei[Ti]=null,us=Ei[--Ti],Ei[Ti]=null,cs=Ei[--Ti],Ei[Ti]=null}var Rn=null,un=null,Nt=!1,ea=null,wa=!1,ES=Error(n(519));function Gl(u){var h=Error(n(418,""));throw Uf(wi(h,u)),ES}function PM(u){var h=u.stateNode,m=u.type,S=u.memoizedProps;switch(h[Me]=u,h[je]=S,m){case"dialog":At("cancel",h),At("close",h);break;case"iframe":case"object":case"embed":At("load",h);break;case"video":case"audio":for(m=0;m<dh.length;m++)At(dh[m],h);break;case"source":At("error",h);break;case"img":case"image":case"link":At("error",h),At("load",h);break;case"details":At("toggle",h);break;case"input":At("invalid",h),qI(h,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),ug(h);break;case"select":At("invalid",h);break;case"textarea":At("invalid",h),KI(h,S.value,S.defaultValue,S.children),ug(h)}m=S.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||h.textContent===""+m||S.suppressHydrationWarning===!0||F2(h.textContent,m)?(S.popover!=null&&(At("beforetoggle",h),At("toggle",h)),S.onScroll!=null&&At("scroll",h),S.onScrollEnd!=null&&At("scrollend",h),S.onClick!=null&&(h.onclick=tv),h=!0):h=!1,h||Gl(u)}function DM(u){for(Rn=u.return;Rn;)switch(Rn.tag){case 3:case 27:wa=!0;return;case 5:case 13:wa=!1;return;default:Rn=Rn.return}}function Ff(u){if(u!==Rn)return!1;if(!Nt)return DM(u),Nt=!0,!1;var h=!1,m;if((m=u.tag!==3&&u.tag!==27)&&((m=u.tag===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||zw(u.type,u.memoizedProps)),m=!m),m&&(h=!0),h&&un&&Gl(u),DM(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8)if(m=u.data,m==="/$"){if(h===0){un=ra(u.nextSibling);break e}h--}else m!=="$"&&m!=="$!"&&m!=="$?"||h++;u=u.nextSibling}un=null}}else un=Rn?ra(u.stateNode.nextSibling):null;return!0}function Bf(){un=Rn=null,Nt=!1}function Uf(u){ea===null?ea=[u]:ea.push(u)}var Gf=Error(n(460)),LM=Error(n(474)),TS={then:function(){}};function IM(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Tg(){}function MM(u,h,m){switch(m=u[m],m===void 0?u.push(h):m!==h&&(h.then(Tg,Tg),h=m),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,u===Gf?Error(n(483)):u;default:if(typeof h.status=="string")h.then(Tg,Tg);else{if(u=rr,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=h,u.status="pending",u.then(function(S){if(h.status==="pending"){var C=h;C.status="fulfilled",C.value=S}},function(S){if(h.status==="pending"){var C=h;C.status="rejected",C.reason=S}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,u===Gf?Error(n(483)):u}throw zf=h,Gf}}var zf=null;function NM(){if(zf===null)throw Error(n(459));var u=zf;return zf=null,u}var Eu=null,Vf=0;function Ag(u){var h=Vf;return Vf+=1,Eu===null&&(Eu=[]),MM(Eu,u,h)}function qf(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function _g(u,h){throw h.$$typeof===a?Error(n(525)):(u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function kM(u){var h=u._init;return h(u._payload)}function jM(u){function h(oe,re){if(u){var fe=oe.deletions;fe===null?(oe.deletions=[re],oe.flags|=16):fe.push(re)}}function m(oe,re){if(!u)return null;for(;re!==null;)h(oe,re),re=re.sibling;return null}function S(oe){for(var re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function C(oe,re){return oe=Io(oe,re),oe.index=0,oe.sibling=null,oe}function L(oe,re,fe){return oe.index=fe,u?(fe=oe.alternate,fe!==null?(fe=fe.index,fe<re?(oe.flags|=33554434,re):fe):(oe.flags|=33554434,re)):(oe.flags|=1048576,re)}function B(oe){return u&&oe.alternate===null&&(oe.flags|=33554434),oe}function K(oe,re,fe,Te){return re===null||re.tag!==6?(re=yw(fe,oe.mode,Te),re.return=oe,re):(re=C(re,fe),re.return=oe,re)}function Q(oe,re,fe,Te){var ze=fe.type;return ze===l?xe(oe,re,fe.props.children,Te,fe.key):re!==null&&(re.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===E&&kM(ze)===re.type)?(re=C(re,fe.props),qf(re,fe),re.return=oe,re):(re=Vg(fe.type,fe.key,fe.props,null,oe.mode,Te),qf(re,fe),re.return=oe,re)}function ie(oe,re,fe,Te){return re===null||re.tag!==4||re.stateNode.containerInfo!==fe.containerInfo||re.stateNode.implementation!==fe.implementation?(re=bw(fe,oe.mode,Te),re.return=oe,re):(re=C(re,fe.children||[]),re.return=oe,re)}function xe(oe,re,fe,Te,ze){return re===null||re.tag!==7?(re=Zl(fe,oe.mode,Te,ze),re.return=oe,re):(re=C(re,fe),re.return=oe,re)}function Re(oe,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=yw(""+re,oe.mode,fe),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case s:return fe=Vg(re.type,re.key,re.props,null,oe.mode,fe),qf(fe,re),fe.return=oe,fe;case o:return re=bw(re,oe.mode,fe),re.return=oe,re;case E:var Te=re._init;return re=Te(re._payload),Re(oe,re,fe)}if(te(re)||P(re))return re=Zl(re,oe.mode,fe,null),re.return=oe,re;if(typeof re.then=="function")return Re(oe,Ag(re),fe);if(re.$$typeof===g)return Re(oe,Ug(oe,re),fe);_g(oe,re)}return null}function pe(oe,re,fe,Te){var ze=re!==null?re.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return ze!==null?null:K(oe,re,""+fe,Te);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case s:return fe.key===ze?Q(oe,re,fe,Te):null;case o:return fe.key===ze?ie(oe,re,fe,Te):null;case E:return ze=fe._init,fe=ze(fe._payload),pe(oe,re,fe,Te)}if(te(fe)||P(fe))return ze!==null?null:xe(oe,re,fe,Te,null);if(typeof fe.then=="function")return pe(oe,re,Ag(fe),Te);if(fe.$$typeof===g)return pe(oe,re,Ug(oe,fe),Te);_g(oe,fe)}return null}function ye(oe,re,fe,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return oe=oe.get(fe)||null,K(re,oe,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case s:return oe=oe.get(Te.key===null?fe:Te.key)||null,Q(re,oe,Te,ze);case o:return oe=oe.get(Te.key===null?fe:Te.key)||null,ie(re,oe,Te,ze);case E:var yt=Te._init;return Te=yt(Te._payload),ye(oe,re,fe,Te,ze)}if(te(Te)||P(Te))return oe=oe.get(fe)||null,xe(re,oe,Te,ze,null);if(typeof Te.then=="function")return ye(oe,re,fe,Ag(Te),ze);if(Te.$$typeof===g)return ye(oe,re,fe,Ug(re,Te),ze);_g(re,Te)}return null}function Xe(oe,re,fe,Te){for(var ze=null,yt=null,Ze=re,it=re=0,Jr=null;Ze!==null&&it<fe.length;it++){Ze.index>it?(Jr=Ze,Ze=null):Jr=Ze.sibling;var kt=pe(oe,Ze,fe[it],Te);if(kt===null){Ze===null&&(Ze=Jr);break}u&&Ze&&kt.alternate===null&&h(oe,Ze),re=L(kt,re,it),yt===null?ze=kt:yt.sibling=kt,yt=kt,Ze=Jr}if(it===fe.length)return m(oe,Ze),Nt&&Ul(oe,it),ze;if(Ze===null){for(;it<fe.length;it++)Ze=Re(oe,fe[it],Te),Ze!==null&&(re=L(Ze,re,it),yt===null?ze=Ze:yt.sibling=Ze,yt=Ze);return Nt&&Ul(oe,it),ze}for(Ze=S(Ze);it<fe.length;it++)Jr=ye(Ze,oe,it,fe[it],Te),Jr!==null&&(u&&Jr.alternate!==null&&Ze.delete(Jr.key===null?it:Jr.key),re=L(Jr,re,it),yt===null?ze=Jr:yt.sibling=Jr,yt=Jr);return u&&Ze.forEach(function(Bo){return h(oe,Bo)}),Nt&&Ul(oe,it),ze}function lt(oe,re,fe,Te){if(fe==null)throw Error(n(151));for(var ze=null,yt=null,Ze=re,it=re=0,Jr=null,kt=fe.next();Ze!==null&&!kt.done;it++,kt=fe.next()){Ze.index>it?(Jr=Ze,Ze=null):Jr=Ze.sibling;var Bo=pe(oe,Ze,kt.value,Te);if(Bo===null){Ze===null&&(Ze=Jr);break}u&&Ze&&Bo.alternate===null&&h(oe,Ze),re=L(Bo,re,it),yt===null?ze=Bo:yt.sibling=Bo,yt=Bo,Ze=Jr}if(kt.done)return m(oe,Ze),Nt&&Ul(oe,it),ze;if(Ze===null){for(;!kt.done;it++,kt=fe.next())kt=Re(oe,kt.value,Te),kt!==null&&(re=L(kt,re,it),yt===null?ze=kt:yt.sibling=kt,yt=kt);return Nt&&Ul(oe,it),ze}for(Ze=S(Ze);!kt.done;it++,kt=fe.next())kt=ye(Ze,oe,it,kt.value,Te),kt!==null&&(u&&kt.alternate!==null&&Ze.delete(kt.key===null?it:kt.key),re=L(kt,re,it),yt===null?ze=kt:yt.sibling=kt,yt=kt);return u&&Ze.forEach(function(Qee){return h(oe,Qee)}),Nt&&Ul(oe,it),ze}function Ar(oe,re,fe,Te){if(typeof fe=="object"&&fe!==null&&fe.type===l&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case s:e:{for(var ze=fe.key;re!==null;){if(re.key===ze){if(ze=fe.type,ze===l){if(re.tag===7){m(oe,re.sibling),Te=C(re,fe.props.children),Te.return=oe,oe=Te;break e}}else if(re.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===E&&kM(ze)===re.type){m(oe,re.sibling),Te=C(re,fe.props),qf(Te,fe),Te.return=oe,oe=Te;break e}m(oe,re);break}else h(oe,re);re=re.sibling}fe.type===l?(Te=Zl(fe.props.children,oe.mode,Te,fe.key),Te.return=oe,oe=Te):(Te=Vg(fe.type,fe.key,fe.props,null,oe.mode,Te),qf(Te,fe),Te.return=oe,oe=Te)}return B(oe);case o:e:{for(ze=fe.key;re!==null;){if(re.key===ze)if(re.tag===4&&re.stateNode.containerInfo===fe.containerInfo&&re.stateNode.implementation===fe.implementation){m(oe,re.sibling),Te=C(re,fe.children||[]),Te.return=oe,oe=Te;break e}else{m(oe,re);break}else h(oe,re);re=re.sibling}Te=bw(fe,oe.mode,Te),Te.return=oe,oe=Te}return B(oe);case E:return ze=fe._init,fe=ze(fe._payload),Ar(oe,re,fe,Te)}if(te(fe))return Xe(oe,re,fe,Te);if(P(fe)){if(ze=P(fe),typeof ze!="function")throw Error(n(150));return fe=ze.call(fe),lt(oe,re,fe,Te)}if(typeof fe.then=="function")return Ar(oe,re,Ag(fe),Te);if(fe.$$typeof===g)return Ar(oe,re,Ug(oe,fe),Te);_g(oe,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,re!==null&&re.tag===6?(m(oe,re.sibling),Te=C(re,fe),Te.return=oe,oe=Te):(m(oe,re),Te=yw(fe,oe.mode,Te),Te.return=oe,oe=Te),B(oe)):m(oe,re)}return function(oe,re,fe,Te){try{Vf=0;var ze=Ar(oe,re,fe,Te);return Eu=null,ze}catch(Ze){if(Ze===Gf)throw Ze;var yt=Ri(29,Ze,null,oe.mode);return yt.lanes=Te,yt.return=oe,yt}finally{}}}var zl=jM(!0),$M=jM(!1),Tu=Se(null),Og=Se(0);function FM(u,h){u=Ss,Ee(Og,u),Ee(Tu,h),Ss=u|h.baseLanes}function AS(){Ee(Og,Ss),Ee(Tu,Tu.current)}function _S(){Ss=Og.current,me(Tu),me(Og)}var Ai=Se(null),Ea=null;function wo(u){var h=u.alternate;Ee(Ur,Ur.current&1),Ee(Ai,u),Ea===null&&(h===null||Tu.current!==null||h.memoizedState!==null)&&(Ea=u)}function BM(u){if(u.tag===22){if(Ee(Ur,Ur.current),Ee(Ai,u),Ea===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(Ea=u)}}else Eo()}function Eo(){Ee(Ur,Ur.current),Ee(Ai,Ai.current)}function ds(u){me(Ai),Ea===u&&(Ea=null),me(Ur)}var Ur=Se(0);function Rg(u){for(var h=u;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var $J=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(m,S){u.push(S)}};this.abort=function(){h.aborted=!0,u.forEach(function(m){return m()})}},FJ=t.unstable_scheduleCallback,BJ=t.unstable_NormalPriority,Gr={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function OS(){return{controller:new $J,data:new Map,refCount:0}}function Hf(u){u.refCount--,u.refCount===0&&FJ(BJ,function(){u.controller.abort()})}var Kf=null,RS=0,Au=0,_u=null;function UJ(u,h){if(Kf===null){var m=Kf=[];RS=0,Au=Mw(),_u={status:"pending",value:void 0,then:function(S){m.push(S)}}}return RS++,h.then(UM,UM),h}function UM(){if(--RS===0&&Kf!==null){_u!==null&&(_u.status="fulfilled");var u=Kf;Kf=null,Au=0,_u=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function GJ(u,h){var m=[],S={status:"pending",value:null,reason:null,then:function(C){m.push(C)}};return u.then(function(){S.status="fulfilled",S.value=h;for(var C=0;C<m.length;C++)(0,m[C])(h)},function(C){for(S.status="rejected",S.reason=C,C=0;C<m.length;C++)(0,m[C])(void 0)}),S}var GM=I.S;I.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&UJ(u,h),GM!==null&&GM(u,h)};var Vl=Se(null);function CS(){var u=Vl.current;return u!==null?u:rr.pooledCache}function Cg(u,h){h===null?Ee(Vl,Vl.current):Ee(Vl,h.pool)}function zM(){var u=CS();return u===null?null:{parent:Gr._currentValue,pool:u}}var To=0,vt=null,Qt=null,Lr=null,Pg=!1,Ou=!1,ql=!1,Dg=0,Wf=0,Ru=null,zJ=0;function Or(){throw Error(n(321))}function PS(u,h){if(h===null)return!1;for(var m=0;m<h.length&&m<u.length;m++)if(!ei(u[m],h[m]))return!1;return!0}function DS(u,h,m,S,C,L){return To=L,vt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,I.H=u===null||u.memoizedState===null?Hl:Ao,ql=!1,L=m(S,C),ql=!1,Ou&&(L=qM(h,m,S,C)),VM(u),L}function VM(u){I.H=Ta;var h=Qt!==null&&Qt.next!==null;if(To=0,Lr=Qt=vt=null,Pg=!1,Wf=0,Ru=null,h)throw Error(n(300));u===null||Qr||(u=u.dependencies,u!==null&&Bg(u)&&(Qr=!0))}function qM(u,h,m,S){vt=u;var C=0;do{if(Ou&&(Ru=null),Wf=0,Ou=!1,25<=C)throw Error(n(301));if(C+=1,Lr=Qt=null,u.updateQueue!=null){var L=u.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}I.H=Kl,L=h(m,S)}while(Ou);return L}function VJ(){var u=I.H,h=u.useState()[0];return h=typeof h.then=="function"?Yf(h):h,u=u.useState()[0],(Qt!==null?Qt.memoizedState:null)!==u&&(vt.flags|=1024),h}function LS(){var u=Dg!==0;return Dg=0,u}function IS(u,h,m){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~m}function MS(u){if(Pg){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Pg=!1}To=0,Lr=Qt=vt=null,Ou=!1,Wf=Dg=0,Ru=null}function Gn(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?vt.memoizedState=Lr=u:Lr=Lr.next=u,Lr}function Ir(){if(Qt===null){var u=vt.alternate;u=u!==null?u.memoizedState:null}else u=Qt.next;var h=Lr===null?vt.memoizedState:Lr.next;if(h!==null)Lr=h,Qt=u;else{if(u===null)throw vt.alternate===null?Error(n(467)):Error(n(310));Qt=u,u={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Lr===null?vt.memoizedState=Lr=u:Lr=Lr.next=u}return Lr}var Lg;Lg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Yf(u){var h=Wf;return Wf+=1,Ru===null&&(Ru=[]),u=MM(Ru,u,h),h=vt,(Lr===null?h.memoizedState:Lr.next)===null&&(h=h.alternate,I.H=h===null||h.memoizedState===null?Hl:Ao),u}function Ig(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Yf(u);if(u.$$typeof===g)return Sn(u)}throw Error(n(438,String(u)))}function NS(u){var h=null,m=vt.updateQueue;if(m!==null&&(h=m.memoCache),h==null){var S=vt.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(h={data:S.data.map(function(C){return C.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),m===null&&(m=Lg(),vt.updateQueue=m),m.memoCache=h,m=h.data[h.index],m===void 0)for(m=h.data[h.index]=Array(u),S=0;S<u;S++)m[S]=O;return h.index++,m}function fs(u,h){return typeof h=="function"?h(u):h}function Mg(u){var h=Ir();return kS(h,Qt,u)}function kS(u,h,m){var S=u.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=m;var C=u.baseQueue,L=S.pending;if(L!==null){if(C!==null){var B=C.next;C.next=L.next,L.next=B}h.baseQueue=C=L,S.pending=null}if(L=u.baseState,C===null)u.memoizedState=L;else{h=C.next;var K=B=null,Q=null,ie=h,xe=!1;do{var Re=ie.lane&-536870913;if(Re!==ie.lane?(Pt&Re)===Re:(To&Re)===Re){var pe=ie.revertLane;if(pe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),Re===Au&&(xe=!0);else if((To&pe)===pe){ie=ie.next,pe===Au&&(xe=!0);continue}else Re={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Q===null?(K=Q=Re,B=L):Q=Q.next=Re,vt.lanes|=pe,Mo|=pe;Re=ie.action,ql&&m(L,Re),L=ie.hasEagerState?ie.eagerState:m(L,Re)}else pe={lane:Re,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Q===null?(K=Q=pe,B=L):Q=Q.next=pe,vt.lanes|=Re,Mo|=Re;ie=ie.next}while(ie!==null&&ie!==h);if(Q===null?B=L:Q.next=K,!ei(L,u.memoizedState)&&(Qr=!0,xe&&(m=_u,m!==null)))throw m;u.memoizedState=L,u.baseState=B,u.baseQueue=Q,S.lastRenderedState=L}return C===null&&(S.lanes=0),[u.memoizedState,S.dispatch]}function jS(u){var h=Ir(),m=h.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var S=m.dispatch,C=m.pending,L=h.memoizedState;if(C!==null){m.pending=null;var B=C=C.next;do L=u(L,B.action),B=B.next;while(B!==C);ei(L,h.memoizedState)||(Qr=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),m.lastRenderedState=L}return[L,S]}function HM(u,h,m){var S=vt,C=Ir(),L=Nt;if(L){if(m===void 0)throw Error(n(407));m=m()}else m=h();var B=!ei((Qt||C).memoizedState,m);if(B&&(C.memoizedState=m,Qr=!0),C=C.queue,BS(YM.bind(null,S,C,u),[u]),C.getSnapshot!==h||B||Lr!==null&&Lr.memoizedState.tag&1){if(S.flags|=2048,Cu(9,WM.bind(null,S,C,m,h),{destroy:void 0},null),rr===null)throw Error(n(349));L||(To&60)!==0||KM(S,h,m)}return m}function KM(u,h,m){u.flags|=16384,u={getSnapshot:h,value:m},h=vt.updateQueue,h===null?(h=Lg(),vt.updateQueue=h,h.stores=[u]):(m=h.stores,m===null?h.stores=[u]:m.push(u))}function WM(u,h,m,S){h.value=m,h.getSnapshot=S,XM(h)&&QM(u)}function YM(u,h,m){return m(function(){XM(h)&&QM(u)})}function XM(u){var h=u.getSnapshot;u=u.value;try{var m=h();return!ei(u,m)}catch{return!0}}function QM(u){var h=So(u,2);h!==null&&Cn(h,u,2)}function $S(u){var h=Gn();if(typeof u=="function"){var m=u;if(u=m(),ql){Yi(!0);try{m()}finally{Yi(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:u},h}function ZM(u,h,m,S){return u.baseState=m,kS(u,Qt,typeof S=="function"?S:fs)}function qJ(u,h,m,S,C){if(jg(u))throw Error(n(485));if(u=h.action,u!==null){var L={payload:C,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){L.listeners.push(B)}};I.T!==null?m(!0):L.isTransition=!1,S(L),m=h.pending,m===null?(L.next=h.pending=L,JM(h,L)):(L.next=m.next,h.pending=m.next=L)}}function JM(u,h){var m=h.action,S=h.payload,C=u.state;if(h.isTransition){var L=I.T,B={};I.T=B;try{var K=m(C,S),Q=I.S;Q!==null&&Q(B,K),eN(u,h,K)}catch(ie){FS(u,h,ie)}finally{I.T=L}}else try{L=m(C,S),eN(u,h,L)}catch(ie){FS(u,h,ie)}}function eN(u,h,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(S){tN(u,h,S)},function(S){return FS(u,h,S)}):tN(u,h,m)}function tN(u,h,m){h.status="fulfilled",h.value=m,rN(h),u.state=m,h=u.pending,h!==null&&(m=h.next,m===h?u.pending=null:(m=m.next,h.next=m,JM(u,m)))}function FS(u,h,m){var S=u.pending;if(u.pending=null,S!==null){S=S.next;do h.status="rejected",h.reason=m,rN(h),h=h.next;while(h!==S)}u.action=null}function rN(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function nN(u,h){return h}function iN(u,h){if(Nt){var m=rr.formState;if(m!==null){e:{var S=vt;if(Nt){if(un){t:{for(var C=un,L=wa;C.nodeType!==8;){if(!L){C=null;break t}if(C=ra(C.nextSibling),C===null){C=null;break t}}L=C.data,C=L==="F!"||L==="F"?C:null}if(C){un=ra(C.nextSibling),S=C.data==="F!";break e}}Gl(S)}S=!1}S&&(h=m[0])}}return m=Gn(),m.memoizedState=m.baseState=h,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nN,lastRenderedState:h},m.queue=S,m=wN.bind(null,vt,S),S.dispatch=m,S=$S(!1),L=qS.bind(null,vt,!1,S.queue),S=Gn(),C={state:h,dispatch:null,action:u,pending:null},S.queue=C,m=qJ.bind(null,vt,C,L,m),C.dispatch=m,S.memoizedState=u,[h,m,!1]}function aN(u){var h=Ir();return sN(h,Qt,u)}function sN(u,h,m){h=kS(u,h,nN)[0],u=Mg(fs)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?Yf(h):h;var S=Ir(),C=S.queue,L=C.dispatch;return m!==S.memoizedState&&(vt.flags|=2048,Cu(9,HJ.bind(null,C,m),{destroy:void 0},null)),[h,L,u]}function HJ(u,h){u.action=h}function oN(u){var h=Ir(),m=Qt;if(m!==null)return sN(h,m,u);Ir(),h=h.memoizedState,m=Ir();var S=m.queue.dispatch;return m.memoizedState=u,[h,S,!1]}function Cu(u,h,m,S){return u={tag:u,create:h,inst:m,deps:S,next:null},h=vt.updateQueue,h===null&&(h=Lg(),vt.updateQueue=h),m=h.lastEffect,m===null?h.lastEffect=u.next=u:(S=m.next,m.next=u,u.next=S,h.lastEffect=u),u}function lN(){return Ir().memoizedState}function Ng(u,h,m,S){var C=Gn();vt.flags|=u,C.memoizedState=Cu(1|h,m,{destroy:void 0},S===void 0?null:S)}function kg(u,h,m,S){var C=Ir();S=S===void 0?null:S;var L=C.memoizedState.inst;Qt!==null&&S!==null&&PS(S,Qt.memoizedState.deps)?C.memoizedState=Cu(h,m,L,S):(vt.flags|=u,C.memoizedState=Cu(1|h,m,L,S))}function cN(u,h){Ng(8390656,8,u,h)}function BS(u,h){kg(2048,8,u,h)}function uN(u,h){return kg(4,2,u,h)}function dN(u,h){return kg(4,4,u,h)}function fN(u,h){if(typeof h=="function"){u=u();var m=h(u);return function(){typeof m=="function"?m():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function hN(u,h,m){m=m!=null?m.concat([u]):null,kg(4,4,fN.bind(null,h,u),m)}function US(){}function pN(u,h){var m=Ir();h=h===void 0?null:h;var S=m.memoizedState;return h!==null&&PS(h,S[1])?S[0]:(m.memoizedState=[u,h],u)}function mN(u,h){var m=Ir();h=h===void 0?null:h;var S=m.memoizedState;if(h!==null&&PS(h,S[1]))return S[0];if(S=u(),ql){Yi(!0);try{u()}finally{Yi(!1)}}return m.memoizedState=[S,h],S}function GS(u,h,m){return m===void 0||(To&1073741824)!==0?u.memoizedState=h:(u.memoizedState=m,u=v2(),vt.lanes|=u,Mo|=u,m)}function gN(u,h,m,S){return ei(m,h)?m:Tu.current!==null?(u=GS(u,m,S),ei(u,h)||(Qr=!0),u):(To&42)===0?(Qr=!0,u.memoizedState=m):(u=v2(),vt.lanes|=u,Mo|=u,h)}function vN(u,h,m,S,C){var L=ee.p;ee.p=L!==0&&8>L?L:8;var B=I.T,K={};I.T=K,qS(u,!1,h,m);try{var Q=C(),ie=I.S;if(ie!==null&&ie(K,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var xe=GJ(Q,S);Xf(u,h,xe,ii(u))}else Xf(u,h,S,ii(u))}catch(Re){Xf(u,h,{then:function(){},status:"rejected",reason:Re},ii())}finally{ee.p=L,I.T=B}}function KJ(){}function zS(u,h,m,S){if(u.tag!==5)throw Error(n(476));var C=yN(u).queue;vN(u,C,h,ue,m===null?KJ:function(){return bN(u),m(S)})}function yN(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:ue},next:null};var m={};return h.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:m},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function bN(u){var h=yN(u).next.queue;Xf(u,h,{},ii())}function VS(){return Sn(gh)}function xN(){return Ir().memoizedState}function SN(){return Ir().memoizedState}function WJ(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var m=ii();u=Ro(m);var S=Co(h,u,m);S!==null&&(Cn(S,h,m),Jf(S,h,m)),h={cache:OS()},u.payload=h;return}h=h.return}}function YJ(u,h,m){var S=ii();m={lane:S,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},jg(u)?EN(h,m):(m=xS(u,h,m,S),m!==null&&(Cn(m,u,S),TN(m,h,S)))}function wN(u,h,m){var S=ii();Xf(u,h,m,S)}function Xf(u,h,m,S){var C={lane:S,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(jg(u))EN(h,C);else{var L=u.alternate;if(u.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var B=h.lastRenderedState,K=L(B,m);if(C.hasEagerState=!0,C.eagerState=K,ei(K,B))return xg(u,h,C,0),rr===null&&bg(),!1}catch{}finally{}if(m=xS(u,h,C,S),m!==null)return Cn(m,u,S),TN(m,h,S),!0}return!1}function qS(u,h,m,S){if(S={lane:2,revertLane:Mw(),action:S,hasEagerState:!1,eagerState:null,next:null},jg(u)){if(h)throw Error(n(479))}else h=xS(u,m,S,2),h!==null&&Cn(h,u,2)}function jg(u){var h=u.alternate;return u===vt||h!==null&&h===vt}function EN(u,h){Ou=Pg=!0;var m=u.pending;m===null?h.next=h:(h.next=m.next,m.next=h),u.pending=h}function TN(u,h,m){if((m&4194176)!==0){var S=h.lanes;S&=u.pendingLanes,m|=S,h.lanes=m,ge(u,m)}}var Ta={readContext:Sn,use:Ig,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useLayoutEffect:Or,useInsertionEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useSyncExternalStore:Or,useId:Or};Ta.useCacheRefresh=Or,Ta.useMemoCache=Or,Ta.useHostTransitionStatus=Or,Ta.useFormState=Or,Ta.useActionState=Or,Ta.useOptimistic=Or;var Hl={readContext:Sn,use:Ig,useCallback:function(u,h){return Gn().memoizedState=[u,h===void 0?null:h],u},useContext:Sn,useEffect:cN,useImperativeHandle:function(u,h,m){m=m!=null?m.concat([u]):null,Ng(4194308,4,fN.bind(null,h,u),m)},useLayoutEffect:function(u,h){return Ng(4194308,4,u,h)},useInsertionEffect:function(u,h){Ng(4,2,u,h)},useMemo:function(u,h){var m=Gn();h=h===void 0?null:h;var S=u();if(ql){Yi(!0);try{u()}finally{Yi(!1)}}return m.memoizedState=[S,h],S},useReducer:function(u,h,m){var S=Gn();if(m!==void 0){var C=m(h);if(ql){Yi(!0);try{m(h)}finally{Yi(!1)}}}else C=h;return S.memoizedState=S.baseState=C,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:C},S.queue=u,u=u.dispatch=YJ.bind(null,vt,u),[S.memoizedState,u]},useRef:function(u){var h=Gn();return u={current:u},h.memoizedState=u},useState:function(u){u=$S(u);var h=u.queue,m=wN.bind(null,vt,h);return h.dispatch=m,[u.memoizedState,m]},useDebugValue:US,useDeferredValue:function(u,h){var m=Gn();return GS(m,u,h)},useTransition:function(){var u=$S(!1);return u=vN.bind(null,vt,u.queue,!0,!1),Gn().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,m){var S=vt,C=Gn();if(Nt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=h(),rr===null)throw Error(n(349));(Pt&60)!==0||KM(S,h,m)}C.memoizedState=m;var L={value:m,getSnapshot:h};return C.queue=L,cN(YM.bind(null,S,L,u),[u]),S.flags|=2048,Cu(9,WM.bind(null,S,L,m,h),{destroy:void 0},null),m},useId:function(){var u=Gn(),h=rr.identifierPrefix;if(Nt){var m=us,S=cs;m=(S&~(1<<32-_n(S)-1)).toString(32)+m,h=":"+h+"R"+m,m=Dg++,0<m&&(h+="H"+m.toString(32)),h+=":"}else m=zJ++,h=":"+h+"r"+m.toString(32)+":";return u.memoizedState=h},useCacheRefresh:function(){return Gn().memoizedState=WJ.bind(null,vt)}};Hl.useMemoCache=NS,Hl.useHostTransitionStatus=VS,Hl.useFormState=iN,Hl.useActionState=iN,Hl.useOptimistic=function(u){var h=Gn();h.memoizedState=h.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=m,h=qS.bind(null,vt,!0,m),m.dispatch=h,[u,h]};var Ao={readContext:Sn,use:Ig,useCallback:pN,useContext:Sn,useEffect:BS,useImperativeHandle:hN,useInsertionEffect:uN,useLayoutEffect:dN,useMemo:mN,useReducer:Mg,useRef:lN,useState:function(){return Mg(fs)},useDebugValue:US,useDeferredValue:function(u,h){var m=Ir();return gN(m,Qt.memoizedState,u,h)},useTransition:function(){var u=Mg(fs)[0],h=Ir().memoizedState;return[typeof u=="boolean"?u:Yf(u),h]},useSyncExternalStore:HM,useId:xN};Ao.useCacheRefresh=SN,Ao.useMemoCache=NS,Ao.useHostTransitionStatus=VS,Ao.useFormState=aN,Ao.useActionState=aN,Ao.useOptimistic=function(u,h){var m=Ir();return ZM(m,Qt,u,h)};var Kl={readContext:Sn,use:Ig,useCallback:pN,useContext:Sn,useEffect:BS,useImperativeHandle:hN,useInsertionEffect:uN,useLayoutEffect:dN,useMemo:mN,useReducer:jS,useRef:lN,useState:function(){return jS(fs)},useDebugValue:US,useDeferredValue:function(u,h){var m=Ir();return Qt===null?GS(m,u,h):gN(m,Qt.memoizedState,u,h)},useTransition:function(){var u=jS(fs)[0],h=Ir().memoizedState;return[typeof u=="boolean"?u:Yf(u),h]},useSyncExternalStore:HM,useId:xN};Kl.useCacheRefresh=SN,Kl.useMemoCache=NS,Kl.useHostTransitionStatus=VS,Kl.useFormState=oN,Kl.useActionState=oN,Kl.useOptimistic=function(u,h){var m=Ir();return Qt!==null?ZM(m,Qt,u,h):(m.baseState=u,[u,m.queue.dispatch])};function HS(u,h,m,S){h=u.memoizedState,m=m(S,h),m=m==null?h:M({},h,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var KS={isMounted:function(u){return(u=u._reactInternals)?V(u)===u:!1},enqueueSetState:function(u,h,m){u=u._reactInternals;var S=ii(),C=Ro(S);C.payload=h,m!=null&&(C.callback=m),h=Co(u,C,S),h!==null&&(Cn(h,u,S),Jf(h,u,S))},enqueueReplaceState:function(u,h,m){u=u._reactInternals;var S=ii(),C=Ro(S);C.tag=1,C.payload=h,m!=null&&(C.callback=m),h=Co(u,C,S),h!==null&&(Cn(h,u,S),Jf(h,u,S))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var m=ii(),S=Ro(m);S.tag=2,h!=null&&(S.callback=h),h=Co(u,S,m),h!==null&&(Cn(h,u,m),Jf(h,u,m))}};function AN(u,h,m,S,C,L,B){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,L,B):h.prototype&&h.prototype.isPureReactComponent?!jf(m,S)||!jf(C,L):!0}function _N(u,h,m,S){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,S),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,S),h.state!==u&&KS.enqueueReplaceState(h,h.state,null)}function Wl(u,h){var m=h;if("ref"in h){m={};for(var S in h)S!=="ref"&&(m[S]=h[S])}if(u=u.defaultProps){m===h&&(m=M({},m));for(var C in u)m[C]===void 0&&(m[C]=u[C])}return m}var $g=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function ON(u){$g(u)}function RN(u){console.error(u)}function CN(u){$g(u)}function Fg(u,h){try{var m=u.onUncaughtError;m(h.value,{componentStack:h.stack})}catch(S){setTimeout(function(){throw S})}}function PN(u,h,m){try{var S=u.onCaughtError;S(m.value,{componentStack:m.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function WS(u,h,m){return m=Ro(m),m.tag=3,m.payload={element:null},m.callback=function(){Fg(u,h)},m}function DN(u){return u=Ro(u),u.tag=3,u}function LN(u,h,m,S){var C=m.type.getDerivedStateFromError;if(typeof C=="function"){var L=S.value;u.payload=function(){return C(L)},u.callback=function(){PN(h,m,S)}}var B=m.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(u.callback=function(){PN(h,m,S),typeof C!="function"&&(No===null?No=new Set([this]):No.add(this));var K=S.stack;this.componentDidCatch(S.value,{componentStack:K!==null?K:""})})}function XJ(u,h,m,S,C){if(m.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(h=m.alternate,h!==null&&Zf(h,m,C,!0),m=Ai.current,m!==null){switch(m.tag){case 13:return Ea===null?Cw():m.alternate===null&&Tr===0&&(Tr=3),m.flags&=-257,m.flags|=65536,m.lanes=C,S===TS?m.flags|=16384:(h=m.updateQueue,h===null?m.updateQueue=new Set([S]):h.add(S),Dw(u,S,C)),!1;case 22:return m.flags|=65536,S===TS?m.flags|=16384:(h=m.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([S])},m.updateQueue=h):(m=h.retryQueue,m===null?h.retryQueue=new Set([S]):m.add(S)),Dw(u,S,C)),!1}throw Error(n(435,m.tag))}return Dw(u,S,C),Cw(),!1}if(Nt)return h=Ai.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=C,S!==ES&&(u=Error(n(422),{cause:S}),Uf(wi(u,m)))):(S!==ES&&(h=Error(n(423),{cause:S}),Uf(wi(h,m))),u=u.current.alternate,u.flags|=65536,C&=-C,u.lanes|=C,S=wi(S,m),C=WS(u.stateNode,S,C),cw(u,C),Tr!==4&&(Tr=2)),!1;var L=Error(n(520),{cause:S});if(L=wi(L,m),oh===null?oh=[L]:oh.push(L),Tr!==4&&(Tr=2),h===null)return!0;S=wi(S,m),m=h;do{switch(m.tag){case 3:return m.flags|=65536,u=C&-C,m.lanes|=u,u=WS(m.stateNode,S,u),cw(m,u),!1;case 1:if(h=m.type,L=m.stateNode,(m.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(No===null||!No.has(L))))return m.flags|=65536,C&=-C,m.lanes|=C,C=DN(C),LN(C,u,m,S),cw(m,C),!1}m=m.return}while(m!==null);return!1}var IN=Error(n(461)),Qr=!1;function dn(u,h,m,S){h.child=u===null?$M(h,null,m,S):zl(h,u.child,m,S)}function MN(u,h,m,S,C){m=m.render;var L=h.ref;if("ref"in S){var B={};for(var K in S)K!=="ref"&&(B[K]=S[K])}else B=S;return Xl(h),S=DS(u,h,m,B,L,C),K=LS(),u!==null&&!Qr?(IS(u,h,C),hs(u,h,C)):(Nt&&K&&SS(h),h.flags|=1,dn(u,h,S,C),h.child)}function NN(u,h,m,S,C){if(u===null){var L=m.type;return typeof L=="function"&&!vw(L)&&L.defaultProps===void 0&&m.compare===null?(h.tag=15,h.type=L,kN(u,h,L,S,C)):(u=Vg(m.type,null,S,h,h.mode,C),u.ref=h.ref,u.return=h,h.child=u)}if(L=u.child,!nw(u,C)){var B=L.memoizedProps;if(m=m.compare,m=m!==null?m:jf,m(B,S)&&u.ref===h.ref)return hs(u,h,C)}return h.flags|=1,u=Io(L,S),u.ref=h.ref,u.return=h,h.child=u}function kN(u,h,m,S,C){if(u!==null){var L=u.memoizedProps;if(jf(L,S)&&u.ref===h.ref)if(Qr=!1,h.pendingProps=S=L,nw(u,C))(u.flags&131072)!==0&&(Qr=!0);else return h.lanes=u.lanes,hs(u,h,C)}return YS(u,h,m,S,C)}function jN(u,h,m){var S=h.pendingProps,C=S.children,L=(h.stateNode._pendingVisibility&2)!==0,B=u!==null?u.memoizedState:null;if(Qf(u,h),S.mode==="hidden"||L){if((h.flags&128)!==0){if(S=B!==null?B.baseLanes|m:m,u!==null){for(C=h.child=u.child,L=0;C!==null;)L=L|C.lanes|C.childLanes,C=C.sibling;h.childLanes=L&~S}else h.childLanes=0,h.child=null;return $N(u,h,S,m)}if((m&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&Cg(h,B!==null?B.cachePool:null),B!==null?FM(h,B):AS(),BM(h);else return h.lanes=h.childLanes=536870912,$N(u,h,B!==null?B.baseLanes|m:m,m)}else B!==null?(Cg(h,B.cachePool),FM(h,B),Eo(),h.memoizedState=null):(u!==null&&Cg(h,null),AS(),Eo());return dn(u,h,C,m),h.child}function $N(u,h,m,S){var C=CS();return C=C===null?null:{parent:Gr._currentValue,pool:C},h.memoizedState={baseLanes:m,cachePool:C},u!==null&&Cg(h,null),AS(),BM(h),u!==null&&Zf(u,h,S,!0),null}function Qf(u,h){var m=h.ref;if(m===null)u!==null&&u.ref!==null&&(h.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(u===null||u.ref!==m)&&(h.flags|=2097664)}}function YS(u,h,m,S,C){return Xl(h),m=DS(u,h,m,S,void 0,C),S=LS(),u!==null&&!Qr?(IS(u,h,C),hs(u,h,C)):(Nt&&S&&SS(h),h.flags|=1,dn(u,h,m,C),h.child)}function FN(u,h,m,S,C,L){return Xl(h),h.updateQueue=null,m=qM(h,S,m,C),VM(u),S=LS(),u!==null&&!Qr?(IS(u,h,L),hs(u,h,L)):(Nt&&S&&SS(h),h.flags|=1,dn(u,h,m,L),h.child)}function BN(u,h,m,S,C){if(Xl(h),h.stateNode===null){var L=xu,B=m.contextType;typeof B=="object"&&B!==null&&(L=Sn(B)),L=new m(S,L),h.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=KS,h.stateNode=L,L._reactInternals=h,L=h.stateNode,L.props=S,L.state=h.memoizedState,L.refs={},ow(h),B=m.contextType,L.context=typeof B=="object"&&B!==null?Sn(B):xu,L.state=h.memoizedState,B=m.getDerivedStateFromProps,typeof B=="function"&&(HS(h,m,B,S),L.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(B=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),B!==L.state&&KS.enqueueReplaceState(L,L.state,null),th(h,S,L,C),eh(),L.state=h.memoizedState),typeof L.componentDidMount=="function"&&(h.flags|=4194308),S=!0}else if(u===null){L=h.stateNode;var K=h.memoizedProps,Q=Wl(m,K);L.props=Q;var ie=L.context,xe=m.contextType;B=xu,typeof xe=="object"&&xe!==null&&(B=Sn(xe));var Re=m.getDerivedStateFromProps;xe=typeof Re=="function"||typeof L.getSnapshotBeforeUpdate=="function",K=h.pendingProps!==K,xe||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K||ie!==B)&&_N(h,L,S,B),Oo=!1;var pe=h.memoizedState;L.state=pe,th(h,S,L,C),eh(),ie=h.memoizedState,K||pe!==ie||Oo?(typeof Re=="function"&&(HS(h,m,Re,S),ie=h.memoizedState),(Q=Oo||AN(h,m,Q,S,pe,ie,B))?(xe||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(h.flags|=4194308)):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=S,h.memoizedState=ie),L.props=S,L.state=ie,L.context=B,S=Q):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),S=!1)}else{L=h.stateNode,lw(u,h),B=h.memoizedProps,xe=Wl(m,B),L.props=xe,Re=h.pendingProps,pe=L.context,ie=m.contextType,Q=xu,typeof ie=="object"&&ie!==null&&(Q=Sn(ie)),K=m.getDerivedStateFromProps,(ie=typeof K=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(B!==Re||pe!==Q)&&_N(h,L,S,Q),Oo=!1,pe=h.memoizedState,L.state=pe,th(h,S,L,C),eh();var ye=h.memoizedState;B!==Re||pe!==ye||Oo||u!==null&&u.dependencies!==null&&Bg(u.dependencies)?(typeof K=="function"&&(HS(h,m,K,S),ye=h.memoizedState),(xe=Oo||AN(h,m,xe,S,pe,ye,Q)||u!==null&&u.dependencies!==null&&Bg(u.dependencies))?(ie||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(S,ye,Q),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(S,ye,Q)),typeof L.componentDidUpdate=="function"&&(h.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof L.componentDidUpdate!="function"||B===u.memoizedProps&&pe===u.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||B===u.memoizedProps&&pe===u.memoizedState||(h.flags|=1024),h.memoizedProps=S,h.memoizedState=ye),L.props=S,L.state=ye,L.context=Q,S=xe):(typeof L.componentDidUpdate!="function"||B===u.memoizedProps&&pe===u.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||B===u.memoizedProps&&pe===u.memoizedState||(h.flags|=1024),S=!1)}return L=S,Qf(u,h),S=(h.flags&128)!==0,L||S?(L=h.stateNode,m=S&&typeof m.getDerivedStateFromError!="function"?null:L.render(),h.flags|=1,u!==null&&S?(h.child=zl(h,u.child,null,C),h.child=zl(h,null,m,C)):dn(u,h,m,C),h.memoizedState=L.state,u=h.child):u=hs(u,h,C),u}function UN(u,h,m,S){return Bf(),h.flags|=256,dn(u,h,m,S),h.child}var XS={dehydrated:null,treeContext:null,retryLane:0};function QS(u){return{baseLanes:u,cachePool:zM()}}function ZS(u,h,m){return u=u!==null?u.childLanes&~m:0,h&&(u|=Ci),u}function GN(u,h,m){var S=h.pendingProps,C=!1,L=(h.flags&128)!==0,B;if((B=L)||(B=u!==null&&u.memoizedState===null?!1:(Ur.current&2)!==0),B&&(C=!0,h.flags&=-129),B=(h.flags&32)!==0,h.flags&=-33,u===null){if(Nt){if(C?wo(h):Eo(),Nt){var K=un,Q;if(Q=K){e:{for(Q=K,K=wa;Q.nodeType!==8;){if(!K){K=null;break e}if(Q=ra(Q.nextSibling),Q===null){K=null;break e}}K=Q}K!==null?(h.memoizedState={dehydrated:K,treeContext:Bl!==null?{id:cs,overflow:us}:null,retryLane:536870912},Q=Ri(18,null,null,0),Q.stateNode=K,Q.return=h,h.child=Q,Rn=h,un=null,Q=!0):Q=!1}Q||Gl(h)}if(K=h.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return K.data==="$!"?h.lanes=16:h.lanes=536870912,null;ds(h)}return K=S.children,S=S.fallback,C?(Eo(),C=h.mode,K=ew({mode:"hidden",children:K},C),S=Zl(S,C,m,null),K.return=h,S.return=h,K.sibling=S,h.child=K,C=h.child,C.memoizedState=QS(m),C.childLanes=ZS(u,B,m),h.memoizedState=XS,S):(wo(h),JS(h,K))}if(Q=u.memoizedState,Q!==null&&(K=Q.dehydrated,K!==null)){if(L)h.flags&256?(wo(h),h.flags&=-257,h=tw(u,h,m)):h.memoizedState!==null?(Eo(),h.child=u.child,h.flags|=128,h=null):(Eo(),C=S.fallback,K=h.mode,S=ew({mode:"visible",children:S.children},K),C=Zl(C,K,m,null),C.flags|=2,S.return=h,C.return=h,S.sibling=C,h.child=S,zl(h,u.child,null,m),S=h.child,S.memoizedState=QS(m),S.childLanes=ZS(u,B,m),h.memoizedState=XS,h=C);else if(wo(h),K.data==="$!"){if(B=K.nextSibling&&K.nextSibling.dataset,B)var ie=B.dgst;B=ie,S=Error(n(419)),S.stack="",S.digest=B,Uf({value:S,source:null,stack:null}),h=tw(u,h,m)}else if(Qr||Zf(u,h,m,!1),B=(m&u.childLanes)!==0,Qr||B){if(B=rr,B!==null){if(S=m&-m,(S&42)!==0)S=1;else switch(S){case 2:S=1;break;case 8:S=4;break;case 32:S=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:S=64;break;case 268435456:S=134217728;break;default:S=0}if(S=(S&(B.suspendedLanes|m))!==0?0:S,S!==0&&S!==Q.retryLane)throw Q.retryLane=S,So(u,S),Cn(B,u,S),IN}K.data==="$?"||Cw(),h=tw(u,h,m)}else K.data==="$?"?(h.flags|=128,h.child=u.child,h=dee.bind(null,u),K._reactRetry=h,h=null):(u=Q.treeContext,un=ra(K.nextSibling),Rn=h,Nt=!0,ea=null,wa=!1,u!==null&&(Ei[Ti++]=cs,Ei[Ti++]=us,Ei[Ti++]=Bl,cs=u.id,us=u.overflow,Bl=h),h=JS(h,S.children),h.flags|=4096);return h}return C?(Eo(),C=S.fallback,K=h.mode,Q=u.child,ie=Q.sibling,S=Io(Q,{mode:"hidden",children:S.children}),S.subtreeFlags=Q.subtreeFlags&31457280,ie!==null?C=Io(ie,C):(C=Zl(C,K,m,null),C.flags|=2),C.return=h,S.return=h,S.sibling=C,h.child=S,S=C,C=h.child,K=u.child.memoizedState,K===null?K=QS(m):(Q=K.cachePool,Q!==null?(ie=Gr._currentValue,Q=Q.parent!==ie?{parent:ie,pool:ie}:Q):Q=zM(),K={baseLanes:K.baseLanes|m,cachePool:Q}),C.memoizedState=K,C.childLanes=ZS(u,B,m),h.memoizedState=XS,S):(wo(h),m=u.child,u=m.sibling,m=Io(m,{mode:"visible",children:S.children}),m.return=h,m.sibling=null,u!==null&&(B=h.deletions,B===null?(h.deletions=[u],h.flags|=16):B.push(u)),h.child=m,h.memoizedState=null,m)}function JS(u,h){return h=ew({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function ew(u,h){return p2(u,h,0,null)}function tw(u,h,m){return zl(h,u.child,null,m),u=JS(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function zN(u,h,m){u.lanes|=h;var S=u.alternate;S!==null&&(S.lanes|=h),aw(u.return,h,m)}function rw(u,h,m,S,C){var L=u.memoizedState;L===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:S,tail:m,tailMode:C}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=S,L.tail=m,L.tailMode=C)}function VN(u,h,m){var S=h.pendingProps,C=S.revealOrder,L=S.tail;if(dn(u,h,S.children,m),S=Ur.current,(S&2)!==0)S=S&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&zN(u,m,h);else if(u.tag===19)zN(u,m,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}switch(Ee(Ur,S),C){case"forwards":for(m=h.child,C=null;m!==null;)u=m.alternate,u!==null&&Rg(u)===null&&(C=m),m=m.sibling;m=C,m===null?(C=h.child,h.child=null):(C=m.sibling,m.sibling=null),rw(h,!1,C,m,L);break;case"backwards":for(m=null,C=h.child,h.child=null;C!==null;){if(u=C.alternate,u!==null&&Rg(u)===null){h.child=C;break}u=C.sibling,C.sibling=m,m=C,C=u}rw(h,!0,m,null,L);break;case"together":rw(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function hs(u,h,m){if(u!==null&&(h.dependencies=u.dependencies),Mo|=h.lanes,(m&h.childLanes)===0)if(u!==null){if(Zf(u,h,m,!1),(m&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,m=Io(u,u.pendingProps),h.child=m,m.return=h;u.sibling!==null;)u=u.sibling,m=m.sibling=Io(u,u.pendingProps),m.return=h;m.sibling=null}return h.child}function nw(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&Bg(u)))}function QJ(u,h,m){switch(h.tag){case 3:ut(h,h.stateNode.containerInfo),_o(h,Gr,u.memoizedState.cache),Bf();break;case 27:case 5:nt(h);break;case 4:ut(h,h.stateNode.containerInfo);break;case 10:_o(h,h.type,h.memoizedProps.value);break;case 13:var S=h.memoizedState;if(S!==null)return S.dehydrated!==null?(wo(h),h.flags|=128,null):(m&h.child.childLanes)!==0?GN(u,h,m):(wo(h),u=hs(u,h,m),u!==null?u.sibling:null);wo(h);break;case 19:var C=(u.flags&128)!==0;if(S=(m&h.childLanes)!==0,S||(Zf(u,h,m,!1),S=(m&h.childLanes)!==0),C){if(S)return VN(u,h,m);h.flags|=128}if(C=h.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Ee(Ur,Ur.current),S)break;return null;case 22:case 23:return h.lanes=0,jN(u,h,m);case 24:_o(h,Gr,u.memoizedState.cache)}return hs(u,h,m)}function qN(u,h,m){if(u!==null)if(u.memoizedProps!==h.pendingProps)Qr=!0;else{if(!nw(u,m)&&(h.flags&128)===0)return Qr=!1,QJ(u,h,m);Qr=(u.flags&131072)!==0}else Qr=!1,Nt&&(h.flags&1048576)!==0&&CM(h,Eg,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var S=h.elementType,C=S._init;if(S=C(S._payload),h.type=S,typeof S=="function")vw(S)?(u=Wl(S,u),h.tag=1,h=BN(null,h,S,u,m)):(h.tag=0,h=YS(null,h,S,u,m));else{if(S!=null){if(C=S.$$typeof,C===y){h.tag=11,h=MN(null,h,S,u,m);break e}else if(C===w){h.tag=14,h=NN(null,h,S,u,m);break e}}throw h=D(S)||S,Error(n(306,h,""))}}return h;case 0:return YS(u,h,h.type,h.pendingProps,m);case 1:return S=h.type,C=Wl(S,h.pendingProps),BN(u,h,S,C,m);case 3:e:{if(ut(h,h.stateNode.containerInfo),u===null)throw Error(n(387));var L=h.pendingProps;C=h.memoizedState,S=C.element,lw(u,h),th(h,L,null,m);var B=h.memoizedState;if(L=B.cache,_o(h,Gr,L),L!==C.cache&&sw(h,[Gr],m,!0),eh(),L=B.element,C.isDehydrated)if(C={element:L,isDehydrated:!1,cache:B.cache},h.updateQueue.baseState=C,h.memoizedState=C,h.flags&256){h=UN(u,h,L,m);break e}else if(L!==S){S=wi(Error(n(424)),h),Uf(S),h=UN(u,h,L,m);break e}else for(un=ra(h.stateNode.containerInfo.firstChild),Rn=h,Nt=!0,ea=null,wa=!0,m=$M(h,null,L,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Bf(),L===S){h=hs(u,h,m);break e}dn(u,h,L,m)}h=h.child}return h;case 26:return Qf(u,h),u===null?(m=W2(h.type,null,h.pendingProps,null))?h.memoizedState=m:Nt||(m=h.type,u=h.pendingProps,S=rv(ke.current).createElement(m),S[Me]=h,S[je]=u,fn(S,m,u),qt(S),h.stateNode=S):h.memoizedState=W2(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return nt(h),u===null&&Nt&&(S=h.stateNode=q2(h.type,h.pendingProps,ke.current),Rn=h,wa=!0,un=ra(S.firstChild)),S=h.pendingProps.children,u!==null||Nt?dn(u,h,S,m):h.child=zl(h,null,S,m),Qf(u,h),h.child;case 5:return u===null&&Nt&&((C=S=un)&&(S=Oee(S,h.type,h.pendingProps,wa),S!==null?(h.stateNode=S,Rn=h,un=ra(S.firstChild),wa=!1,C=!0):C=!1),C||Gl(h)),nt(h),C=h.type,L=h.pendingProps,B=u!==null?u.memoizedProps:null,S=L.children,zw(C,L)?S=null:B!==null&&zw(C,B)&&(h.flags|=32),h.memoizedState!==null&&(C=DS(u,h,VJ,null,null,m),gh._currentValue=C),Qf(u,h),dn(u,h,S,m),h.child;case 6:return u===null&&Nt&&((u=m=un)&&(m=Ree(m,h.pendingProps,wa),m!==null?(h.stateNode=m,Rn=h,un=null,u=!0):u=!1),u||Gl(h)),null;case 13:return GN(u,h,m);case 4:return ut(h,h.stateNode.containerInfo),S=h.pendingProps,u===null?h.child=zl(h,null,S,m):dn(u,h,S,m),h.child;case 11:return MN(u,h,h.type,h.pendingProps,m);case 7:return dn(u,h,h.pendingProps,m),h.child;case 8:return dn(u,h,h.pendingProps.children,m),h.child;case 12:return dn(u,h,h.pendingProps.children,m),h.child;case 10:return S=h.pendingProps,_o(h,h.type,S.value),dn(u,h,S.children,m),h.child;case 9:return C=h.type._context,S=h.pendingProps.children,Xl(h),C=Sn(C),S=S(C),h.flags|=1,dn(u,h,S,m),h.child;case 14:return NN(u,h,h.type,h.pendingProps,m);case 15:return kN(u,h,h.type,h.pendingProps,m);case 19:return VN(u,h,m);case 22:return jN(u,h,m);case 24:return Xl(h),S=Sn(Gr),u===null?(C=CS(),C===null&&(C=rr,L=OS(),C.pooledCache=L,L.refCount++,L!==null&&(C.pooledCacheLanes|=m),C=L),h.memoizedState={parent:S,cache:C},ow(h),_o(h,Gr,C)):((u.lanes&m)!==0&&(lw(u,h),th(h,null,null,m),eh()),C=u.memoizedState,L=h.memoizedState,C.parent!==S?(C={parent:S,cache:S},h.memoizedState=C,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=C),_o(h,Gr,S)):(S=L.cache,_o(h,Gr,S),S!==C.cache&&sw(h,[Gr],m,!0))),dn(u,h,h.pendingProps.children,m),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}var iw=Se(null),Yl=null,ps=null;function _o(u,h,m){Ee(iw,h._currentValue),h._currentValue=m}function ms(u){u._currentValue=iw.current,me(iw)}function aw(u,h,m){for(;u!==null;){var S=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,S!==null&&(S.childLanes|=h)):S!==null&&(S.childLanes&h)!==h&&(S.childLanes|=h),u===m)break;u=u.return}}function sw(u,h,m,S){var C=u.child;for(C!==null&&(C.return=u);C!==null;){var L=C.dependencies;if(L!==null){var B=C.child;L=L.firstContext;e:for(;L!==null;){var K=L;L=C;for(var Q=0;Q<h.length;Q++)if(K.context===h[Q]){L.lanes|=m,K=L.alternate,K!==null&&(K.lanes|=m),aw(L.return,m,u),S||(B=null);break e}L=K.next}}else if(C.tag===18){if(B=C.return,B===null)throw Error(n(341));B.lanes|=m,L=B.alternate,L!==null&&(L.lanes|=m),aw(B,m,u),B=null}else B=C.child;if(B!==null)B.return=C;else for(B=C;B!==null;){if(B===u){B=null;break}if(C=B.sibling,C!==null){C.return=B.return,B=C;break}B=B.return}C=B}}function Zf(u,h,m,S){u=null;for(var C=h,L=!1;C!==null;){if(!L){if((C.flags&524288)!==0)L=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var B=C.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var K=C.type;ei(C.pendingProps.value,B.value)||(u!==null?u.push(K):u=[K])}}else if(C===Ue.current){if(B=C.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(u!==null?u.push(gh):u=[gh])}C=C.return}u!==null&&sw(h,u,m,S),h.flags|=262144}function Bg(u){for(u=u.firstContext;u!==null;){if(!ei(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Xl(u){Yl=u,ps=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Sn(u){return HN(Yl,u)}function Ug(u,h){return Yl===null&&Xl(u),HN(u,h)}function HN(u,h){var m=h._currentValue;if(h={context:h,memoizedValue:m,next:null},ps===null){if(u===null)throw Error(n(308));ps=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else ps=ps.next=h;return m}var Oo=!1;function ow(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lw(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Ro(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Co(u,h,m){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(br&2)!==0){var C=S.pending;return C===null?h.next=h:(h.next=C.next,C.next=h),S.pending=h,h=Sg(u),OM(u,null,m),h}return xg(u,S,h,m),Sg(u)}function Jf(u,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194176)!==0)){var S=h.lanes;S&=u.pendingLanes,m|=S,h.lanes=m,ge(u,m)}}function cw(u,h){var m=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,m===S)){var C=null,L=null;if(m=m.firstBaseUpdate,m!==null){do{var B={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};L===null?C=L=B:L=L.next=B,m=m.next}while(m!==null);L===null?C=L=h:L=L.next=h}else C=L=h;m={baseState:S.baseState,firstBaseUpdate:C,lastBaseUpdate:L,shared:S.shared,callbacks:S.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=h}var uw=!1;function eh(){if(uw){var u=_u;if(u!==null)throw u}}function th(u,h,m,S){uw=!1;var C=u.updateQueue;Oo=!1;var L=C.firstBaseUpdate,B=C.lastBaseUpdate,K=C.shared.pending;if(K!==null){C.shared.pending=null;var Q=K,ie=Q.next;Q.next=null,B===null?L=ie:B.next=ie,B=Q;var xe=u.alternate;xe!==null&&(xe=xe.updateQueue,K=xe.lastBaseUpdate,K!==B&&(K===null?xe.firstBaseUpdate=ie:K.next=ie,xe.lastBaseUpdate=Q))}if(L!==null){var Re=C.baseState;B=0,xe=ie=Q=null,K=L;do{var pe=K.lane&-536870913,ye=pe!==K.lane;if(ye?(Pt&pe)===pe:(S&pe)===pe){pe!==0&&pe===Au&&(uw=!0),xe!==null&&(xe=xe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Xe=u,lt=K;pe=h;var Ar=m;switch(lt.tag){case 1:if(Xe=lt.payload,typeof Xe=="function"){Re=Xe.call(Ar,Re,pe);break e}Re=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=lt.payload,pe=typeof Xe=="function"?Xe.call(Ar,Re,pe):Xe,pe==null)break e;Re=M({},Re,pe);break e;case 2:Oo=!0}}pe=K.callback,pe!==null&&(u.flags|=64,ye&&(u.flags|=8192),ye=C.callbacks,ye===null?C.callbacks=[pe]:ye.push(pe))}else ye={lane:pe,tag:K.tag,payload:K.payload,callback:K.callback,next:null},xe===null?(ie=xe=ye,Q=Re):xe=xe.next=ye,B|=pe;if(K=K.next,K===null){if(K=C.shared.pending,K===null)break;ye=K,K=ye.next,ye.next=null,C.lastBaseUpdate=ye,C.shared.pending=null}}while(!0);xe===null&&(Q=Re),C.baseState=Q,C.firstBaseUpdate=ie,C.lastBaseUpdate=xe,L===null&&(C.shared.lanes=0),Mo|=B,u.lanes=B,u.memoizedState=Re}}function KN(u,h){if(typeof u!="function")throw Error(n(191,u));u.call(h)}function WN(u,h){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)KN(m[u],h)}function rh(u,h){try{var m=h.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var C=S.next;m=C;do{if((m.tag&u)===u){S=void 0;var L=m.create,B=m.inst;S=L(),B.destroy=S}m=m.next}while(m!==C)}}catch(K){er(h,h.return,K)}}function Po(u,h,m){try{var S=h.updateQueue,C=S!==null?S.lastEffect:null;if(C!==null){var L=C.next;S=L;do{if((S.tag&u)===u){var B=S.inst,K=B.destroy;if(K!==void 0){B.destroy=void 0,C=h;var Q=m;try{K()}catch(ie){er(C,Q,ie)}}}S=S.next}while(S!==L)}}catch(ie){er(h,h.return,ie)}}function YN(u){var h=u.updateQueue;if(h!==null){var m=u.stateNode;try{WN(h,m)}catch(S){er(u,u.return,S)}}}function XN(u,h,m){m.props=Wl(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(S){er(u,h,S)}}function Ql(u,h){try{var m=u.ref;if(m!==null){var S=u.stateNode;switch(u.tag){case 26:case 27:case 5:var C=S;break;default:C=S}typeof m=="function"?u.refCleanup=m(C):m.current=C}}catch(L){er(u,h,L)}}function ti(u,h){var m=u.ref,S=u.refCleanup;if(m!==null)if(typeof S=="function")try{S()}catch(C){er(u,h,C)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(C){er(u,h,C)}else m.current=null}function QN(u){var h=u.type,m=u.memoizedProps,S=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":m.autoFocus&&S.focus();break e;case"img":m.src?S.src=m.src:m.srcSet&&(S.srcset=m.srcSet)}}catch(C){er(u,u.return,C)}}function ZN(u,h,m){try{var S=u.stateNode;wee(S,u.type,m,h),S[je]=h}catch(C){er(u,u.return,C)}}function JN(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function dw(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||JN(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function fw(u,h,m){var S=u.tag;if(S===5||S===6)u=u.stateNode,h?m.nodeType===8?m.parentNode.insertBefore(u,h):m.insertBefore(u,h):(m.nodeType===8?(h=m.parentNode,h.insertBefore(u,m)):(h=m,h.appendChild(u)),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=tv));else if(S!==4&&S!==27&&(u=u.child,u!==null))for(fw(u,h,m),u=u.sibling;u!==null;)fw(u,h,m),u=u.sibling}function Gg(u,h,m){var S=u.tag;if(S===5||S===6)u=u.stateNode,h?m.insertBefore(u,h):m.appendChild(u);else if(S!==4&&S!==27&&(u=u.child,u!==null))for(Gg(u,h,m),u=u.sibling;u!==null;)Gg(u,h,m),u=u.sibling}var gs=!1,Er=!1,hw=!1,e2=typeof WeakSet=="function"?WeakSet:Set,Zr=null,t2=!1;function ZJ(u,h){if(u=u.containerInfo,Uw=lv,u=yM(u),mS(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var S=m.getSelection&&m.getSelection();if(S&&S.rangeCount!==0){m=S.anchorNode;var C=S.anchorOffset,L=S.focusNode;S=S.focusOffset;try{m.nodeType,L.nodeType}catch{m=null;break e}var B=0,K=-1,Q=-1,ie=0,xe=0,Re=u,pe=null;t:for(;;){for(var ye;Re!==m||C!==0&&Re.nodeType!==3||(K=B+C),Re!==L||S!==0&&Re.nodeType!==3||(Q=B+S),Re.nodeType===3&&(B+=Re.nodeValue.length),(ye=Re.firstChild)!==null;)pe=Re,Re=ye;for(;;){if(Re===u)break t;if(pe===m&&++ie===C&&(K=B),pe===L&&++xe===S&&(Q=B),(ye=Re.nextSibling)!==null)break;Re=pe,pe=Re.parentNode}Re=ye}m=K===-1||Q===-1?null:{start:K,end:Q}}else m=null}m=m||{start:0,end:0}}else m=null;for(Gw={focusedElem:u,selectionRange:m},lv=!1,Zr=h;Zr!==null;)if(h=Zr,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Zr=u;else for(;Zr!==null;){switch(h=Zr,L=h.alternate,u=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&L!==null){u=void 0,m=h,C=L.memoizedProps,L=L.memoizedState,S=m.stateNode;try{var Xe=Wl(m.type,C,m.elementType===m.type);u=S.getSnapshotBeforeUpdate(Xe,L),S.__reactInternalSnapshotBeforeUpdate=u}catch(lt){er(m,m.return,lt)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,m=u.nodeType,m===9)Hw(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":Hw(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(n(163))}if(u=h.sibling,u!==null){u.return=h.return,Zr=u;break}Zr=h.return}return Xe=t2,t2=!1,Xe}function r2(u,h,m){var S=m.flags;switch(m.tag){case 0:case 11:case 15:ys(u,m),S&4&&rh(5,m);break;case 1:if(ys(u,m),S&4)if(u=m.stateNode,h===null)try{u.componentDidMount()}catch(K){er(m,m.return,K)}else{var C=Wl(m.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(C,h,u.__reactInternalSnapshotBeforeUpdate)}catch(K){er(m,m.return,K)}}S&64&&YN(m),S&512&&Ql(m,m.return);break;case 3:if(ys(u,m),S&64&&(S=m.updateQueue,S!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{WN(S,u)}catch(K){er(m,m.return,K)}}break;case 26:ys(u,m),S&512&&Ql(m,m.return);break;case 27:case 5:ys(u,m),h===null&&S&4&&QN(m),S&512&&Ql(m,m.return);break;case 12:ys(u,m);break;case 13:ys(u,m),S&4&&a2(u,m);break;case 22:if(C=m.memoizedState!==null||gs,!C){h=h!==null&&h.memoizedState!==null||Er;var L=gs,B=Er;gs=C,(Er=h)&&!B?Do(u,m,(m.subtreeFlags&8772)!==0):ys(u,m),gs=L,Er=B}S&512&&(m.memoizedProps.mode==="manual"?Ql(m,m.return):ti(m,m.return));break;default:ys(u,m)}}function n2(u){var h=u.alternate;h!==null&&(u.alternate=null,n2(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&Tt(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Mr=null,ri=!1;function vs(u,h,m){for(m=m.child;m!==null;)i2(u,h,m),m=m.sibling}function i2(u,h,m){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(cn,m)}catch{}switch(m.tag){case 26:Er||ti(m,h),vs(u,h,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Er||ti(m,h);var S=Mr,C=ri;for(Mr=m.stateNode,vs(u,h,m),m=m.stateNode,h=m.attributes;h.length;)m.removeAttributeNode(h[0]);Tt(m),Mr=S,ri=C;break;case 5:Er||ti(m,h);case 6:C=Mr;var L=ri;if(Mr=null,vs(u,h,m),Mr=C,ri=L,Mr!==null)if(ri)try{u=Mr,S=m.stateNode,u.nodeType===8?u.parentNode.removeChild(S):u.removeChild(S)}catch(B){er(m,h,B)}else try{Mr.removeChild(m.stateNode)}catch(B){er(m,h,B)}break;case 18:Mr!==null&&(ri?(h=Mr,m=m.stateNode,h.nodeType===8?qw(h.parentNode,m):h.nodeType===1&&qw(h,m),xh(h)):qw(Mr,m.stateNode));break;case 4:S=Mr,C=ri,Mr=m.stateNode.containerInfo,ri=!0,vs(u,h,m),Mr=S,ri=C;break;case 0:case 11:case 14:case 15:Er||Po(2,m,h),Er||Po(4,m,h),vs(u,h,m);break;case 1:Er||(ti(m,h),S=m.stateNode,typeof S.componentWillUnmount=="function"&&XN(m,h,S)),vs(u,h,m);break;case 21:vs(u,h,m);break;case 22:Er||ti(m,h),Er=(S=Er)||m.memoizedState!==null,vs(u,h,m),Er=S;break;default:vs(u,h,m)}}function a2(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{xh(u)}catch(m){er(h,h.return,m)}}function JJ(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new e2),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new e2),h;default:throw Error(n(435,u.tag))}}function pw(u,h){var m=JJ(u);h.forEach(function(S){var C=fee.bind(null,u,S);m.has(S)||(m.add(S),S.then(C,C))})}function _i(u,h){var m=h.deletions;if(m!==null)for(var S=0;S<m.length;S++){var C=m[S],L=u,B=h,K=B;e:for(;K!==null;){switch(K.tag){case 27:case 5:Mr=K.stateNode,ri=!1;break e;case 3:Mr=K.stateNode.containerInfo,ri=!0;break e;case 4:Mr=K.stateNode.containerInfo,ri=!0;break e}K=K.return}if(Mr===null)throw Error(n(160));i2(L,B,C),Mr=null,ri=!1,L=C.alternate,L!==null&&(L.return=null),C.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)s2(h,u),h=h.sibling}var ta=null;function s2(u,h){var m=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:_i(h,u),Oi(u),S&4&&(Po(3,u,u.return),rh(3,u),Po(5,u,u.return));break;case 1:_i(h,u),Oi(u),S&512&&(Er||m===null||ti(m,m.return)),S&64&&gs&&(u=u.updateQueue,u!==null&&(S=u.callbacks,S!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?S:m.concat(S))));break;case 26:var C=ta;if(_i(h,u),Oi(u),S&512&&(Er||m===null||ti(m,m.return)),S&4){var L=m!==null?m.memoizedState:null;if(S=u.memoizedState,m===null)if(S===null)if(u.stateNode===null){e:{S=u.type,m=u.memoizedProps,C=C.ownerDocument||C;t:switch(S){case"title":L=C.getElementsByTagName("title")[0],(!L||L[Mt]||L[Me]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=C.createElement(S),C.head.insertBefore(L,C.querySelector("head > title"))),fn(L,S,m),L[Me]=u,qt(L),S=L;break e;case"link":var B=Q2("link","href",C).get(S+(m.href||""));if(B){for(var K=0;K<B.length;K++)if(L=B[K],L.getAttribute("href")===(m.href==null?null:m.href)&&L.getAttribute("rel")===(m.rel==null?null:m.rel)&&L.getAttribute("title")===(m.title==null?null:m.title)&&L.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){B.splice(K,1);break t}}L=C.createElement(S),fn(L,S,m),C.head.appendChild(L);break;case"meta":if(B=Q2("meta","content",C).get(S+(m.content||""))){for(K=0;K<B.length;K++)if(L=B[K],L.getAttribute("content")===(m.content==null?null:""+m.content)&&L.getAttribute("name")===(m.name==null?null:m.name)&&L.getAttribute("property")===(m.property==null?null:m.property)&&L.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&L.getAttribute("charset")===(m.charSet==null?null:m.charSet)){B.splice(K,1);break t}}L=C.createElement(S),fn(L,S,m),C.head.appendChild(L);break;default:throw Error(n(468,S))}L[Me]=u,qt(L),S=L}u.stateNode=S}else Z2(C,u.type,u.stateNode);else u.stateNode=X2(C,S,u.memoizedProps);else L!==S?(L===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):L.count--,S===null?Z2(C,u.type,u.stateNode):X2(C,S,u.memoizedProps)):S===null&&u.stateNode!==null&&ZN(u,u.memoizedProps,m.memoizedProps)}break;case 27:if(S&4&&u.alternate===null){C=u.stateNode,L=u.memoizedProps;try{for(var Q=C.firstChild;Q;){var ie=Q.nextSibling,xe=Q.nodeName;Q[Mt]||xe==="HEAD"||xe==="BODY"||xe==="SCRIPT"||xe==="STYLE"||xe==="LINK"&&Q.rel.toLowerCase()==="stylesheet"||C.removeChild(Q),Q=ie}for(var Re=u.type,pe=C.attributes;pe.length;)C.removeAttributeNode(pe[0]);fn(C,Re,L),C[Me]=u,C[je]=L}catch(Xe){er(u,u.return,Xe)}}case 5:if(_i(h,u),Oi(u),S&512&&(Er||m===null||ti(m,m.return)),u.flags&32){C=u.stateNode;try{hu(C,"")}catch(Xe){er(u,u.return,Xe)}}S&4&&u.stateNode!=null&&(C=u.memoizedProps,ZN(u,C,m!==null?m.memoizedProps:C)),S&1024&&(hw=!0);break;case 6:if(_i(h,u),Oi(u),S&4){if(u.stateNode===null)throw Error(n(162));S=u.memoizedProps,m=u.stateNode;try{m.nodeValue=S}catch(Xe){er(u,u.return,Xe)}}break;case 3:if(av=null,C=ta,ta=nv(h.containerInfo),_i(h,u),ta=C,Oi(u),S&4&&m!==null&&m.memoizedState.isDehydrated)try{xh(h.containerInfo)}catch(Xe){er(u,u.return,Xe)}hw&&(hw=!1,o2(u));break;case 4:S=ta,ta=nv(u.stateNode.containerInfo),_i(h,u),Oi(u),ta=S;break;case 12:_i(h,u),Oi(u);break;case 13:_i(h,u),Oi(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Ew=Ne()),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,pw(u,S)));break;case 22:if(S&512&&(Er||m===null||ti(m,m.return)),Q=u.memoizedState!==null,ie=m!==null&&m.memoizedState!==null,xe=gs,Re=Er,gs=xe||Q,Er=Re||ie,_i(h,u),Er=Re,gs=xe,Oi(u),h=u.stateNode,h._current=u,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,S&8192&&(h._visibility=Q?h._visibility&-2:h._visibility|1,Q&&(h=gs||Er,m===null||ie||h||Pu(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(m=null,h=u;;){if(h.tag===5||h.tag===26||h.tag===27){if(m===null){ie=m=h;try{if(C=ie.stateNode,Q)L=C.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{B=ie.stateNode,K=ie.memoizedProps.style;var ye=K!=null&&K.hasOwnProperty("display")?K.display:null;B.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(Xe){er(ie,ie.return,Xe)}}}else if(h.tag===6){if(m===null){ie=h;try{ie.stateNode.nodeValue=Q?"":ie.memoizedProps}catch(Xe){er(ie,ie.return,Xe)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}S&4&&(S=u.updateQueue,S!==null&&(m=S.retryQueue,m!==null&&(S.retryQueue=null,pw(u,m))));break;case 19:_i(h,u),Oi(u),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,pw(u,S)));break;case 21:break;default:_i(h,u),Oi(u)}}function Oi(u){var h=u.flags;if(h&2){try{if(u.tag!==27){e:{for(var m=u.return;m!==null;){if(JN(m)){var S=m;break e}m=m.return}throw Error(n(160))}switch(S.tag){case 27:var C=S.stateNode,L=dw(u);Gg(u,L,C);break;case 5:var B=S.stateNode;S.flags&32&&(hu(B,""),S.flags&=-33);var K=dw(u);Gg(u,K,B);break;case 3:case 4:var Q=S.stateNode.containerInfo,ie=dw(u);fw(u,ie,Q);break;default:throw Error(n(161))}}}catch(xe){er(u,u.return,xe)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function o2(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;o2(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function ys(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)r2(u,h.alternate,h),h=h.sibling}function Pu(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:Po(4,h,h.return),Pu(h);break;case 1:ti(h,h.return);var m=h.stateNode;typeof m.componentWillUnmount=="function"&&XN(h,h.return,m),Pu(h);break;case 26:case 27:case 5:ti(h,h.return),Pu(h);break;case 22:ti(h,h.return),h.memoizedState===null&&Pu(h);break;default:Pu(h)}u=u.sibling}}function Do(u,h,m){for(m=m&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var S=h.alternate,C=u,L=h,B=L.flags;switch(L.tag){case 0:case 11:case 15:Do(C,L,m),rh(4,L);break;case 1:if(Do(C,L,m),S=L,C=S.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ie){er(S,S.return,ie)}if(S=L,C=S.updateQueue,C!==null){var K=S.stateNode;try{var Q=C.shared.hiddenCallbacks;if(Q!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Q.length;C++)KN(Q[C],K)}catch(ie){er(S,S.return,ie)}}m&&B&64&&YN(L),Ql(L,L.return);break;case 26:case 27:case 5:Do(C,L,m),m&&S===null&&B&4&&QN(L),Ql(L,L.return);break;case 12:Do(C,L,m);break;case 13:Do(C,L,m),m&&B&4&&a2(C,L);break;case 22:L.memoizedState===null&&Do(C,L,m),Ql(L,L.return);break;default:Do(C,L,m)}h=h.sibling}}function mw(u,h){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&Hf(m))}function gw(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Hf(u))}function Lo(u,h,m,S){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)l2(u,h,m,S),h=h.sibling}function l2(u,h,m,S){var C=h.flags;switch(h.tag){case 0:case 11:case 15:Lo(u,h,m,S),C&2048&&rh(9,h);break;case 3:Lo(u,h,m,S),C&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Hf(u)));break;case 12:if(C&2048){Lo(u,h,m,S),u=h.stateNode;try{var L=h.memoizedProps,B=L.id,K=L.onPostCommit;typeof K=="function"&&K(B,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Q){er(h,h.return,Q)}}else Lo(u,h,m,S);break;case 23:break;case 22:L=h.stateNode,h.memoizedState!==null?L._visibility&4?Lo(u,h,m,S):nh(u,h):L._visibility&4?Lo(u,h,m,S):(L._visibility|=4,Du(u,h,m,S,(h.subtreeFlags&10256)!==0)),C&2048&&mw(h.alternate,h);break;case 24:Lo(u,h,m,S),C&2048&&gw(h.alternate,h);break;default:Lo(u,h,m,S)}}function Du(u,h,m,S,C){for(C=C&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var L=u,B=h,K=m,Q=S,ie=B.flags;switch(B.tag){case 0:case 11:case 15:Du(L,B,K,Q,C),rh(8,B);break;case 23:break;case 22:var xe=B.stateNode;B.memoizedState!==null?xe._visibility&4?Du(L,B,K,Q,C):nh(L,B):(xe._visibility|=4,Du(L,B,K,Q,C)),C&&ie&2048&&mw(B.alternate,B);break;case 24:Du(L,B,K,Q,C),C&&ie&2048&&gw(B.alternate,B);break;default:Du(L,B,K,Q,C)}h=h.sibling}}function nh(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var m=u,S=h,C=S.flags;switch(S.tag){case 22:nh(m,S),C&2048&&mw(S.alternate,S);break;case 24:nh(m,S),C&2048&&gw(S.alternate,S);break;default:nh(m,S)}h=h.sibling}}var ih=8192;function Lu(u){if(u.subtreeFlags&ih)for(u=u.child;u!==null;)c2(u),u=u.sibling}function c2(u){switch(u.tag){case 26:Lu(u),u.flags&ih&&u.memoizedState!==null&&Uee(ta,u.memoizedState,u.memoizedProps);break;case 5:Lu(u);break;case 3:case 4:var h=ta;ta=nv(u.stateNode.containerInfo),Lu(u),ta=h;break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=ih,ih=16777216,Lu(u),ih=h):Lu(u));break;default:Lu(u)}}function u2(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function ah(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var S=h[m];Zr=S,f2(S,u)}u2(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)d2(u),u=u.sibling}function d2(u){switch(u.tag){case 0:case 11:case 15:ah(u),u.flags&2048&&Po(9,u,u.return);break;case 3:ah(u);break;case 12:ah(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&4&&(u.return===null||u.return.tag!==13)?(h._visibility&=-5,zg(u)):ah(u);break;default:ah(u)}}function zg(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var S=h[m];Zr=S,f2(S,u)}u2(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:Po(8,h,h.return),zg(h);break;case 22:m=h.stateNode,m._visibility&4&&(m._visibility&=-5,zg(h));break;default:zg(h)}u=u.sibling}}function f2(u,h){for(;Zr!==null;){var m=Zr;switch(m.tag){case 0:case 11:case 15:Po(8,m,h);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var S=m.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Hf(m.memoizedState.cache)}if(S=m.child,S!==null)S.return=m,Zr=S;else e:for(m=u;Zr!==null;){S=Zr;var C=S.sibling,L=S.return;if(n2(S),S===m){Zr=null;break e}if(C!==null){C.return=L,Zr=C;break e}Zr=L}}}function eee(u,h,m,S){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(u,h,m,S){return new eee(u,h,m,S)}function vw(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Io(u,h){var m=u.alternate;return m===null?(m=Ri(u.tag,h,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=h,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&31457280,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,h=u.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function h2(u,h){u.flags&=31457282;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,h=m.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function Vg(u,h,m,S,C,L){var B=0;if(S=u,typeof u=="function")vw(u)&&(B=1);else if(typeof u=="string")B=Fee(u,m,Ce.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return Zl(m.children,C,L,h);case c:B=8,C|=24;break;case d:return u=Ri(12,m,h,C|2),u.elementType=d,u.lanes=L,u;case b:return u=Ri(13,m,h,C),u.elementType=b,u.lanes=L,u;case x:return u=Ri(19,m,h,C),u.elementType=x,u.lanes=L,u;case T:return p2(m,C,L,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case f:case g:B=10;break e;case p:B=9;break e;case y:B=11;break e;case w:B=14;break e;case E:B=16,S=null;break e}B=29,m=Error(n(130,u===null?"null":typeof u,"")),S=null}return h=Ri(B,m,h,C),h.elementType=u,h.type=S,h.lanes=L,h}function Zl(u,h,m,S){return u=Ri(7,u,S,h),u.lanes=m,u}function p2(u,h,m,S){u=Ri(22,u,S,h),u.elementType=T,u.lanes=m;var C={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var L=C._current;if(L===null)throw Error(n(456));if((C._pendingVisibility&2)===0){var B=So(L,2);B!==null&&(C._pendingVisibility|=2,Cn(B,L,2))}},attach:function(){var L=C._current;if(L===null)throw Error(n(456));if((C._pendingVisibility&2)!==0){var B=So(L,2);B!==null&&(C._pendingVisibility&=-3,Cn(B,L,2))}}};return u.stateNode=C,u}function yw(u,h,m){return u=Ri(6,u,null,h),u.lanes=m,u}function bw(u,h,m){return h=Ri(4,u.children!==null?u.children:[],u.key,h),h.lanes=m,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function bs(u){u.flags|=4}function m2(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!J2(h)){if(h=Ai.current,h!==null&&((Pt&4194176)===Pt?Ea!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||h!==Ea))throw zf=TS,LM;u.flags|=8192}}function qg(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?Ml():536870912,u.lanes|=h,Mu|=h)}function sh(u,h){if(!Nt)switch(u.tailMode){case"hidden":h=u.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function yr(u){var h=u.alternate!==null&&u.alternate.child===u.child,m=0,S=0;if(h)for(var C=u.child;C!==null;)m|=C.lanes|C.childLanes,S|=C.subtreeFlags&31457280,S|=C.flags&31457280,C.return=u,C=C.sibling;else for(C=u.child;C!==null;)m|=C.lanes|C.childLanes,S|=C.subtreeFlags,S|=C.flags,C.return=u,C=C.sibling;return u.subtreeFlags|=S,u.childLanes=m,h}function tee(u,h,m){var S=h.pendingProps;switch(wS(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(h),null;case 1:return yr(h),null;case 3:return m=h.stateNode,S=null,u!==null&&(S=u.memoizedState.cache),h.memoizedState.cache!==S&&(h.flags|=2048),ms(Gr),Ie(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(Ff(h)?bs(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ea!==null&&(Ow(ea),ea=null))),yr(h),null;case 26:return m=h.memoizedState,u===null?(bs(h),m!==null?(yr(h),m2(h,m)):(yr(h),h.flags&=-16777217)):m?m!==u.memoizedState?(bs(h),yr(h),m2(h,m)):(yr(h),h.flags&=-16777217):(u.memoizedProps!==S&&bs(h),yr(h),h.flags&=-16777217),null;case 27:Z(h),m=ke.current;var C=h.type;if(u!==null&&h.stateNode!=null)u.memoizedProps!==S&&bs(h);else{if(!S){if(h.stateNode===null)throw Error(n(166));return yr(h),null}u=Ce.current,Ff(h)?PM(h):(u=q2(C,S,m),h.stateNode=u,bs(h))}return yr(h),null;case 5:if(Z(h),m=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==S&&bs(h);else{if(!S){if(h.stateNode===null)throw Error(n(166));return yr(h),null}if(u=Ce.current,Ff(h))PM(h);else{switch(C=rv(ke.current),u){case 1:u=C.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:u=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":u=C.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":u=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":u=C.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof S.is=="string"?C.createElement("select",{is:S.is}):C.createElement("select"),S.multiple?u.multiple=!0:S.size&&(u.size=S.size);break;default:u=typeof S.is=="string"?C.createElement(m,{is:S.is}):C.createElement(m)}}u[Me]=h,u[je]=S;e:for(C=h.child;C!==null;){if(C.tag===5||C.tag===6)u.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===h)break e;for(;C.sibling===null;){if(C.return===null||C.return===h)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}h.stateNode=u;e:switch(fn(u,m,S),m){case"button":case"input":case"select":case"textarea":u=!!S.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&bs(h)}}return yr(h),h.flags&=-16777217,null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==S&&bs(h);else{if(typeof S!="string"&&h.stateNode===null)throw Error(n(166));if(u=ke.current,Ff(h)){if(u=h.stateNode,m=h.memoizedProps,S=null,C=Rn,C!==null)switch(C.tag){case 27:case 5:S=C.memoizedProps}u[Me]=h,u=!!(u.nodeValue===m||S!==null&&S.suppressHydrationWarning===!0||F2(u.nodeValue,m)),u||Gl(h)}else u=rv(u).createTextNode(S),u[Me]=h,h.stateNode=u}return yr(h),null;case 13:if(S=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(C=Ff(h),S!==null&&S.dehydrated!==null){if(u===null){if(!C)throw Error(n(318));if(C=h.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[Me]=h}else Bf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;yr(h),C=!1}else ea!==null&&(Ow(ea),ea=null),C=!0;if(!C)return h.flags&256?(ds(h),h):(ds(h),null)}if(ds(h),(h.flags&128)!==0)return h.lanes=m,h;if(m=S!==null,u=u!==null&&u.memoizedState!==null,m){S=h.child,C=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(C=S.alternate.memoizedState.cachePool.pool);var L=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(L=S.memoizedState.cachePool.pool),L!==C&&(S.flags|=2048)}return m!==u&&m&&(h.child.flags|=8192),qg(h,h.updateQueue),yr(h),null;case 4:return Ie(),u===null&&$w(h.stateNode.containerInfo),yr(h),null;case 10:return ms(h.type),yr(h),null;case 19:if(me(Ur),C=h.memoizedState,C===null)return yr(h),null;if(S=(h.flags&128)!==0,L=C.rendering,L===null)if(S)sh(C,!1);else{if(Tr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(L=Rg(u),L!==null){for(h.flags|=128,sh(C,!1),u=L.updateQueue,h.updateQueue=u,qg(h,u),h.subtreeFlags=0,u=m,m=h.child;m!==null;)h2(m,u),m=m.sibling;return Ee(Ur,Ur.current&1|2),h.child}u=u.sibling}C.tail!==null&&Ne()>Hg&&(h.flags|=128,S=!0,sh(C,!1),h.lanes=4194304)}else{if(!S)if(u=Rg(L),u!==null){if(h.flags|=128,S=!0,u=u.updateQueue,h.updateQueue=u,qg(h,u),sh(C,!0),C.tail===null&&C.tailMode==="hidden"&&!L.alternate&&!Nt)return yr(h),null}else 2*Ne()-C.renderingStartTime>Hg&&m!==536870912&&(h.flags|=128,S=!0,sh(C,!1),h.lanes=4194304);C.isBackwards?(L.sibling=h.child,h.child=L):(u=C.last,u!==null?u.sibling=L:h.child=L,C.last=L)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=Ne(),h.sibling=null,u=Ur.current,Ee(Ur,S?u&1|2:u&1),h):(yr(h),null);case 22:case 23:return ds(h),_S(),S=h.memoizedState!==null,u!==null?u.memoizedState!==null!==S&&(h.flags|=8192):S&&(h.flags|=8192),S?(m&536870912)!==0&&(h.flags&128)===0&&(yr(h),h.subtreeFlags&6&&(h.flags|=8192)):yr(h),m=h.updateQueue,m!==null&&qg(h,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==m&&(h.flags|=2048),u!==null&&me(Vl),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),h.memoizedState.cache!==m&&(h.flags|=2048),ms(Gr),yr(h),null;case 25:return null}throw Error(n(156,h.tag))}function ree(u,h){switch(wS(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return ms(Gr),Ie(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return Z(h),null;case 13:if(ds(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Bf()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return me(Ur),null;case 4:return Ie(),null;case 10:return ms(h.type),null;case 22:case 23:return ds(h),_S(),u!==null&&me(Vl),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return ms(Gr),null;case 25:return null;default:return null}}function g2(u,h){switch(wS(h),h.tag){case 3:ms(Gr),Ie();break;case 26:case 27:case 5:Z(h);break;case 4:Ie();break;case 13:ds(h);break;case 19:me(Ur);break;case 10:ms(h.type);break;case 22:case 23:ds(h),_S(),u!==null&&me(Vl);break;case 24:ms(Gr)}}var nee={getCacheForType:function(u){var h=Sn(Gr),m=h.data.get(u);return m===void 0&&(m=u(),h.data.set(u,m)),m}},iee=typeof WeakMap=="function"?WeakMap:Map,br=0,rr=null,St=null,Pt=0,nr=0,ni=null,xs=!1,Iu=!1,xw=!1,Ss=0,Tr=0,Mo=0,Jl=0,Sw=0,Ci=0,Mu=0,oh=null,Aa=null,ww=!1,Ew=0,Hg=1/0,Kg=null,No=null,Wg=!1,ec=null,lh=0,Tw=0,Aw=null,ch=0,_w=null;function ii(){if((br&2)!==0&&Pt!==0)return Pt&-Pt;if(I.T!==null){var u=Au;return u!==0?u:Mw()}return $e()}function v2(){Ci===0&&(Ci=(Pt&536870912)===0||Nt?Il():536870912);var u=Ai.current;return u!==null&&(u.flags|=32),Ci}function Cn(u,h,m){(u===rr&&nr===2||u.cancelPendingCommit!==null)&&(Nu(u,0),ws(u,Pt,Ci,!1)),Nl(u,m),((br&2)===0||u!==rr)&&(u===rr&&((br&2)===0&&(Jl|=m),Tr===4&&ws(u,Pt,Ci,!1)),_a(u))}function y2(u,h,m){if((br&6)!==0)throw Error(n(327));var S=!m&&(h&60)===0&&(h&u.expiredLanes)===0||Ll(u,h),C=S?oee(u,h):Pw(u,h,!0),L=S;do{if(C===0){Iu&&!S&&ws(u,h,0,!1);break}else if(C===6)ws(u,h,0,!xs);else{if(m=u.current.alternate,L&&!aee(m)){C=Pw(u,h,!1),L=!1;continue}if(C===2){if(L=h,u.errorRecoveryDisabledLanes&L)var B=0;else B=u.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){h=B;e:{var K=u;C=oh;var Q=K.current.memoizedState.isDehydrated;if(Q&&(Nu(K,B).flags|=256),B=Pw(K,B,!1),B!==2){if(xw&&!Q){K.errorRecoveryDisabledLanes|=L,Jl|=L,C=4;break e}L=Aa,Aa=C,L!==null&&Ow(L)}C=B}if(L=!1,C!==2)continue}}if(C===1){Nu(u,0),ws(u,h,0,!0);break}e:{switch(S=u,C){case 0:case 1:throw Error(n(345));case 4:if((h&4194176)===h){ws(S,h,Ci,!xs);break e}break;case 2:Aa=null;break;case 3:case 5:break;default:throw Error(n(329))}if(S.finishedWork=m,S.finishedLanes=h,(h&62914560)===h&&(L=Ew+300-Ne(),10<L)){if(ws(S,h,Ci,!xs),Dl(S,0)!==0)break e;S.timeoutHandle=G2(b2.bind(null,S,m,Aa,Kg,ww,h,Ci,Jl,Mu,xs,2,-0,0),L);break e}b2(S,m,Aa,Kg,ww,h,Ci,Jl,Mu,xs,0,-0,0)}}break}while(!0);_a(u)}function Ow(u){Aa===null?Aa=u:Aa.push.apply(Aa,u)}function b2(u,h,m,S,C,L,B,K,Q,ie,xe,Re,pe){var ye=h.subtreeFlags;if((ye&8192||(ye&16785408)===16785408)&&(mh={stylesheets:null,count:0,unsuspend:Bee},c2(h),h=Gee(),h!==null)){u.cancelPendingCommit=h(_2.bind(null,u,m,S,C,B,K,Q,1,Re,pe)),ws(u,L,B,!ie);return}_2(u,m,S,C,B,K,Q,xe,Re,pe)}function aee(u){for(var h=u;;){var m=h.tag;if((m===0||m===11||m===15)&&h.flags&16384&&(m=h.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var S=0;S<m.length;S++){var C=m[S],L=C.getSnapshot;C=C.value;try{if(!ei(L(),C))return!1}catch{return!1}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ws(u,h,m,S){h&=~Sw,h&=~Jl,u.suspendedLanes|=h,u.pingedLanes&=~h,S&&(u.warmLanes|=h),S=u.expirationTimes;for(var C=h;0<C;){var L=31-_n(C),B=1<<L;S[L]=-1,C&=~B}m!==0&&se(u,m,h)}function Yg(){return(br&6)===0?(uh(0),!1):!0}function Rw(){if(St!==null){if(nr===0)var u=St.return;else u=St,ps=Yl=null,MS(u),Eu=null,Vf=0,u=St;for(;u!==null;)g2(u.alternate,u),u=u.return;St=null}}function Nu(u,h){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,Tee(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),Rw(),rr=u,St=m=Io(u.current,null),Pt=h,nr=0,ni=null,xs=!1,Iu=Ll(u,h),xw=!1,Mu=Ci=Sw=Jl=Mo=Tr=0,Aa=oh=null,ww=!1,(h&8)!==0&&(h|=h&32);var S=u.entangledLanes;if(S!==0)for(u=u.entanglements,S&=h;0<S;){var C=31-_n(S),L=1<<C;h|=u[C],S&=~L}return Ss=h,bg(),m}function x2(u,h){vt=null,I.H=Ta,h===Gf?(h=NM(),nr=3):h===LM?(h=NM(),nr=4):nr=h===IN?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,ni=h,St===null&&(Tr=1,Fg(u,wi(h,u.current)))}function S2(){var u=I.H;return I.H=Ta,u===null?Ta:u}function w2(){var u=I.A;return I.A=nee,u}function Cw(){Tr=4,xs||(Pt&4194176)!==Pt&&Ai.current!==null||(Iu=!0),(Mo&134217727)===0&&(Jl&134217727)===0||rr===null||ws(rr,Pt,Ci,!1)}function Pw(u,h,m){var S=br;br|=2;var C=S2(),L=w2();(rr!==u||Pt!==h)&&(Kg=null,Nu(u,h)),h=!1;var B=Tr;e:do try{if(nr!==0&&St!==null){var K=St,Q=ni;switch(nr){case 8:Rw(),B=6;break e;case 3:case 2:case 6:Ai.current===null&&(h=!0);var ie=nr;if(nr=0,ni=null,ku(u,K,Q,ie),m&&Iu){B=0;break e}break;default:ie=nr,nr=0,ni=null,ku(u,K,Q,ie)}}see(),B=Tr;break}catch(xe){x2(u,xe)}while(!0);return h&&u.shellSuspendCounter++,ps=Yl=null,br=S,I.H=C,I.A=L,St===null&&(rr=null,Pt=0,bg()),B}function see(){for(;St!==null;)E2(St)}function oee(u,h){var m=br;br|=2;var S=S2(),C=w2();rr!==u||Pt!==h?(Kg=null,Hg=Ne()+500,Nu(u,h)):Iu=Ll(u,h);e:do try{if(nr!==0&&St!==null){h=St;var L=ni;t:switch(nr){case 1:nr=0,ni=null,ku(u,h,L,1);break;case 2:if(IM(L)){nr=0,ni=null,T2(h);break}h=function(){nr===2&&rr===u&&(nr=7),_a(u)},L.then(h,h);break e;case 3:nr=7;break e;case 4:nr=5;break e;case 7:IM(L)?(nr=0,ni=null,T2(h)):(nr=0,ni=null,ku(u,h,L,7));break;case 5:var B=null;switch(St.tag){case 26:B=St.memoizedState;case 5:case 27:var K=St;if(!B||J2(B)){nr=0,ni=null;var Q=K.sibling;if(Q!==null)St=Q;else{var ie=K.return;ie!==null?(St=ie,Xg(ie)):St=null}break t}}nr=0,ni=null,ku(u,h,L,5);break;case 6:nr=0,ni=null,ku(u,h,L,6);break;case 8:Rw(),Tr=6;break e;default:throw Error(n(462))}}lee();break}catch(xe){x2(u,xe)}while(!0);return ps=Yl=null,I.H=S,I.A=C,br=m,St!==null?0:(rr=null,Pt=0,bg(),Tr)}function lee(){for(;St!==null&&!_e();)E2(St)}function E2(u){var h=qN(u.alternate,u,Ss);u.memoizedProps=u.pendingProps,h===null?Xg(u):St=h}function T2(u){var h=u,m=h.alternate;switch(h.tag){case 15:case 0:h=FN(m,h,h.pendingProps,h.type,void 0,Pt);break;case 11:h=FN(m,h,h.pendingProps,h.type.render,h.ref,Pt);break;case 5:MS(h);default:g2(m,h),h=St=h2(h,Ss),h=qN(m,h,Ss)}u.memoizedProps=u.pendingProps,h===null?Xg(u):St=h}function ku(u,h,m,S){ps=Yl=null,MS(h),Eu=null,Vf=0;var C=h.return;try{if(XJ(u,C,h,m,Pt)){Tr=1,Fg(u,wi(m,u.current)),St=null;return}}catch(L){if(C!==null)throw St=C,L;Tr=1,Fg(u,wi(m,u.current)),St=null;return}h.flags&32768?(Nt||S===1?u=!0:Iu||(Pt&536870912)!==0?u=!1:(xs=u=!0,(S===2||S===3||S===6)&&(S=Ai.current,S!==null&&S.tag===13&&(S.flags|=16384))),A2(h,u)):Xg(h)}function Xg(u){var h=u;do{if((h.flags&32768)!==0){A2(h,xs);return}u=h.return;var m=tee(h.alternate,h,Ss);if(m!==null){St=m;return}if(h=h.sibling,h!==null){St=h;return}St=h=u}while(h!==null);Tr===0&&(Tr=5)}function A2(u,h){do{var m=ree(u.alternate,u);if(m!==null){m.flags&=32767,St=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!h&&(u=u.sibling,u!==null)){St=u;return}St=u=m}while(u!==null);Tr=6,St=null}function _2(u,h,m,S,C,L,B,K,Q,ie){var xe=I.T,Re=ee.p;try{ee.p=2,I.T=null,cee(u,h,m,S,Re,C,L,B,K,Q,ie)}finally{I.T=xe,ee.p=Re}}function cee(u,h,m,S,C,L,B,K){do ju();while(ec!==null);if((br&6)!==0)throw Error(n(327));var Q=u.finishedWork;if(S=u.finishedLanes,Q===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Q===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var ie=Q.lanes|Q.childLanes;if(ie|=bS,J(u,S,ie,L,B,K),u===rr&&(St=rr=null,Pt=0),(Q.subtreeFlags&10256)===0&&(Q.flags&10256)===0||Wg||(Wg=!0,Tw=ie,Aw=m,hee(pr,function(){return ju(),null})),m=(Q.flags&15990)!==0,(Q.subtreeFlags&15990)!==0||m?(m=I.T,I.T=null,L=ee.p,ee.p=2,B=br,br|=4,ZJ(u,Q),s2(Q,u),IJ(Gw,u.containerInfo),lv=!!Uw,Gw=Uw=null,u.current=Q,r2(u,Q.alternate,Q),Pe(),br=B,ee.p=L,I.T=m):u.current=Q,Wg?(Wg=!1,ec=u,lh=S):O2(u,ie),ie=u.pendingLanes,ie===0&&(No=null),Pl(Q.stateNode),_a(u),h!==null)for(C=u.onRecoverableError,Q=0;Q<h.length;Q++)ie=h[Q],C(ie.value,{componentStack:ie.stack});return(lh&3)!==0&&ju(),ie=u.pendingLanes,(S&4194218)!==0&&(ie&42)!==0?u===_w?ch++:(ch=0,_w=u):ch=0,uh(0),null}function O2(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Hf(h)))}function ju(){if(ec!==null){var u=ec,h=Tw;Tw=0;var m=Oe(lh),S=I.T,C=ee.p;try{if(ee.p=32>m?32:m,I.T=null,ec===null)var L=!1;else{m=Aw,Aw=null;var B=ec,K=lh;if(ec=null,lh=0,(br&6)!==0)throw Error(n(331));var Q=br;if(br|=4,d2(B.current),l2(B,B.current,K,m),br=Q,uh(0,!1),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(cn,B)}catch{}L=!0}return L}finally{ee.p=C,I.T=S,O2(u,h)}}return!1}function R2(u,h,m){h=wi(m,h),h=WS(u.stateNode,h,2),u=Co(u,h,2),u!==null&&(Nl(u,2),_a(u))}function er(u,h,m){if(u.tag===3)R2(u,u,m);else for(;h!==null;){if(h.tag===3){R2(h,u,m);break}else if(h.tag===1){var S=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(No===null||!No.has(S))){u=wi(m,u),m=DN(2),S=Co(h,m,2),S!==null&&(LN(m,S,h,u),Nl(S,2),_a(S));break}}h=h.return}}function Dw(u,h,m){var S=u.pingCache;if(S===null){S=u.pingCache=new iee;var C=new Set;S.set(h,C)}else C=S.get(h),C===void 0&&(C=new Set,S.set(h,C));C.has(m)||(xw=!0,C.add(m),u=uee.bind(null,u,h,m),h.then(u,u))}function uee(u,h,m){var S=u.pingCache;S!==null&&S.delete(h),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,rr===u&&(Pt&m)===m&&(Tr===4||Tr===3&&(Pt&62914560)===Pt&&300>Ne()-Ew?(br&2)===0&&Nu(u,0):Sw|=m,Mu===Pt&&(Mu=0)),_a(u)}function C2(u,h){h===0&&(h=Ml()),u=So(u,h),u!==null&&(Nl(u,h),_a(u))}function dee(u){var h=u.memoizedState,m=0;h!==null&&(m=h.retryLane),C2(u,m)}function fee(u,h){var m=0;switch(u.tag){case 13:var S=u.stateNode,C=u.memoizedState;C!==null&&(m=C.retryLane);break;case 19:S=u.stateNode;break;case 22:S=u.stateNode._retryCache;break;default:throw Error(n(314))}S!==null&&S.delete(h),C2(u,m)}function hee(u,h){return ne(u,h)}var Qg=null,$u=null,Lw=!1,Zg=!1,Iw=!1,tc=0;function _a(u){u!==$u&&u.next===null&&($u===null?Qg=$u=u:$u=$u.next=u),Zg=!0,Lw||(Lw=!0,mee(pee))}function uh(u,h){if(!Iw&&Zg){Iw=!0;do for(var m=!1,S=Qg;S!==null;){if(u!==0){var C=S.pendingLanes;if(C===0)var L=0;else{var B=S.suspendedLanes,K=S.pingedLanes;L=(1<<31-_n(42|u)+1)-1,L&=C&~(B&~K),L=L&201326677?L&201326677|1:L?L|2:0}L!==0&&(m=!0,L2(S,L))}else L=Pt,L=Dl(S,S===rr?L:0),(L&3)===0||Ll(S,L)||(m=!0,L2(S,L));S=S.next}while(m);Iw=!1}}function pee(){Zg=Lw=!1;var u=0;tc!==0&&(Eee()&&(u=tc),tc=0);for(var h=Ne(),m=null,S=Qg;S!==null;){var C=S.next,L=P2(S,h);L===0?(S.next=null,m===null?Qg=C:m.next=C,C===null&&($u=m)):(m=S,(u!==0||(L&3)!==0)&&(Zg=!0)),S=C}uh(u)}function P2(u,h){for(var m=u.suspendedLanes,S=u.pingedLanes,C=u.expirationTimes,L=u.pendingLanes&-62914561;0<L;){var B=31-_n(L),K=1<<B,Q=C[B];Q===-1?((K&m)===0||(K&S)!==0)&&(C[B]=cg(K,h)):Q<=h&&(u.expiredLanes|=K),L&=~K}if(h=rr,m=Pt,m=Dl(u,u===h?m:0),S=u.callbackNode,m===0||u===h&&nr===2||u.cancelPendingCommit!==null)return S!==null&&S!==null&&Ae(S),u.callbackNode=null,u.callbackPriority=0;if((m&3)===0||Ll(u,m)){if(h=m&-m,h===u.callbackPriority)return h;switch(S!==null&&Ae(S),Oe(m)){case 2:case 8:m=Xt;break;case 32:m=pr;break;case 268435456:m=yi;break;default:m=pr}return S=D2.bind(null,u),m=ne(m,S),u.callbackPriority=h,u.callbackNode=m,h}return S!==null&&S!==null&&Ae(S),u.callbackPriority=2,u.callbackNode=null,2}function D2(u,h){var m=u.callbackNode;if(ju()&&u.callbackNode!==m)return null;var S=Pt;return S=Dl(u,u===rr?S:0),S===0?null:(y2(u,S,h),P2(u,Ne()),u.callbackNode!=null&&u.callbackNode===m?D2.bind(null,u):null)}function L2(u,h){if(ju())return null;y2(u,h,!0)}function mee(u){Aee(function(){(br&6)!==0?ne(Ft,u):u()})}function Mw(){return tc===0&&(tc=Il()),tc}function I2(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:fg(""+u)}function M2(u,h){var m=h.ownerDocument.createElement("input");return m.name=h.name,m.value=h.value,u.id&&m.setAttribute("form",u.id),h.parentNode.insertBefore(m,h),u=new FormData(u),m.parentNode.removeChild(m),u}function gee(u,h,m,S,C){if(h==="submit"&&m&&m.stateNode===C){var L=I2((C[je]||null).action),B=S.submitter;B&&(h=(h=B[je]||null)?I2(h.formAction):B.getAttribute("formAction"),h!==null&&(L=h,B=null));var K=new gg("action","action",null,S,C);u.push({event:K,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(tc!==0){var Q=B?M2(C,B):new FormData(C);zS(m,{pending:!0,data:Q,method:C.method,action:L},null,Q)}}else typeof L=="function"&&(K.preventDefault(),Q=B?M2(C,B):new FormData(C),zS(m,{pending:!0,data:Q,method:C.method,action:L},L,Q))},currentTarget:C}]})}}for(var Nw=0;Nw<_M.length;Nw++){var kw=_M[Nw],vee=kw.toLowerCase(),yee=kw[0].toUpperCase()+kw.slice(1);Ji(vee,"on"+yee)}Ji(SM,"onAnimationEnd"),Ji(wM,"onAnimationIteration"),Ji(EM,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(NJ,"onTransitionRun"),Ji(kJ,"onTransitionStart"),Ji(jJ,"onTransitionCancel"),Ji(TM,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bee=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dh));function N2(u,h){h=(h&4)!==0;for(var m=0;m<u.length;m++){var S=u[m],C=S.event;S=S.listeners;e:{var L=void 0;if(h)for(var B=S.length-1;0<=B;B--){var K=S[B],Q=K.instance,ie=K.currentTarget;if(K=K.listener,Q!==L&&C.isPropagationStopped())break e;L=K,C.currentTarget=ie;try{L(C)}catch(xe){$g(xe)}C.currentTarget=null,L=Q}else for(B=0;B<S.length;B++){if(K=S[B],Q=K.instance,ie=K.currentTarget,K=K.listener,Q!==L&&C.isPropagationStopped())break e;L=K,C.currentTarget=ie;try{L(C)}catch(xe){$g(xe)}C.currentTarget=null,L=Q}}}}function At(u,h){var m=h[Ye];m===void 0&&(m=h[Ye]=new Set);var S=u+"__bubble";m.has(S)||(k2(h,u,2,!1),m.add(S))}function jw(u,h,m){var S=0;h&&(S|=4),k2(m,u,S,h)}var Jg="_reactListening"+Math.random().toString(36).slice(2);function $w(u){if(!u[Jg]){u[Jg]=!0,du.forEach(function(m){m!=="selectionchange"&&(bee.has(m)||jw(m,!1,u),jw(m,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Jg]||(h[Jg]=!0,jw("selectionchange",!1,h))}}function k2(u,h,m,S){switch(ak(h)){case 2:var C=qee;break;case 8:C=Hee;break;default:C=Qw}m=C.bind(null,h,m,u),C=void 0,!sS||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(C=!0),S?C!==void 0?u.addEventListener(h,m,{capture:!0,passive:C}):u.addEventListener(h,m,!0):C!==void 0?u.addEventListener(h,m,{passive:C}):u.addEventListener(h,m,!1)}function Fw(u,h,m,S,C){var L=S;if((h&1)===0&&(h&2)===0&&S!==null)e:for(;;){if(S===null)return;var B=S.tag;if(B===3||B===4){var K=S.stateNode.containerInfo;if(K===C||K.nodeType===8&&K.parentNode===C)break;if(B===4)for(B=S.return;B!==null;){var Q=B.tag;if((Q===3||Q===4)&&(Q=B.stateNode.containerInfo,Q===C||Q.nodeType===8&&Q.parentNode===C))return;B=B.return}for(;K!==null;){if(B=Bt(K),B===null)return;if(Q=B.tag,Q===5||Q===6||Q===26||Q===27){S=L=B;continue e}K=K.parentNode}}S=S.return}QI(function(){var ie=L,xe=iS(m),Re=[];e:{var pe=AM.get(u);if(pe!==void 0){var ye=gg,Xe=u;switch(u){case"keypress":if(pg(m)===0)break e;case"keydown":case"keyup":ye=fJ;break;case"focusin":Xe="focus",ye=uS;break;case"focusout":Xe="blur",ye=uS;break;case"beforeblur":case"afterblur":ye=uS;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=eM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=eJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=mJ;break;case SM:case wM:case EM:ye=nJ;break;case TM:ye=vJ;break;case"scroll":case"scrollend":ye=ZZ;break;case"wheel":ye=bJ;break;case"copy":case"cut":case"paste":ye=aJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=rM;break;case"toggle":case"beforetoggle":ye=SJ}var lt=(h&4)!==0,Ar=!lt&&(u==="scroll"||u==="scrollend"),oe=lt?pe!==null?pe+"Capture":null:pe;lt=[];for(var re=ie,fe;re!==null;){var Te=re;if(fe=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||fe===null||oe===null||(Te=Pf(re,oe),Te!=null&&lt.push(fh(re,Te,fe))),Ar)break;re=re.return}0<lt.length&&(pe=new ye(pe,Xe,null,m,xe),Re.push({event:pe,listeners:lt}))}}if((h&7)===0){e:{if(pe=u==="mouseover"||u==="pointerover",ye=u==="mouseout"||u==="pointerout",pe&&m!==nS&&(Xe=m.relatedTarget||m.fromElement)&&(Bt(Xe)||Xe[Be]))break e;if((ye||pe)&&(pe=xe.window===xe?xe:(pe=xe.ownerDocument)?pe.defaultView||pe.parentWindow:window,ye?(Xe=m.relatedTarget||m.toElement,ye=ie,Xe=Xe?Bt(Xe):null,Xe!==null&&(Ar=V(Xe),lt=Xe.tag,Xe!==Ar||lt!==5&&lt!==27&&lt!==6)&&(Xe=null)):(ye=null,Xe=ie),ye!==Xe)){if(lt=eM,Te="onMouseLeave",oe="onMouseEnter",re="mouse",(u==="pointerout"||u==="pointerover")&&(lt=rM,Te="onPointerLeave",oe="onPointerEnter",re="pointer"),Ar=ye==null?pe:Xi(ye),fe=Xe==null?pe:Xi(Xe),pe=new lt(Te,re+"leave",ye,m,xe),pe.target=Ar,pe.relatedTarget=fe,Te=null,Bt(xe)===ie&&(lt=new lt(oe,re+"enter",Xe,m,xe),lt.target=fe,lt.relatedTarget=Ar,Te=lt),Ar=Te,ye&&Xe)t:{for(lt=ye,oe=Xe,re=0,fe=lt;fe;fe=Fu(fe))re++;for(fe=0,Te=oe;Te;Te=Fu(Te))fe++;for(;0<re-fe;)lt=Fu(lt),re--;for(;0<fe-re;)oe=Fu(oe),fe--;for(;re--;){if(lt===oe||oe!==null&&lt===oe.alternate)break t;lt=Fu(lt),oe=Fu(oe)}lt=null}else lt=null;ye!==null&&j2(Re,pe,ye,lt,!1),Xe!==null&&Ar!==null&&j2(Re,Ar,Xe,lt,!0)}}e:{if(pe=ie?Xi(ie):window,ye=pe.nodeName&&pe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&pe.type==="file")var ze=uM;else if(lM(pe))if(dM)ze=DJ;else{ze=CJ;var yt=RJ}else ye=pe.nodeName,!ye||ye.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?ie&&rS(ie.elementType)&&(ze=uM):ze=PJ;if(ze&&(ze=ze(u,ie))){cM(Re,ze,m,xe);break e}yt&&yt(u,pe,ie),u==="focusout"&&ie&&pe.type==="number"&&ie.memoizedProps.value!=null&&tS(pe,"number",pe.value)}switch(yt=ie?Xi(ie):window,u){case"focusin":(lM(yt)||yt.contentEditable==="true")&&(vu=yt,gS=ie,$f=null);break;case"focusout":$f=gS=vu=null;break;case"mousedown":vS=!0;break;case"contextmenu":case"mouseup":case"dragend":vS=!1,bM(Re,m,xe);break;case"selectionchange":if(MJ)break;case"keydown":case"keyup":bM(Re,m,xe)}var Ze;if(fS)e:{switch(u){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else gu?sM(u,m)&&(it="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(it="onCompositionStart");it&&(nM&&m.locale!=="ko"&&(gu||it!=="onCompositionStart"?it==="onCompositionEnd"&&gu&&(Ze=ZI()):(xo=xe,oS="value"in xo?xo.value:xo.textContent,gu=!0)),yt=ev(ie,it),0<yt.length&&(it=new tM(it,u,null,m,xe),Re.push({event:it,listeners:yt}),Ze?it.data=Ze:(Ze=oM(m),Ze!==null&&(it.data=Ze)))),(Ze=EJ?TJ(u,m):AJ(u,m))&&(it=ev(ie,"onBeforeInput"),0<it.length&&(yt=new tM("onBeforeInput","beforeinput",null,m,xe),Re.push({event:yt,listeners:it}),yt.data=Ze)),gee(Re,u,ie,m,xe)}N2(Re,h)})}function fh(u,h,m){return{instance:u,listener:h,currentTarget:m}}function ev(u,h){for(var m=h+"Capture",S=[];u!==null;){var C=u,L=C.stateNode;C=C.tag,C!==5&&C!==26&&C!==27||L===null||(C=Pf(u,m),C!=null&&S.unshift(fh(u,C,L)),C=Pf(u,h),C!=null&&S.push(fh(u,C,L))),u=u.return}return S}function Fu(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function j2(u,h,m,S,C){for(var L=h._reactName,B=[];m!==null&&m!==S;){var K=m,Q=K.alternate,ie=K.stateNode;if(K=K.tag,Q!==null&&Q===S)break;K!==5&&K!==26&&K!==27||ie===null||(Q=ie,C?(ie=Pf(m,L),ie!=null&&B.unshift(fh(m,ie,Q))):C||(ie=Pf(m,L),ie!=null&&B.push(fh(m,ie,Q)))),m=m.return}B.length!==0&&u.push({event:h,listeners:B})}var xee=/\r\n?/g,See=/\u0000|\uFFFD/g;function $2(u){return(typeof u=="string"?u:""+u).replace(xee,`
`).replace(See,"")}function F2(u,h){return h=$2(h),$2(u)===h}function tv(){}function Zt(u,h,m,S,C,L){switch(m){case"children":typeof S=="string"?h==="body"||h==="textarea"&&S===""||hu(u,S):(typeof S=="number"||typeof S=="bigint")&&h!=="body"&&hu(u,""+S);break;case"className":Zi(u,"class",S);break;case"tabIndex":Zi(u,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(u,m,S);break;case"style":YI(u,S,L);break;case"data":if(h!=="object"){Zi(u,"data",S);break}case"src":case"href":if(S===""&&(h!=="a"||m!=="href")){u.removeAttribute(m);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){u.removeAttribute(m);break}S=fg(""+S),u.setAttribute(m,S);break;case"action":case"formAction":if(typeof S=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(m==="formAction"?(h!=="input"&&Zt(u,h,"name",C.name,C,null),Zt(u,h,"formEncType",C.formEncType,C,null),Zt(u,h,"formMethod",C.formMethod,C,null),Zt(u,h,"formTarget",C.formTarget,C,null)):(Zt(u,h,"encType",C.encType,C,null),Zt(u,h,"method",C.method,C,null),Zt(u,h,"target",C.target,C,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){u.removeAttribute(m);break}S=fg(""+S),u.setAttribute(m,S);break;case"onClick":S!=null&&(u.onclick=tv);break;case"onScroll":S!=null&&At("scroll",u);break;case"onScrollEnd":S!=null&&At("scrollend",u);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(m=S.__html,m!=null){if(C.children!=null)throw Error(n(60));u.innerHTML=m}}break;case"multiple":u.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":u.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){u.removeAttribute("xlink:href");break}m=fg(""+S),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(m,""+S):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":S===!0?u.setAttribute(m,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(m,S):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?u.setAttribute(m,S):u.removeAttribute(m);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?u.removeAttribute(m):u.setAttribute(m,S);break;case"popover":At("beforetoggle",u),At("toggle",u),cr(u,"popover",S);break;case"xlinkActuate":bi(u,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":bi(u,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":bi(u,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":bi(u,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":bi(u,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":bi(u,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":bi(u,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":bi(u,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":bi(u,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":cr(u,"is",S);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=XZ.get(m)||m,cr(u,m,S))}}function Bw(u,h,m,S,C,L){switch(m){case"style":YI(u,S,L);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(m=S.__html,m!=null){if(C.children!=null)throw Error(n(60));u.innerHTML=m}}break;case"children":typeof S=="string"?hu(u,S):(typeof S=="number"||typeof S=="bigint")&&hu(u,""+S);break;case"onScroll":S!=null&&At("scroll",u);break;case"onScrollEnd":S!=null&&At("scrollend",u);break;case"onClick":S!=null&&(u.onclick=tv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(C=m.endsWith("Capture"),h=m.slice(2,C?m.length-7:void 0),L=u[je]||null,L=L!=null?L[m]:null,typeof L=="function"&&u.removeEventListener(h,L,C),typeof S=="function")){typeof L!="function"&&L!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(h,S,C);break e}m in u?u[m]=S:S===!0?u.setAttribute(m,""):cr(u,m,S)}}}function fn(u,h,m){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",u),At("load",u);var S=!1,C=!1,L;for(L in m)if(m.hasOwnProperty(L)){var B=m[L];if(B!=null)switch(L){case"src":S=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Zt(u,h,L,B,m,null)}}C&&Zt(u,h,"srcSet",m.srcSet,m,null),S&&Zt(u,h,"src",m.src,m,null);return;case"input":At("invalid",u);var K=L=B=C=null,Q=null,ie=null;for(S in m)if(m.hasOwnProperty(S)){var xe=m[S];if(xe!=null)switch(S){case"name":C=xe;break;case"type":B=xe;break;case"checked":Q=xe;break;case"defaultChecked":ie=xe;break;case"value":L=xe;break;case"defaultValue":K=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(n(137,h));break;default:Zt(u,h,S,xe,m,null)}}qI(u,L,K,Q,ie,B,C,!1),ug(u);return;case"select":At("invalid",u),S=B=L=null;for(C in m)if(m.hasOwnProperty(C)&&(K=m[C],K!=null))switch(C){case"value":L=K;break;case"defaultValue":B=K;break;case"multiple":S=K;default:Zt(u,h,C,K,m,null)}h=L,m=B,u.multiple=!!S,h!=null?fu(u,!!S,h,!1):m!=null&&fu(u,!!S,m,!0);return;case"textarea":At("invalid",u),L=C=S=null;for(B in m)if(m.hasOwnProperty(B)&&(K=m[B],K!=null))switch(B){case"value":S=K;break;case"defaultValue":C=K;break;case"children":L=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(91));break;default:Zt(u,h,B,K,m,null)}KI(u,S,C,L),ug(u);return;case"option":for(Q in m)if(m.hasOwnProperty(Q)&&(S=m[Q],S!=null))switch(Q){case"selected":u.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Zt(u,h,Q,S,m,null)}return;case"dialog":At("cancel",u),At("close",u);break;case"iframe":case"object":At("load",u);break;case"video":case"audio":for(S=0;S<dh.length;S++)At(dh[S],u);break;case"image":At("error",u),At("load",u);break;case"details":At("toggle",u);break;case"embed":case"source":case"link":At("error",u),At("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in m)if(m.hasOwnProperty(ie)&&(S=m[ie],S!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Zt(u,h,ie,S,m,null)}return;default:if(rS(h)){for(xe in m)m.hasOwnProperty(xe)&&(S=m[xe],S!==void 0&&Bw(u,h,xe,S,m,void 0));return}}for(K in m)m.hasOwnProperty(K)&&(S=m[K],S!=null&&Zt(u,h,K,S,m,null))}function wee(u,h,m,S){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,L=null,B=null,K=null,Q=null,ie=null,xe=null;for(ye in m){var Re=m[ye];if(m.hasOwnProperty(ye)&&Re!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":Q=Re;default:S.hasOwnProperty(ye)||Zt(u,h,ye,null,S,Re)}}for(var pe in S){var ye=S[pe];if(Re=m[pe],S.hasOwnProperty(pe)&&(ye!=null||Re!=null))switch(pe){case"type":L=ye;break;case"name":C=ye;break;case"checked":ie=ye;break;case"defaultChecked":xe=ye;break;case"value":B=ye;break;case"defaultValue":K=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,h));break;default:ye!==Re&&Zt(u,h,pe,ye,S,Re)}}eS(u,B,K,Q,ie,xe,L,C);return;case"select":ye=B=K=pe=null;for(L in m)if(Q=m[L],m.hasOwnProperty(L)&&Q!=null)switch(L){case"value":break;case"multiple":ye=Q;default:S.hasOwnProperty(L)||Zt(u,h,L,null,S,Q)}for(C in S)if(L=S[C],Q=m[C],S.hasOwnProperty(C)&&(L!=null||Q!=null))switch(C){case"value":pe=L;break;case"defaultValue":K=L;break;case"multiple":B=L;default:L!==Q&&Zt(u,h,C,L,S,Q)}h=K,m=B,S=ye,pe!=null?fu(u,!!m,pe,!1):!!S!=!!m&&(h!=null?fu(u,!!m,h,!0):fu(u,!!m,m?[]:"",!1));return;case"textarea":ye=pe=null;for(K in m)if(C=m[K],m.hasOwnProperty(K)&&C!=null&&!S.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Zt(u,h,K,null,S,C)}for(B in S)if(C=S[B],L=m[B],S.hasOwnProperty(B)&&(C!=null||L!=null))switch(B){case"value":pe=C;break;case"defaultValue":ye=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:C!==L&&Zt(u,h,B,C,S,L)}HI(u,pe,ye);return;case"option":for(var Xe in m)if(pe=m[Xe],m.hasOwnProperty(Xe)&&pe!=null&&!S.hasOwnProperty(Xe))switch(Xe){case"selected":u.selected=!1;break;default:Zt(u,h,Xe,null,S,pe)}for(Q in S)if(pe=S[Q],ye=m[Q],S.hasOwnProperty(Q)&&pe!==ye&&(pe!=null||ye!=null))switch(Q){case"selected":u.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:Zt(u,h,Q,pe,S,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in m)pe=m[lt],m.hasOwnProperty(lt)&&pe!=null&&!S.hasOwnProperty(lt)&&Zt(u,h,lt,null,S,pe);for(ie in S)if(pe=S[ie],ye=m[ie],S.hasOwnProperty(ie)&&pe!==ye&&(pe!=null||ye!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(n(137,h));break;default:Zt(u,h,ie,pe,S,ye)}return;default:if(rS(h)){for(var Ar in m)pe=m[Ar],m.hasOwnProperty(Ar)&&pe!==void 0&&!S.hasOwnProperty(Ar)&&Bw(u,h,Ar,void 0,S,pe);for(xe in S)pe=S[xe],ye=m[xe],!S.hasOwnProperty(xe)||pe===ye||pe===void 0&&ye===void 0||Bw(u,h,xe,pe,S,ye);return}}for(var oe in m)pe=m[oe],m.hasOwnProperty(oe)&&pe!=null&&!S.hasOwnProperty(oe)&&Zt(u,h,oe,null,S,pe);for(Re in S)pe=S[Re],ye=m[Re],!S.hasOwnProperty(Re)||pe===ye||pe==null&&ye==null||Zt(u,h,Re,pe,S,ye)}var Uw=null,Gw=null;function rv(u){return u.nodeType===9?u:u.ownerDocument}function B2(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U2(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function zw(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Vw=null;function Eee(){var u=window.event;return u&&u.type==="popstate"?u===Vw?!1:(Vw=u,!0):(Vw=null,!1)}var G2=typeof setTimeout=="function"?setTimeout:void 0,Tee=typeof clearTimeout=="function"?clearTimeout:void 0,z2=typeof Promise=="function"?Promise:void 0,Aee=typeof queueMicrotask=="function"?queueMicrotask:typeof z2<"u"?function(u){return z2.resolve(null).then(u).catch(_ee)}:G2;function _ee(u){setTimeout(function(){throw u})}function qw(u,h){var m=h,S=0;do{var C=m.nextSibling;if(u.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"){if(S===0){u.removeChild(C),xh(h);return}S--}else m!=="$"&&m!=="$?"&&m!=="$!"||S++;m=C}while(m);xh(h)}function Hw(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var m=h;switch(h=h.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Hw(m),Tt(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function Oee(u,h,m,S){for(;u.nodeType===1;){var C=m;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!S&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(S){if(!u[Mt])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(L=u.getAttribute("rel"),L==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(L!==C.rel||u.getAttribute("href")!==(C.href==null?null:C.href)||u.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||u.getAttribute("title")!==(C.title==null?null:C.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(L=u.getAttribute("src"),(L!==(C.src==null?null:C.src)||u.getAttribute("type")!==(C.type==null?null:C.type)||u.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&L&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var L=C.name==null?null:""+C.name;if(C.type==="hidden"&&u.getAttribute("name")===L)return u}else return u;if(u=ra(u.nextSibling),u===null)break}return null}function Ree(u,h,m){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=ra(u.nextSibling),u===null))return null;return u}function ra(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return u}function V2(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(h===0)return u;h--}else m==="/$"&&h++}u=u.previousSibling}return null}function q2(u,h,m){switch(h=rv(m),u){case"html":if(u=h.documentElement,!u)throw Error(n(452));return u;case"head":if(u=h.head,!u)throw Error(n(453));return u;case"body":if(u=h.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}var Pi=new Map,H2=new Set;function nv(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var Es=ee.d;ee.d={f:Cee,r:Pee,D:Dee,C:Lee,L:Iee,m:Mee,X:kee,S:Nee,M:jee};function Cee(){var u=Es.f(),h=Yg();return u||h}function Pee(u){var h=Jn(u);h!==null&&h.tag===5&&h.type==="form"?bN(h):Es.r(u)}var Bu=typeof document>"u"?null:document;function K2(u,h,m){var S=Bu;if(S&&typeof h=="string"&&h){var C=xi(h);C='link[rel="'+u+'"][href="'+C+'"]',typeof m=="string"&&(C+='[crossorigin="'+m+'"]'),H2.has(C)||(H2.add(C),u={rel:u,crossOrigin:m,href:h},S.querySelector(C)===null&&(h=S.createElement("link"),fn(h,"link",u),qt(h),S.head.appendChild(h)))}}function Dee(u){Es.D(u),K2("dns-prefetch",u,null)}function Lee(u,h){Es.C(u,h),K2("preconnect",u,h)}function Iee(u,h,m){Es.L(u,h,m);var S=Bu;if(S&&u&&h){var C='link[rel="preload"][as="'+xi(h)+'"]';h==="image"&&m&&m.imageSrcSet?(C+='[imagesrcset="'+xi(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(C+='[imagesizes="'+xi(m.imageSizes)+'"]')):C+='[href="'+xi(u)+'"]';var L=C;switch(h){case"style":L=Uu(u);break;case"script":L=Gu(u)}Pi.has(L)||(u=M({rel:"preload",href:h==="image"&&m&&m.imageSrcSet?void 0:u,as:h},m),Pi.set(L,u),S.querySelector(C)!==null||h==="style"&&S.querySelector(hh(L))||h==="script"&&S.querySelector(ph(L))||(h=S.createElement("link"),fn(h,"link",u),qt(h),S.head.appendChild(h)))}}function Mee(u,h){Es.m(u,h);var m=Bu;if(m&&u){var S=h&&typeof h.as=="string"?h.as:"script",C='link[rel="modulepreload"][as="'+xi(S)+'"][href="'+xi(u)+'"]',L=C;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=Gu(u)}if(!Pi.has(L)&&(u=M({rel:"modulepreload",href:u},h),Pi.set(L,u),m.querySelector(C)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(ph(L)))return}S=m.createElement("link"),fn(S,"link",u),qt(S),m.head.appendChild(S)}}}function Nee(u,h,m){Es.S(u,h,m);var S=Bu;if(S&&u){var C=xn(S).hoistableStyles,L=Uu(u);h=h||"default";var B=C.get(L);if(!B){var K={loading:0,preload:null};if(B=S.querySelector(hh(L)))K.loading=5;else{u=M({rel:"stylesheet",href:u,"data-precedence":h},m),(m=Pi.get(L))&&Kw(u,m);var Q=B=S.createElement("link");qt(Q),fn(Q,"link",u),Q._p=new Promise(function(ie,xe){Q.onload=ie,Q.onerror=xe}),Q.addEventListener("load",function(){K.loading|=1}),Q.addEventListener("error",function(){K.loading|=2}),K.loading|=4,iv(B,h,S)}B={type:"stylesheet",instance:B,count:1,state:K},C.set(L,B)}}}function kee(u,h){Es.X(u,h);var m=Bu;if(m&&u){var S=xn(m).hoistableScripts,C=Gu(u),L=S.get(C);L||(L=m.querySelector(ph(C)),L||(u=M({src:u,async:!0},h),(h=Pi.get(C))&&Ww(u,h),L=m.createElement("script"),qt(L),fn(L,"link",u),m.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(C,L))}}function jee(u,h){Es.M(u,h);var m=Bu;if(m&&u){var S=xn(m).hoistableScripts,C=Gu(u),L=S.get(C);L||(L=m.querySelector(ph(C)),L||(u=M({src:u,async:!0,type:"module"},h),(h=Pi.get(C))&&Ww(u,h),L=m.createElement("script"),qt(L),fn(L,"link",u),m.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(C,L))}}function W2(u,h,m,S){var C=(C=ke.current)?nv(C):null;if(!C)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(h=Uu(m.href),m=xn(C).hoistableStyles,S=m.get(h),S||(S={type:"style",instance:null,count:0,state:null},m.set(h,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=Uu(m.href);var L=xn(C).hoistableStyles,B=L.get(u);if(B||(C=C.ownerDocument||C,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(u,B),(L=C.querySelector(hh(u)))&&!L._p&&(B.instance=L,B.state.loading=5),Pi.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Pi.set(u,m),L||$ee(C,u,m,B.state))),h&&S===null)throw Error(n(528,""));return B}if(h&&S!==null)throw Error(n(529,""));return null;case"script":return h=m.async,m=m.src,typeof m=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Gu(m),m=xn(C).hoistableScripts,S=m.get(h),S||(S={type:"script",instance:null,count:0,state:null},m.set(h,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function Uu(u){return'href="'+xi(u)+'"'}function hh(u){return'link[rel="stylesheet"]['+u+"]"}function Y2(u){return M({},u,{"data-precedence":u.precedence,precedence:null})}function $ee(u,h,m,S){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?S.loading=1:(h=u.createElement("link"),S.preload=h,h.addEventListener("load",function(){return S.loading|=1}),h.addEventListener("error",function(){return S.loading|=2}),fn(h,"link",m),qt(h),u.head.appendChild(h))}function Gu(u){return'[src="'+xi(u)+'"]'}function ph(u){return"script[async]"+u}function X2(u,h,m){if(h.count++,h.instance===null)switch(h.type){case"style":var S=u.querySelector('style[data-href~="'+xi(m.href)+'"]');if(S)return h.instance=S,qt(S),S;var C=M({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return S=(u.ownerDocument||u).createElement("style"),qt(S),fn(S,"style",C),iv(S,m.precedence,u),h.instance=S;case"stylesheet":C=Uu(m.href);var L=u.querySelector(hh(C));if(L)return h.state.loading|=4,h.instance=L,qt(L),L;S=Y2(m),(C=Pi.get(C))&&Kw(S,C),L=(u.ownerDocument||u).createElement("link"),qt(L);var B=L;return B._p=new Promise(function(K,Q){B.onload=K,B.onerror=Q}),fn(L,"link",S),h.state.loading|=4,iv(L,m.precedence,u),h.instance=L;case"script":return L=Gu(m.src),(C=u.querySelector(ph(L)))?(h.instance=C,qt(C),C):(S=m,(C=Pi.get(L))&&(S=M({},m),Ww(S,C)),u=u.ownerDocument||u,C=u.createElement("script"),qt(C),fn(C,"link",S),u.head.appendChild(C),h.instance=C);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(S=h.instance,h.state.loading|=4,iv(S,m.precedence,u));return h.instance}function iv(u,h,m){for(var S=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=S.length?S[S.length-1]:null,L=C,B=0;B<S.length;B++){var K=S[B];if(K.dataset.precedence===h)L=K;else if(L!==C)break}L?L.parentNode.insertBefore(u,L.nextSibling):(h=m.nodeType===9?m.head:m,h.insertBefore(u,h.firstChild))}function Kw(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function Ww(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var av=null;function Q2(u,h,m){if(av===null){var S=new Map,C=av=new Map;C.set(m,S)}else C=av,S=C.get(m),S||(S=new Map,C.set(m,S));if(S.has(u))return S;for(S.set(u,null),m=m.getElementsByTagName(u),C=0;C<m.length;C++){var L=m[C];if(!(L[Mt]||L[Me]||u==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var B=L.getAttribute(h)||"";B=u+B;var K=S.get(B);K?K.push(L):S.set(B,[L])}}return S}function Z2(u,h,m){u=u.ownerDocument||u,u.head.insertBefore(m,h==="title"?u.querySelector("head > title"):null)}function Fee(u,h,m){if(m===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function J2(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var mh=null;function Bee(){}function Uee(u,h,m){if(mh===null)throw Error(n(475));var S=mh;if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var C=Uu(m.href),L=u.querySelector(hh(C));if(L){u=L._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(S.count++,S=sv.bind(S),u.then(S,S)),h.state.loading|=4,h.instance=L,qt(L);return}L=u.ownerDocument||u,m=Y2(m),(C=Pi.get(C))&&Kw(m,C),L=L.createElement("link"),qt(L);var B=L;B._p=new Promise(function(K,Q){B.onload=K,B.onerror=Q}),fn(L,"link",m),h.instance=L}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(S.count++,h=sv.bind(S),u.addEventListener("load",h),u.addEventListener("error",h))}}function Gee(){if(mh===null)throw Error(n(475));var u=mh;return u.stylesheets&&u.count===0&&Yw(u,u.stylesheets),0<u.count?function(h){var m=setTimeout(function(){if(u.stylesheets&&Yw(u,u.stylesheets),u.unsuspend){var S=u.unsuspend;u.unsuspend=null,S()}},6e4);return u.unsuspend=h,function(){u.unsuspend=null,clearTimeout(m)}}:null}function sv(){if(this.count--,this.count===0){if(this.stylesheets)Yw(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var ov=null;function Yw(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,ov=new Map,h.forEach(zee,u),ov=null,sv.call(u))}function zee(u,h){if(!(h.state.loading&4)){var m=ov.get(u);if(m)var S=m.get(null);else{m=new Map,ov.set(u,m);for(var C=u.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<C.length;L++){var B=C[L];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(m.set(B.dataset.precedence,B),S=B)}S&&m.set(null,S)}C=h.instance,B=C.getAttribute("data-precedence"),L=m.get(B)||S,L===S&&m.set(null,C),m.set(B,C),this.count++,S=sv.bind(this),C.addEventListener("load",S),C.addEventListener("error",S),L?L.parentNode.insertBefore(C,L.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(C,u.firstChild)),h.state.loading|=4}}var gh={$$typeof:g,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Vee(u,h,m,S,C,L,B,K){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.hiddenUpdates=Cf(null),this.identifierPrefix=S,this.onUncaughtError=C,this.onCaughtError=L,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function ek(u,h,m,S,C,L,B,K,Q,ie,xe,Re){return u=new Vee(u,h,m,B,K,Q,ie,Re),h=1,L===!0&&(h|=24),L=Ri(3,null,null,h),u.current=L,L.stateNode=u,h=OS(),h.refCount++,u.pooledCache=h,h.refCount++,L.memoizedState={element:S,isDehydrated:m,cache:h},ow(L),u}function tk(u){return u?(u=xu,u):xu}function rk(u,h,m,S,C,L){C=tk(C),S.context===null?S.context=C:S.pendingContext=C,S=Ro(h),S.payload={element:m},L=L===void 0?null:L,L!==null&&(S.callback=L),m=Co(u,S,h),m!==null&&(Cn(m,u,h),Jf(m,u,h))}function nk(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<h?m:h}}function Xw(u,h){nk(u,h),(u=u.alternate)&&nk(u,h)}function ik(u){if(u.tag===13){var h=So(u,67108864);h!==null&&Cn(h,u,67108864),Xw(u,67108864)}}var lv=!0;function qee(u,h,m,S){var C=I.T;I.T=null;var L=ee.p;try{ee.p=2,Qw(u,h,m,S)}finally{ee.p=L,I.T=C}}function Hee(u,h,m,S){var C=I.T;I.T=null;var L=ee.p;try{ee.p=8,Qw(u,h,m,S)}finally{ee.p=L,I.T=C}}function Qw(u,h,m,S){if(lv){var C=Zw(S);if(C===null)Fw(u,h,S,cv,m),sk(u,S);else if(Wee(C,u,h,m,S))S.stopPropagation();else if(sk(u,S),h&4&&-1<Kee.indexOf(u)){for(;C!==null;){var L=Jn(C);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var B=os(L.pendingLanes);if(B!==0){var K=L;for(K.pendingLanes|=2,K.entangledLanes|=2;B;){var Q=1<<31-_n(B);K.entanglements[1]|=Q,B&=~Q}_a(L),(br&6)===0&&(Hg=Ne()+500,uh(0))}}break;case 13:K=So(L,2),K!==null&&Cn(K,L,2),Yg(),Xw(L,2)}if(L=Zw(S),L===null&&Fw(u,h,S,cv,m),L===C)break;C=L}C!==null&&S.stopPropagation()}else Fw(u,h,S,null,m)}}function Zw(u){return u=iS(u),Jw(u)}var cv=null;function Jw(u){if(cv=null,u=Bt(u),u!==null){var h=V(u);if(h===null)u=null;else{var m=h.tag;if(m===13){if(u=q(h),u!==null)return u;u=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return cv=u,null}function ak(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case Ft:return 2;case Xt:return 8;case pr:case yn:return 32;case yi:return 268435456;default:return 32}default:return 32}}var eE=!1,ko=null,jo=null,$o=null,vh=new Map,yh=new Map,Fo=[],Kee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sk(u,h){switch(u){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":vh.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(h.pointerId)}}function bh(u,h,m,S,C,L){return u===null||u.nativeEvent!==L?(u={blockedOn:h,domEventName:m,eventSystemFlags:S,nativeEvent:L,targetContainers:[C]},h!==null&&(h=Jn(h),h!==null&&ik(h)),u):(u.eventSystemFlags|=S,h=u.targetContainers,C!==null&&h.indexOf(C)===-1&&h.push(C),u)}function Wee(u,h,m,S,C){switch(h){case"focusin":return ko=bh(ko,u,h,m,S,C),!0;case"dragenter":return jo=bh(jo,u,h,m,S,C),!0;case"mouseover":return $o=bh($o,u,h,m,S,C),!0;case"pointerover":var L=C.pointerId;return vh.set(L,bh(vh.get(L)||null,u,h,m,S,C)),!0;case"gotpointercapture":return L=C.pointerId,yh.set(L,bh(yh.get(L)||null,u,h,m,S,C)),!0}return!1}function ok(u){var h=Bt(u.target);if(h!==null){var m=V(h);if(m!==null){if(h=m.tag,h===13){if(h=q(m),h!==null){u.blockedOn=h,Qe(u.priority,function(){if(m.tag===13){var S=ii(),C=So(m,S);C!==null&&Cn(C,m,S),Xw(m,S)}});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function uv(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var m=Zw(u.nativeEvent);if(m===null){m=u.nativeEvent;var S=new m.constructor(m.type,m);nS=S,m.target.dispatchEvent(S),nS=null}else return h=Jn(m),h!==null&&ik(h),u.blockedOn=m,!1;h.shift()}return!0}function lk(u,h,m){uv(u)&&m.delete(h)}function Yee(){eE=!1,ko!==null&&uv(ko)&&(ko=null),jo!==null&&uv(jo)&&(jo=null),$o!==null&&uv($o)&&($o=null),vh.forEach(lk),yh.forEach(lk)}function dv(u,h){u.blockedOn===h&&(u.blockedOn=null,eE||(eE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Yee)))}var fv=null;function ck(u){fv!==u&&(fv=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){fv===u&&(fv=null);for(var h=0;h<u.length;h+=3){var m=u[h],S=u[h+1],C=u[h+2];if(typeof S!="function"){if(Jw(S||m)===null)continue;break}var L=Jn(m);L!==null&&(u.splice(h,3),h-=3,zS(L,{pending:!0,data:C,method:m.method,action:S},S,C))}}))}function xh(u){function h(Q){return dv(Q,u)}ko!==null&&dv(ko,u),jo!==null&&dv(jo,u),$o!==null&&dv($o,u),vh.forEach(h),yh.forEach(h);for(var m=0;m<Fo.length;m++){var S=Fo[m];S.blockedOn===u&&(S.blockedOn=null)}for(;0<Fo.length&&(m=Fo[0],m.blockedOn===null);)ok(m),m.blockedOn===null&&Fo.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(S=0;S<m.length;S+=3){var C=m[S],L=m[S+1],B=C[je]||null;if(typeof L=="function")B||ck(m);else if(B){var K=null;if(L&&L.hasAttribute("formAction")){if(C=L,B=L[je]||null)K=B.formAction;else if(Jw(C)!==null)continue}else K=B.action;typeof K=="function"?m[S+1]=K:(m.splice(S,3),S-=3),ck(m)}}}function tE(u){this._internalRoot=u}hv.prototype.render=tE.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));var m=h.current,S=ii();rk(m,S,u,h,null,null)},hv.prototype.unmount=tE.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;u.tag===0&&ju(),rk(u.current,2,null,u,null,null),Yg(),h[Be]=null}};function hv(u){this._internalRoot=u}hv.prototype.unstable_scheduleHydration=function(u){if(u){var h=$e();u={blockedOn:null,target:u,priority:h};for(var m=0;m<Fo.length&&h!==0&&h<Fo[m].priority;m++);Fo.splice(m,0,u),m===0&&ok(u)}};var uk=e.version;if(uk!=="19.0.0")throw Error(n(527,uk,"19.0.0"));ee.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Y(h),u=u!==null?X(u):null,u=u===null?null:u.stateNode,u};var Xee={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Bt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pv.isDisabled&&pv.supportsFiber)try{cn=pv.inject(Xee),Xr=pv}catch{}}return wh.createRoot=function(u,h){if(!i(u))throw Error(n(299));var m=!1,S="",C=ON,L=RN,B=CN,K=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(L=h.onCaughtError),h.onRecoverableError!==void 0&&(B=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(K=h.unstable_transitionCallbacks)),h=ek(u,1,!1,null,null,m,S,C,L,B,K,null),u[Be]=h.current,$w(u.nodeType===8?u.parentNode:u),new tE(h)},wh.hydrateRoot=function(u,h,m){if(!i(u))throw Error(n(299));var S=!1,C="",L=ON,B=RN,K=CN,Q=null,ie=null;return m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(L=m.onUncaughtError),m.onCaughtError!==void 0&&(B=m.onCaughtError),m.onRecoverableError!==void 0&&(K=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Q=m.unstable_transitionCallbacks),m.formState!==void 0&&(ie=m.formState)),h=ek(u,1,!0,h,m??null,S,C,L,B,K,Q,ie),h.context=tk(null),m=h.current,S=ii(),C=Ro(S),C.callback=null,Co(m,C,S),h.current.lanes=S,Nl(h,S),_a(h),u[Be]=h.current,$w(u),new hv(h)},wh.version="19.0.0",wh}var xk;function ote(){if(xk)return aE.exports;xk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),aE.exports=ste(),aE.exports}var lte=ote();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SG=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ute={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>A.createElement("svg",{ref:l,...ute,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:SG("lucide",i),...o},[...s.map(([c,d])=>A.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const r=A.forwardRef(({className:n,...i},a)=>A.createElement(dte,{ref:a,iconNode:e,className:SG(`lucide-${cte(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],hte=ot("AtSign",fte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],mte=ot("BookmarkPlus",pte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vte=ot("Calendar",gte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Sk=ot("Camera",yte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Db=ot("Check",bte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xP=ot("ChevronDown",xte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],SP=ot("ChevronRight",Ste);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ete=ot("ChevronUp",wte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ate=ot("CircleAlert",Tte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ote=ot("Circle",_te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],wP=ot("Clock",Rte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],Pte=ot("DoorOpen",Cte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]],Lte=ot("Dot",Dte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Mte=ot("Download",Ite);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],wG=ot("Ellipsis",Nte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],jte=ot("ExternalLink",kte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ky=ot("Eye",$te);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],jy=ot("Film",Fte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],EG=ot("Filter",Bte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],Gte=ot("Flag",Ute);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Vte=ot("Flame",zte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Hte=ot("History",qte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Wte=ot("House",Kte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Xte=ot("Image",Yte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Zte=ot("Link",Qte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jo=ot("LoaderCircle",Jte);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],tre=ot("Mail",ere);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nre=ot("MapPin",rre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],are=ot("MessageCircle",ire);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],ore=ot("PanelLeft",sre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],TG=ot("Pen",lre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ure=ot("Play",cre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fre=ot("Save",dre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Lb=ot("Search",hre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mre=ot("Send",pre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],vre=ot("Shield",gre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],EP=ot("Star",yre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wk=ot("Sun",bre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Sre=ot("ThumbsDown",xre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Ere=ot("ThumbsUp",wre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$y=ot("Trash2",Tre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],DO=ot("TrendingUp",Are);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cE=ot("TriangleAlert",_re);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Rre=ot("Upload",Ore);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],TP=ot("User",Cre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Dre=ot("Users",Pre);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pm=ot("X",Lre);function Ot(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function yl(t,e=[]){let r=[];function n(a,s){const o=A.createContext(s),l=r.length;r=[...r,s];const c=f=>{var w;const{scope:p,children:g,...y}=f,b=((w=p==null?void 0:p[t])==null?void 0:w[l])||o,x=A.useMemo(()=>y,Object.values(y));return v.jsx(b.Provider,{value:x,children:g})};c.displayName=a+"Provider";function d(f,p){var b;const g=((b=p==null?void 0:p[t])==null?void 0:b[l])||o,y=A.useContext(g);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(s=>A.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,Ire(i,...e)]}function Ire(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function Gi(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function AP({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=Mre({defaultProp:e,onChange:r}),a=t!==void 0,s=a?t:n,o=Gi(r),l=A.useCallback(c=>{if(a){const f=typeof c=="function"?c(t):c;f!==t&&o(f)}else i(c)},[a,t,i,o]);return[s,l]}function Mre({defaultProp:t,onChange:e}){const r=A.useState(t),[n]=r,i=A.useRef(n),a=Gi(e);return A.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var Ka=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{};function Ek(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cf(...t){return e=>{let r=!1;const n=t.map(i=>{const a=Ek(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Ek(t[i],null)}}}}function kn(...t){return A.useCallback(cf(...t),t)}var ao=xG();const Ib=$t(ao),Nre=bG({__proto__:null,default:Ib},[ao]);var AG=A.forwardRef((t,e)=>{const{children:r,...n}=t,i=A.Children.toArray(r),a=i.find(jre);if(a){const s=a.props.children,o=i.map(l=>l===a?A.Children.count(s)>1?A.Children.only(null):A.isValidElement(s)?s.props.children:null:l);return v.jsx(LO,{...n,ref:e,children:A.isValidElement(s)?A.cloneElement(s,void 0,o):null})}return v.jsx(LO,{...n,ref:e,children:r})});AG.displayName="Slot";var LO=A.forwardRef((t,e)=>{const{children:r,...n}=t;if(A.isValidElement(r)){const i=Fre(r),a=$re(n,r.props);return r.type!==A.Fragment&&(a.ref=e?cf(e,i):i),A.cloneElement(r,a)}return A.Children.count(r)>1?A.Children.only(null):null});LO.displayName="SlotClone";var kre=({children:t})=>v.jsx(v.Fragment,{children:t});function jre(t){return A.isValidElement(t)&&t.type===kre}function $re(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{a(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Fre(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Bre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],hr=Bre.reduce((t,e)=>{const r=A.forwardRef((n,i)=>{const{asChild:a,...s}=n,o=a?AG:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(o,{...s,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _G(t,e){t&&ao.flushSync(()=>t.dispatchEvent(e))}function Ure(t,e){return A.useReducer((r,n)=>e[r][n]??r,t)}var uf=t=>{const{present:e,children:r}=t,n=Gre(e),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),a=kn(n.ref,zre(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:a}):null};uf.displayName="Presence";function Gre(t){const[e,r]=A.useState(),n=A.useRef({}),i=A.useRef(t),a=A.useRef("none"),s=t?"mounted":"unmounted",[o,l]=Ure(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=gv(n.current);a.current=o==="mounted"?c:"none"},[o]),Ka(()=>{const c=n.current,d=i.current;if(d!==t){const p=a.current,g=gv(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ka(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const b=gv(n.current).includes(g.animationName);if(g.target===e&&b&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(a.current=gv(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function gv(t){return(t==null?void 0:t.animationName)||"none"}function zre(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Vre=Ki.useId||(()=>{}),qre=0;function Fy(t){const[e,r]=A.useState(Vre());return Ka(()=>{r(n=>n??String(qre++))},[t]),e?`radix-${e}`:""}var _P="Collapsible",[Hre,u4e]=yl(_P),[Kre,OP]=Hre(_P),OG=A.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:s,...o}=t,[l=!1,c]=AP({prop:n,defaultProp:i,onChange:s});return v.jsx(Kre,{scope:r,disabled:a,contentId:Fy(),open:l,onOpenToggle:A.useCallback(()=>c(d=>!d),[c]),children:v.jsx(hr.div,{"data-state":CP(l),"data-disabled":a?"":void 0,...o,ref:e})})});OG.displayName=_P;var RG="CollapsibleTrigger",CG=A.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=OP(RG,r);return v.jsx(hr.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":CP(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Ot(t.onClick,i.onOpenToggle)})});CG.displayName=RG;var RP="CollapsibleContent",PG=A.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=OP(RP,t.__scopeCollapsible);return v.jsx(uf,{present:r||i.open,children:({present:a})=>v.jsx(Wre,{...n,ref:e,present:a})})});PG.displayName=RP;var Wre=A.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,s=OP(RP,r),[o,l]=A.useState(n),c=A.useRef(null),d=kn(e,c),f=A.useRef(0),p=f.current,g=A.useRef(0),y=g.current,b=s.open||o,x=A.useRef(b),w=A.useRef(void 0);return A.useEffect(()=>{const E=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(E)},[]),Ka(()=>{const E=c.current;if(E){w.current=w.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const T=E.getBoundingClientRect();f.current=T.height,g.current=T.width,x.current||(E.style.transitionDuration=w.current.transitionDuration,E.style.animationName=w.current.animationName),l(n)}},[s.open,n]),v.jsx(hr.div,{"data-state":CP(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!b,...a,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:b&&i})});function CP(t){return t?"open":"closed"}var Yre=OG;const Xre=Yre,Qre=CG,Zre=PG;function Tk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Jre(...t){return e=>{let r=!1;const n=t.map(i=>{const a=Tk(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Tk(t[i],null)}}}}function ene(...t){return A.useCallback(Jre(...t),t)}function gi(t){const e=tne(t),r=A.forwardRef((n,i)=>{const{children:a,...s}=n,o=A.Children.toArray(a),l=o.find(nne);if(l){const c=l.props.children,d=o.map(f=>f===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:f);return v.jsx(e,{...s,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,d):null})}return v.jsx(e,{...s,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var Jc=gi("Slot");function tne(t){const e=A.forwardRef((r,n)=>{const{children:i,...a}=r,s=A.isValidElement(i)?ane(i):void 0,o=ene(s,n);if(A.isValidElement(i)){const l=ine(a,i.props);return i.type!==A.Fragment&&(l.ref=o),A.cloneElement(i,l)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DG=Symbol("radix.slottable");function rne(t){const e=({children:r})=>v.jsx(v.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=DG,e}function nne(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DG}function ine(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const l=a(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function ane(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function LG(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=LG(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ht(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=LG(t))&&(n&&(n+=" "),n+=e);return n}const Ak=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,_k=ht,Dm=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return _k(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(c=>{const d=r==null?void 0:r[c],f=a==null?void 0:a[c];if(d===null)return null;const p=Ak(d)||Ak(f);return i[c][p]}),o=r&&Object.entries(r).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(y=>{let[b,x]=y;return Array.isArray(x)?x.includes({...a,...o}[b]):{...a,...o}[b]===x})?[...c,f,p]:c},[]);return _k(t,s,l,r==null?void 0:r.class,r==null?void 0:r.className)},uE=768;function sne(){const[t,e]=A.useState(void 0);return A.useEffect(()=>{const r=window.matchMedia(`(max-width: ${uE-1}px)`),n=()=>{e(window.innerWidth<uE)};return r.addEventListener("change",n),e(window.innerWidth<uE),()=>r.removeEventListener("change",n)},[]),!!t}const PP="-",one=t=>{const e=cne(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(PP);return o[0]===""&&o.length!==1&&o.shift(),IG(o,e)||lne(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},IG=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?IG(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(PP);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},Ok=/^\[(.+)\]$/,lne=t=>{if(Ok.test(t)){const e=Ok.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},cne=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)IO(r[i],n,i,e);return n},IO=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Rk(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(une(i)){IO(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{IO(s,Rk(e,a),r,n)})})},Rk=(t,e)=>{let r=t;return e.split(PP).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},une=t=>t.isThemeGetter,dne=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},MO="!",NO=":",fne=NO.length,hne=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const a=[];let s=0,o=0,l=0,c;for(let y=0;y<i.length;y++){let b=i[y];if(s===0&&o===0){if(b===NO){a.push(i.slice(l,y)),l=y+fne;continue}if(b==="/"){c=y;continue}}b==="["?s++:b==="]"?s--:b==="("?o++:b===")"&&o--}const d=a.length===0?i:i.substring(l),f=pne(d),p=f!==d,g=c&&c>l?c-l:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:g}};if(e){const i=e+NO,a=n;n=s=>s.startsWith(i)?a(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},pne=t=>t.endsWith(MO)?t.substring(0,t.length-1):t.startsWith(MO)?t.substring(1):t,mne=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let a=[];return n.forEach(s=>{s[0]==="["||e[s]?(i.push(...a.sort(),s),a=[]):a.push(s)}),i.push(...a.sort()),i}},gne=t=>({cache:dne(t.cacheSize),parseClassName:hne(t),sortModifiers:mne(t),...one(t)}),vne=/\s+/,yne=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=e,s=[],o=t.trim().split(vne);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{isExternal:f,modifiers:p,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:b}=r(d);if(f){l=d+(l.length>0?" "+l:l);continue}let x=!!b,w=n(x?y.substring(0,b):y);if(!w){if(!x){l=d+(l.length>0?" "+l:l);continue}if(w=n(y),!w){l=d+(l.length>0?" "+l:l);continue}x=!1}const E=a(p).join(":"),T=g?E+MO:E,O=T+w;if(s.includes(O))continue;s.push(O);const _=i(w,x);for(let P=0;P<_.length;++P){const R=_[P];s.push(T+R)}l=d+(l.length>0?" "+l:l)}return l};function bne(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=MG(e))&&(n&&(n+=" "),n+=r);return n}const MG=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=MG(t[n]))&&(r&&(r+=" "),r+=e);return r};function xne(t,...e){let r,n,i,a=s;function s(l){const c=e.reduce((d,f)=>f(d),t());return r=gne(c),n=r.cache.get,i=r.cache.set,a=o,o(l)}function o(l){const c=n(l);if(c)return c;const d=yne(l,r);return i(l,d),d}return function(){return a(bne.apply(null,arguments))}}const en=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},NG=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kG=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Sne=/^\d+\/\d+$/,wne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ene=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Tne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ane=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_ne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zu=t=>Sne.test(t),Et=t=>!!t&&!Number.isNaN(Number(t)),rc=t=>!!t&&Number.isInteger(Number(t)),Ck=t=>t.endsWith("%")&&Et(t.slice(0,-1)),Uo=t=>wne.test(t),One=()=>!0,Rne=t=>Ene.test(t)&&!Tne.test(t),DP=()=>!1,Cne=t=>Ane.test(t),Pne=t=>_ne.test(t),Dne=t=>!qe(t)&&!He(t),Lne=t=>df(t,FG,DP),qe=t=>NG.test(t),nc=t=>df(t,BG,Rne),dE=t=>df(t,zne,Et),Ine=t=>df(t,jG,DP),Mne=t=>df(t,$G,Pne),Nne=t=>df(t,DP,Cne),He=t=>kG.test(t),vv=t=>ff(t,BG),kne=t=>ff(t,Vne),jne=t=>ff(t,jG),$ne=t=>ff(t,FG),Fne=t=>ff(t,$G),Bne=t=>ff(t,qne,!0),df=(t,e,r)=>{const n=NG.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},ff=(t,e,r=!1)=>{const n=kG.exec(t);return n?n[1]?e(n[1]):r:!1},jG=t=>t==="position",Une=new Set(["image","url"]),$G=t=>Une.has(t),Gne=new Set(["length","size","percentage"]),FG=t=>Gne.has(t),BG=t=>t==="length",zne=t=>t==="number",Vne=t=>t==="family-name",qne=t=>t==="shadow",Hne=()=>{const t=en("color"),e=en("font"),r=en("text"),n=en("font-weight"),i=en("tracking"),a=en("leading"),s=en("breakpoint"),o=en("container"),l=en("spacing"),c=en("radius"),d=en("shadow"),f=en("inset-shadow"),p=en("drop-shadow"),g=en("blur"),y=en("perspective"),b=en("aspect"),x=en("ease"),w=en("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],P=()=>[He,qe,l],R=()=>[zu,"full","auto",...P()],D=()=>[rc,"none","subgrid",He,qe],I=()=>["auto",{span:["full",rc,He,qe]},He,qe],M=()=>[rc,"auto",He,qe],N=()=>["auto","min","max","fr",He,qe],k=()=>["start","end","center","between","around","evenly","stretch","baseline"],F=()=>["start","end","center","stretch"],U=()=>["auto",...P()],z=()=>[zu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],j=()=>[t,He,qe],H=()=>[Ck,nc],V=()=>["","none","full",c,He,qe],q=()=>["",Et,vv,nc],G=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["","none",g,He,qe],te=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He,qe],ee=()=>["none",Et,He,qe],ue=()=>["none",Et,He,qe],he=()=>[Et,He,qe],ve=()=>[zu,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Uo],breakpoint:[Uo],color:[One],container:[Uo],"drop-shadow":[Uo],ease:["in","out","in-out"],font:[Dne],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Uo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Uo],shadow:[Uo],spacing:["px",Et],text:[Uo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zu,qe,He,b]}],container:["container"],columns:[{columns:[Et,qe,He,o]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),qe,He]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[rc,"auto",He,qe]}],basis:[{basis:[zu,"full","auto",o,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Et,zu,"auto","initial","none",qe]}],grow:[{grow:["",Et,He,qe]}],shrink:[{shrink:["",Et,He,qe]}],order:[{order:[rc,"first","last","none",He,qe]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...F(),"baseline"]}],"align-self":[{self:["auto",...F(),"baseline"]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[o,"screen",...z()]}],"min-w":[{"min-w":[o,"screen","none",...z()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...z()]}],h:[{h:["screen",...z()]}],"min-h":[{"min-h":["screen","none",...z()]}],"max-h":[{"max-h":["screen",...z()]}],"font-size":[{text:["base",r,vv,nc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,He,dE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ck,qe]}],"font-family":[{font:[kne,qe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,He,qe]}],"line-clamp":[{"line-clamp":[Et,"none",He,dE]}],leading:[{leading:[a,...P()]}],"list-image":[{"list-image":["none",He,qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",He,qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Et,"from-font","auto",He,nc]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[Et,"auto",He,qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He,qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He,qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),jne,Ine]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",$ne,Lne]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},rc,He,qe],radial:["",He,qe],conic:[rc,He,qe]},Fne,Mne]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Et,He,qe]}],"outline-w":[{outline:["",Et,vv,nc]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",d,Bne,Nne]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",He,qe,f]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[Et,nc]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":j()}],opacity:[{opacity:[Et,He,qe]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none",He,qe]}],blur:[{blur:X()}],brightness:[{brightness:[Et,He,qe]}],contrast:[{contrast:[Et,He,qe]}],"drop-shadow":[{"drop-shadow":["","none",p,He,qe]}],grayscale:[{grayscale:["",Et,He,qe]}],"hue-rotate":[{"hue-rotate":[Et,He,qe]}],invert:[{invert:["",Et,He,qe]}],saturate:[{saturate:[Et,He,qe]}],sepia:[{sepia:["",Et,He,qe]}],"backdrop-filter":[{"backdrop-filter":["","none",He,qe]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[Et,He,qe]}],"backdrop-contrast":[{"backdrop-contrast":[Et,He,qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Et,He,qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Et,He,qe]}],"backdrop-invert":[{"backdrop-invert":["",Et,He,qe]}],"backdrop-opacity":[{"backdrop-opacity":[Et,He,qe]}],"backdrop-saturate":[{"backdrop-saturate":[Et,He,qe]}],"backdrop-sepia":[{"backdrop-sepia":["",Et,He,qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",He,qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Et,"initial",He,qe]}],ease:[{ease:["linear","initial",x,He,qe]}],delay:[{delay:[Et,He,qe]}],animate:[{animate:["none",w,He,qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,He,qe]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:ee()}],"rotate-x":[{"rotate-x":ee()}],"rotate-y":[{"rotate-y":ee()}],"rotate-z":[{"rotate-z":ee()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[He,qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ve()}],"translate-x":[{"translate-x":ve()}],"translate-y":[{"translate-y":ve()}],"translate-z":[{"translate-z":ve()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He,qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He,qe]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[Et,vv,nc,dE]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Kne=xne(Hne);function Le(...t){return Kne(ht(t))}const LP=Dm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dt=A.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const s=n?Jc:"button";return v.jsx(s,{className:Le(LP({variant:e,size:r,className:t})),ref:a,...i})});dt.displayName="Button";const jr=A.forwardRef(({className:t,type:e,...r},n)=>v.jsx("input",{type:e,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));jr.displayName="Input";var Wne="Separator",Pk="horizontal",Yne=["horizontal","vertical"],UG=A.forwardRef((t,e)=>{const{decorative:r,orientation:n=Pk,...i}=t,a=Xne(n)?n:Pk,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return v.jsx(hr.div,{"data-orientation":a,...o,...i,ref:e})});UG.displayName=Wne;function Xne(t){return Yne.includes(t)}var GG=UG;const zG=A.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>v.jsx(GG,{ref:i,decorative:r,orientation:e,className:Le("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));zG.displayName=GG.displayName;function ll(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Dk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Qne(...t){return e=>{let r=!1;const n=t.map(i=>{const a=Dk(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Dk(t[i],null)}}}}function eu(...t){return A.useCallback(Qne(...t),t)}function Zne(t,e){const r=A.createContext(e),n=a=>{const{children:s,...o}=a,l=A.useMemo(()=>o,Object.values(o));return v.jsx(r.Provider,{value:l,children:s})};n.displayName=t+"Provider";function i(a){const s=A.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Jne(t,e=[]){let r=[];function n(a,s){const o=A.createContext(s),l=r.length;r=[...r,s];const c=f=>{var w;const{scope:p,children:g,...y}=f,b=((w=p==null?void 0:p[t])==null?void 0:w[l])||o,x=A.useMemo(()=>y,Object.values(y));return v.jsx(b.Provider,{value:x,children:g})};c.displayName=a+"Provider";function d(f,p){var b;const g=((b=p==null?void 0:p[t])==null?void 0:b[l])||o,y=A.useContext(g);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(s=>A.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,eie(i,...e)]}function eie(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var bp=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},tie=Ki[" useId ".trim().toString()]||(()=>{}),rie=0;function fE(t){const[e,r]=A.useState(tie());return bp(()=>{r(n=>n??String(rie++))},[t]),t||(e?`radix-${e}`:"")}var nie=Ki[" useInsertionEffect ".trim().toString()]||bp;function iie({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,s]=aie({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const d=A.useRef(t!==void 0);A.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const c=A.useCallback(d=>{var f;if(o){const p=sie(d)?d(t):d;p!==t&&((f=s.current)==null||f.call(s,p))}else a(d)},[o,t,a,s]);return[l,c]}function aie({defaultProp:t,onChange:e}){const[r,n]=A.useState(t),i=A.useRef(r),a=A.useRef(e);return nie(()=>{a.current=e},[e]),A.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function sie(t){return typeof t=="function"}var oie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],so=oie.reduce((t,e)=>{const r=gi(`Primitive.${e}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function lie(t,e){t&&ao.flushSync(()=>t.dispatchEvent(e))}function xp(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function cie(t,e=globalThis==null?void 0:globalThis.document){const r=xp(t);A.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var uie="DismissableLayer",kO="dismissableLayer.update",die="dismissableLayer.pointerDownOutside",fie="dismissableLayer.focusOutside",Lk,VG=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qG=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,c=A.useContext(VG),[d,f]=A.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=A.useState({}),y=eu(e,R=>f(R)),b=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(x),E=d?b.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,O=E>=w,_=mie(R=>{const D=R.target,I=[...c.branches].some(M=>M.contains(D));!O||I||(i==null||i(R),s==null||s(R),R.defaultPrevented||o==null||o())},p),P=gie(R=>{const D=R.target;[...c.branches].some(M=>M.contains(D))||(a==null||a(R),s==null||s(R),R.defaultPrevented||o==null||o())},p);return cie(R=>{E===c.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&o&&(R.preventDefault(),o()))},p),A.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Lk=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Ik(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Lk)}},[d,p,r,c]),A.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Ik())},[d,c]),A.useEffect(()=>{const R=()=>g({});return document.addEventListener(kO,R),()=>document.removeEventListener(kO,R)},[]),v.jsx(so.div,{...l,ref:y,style:{pointerEvents:T?O?"auto":"none":void 0,...t.style},onFocusCapture:ll(t.onFocusCapture,P.onFocusCapture),onBlurCapture:ll(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ll(t.onPointerDownCapture,_.onPointerDownCapture)})});qG.displayName=uie;var hie="DismissableLayerBranch",pie=A.forwardRef((t,e)=>{const r=A.useContext(VG),n=A.useRef(null),i=eu(e,n);return A.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),v.jsx(so.div,{...t,ref:i})});pie.displayName=hie;function mie(t,e=globalThis==null?void 0:globalThis.document){const r=xp(t),n=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let l=function(){HG(die,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function gie(t,e=globalThis==null?void 0:globalThis.document){const r=xp(t),n=A.useRef(!1);return A.useEffect(()=>{const i=a=>{a.target&&!n.current&&HG(fie,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ik(){const t=new CustomEvent(kO);document.dispatchEvent(t)}function HG(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?lie(i,a):i.dispatchEvent(a)}var hE="focusScope.autoFocusOnMount",pE="focusScope.autoFocusOnUnmount",Mk={bubbles:!1,cancelable:!0},vie="FocusScope",KG=A.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=A.useState(null),c=xp(i),d=xp(a),f=A.useRef(null),p=eu(e,b=>l(b)),g=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let b=function(T){if(g.paused||!o)return;const O=T.target;o.contains(O)?f.current=O:qo(f.current,{select:!0})},x=function(T){if(g.paused||!o)return;const O=T.relatedTarget;O!==null&&(o.contains(O)||qo(f.current,{select:!0}))},w=function(T){if(document.activeElement===document.body)for(const _ of T)_.removedNodes.length>0&&qo(o)};document.addEventListener("focusin",b),document.addEventListener("focusout",x);const E=new MutationObserver(w);return o&&E.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",x),E.disconnect()}}},[n,o,g.paused]),A.useEffect(()=>{if(o){kk.add(g);const b=document.activeElement;if(!o.contains(b)){const w=new CustomEvent(hE,Mk);o.addEventListener(hE,c),o.dispatchEvent(w),w.defaultPrevented||(yie(Eie(WG(o)),{select:!0}),document.activeElement===b&&qo(o))}return()=>{o.removeEventListener(hE,c),setTimeout(()=>{const w=new CustomEvent(pE,Mk);o.addEventListener(pE,d),o.dispatchEvent(w),w.defaultPrevented||qo(b??document.body,{select:!0}),o.removeEventListener(pE,d),kk.remove(g)},0)}}},[o,c,d,g]);const y=A.useCallback(b=>{if(!r&&!n||g.paused)return;const x=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,w=document.activeElement;if(x&&w){const E=b.currentTarget,[T,O]=bie(E);T&&O?!b.shiftKey&&w===O?(b.preventDefault(),r&&qo(T,{select:!0})):b.shiftKey&&w===T&&(b.preventDefault(),r&&qo(O,{select:!0})):w===E&&b.preventDefault()}},[r,n,g.paused]);return v.jsx(so.div,{tabIndex:-1,...s,ref:p,onKeyDown:y})});KG.displayName=vie;function yie(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(qo(n,{select:e}),document.activeElement!==r)return}function bie(t){const e=WG(t),r=Nk(e,t),n=Nk(e.reverse(),t);return[r,n]}function WG(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Nk(t,e){for(const r of t)if(!xie(r,{upTo:e}))return r}function xie(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Sie(t){return t instanceof HTMLInputElement&&"select"in t}function qo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Sie(t)&&e&&t.select()}}var kk=wie();function wie(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=jk(t,e),t.unshift(e)},remove(e){var r;t=jk(t,e),(r=t[0])==null||r.resume()}}}function jk(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Eie(t){return t.filter(e=>e.tagName!=="A")}var Tie="Portal",YG=A.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,a]=A.useState(!1);bp(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?Ib.createPortal(v.jsx(so.div,{...n,ref:e}),s):null});YG.displayName=Tie;function Aie(t,e){return A.useReducer((r,n)=>e[r][n]??r,t)}var Mb=t=>{const{present:e,children:r}=t,n=_ie(e),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),a=eu(n.ref,Oie(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:a}):null};Mb.displayName="Presence";function _ie(t){const[e,r]=A.useState(),n=A.useRef(null),i=A.useRef(t),a=A.useRef("none"),s=t?"mounted":"unmounted",[o,l]=Aie(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=yv(n.current);a.current=o==="mounted"?c:"none"},[o]),bp(()=>{const c=n.current,d=i.current;if(d!==t){const p=a.current,g=yv(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),bp(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const b=yv(n.current).includes(g.animationName);if(g.target===e&&b&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(a.current=yv(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function yv(t){return(t==null?void 0:t.animationName)||"none"}function Oie(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var mE=0;function Rie(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$k()),document.body.insertAdjacentElement("beforeend",t[1]??$k()),mE++,()=>{mE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),mE--}},[])}function $k(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var La=function(){return La=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},La.apply(this,arguments)};function XG(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Cie(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var hy="right-scroll-bar-position",py="width-before-scroll-bar",Pie="with-scroll-bars-hidden",Die="--removed-body-scroll-bar-size";function gE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Lie(t,e){var r=A.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Iie=typeof window<"u"?A.useLayoutEffect:A.useEffect,Fk=new WeakMap;function Mie(t,e){var r=Lie(null,function(n){return t.forEach(function(i){return gE(i,n)})});return Iie(function(){var n=Fk.get(r);if(n){var i=new Set(n),a=new Set(t),s=r.current;i.forEach(function(o){a.has(o)||gE(o,null)}),a.forEach(function(o){i.has(o)||gE(o,s)})}Fk.set(r,t)},[t]),r}function Nie(t){return t}function kie(t,e){e===void 0&&(e=Nie);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var s=e(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var l=function(){var d=s;s=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),r}}}};return i}function jie(t){t===void 0&&(t={});var e=kie(null);return e.options=La({async:!0,ssr:!1},t),e}var QG=function(t){var e=t.sideCar,r=XG(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return A.createElement(n,La({},r))};QG.isSideCarExport=!0;function $ie(t,e){return t.useMedium(e),QG}var ZG=jie(),vE=function(){},Nb=A.forwardRef(function(t,e){var r=A.useRef(null),n=A.useState({onScrollCapture:vE,onWheelCapture:vE,onTouchMoveCapture:vE}),i=n[0],a=n[1],s=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,y=t.inert,b=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,E=t.gapMode,T=XG(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,_=Mie([r,e]),P=La(La({},T),i);return A.createElement(A.Fragment,null,d&&A.createElement(O,{sideCar:ZG,removeScrollBar:c,shards:f,noIsolation:g,inert:y,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:E}),s?A.cloneElement(A.Children.only(o),La(La({},P),{ref:_})):A.createElement(w,La({},P,{className:l,ref:_}),o))});Nb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nb.classNames={fullWidth:py,zeroRight:hy};var Fie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bie(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Fie();return e&&t.setAttribute("nonce",e),t}function Uie(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Gie(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zie=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Bie())&&(Uie(e,r),Gie(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Vie=function(){var t=zie();return function(e,r){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},JG=function(){var t=Vie(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},qie={left:0,top:0,right:0,gap:0},yE=function(t){return parseInt(t||"",10)||0},Hie=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[yE(r),yE(n),yE(i)]},Kie=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qie;var e=Hie(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Wie=JG(),ud="data-scroll-locked",Yie=function(t,e,r,n){var i=t.left,a=t.top,s=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Pie,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(ud,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hy,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(py,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(hy," .").concat(hy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(py," .").concat(py,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ud,`] {
    `).concat(Die,": ").concat(o,`px;
  }
`)},Bk=function(){var t=parseInt(document.body.getAttribute(ud)||"0",10);return isFinite(t)?t:0},Xie=function(){A.useEffect(function(){return document.body.setAttribute(ud,(Bk()+1).toString()),function(){var t=Bk()-1;t<=0?document.body.removeAttribute(ud):document.body.setAttribute(ud,t.toString())}},[])},Qie=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Xie();var a=A.useMemo(function(){return Kie(i)},[i]);return A.createElement(Wie,{styles:Yie(a,!e,i,r?"":"!important")})},jO=!1;if(typeof window<"u")try{var bv=Object.defineProperty({},"passive",{get:function(){return jO=!0,!0}});window.addEventListener("test",bv,bv),window.removeEventListener("test",bv,bv)}catch{jO=!1}var Vu=jO?{passive:!1}:!1,Zie=function(t){return t.tagName==="TEXTAREA"},ez=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Zie(t)&&r[e]==="visible")},Jie=function(t){return ez(t,"overflowY")},eae=function(t){return ez(t,"overflowX")},Uk=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=tz(t,n);if(i){var a=rz(t,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},tae=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},rae=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},tz=function(t,e){return t==="v"?Jie(e):eae(e)},rz=function(t,e){return t==="v"?tae(e):rae(e)},nae=function(t,e){return t==="h"&&e==="rtl"?-1:1},iae=function(t,e,r,n,i){var a=nae(t,window.getComputedStyle(e).direction),s=a*n,o=r.target,l=e.contains(o),c=!1,d=s>0,f=0,p=0;do{var g=rz(t,o),y=g[0],b=g[1],x=g[2],w=b-x-a*y;(y||w)&&tz(t,o)&&(f+=w,p+=y),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},xv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Gk=function(t){return[t.deltaX,t.deltaY]},zk=function(t){return t&&"current"in t?t.current:t},aae=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sae=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},oae=0,qu=[];function lae(t){var e=A.useRef([]),r=A.useRef([0,0]),n=A.useRef(),i=A.useState(oae++)[0],a=A.useState(JG)[0],s=A.useRef(t);A.useEffect(function(){s.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=Cie([t.lockRef.current],(t.shards||[]).map(zk),!0).filter(Boolean);return b.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=A.useCallback(function(b,x){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!s.current.allowPinchZoom;var w=xv(b),E=r.current,T="deltaX"in b?b.deltaX:E[0]-w[0],O="deltaY"in b?b.deltaY:E[1]-w[1],_,P=b.target,R=Math.abs(T)>Math.abs(O)?"h":"v";if("touches"in b&&R==="h"&&P.type==="range")return!1;var D=Uk(R,P);if(!D)return!0;if(D?_=R:(_=R==="v"?"h":"v",D=Uk(R,P)),!D)return!1;if(!n.current&&"changedTouches"in b&&(T||O)&&(n.current=_),!_)return!0;var I=n.current||_;return iae(I,x,b,I==="h"?T:O)},[]),l=A.useCallback(function(b){var x=b;if(!(!qu.length||qu[qu.length-1]!==a)){var w="deltaY"in x?Gk(x):xv(x),E=e.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&aae(_.delta,w)})[0];if(E&&E.should){x.cancelable&&x.preventDefault();return}if(!E){var T=(s.current.shards||[]).map(zk).filter(Boolean).filter(function(_){return _.contains(x.target)}),O=T.length>0?o(x,T[0]):!s.current.noIsolation;O&&x.cancelable&&x.preventDefault()}}},[]),c=A.useCallback(function(b,x,w,E){var T={name:b,delta:x,target:w,should:E,shadowParent:cae(w)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(O){return O!==T})},1)},[]),d=A.useCallback(function(b){r.current=xv(b),n.current=void 0},[]),f=A.useCallback(function(b){c(b.type,Gk(b),b.target,o(b,t.lockRef.current))},[]),p=A.useCallback(function(b){c(b.type,xv(b),b.target,o(b,t.lockRef.current))},[]);A.useEffect(function(){return qu.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Vu),document.addEventListener("touchmove",l,Vu),document.addEventListener("touchstart",d,Vu),function(){qu=qu.filter(function(b){return b!==a}),document.removeEventListener("wheel",l,Vu),document.removeEventListener("touchmove",l,Vu),document.removeEventListener("touchstart",d,Vu)}},[]);var g=t.removeScrollBar,y=t.inert;return A.createElement(A.Fragment,null,y?A.createElement(a,{styles:sae(i)}):null,g?A.createElement(Qie,{gapMode:t.gapMode}):null)}function cae(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uae=$ie(ZG,lae);var kb=A.forwardRef(function(t,e){return A.createElement(Nb,La({},t,{ref:e,sideCar:uae}))});kb.classNames=Nb.classNames;var dae=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Hu=new WeakMap,Sv=new WeakMap,wv={},bE=0,nz=function(t){return t&&(t.host||nz(t.parentNode))},fae=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=nz(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},hae=function(t,e,r,n){var i=fae(e,Array.isArray(t)?t:[t]);wv[r]||(wv[r]=new WeakMap);var a=wv[r],s=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(o.has(p))d(p);else try{var g=p.getAttribute(n),y=g!==null&&g!=="false",b=(Hu.get(p)||0)+1,x=(a.get(p)||0)+1;Hu.set(p,b),a.set(p,x),s.push(p),b===1&&y&&Sv.set(p,!0),x===1&&p.setAttribute(r,"true"),y||p.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),o.clear(),bE++,function(){s.forEach(function(f){var p=Hu.get(f)-1,g=a.get(f)-1;Hu.set(f,p),a.set(f,g),p||(Sv.has(f)||f.removeAttribute(n),Sv.delete(f)),g||f.removeAttribute(r)}),bE--,bE||(Hu=new WeakMap,Hu=new WeakMap,Sv=new WeakMap,wv={})}},IP=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=dae(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),hae(n,i,r,"aria-hidden")):function(){return null}},jb="Dialog",[iz,az]=Jne(jb),[pae,xa]=iz(jb),sz=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=t,o=A.useRef(null),l=A.useRef(null),[c,d]=iie({prop:n,defaultProp:i??!1,onChange:a,caller:jb});return v.jsx(pae,{scope:e,triggerRef:o,contentRef:l,contentId:fE(),titleId:fE(),descriptionId:fE(),open:c,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};sz.displayName=jb;var oz="DialogTrigger",lz=A.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=xa(oz,r),a=eu(e,i.triggerRef);return v.jsx(so.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":kP(i.open),...n,ref:a,onClick:ll(t.onClick,i.onOpenToggle)})});lz.displayName=oz;var MP="DialogPortal",[mae,cz]=iz(MP,{forceMount:void 0}),uz=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=xa(MP,e);return v.jsx(mae,{scope:e,forceMount:r,children:A.Children.map(n,s=>v.jsx(Mb,{present:r||a.open,children:v.jsx(YG,{asChild:!0,container:i,children:s})}))})};uz.displayName=MP;var By="DialogOverlay",dz=A.forwardRef((t,e)=>{const r=cz(By,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=xa(By,t.__scopeDialog);return a.modal?v.jsx(Mb,{present:n||a.open,children:v.jsx(vae,{...i,ref:e})}):null});dz.displayName=By;var gae=gi("DialogOverlay.RemoveScroll"),vae=A.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=xa(By,r);return v.jsx(kb,{as:gae,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(so.div,{"data-state":kP(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Cc="DialogContent",fz=A.forwardRef((t,e)=>{const r=cz(Cc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=xa(Cc,t.__scopeDialog);return v.jsx(Mb,{present:n||a.open,children:a.modal?v.jsx(yae,{...i,ref:e}):v.jsx(bae,{...i,ref:e})})});fz.displayName=Cc;var yae=A.forwardRef((t,e)=>{const r=xa(Cc,t.__scopeDialog),n=A.useRef(null),i=eu(e,r.contentRef,n);return A.useEffect(()=>{const a=n.current;if(a)return IP(a)},[]),v.jsx(hz,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ll(t.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ll(t.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:ll(t.onFocusOutside,a=>a.preventDefault())})}),bae=A.forwardRef((t,e)=>{const r=xa(Cc,t.__scopeDialog),n=A.useRef(!1),i=A.useRef(!1);return v.jsx(hz,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=t.onCloseAutoFocus)==null||s.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),hz=A.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=t,o=xa(Cc,r),l=A.useRef(null),c=eu(e,l);return Rie(),v.jsxs(v.Fragment,{children:[v.jsx(KG,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:v.jsx(qG,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":kP(o.open),...s,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(Sae,{titleId:o.titleId}),v.jsx(Eae,{contentRef:l,descriptionId:o.descriptionId})]})]})}),NP="DialogTitle",pz=A.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=xa(NP,r);return v.jsx(so.h2,{id:i.titleId,...n,ref:e})});pz.displayName=NP;var mz="DialogDescription",gz=A.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=xa(mz,r);return v.jsx(so.p,{id:i.descriptionId,...n,ref:e})});gz.displayName=mz;var vz="DialogClose",yz=A.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=xa(vz,r);return v.jsx(so.button,{type:"button",...n,ref:e,onClick:ll(t.onClick,()=>i.onOpenChange(!1))})});yz.displayName=vz;function kP(t){return t?"open":"closed"}var bz="DialogTitleWarning",[xae,xz]=Zne(bz,{contentName:Cc,titleName:NP,docsSlug:"dialog"}),Sae=({titleId:t})=>{const e=xz(bz),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},wae="DialogDescriptionWarning",Eae=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xz(wae).contentName}}.`;return A.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},jP=sz,Sz=lz,$P=uz,Lm=dz,Im=fz,Mm=pz,Nm=gz,$b=yz;const Tae=jP,Aae=$P,wz=A.forwardRef(({className:t,...e},r)=>v.jsx(Lm,{className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));wz.displayName=Lm.displayName;const _ae=Dm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ez=A.forwardRef(({side:t="right",className:e,children:r,...n},i)=>v.jsxs(Aae,{children:[v.jsx(wz,{}),v.jsxs(Im,{ref:i,className:Le(_ae({side:t}),e),...n,children:[r,v.jsxs($b,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[v.jsx(Pm,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ez.displayName=Im.displayName;const Oae=A.forwardRef(({className:t,...e},r)=>v.jsx(Mm,{ref:r,className:Le("text-lg font-semibold text-foreground",t),...e}));Oae.displayName=Mm.displayName;const Rae=A.forwardRef(({className:t,...e},r)=>v.jsx(Nm,{ref:r,className:Le("text-sm text-muted-foreground",t),...e}));Rae.displayName=Nm.displayName;function Vk({className:t,...e}){return v.jsx("div",{className:Le("animate-pulse rounded-md bg-muted",t),...e})}function ks(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function qk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Tz(...t){return e=>{let r=!1;const n=t.map(i=>{const a=qk(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():qk(t[i],null)}}}}function tu(...t){return A.useCallback(Tz(...t),t)}function Az(t,e=[]){let r=[];function n(a,s){const o=A.createContext(s),l=r.length;r=[...r,s];const c=f=>{var w;const{scope:p,children:g,...y}=f,b=((w=p==null?void 0:p[t])==null?void 0:w[l])||o,x=A.useMemo(()=>y,Object.values(y));return v.jsx(b.Provider,{value:x,children:g})};c.displayName=a+"Provider";function d(f,p){var b;const g=((b=p==null?void 0:p[t])==null?void 0:b[l])||o,y=A.useContext(g);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(s=>A.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,Cae(i,...e)]}function Cae(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function Pae(t){const e=Dae(t),r=A.forwardRef((n,i)=>{const{children:a,...s}=n,o=A.Children.toArray(a),l=o.find(Iae);if(l){const c=l.props.children,d=o.map(f=>f===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:f);return v.jsx(e,{...s,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,d):null})}return v.jsx(e,{...s,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function Dae(t){const e=A.forwardRef((r,n)=>{const{children:i,...a}=r;if(A.isValidElement(i)){const s=Nae(i),o=Mae(a,i.props);return i.type!==A.Fragment&&(o.ref=n?Tz(n,s):s),A.cloneElement(i,o)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _z=Symbol("radix.slottable");function Lae(t){const e=({children:r})=>v.jsx(v.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=_z,e}function Iae(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_z}function Mae(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const l=a(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Nae(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var kae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hf=kae.reduce((t,e)=>{const r=Pae(`Primitive.${e}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function jae(t,e){t&&ao.flushSync(()=>t.dispatchEvent(e))}function Fb(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function $ae(t,e=globalThis==null?void 0:globalThis.document){const r=Fb(t);A.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Fae="DismissableLayer",$O="dismissableLayer.update",Bae="dismissableLayer.pointerDownOutside",Uae="dismissableLayer.focusOutside",Hk,Oz=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rz=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,c=A.useContext(Oz),[d,f]=A.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=A.useState({}),y=tu(e,R=>f(R)),b=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(x),E=d?b.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,O=E>=w,_=Vae(R=>{const D=R.target,I=[...c.branches].some(M=>M.contains(D));!O||I||(i==null||i(R),s==null||s(R),R.defaultPrevented||o==null||o())},p),P=qae(R=>{const D=R.target;[...c.branches].some(M=>M.contains(D))||(a==null||a(R),s==null||s(R),R.defaultPrevented||o==null||o())},p);return $ae(R=>{E===c.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&o&&(R.preventDefault(),o()))},p),A.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Hk=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Kk(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Hk)}},[d,p,r,c]),A.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Kk())},[d,c]),A.useEffect(()=>{const R=()=>g({});return document.addEventListener($O,R),()=>document.removeEventListener($O,R)},[]),v.jsx(hf.div,{...l,ref:y,style:{pointerEvents:T?O?"auto":"none":void 0,...t.style},onFocusCapture:ks(t.onFocusCapture,P.onFocusCapture),onBlurCapture:ks(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ks(t.onPointerDownCapture,_.onPointerDownCapture)})});Rz.displayName=Fae;var Gae="DismissableLayerBranch",zae=A.forwardRef((t,e)=>{const r=A.useContext(Oz),n=A.useRef(null),i=tu(e,n);return A.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),v.jsx(hf.div,{...t,ref:i})});zae.displayName=Gae;function Vae(t,e=globalThis==null?void 0:globalThis.document){const r=Fb(t),n=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let l=function(){Cz(Bae,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function qae(t,e=globalThis==null?void 0:globalThis.document){const r=Fb(t),n=A.useRef(!1);return A.useEffect(()=>{const i=a=>{a.target&&!n.current&&Cz(Uae,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Kk(){const t=new CustomEvent($O);document.dispatchEvent(t)}function Cz(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?jae(i,a):i.dispatchEvent(a)}var Pc=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},Hae=Ki[" useId ".trim().toString()]||(()=>{}),Kae=0;function Wae(t){const[e,r]=A.useState(Hae());return Pc(()=>{r(n=>n??String(Kae++))},[t]),e?`radix-${e}`:""}const Yae=["top","right","bottom","left"],ul=Math.min,ui=Math.max,Uy=Math.round,Ev=Math.floor,za=t=>({x:t,y:t}),Xae={left:"right",right:"left",bottom:"top",top:"bottom"},Qae={start:"end",end:"start"};function FO(t,e,r){return ui(t,ul(e,r))}function Ys(t,e){return typeof t=="function"?t(e):t}function Xs(t){return t.split("-")[0]}function pf(t){return t.split("-")[1]}function FP(t){return t==="x"?"y":"x"}function BP(t){return t==="y"?"height":"width"}function dl(t){return["top","bottom"].includes(Xs(t))?"y":"x"}function UP(t){return FP(dl(t))}function Zae(t,e,r){r===void 0&&(r=!1);const n=pf(t),i=UP(t),a=BP(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Gy(s)),[s,Gy(s)]}function Jae(t){const e=Gy(t);return[BO(t),e,BO(e)]}function BO(t){return t.replace(/start|end/g,e=>Qae[e])}function ese(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:s;default:return[]}}function tse(t,e,r,n){const i=pf(t);let a=ese(Xs(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(BO)))),a}function Gy(t){return t.replace(/left|right|bottom|top/g,e=>Xae[e])}function rse(t){return{top:0,right:0,bottom:0,left:0,...t}}function Pz(t){return typeof t!="number"?rse(t):{top:t,right:t,bottom:t,left:t}}function zy(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Wk(t,e,r){let{reference:n,floating:i}=t;const a=dl(e),s=UP(e),o=BP(s),l=Xs(e),c=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,p=n[o]/2-i[o]/2;let g;switch(l){case"top":g={x:d,y:n.y-i.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-i.width,y:f};break;default:g={x:n.x,y:n.y}}switch(pf(e)){case"start":g[s]-=p*(r&&c?-1:1);break;case"end":g[s]+=p*(r&&c?-1:1);break}return g}const nse=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Wk(c,n,l),p=n,g={},y=0;for(let b=0;b<o.length;b++){const{name:x,fn:w}=o[b],{x:E,y:T,data:O,reset:_}=await w({x:d,y:f,initialPlacement:n,placement:p,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});d=E??d,f=T??f,g={...g,[x]:{...g[x],...O}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(c=_.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:d,y:f}=Wk(c,p,l)),b=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:g}};async function Sp(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Ys(e,t),y=Pz(g),x=o[p?f==="floating"?"reference":"floating":f],w=zy(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),E=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),O=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},_=zy(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:E,offsetParent:T,strategy:l}):E);return{top:(w.top-_.top+y.top)/O.y,bottom:(_.bottom-w.bottom+y.bottom)/O.y,left:(w.left-_.left+y.left)/O.x,right:(_.right-w.right+y.right)/O.x}}const ise=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=Ys(t,e)||{};if(c==null)return{};const f=Pz(d),p={x:r,y:n},g=UP(i),y=BP(g),b=await s.getDimensions(c),x=g==="y",w=x?"top":"left",E=x?"bottom":"right",T=x?"clientHeight":"clientWidth",O=a.reference[y]+a.reference[g]-p[g]-a.floating[y],_=p[g]-a.reference[g],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let R=P?P[T]:0;(!R||!await(s.isElement==null?void 0:s.isElement(P)))&&(R=o.floating[T]||a.floating[y]);const D=O/2-_/2,I=R/2-b[y]/2-1,M=ul(f[w],I),N=ul(f[E],I),k=M,F=R-b[y]-N,U=R/2-b[y]/2+D,z=FO(k,U,F),j=!l.arrow&&pf(i)!=null&&U!==z&&a.reference[y]/2-(U<k?M:N)-b[y]/2<0,H=j?U<k?U-k:U-F:0;return{[g]:p[g]+H,data:{[g]:z,centerOffset:U-z-H,...j&&{alignmentOffset:H}},reset:j}}}),ase=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:b=!0,...x}=Ys(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=Xs(i),E=dl(o),T=Xs(o)===o,O=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=p||(T||!b?[Gy(o)]:Jae(o)),P=y!=="none";!p&&P&&_.push(...tse(o,b,y,O));const R=[o,..._],D=await Sp(e,x),I=[];let M=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&I.push(D[w]),f){const U=Zae(i,s,O);I.push(D[U[0]],D[U[1]])}if(M=[...M,{placement:i,overflows:I}],!I.every(U=>U<=0)){var N,k;const U=(((N=a.flip)==null?void 0:N.index)||0)+1,z=R[U];if(z)return{data:{index:U,overflows:M},reset:{placement:z}};let j=(k=M.filter(H=>H.overflows[0]<=0).sort((H,V)=>H.overflows[1]-V.overflows[1])[0])==null?void 0:k.placement;if(!j)switch(g){case"bestFit":{var F;const H=(F=M.filter(V=>{if(P){const q=dl(V.placement);return q===E||q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(q=>q>0).reduce((q,G)=>q+G,0)]).sort((V,q)=>V[1]-q[1])[0])==null?void 0:F[0];H&&(j=H);break}case"initialPlacement":j=o;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function Yk(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Xk(t){return Yae.some(e=>t[e]>=0)}const sse=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Ys(t,e);switch(n){case"referenceHidden":{const a=await Sp(e,{...i,elementContext:"reference"}),s=Yk(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Xk(s)}}}case"escaped":{const a=await Sp(e,{...i,altBoundary:!0}),s=Yk(a,r.floating);return{data:{escapedOffsets:s,escaped:Xk(s)}}}default:return{}}}}};async function ose(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Xs(r),o=pf(r),l=dl(r)==="y",c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,f=Ys(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof y=="number"&&(g=o==="end"?y*-1:y),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const lse=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await ose(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},cse=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:x=>{let{x:w,y:E}=x;return{x:w,y:E}}},...l}=Ys(t,e),c={x:r,y:n},d=await Sp(e,l),f=dl(Xs(i)),p=FP(f);let g=c[p],y=c[f];if(a){const x=p==="y"?"top":"left",w=p==="y"?"bottom":"right",E=g+d[x],T=g-d[w];g=FO(E,g,T)}if(s){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",E=y+d[x],T=y-d[w];y=FO(E,y,T)}const b=o.fn({...e,[p]:g,[f]:y});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[p]:a,[f]:s}}}}}},use=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Ys(t,e),d={x:r,y:n},f=dl(i),p=FP(f);let g=d[p],y=d[f];const b=Ys(o,e),x=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const T=p==="y"?"height":"width",O=a.reference[p]-a.floating[T]+x.mainAxis,_=a.reference[p]+a.reference[T]-x.mainAxis;g<O?g=O:g>_&&(g=_)}if(c){var w,E;const T=p==="y"?"width":"height",O=["top","left"].includes(Xs(i)),_=a.reference[f]-a.floating[T]+(O&&((w=s.offset)==null?void 0:w[f])||0)+(O?0:x.crossAxis),P=a.reference[f]+a.reference[T]+(O?0:((E=s.offset)==null?void 0:E[f])||0)-(O?x.crossAxis:0);y<_?y=_:y>P&&(y=P)}return{[p]:g,[f]:y}}}},dse=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...c}=Ys(t,e),d=await Sp(e,c),f=Xs(i),p=pf(i),g=dl(i)==="y",{width:y,height:b}=a.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=p===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(w=f,x=p==="end"?"top":"bottom");const E=b-d.top-d.bottom,T=y-d.left-d.right,O=ul(b-d[x],E),_=ul(y-d[w],T),P=!e.middlewareData.shift;let R=O,D=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(D=T),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(R=E),P&&!p){const M=ui(d.left,0),N=ui(d.right,0),k=ui(d.top,0),F=ui(d.bottom,0);g?D=y-2*(M!==0||N!==0?M+N:ui(d.left,d.right)):R=b-2*(k!==0||F!==0?k+F:ui(d.top,d.bottom))}await l({...e,availableWidth:D,availableHeight:R});const I=await s.getDimensions(o.floating);return y!==I.width||b!==I.height?{reset:{rects:!0}}:{}}}};function Bb(){return typeof window<"u"}function mf(t){return Dz(t)?(t.nodeName||"").toLowerCase():"#document"}function hi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ja(t){var e;return(e=(Dz(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Dz(t){return Bb()?t instanceof Node||t instanceof hi(t).Node:!1}function ga(t){return Bb()?t instanceof Element||t instanceof hi(t).Element:!1}function Wa(t){return Bb()?t instanceof HTMLElement||t instanceof hi(t).HTMLElement:!1}function Qk(t){return!Bb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hi(t).ShadowRoot}function km(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=va(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function fse(t){return["table","td","th"].includes(mf(t))}function Ub(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function GP(t){const e=zP(),r=ga(t)?va(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function hse(t){let e=fl(t);for(;Wa(e)&&!Ad(e);){if(GP(e))return e;if(Ub(e))return null;e=fl(e)}return null}function zP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ad(t){return["html","body","#document"].includes(mf(t))}function va(t){return hi(t).getComputedStyle(t)}function Gb(t){return ga(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fl(t){if(mf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Qk(t)&&t.host||Ja(t);return Qk(e)?e.host:e}function Lz(t){const e=fl(t);return Ad(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wa(e)&&km(e)?e:Lz(e)}function wp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Lz(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=hi(i);if(a){const o=UO(s);return e.concat(s,s.visualViewport||[],km(i)?i:[],o&&r?wp(o):[])}return e.concat(i,wp(i,[],r))}function UO(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Iz(t){const e=va(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Wa(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=Uy(r)!==a||Uy(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function VP(t){return ga(t)?t:t.contextElement}function dd(t){const e=VP(t);if(!Wa(e))return za(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=Iz(e);let s=(a?Uy(r.width):r.width)/n,o=(a?Uy(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const pse=za(0);function Mz(t){const e=hi(t);return!zP()||!e.visualViewport?pse:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mse(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==hi(t)?!1:e}function Dc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=VP(t);let s=za(1);e&&(n?ga(n)&&(s=dd(n)):s=dd(t));const o=mse(a,r,n)?Mz(a):za(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const p=hi(a),g=n&&ga(n)?hi(n):n;let y=p,b=UO(y);for(;b&&n&&g!==y;){const x=dd(b),w=b.getBoundingClientRect(),E=va(b),T=w.left+(b.clientLeft+parseFloat(E.paddingLeft))*x.x,O=w.top+(b.clientTop+parseFloat(E.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=T,c+=O,y=hi(b),b=UO(y)}}return zy({width:d,height:f,x:l,y:c})}function qP(t,e){const r=Gb(t).scrollLeft;return e?e.left+r:Dc(Ja(t)).left+r}function Nz(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:qP(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function gse(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=Ja(n),o=e?Ub(e.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},c=za(1);const d=za(0),f=Wa(n);if((f||!f&&!a)&&((mf(n)!=="body"||km(s))&&(l=Gb(n)),Wa(n))){const g=Dc(n);c=dd(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const p=s&&!f&&!a?Nz(s,l,!0):za(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:r.y*c.y-l.scrollTop*c.y+d.y+p.y}}function vse(t){return Array.from(t.getClientRects())}function yse(t){const e=Ja(t),r=Gb(t),n=t.ownerDocument.body,i=ui(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=ui(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+qP(t);const o=-r.scrollTop;return va(n).direction==="rtl"&&(s+=ui(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}function bse(t,e){const r=hi(t),n=Ja(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=zP();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function xse(t,e){const r=Dc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Wa(t)?dd(t):za(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:s,height:o,x:l,y:c}}function Zk(t,e,r){let n;if(e==="viewport")n=bse(t,r);else if(e==="document")n=yse(Ja(t));else if(ga(e))n=xse(e,r);else{const i=Mz(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zy(n)}function kz(t,e){const r=fl(t);return r===e||!ga(r)||Ad(r)?!1:va(r).position==="fixed"||kz(r,e)}function Sse(t,e){const r=e.get(t);if(r)return r;let n=wp(t,[],!1).filter(o=>ga(o)&&mf(o)!=="body"),i=null;const a=va(t).position==="fixed";let s=a?fl(t):t;for(;ga(s)&&!Ad(s);){const o=va(s),l=GP(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||km(s)&&!l&&kz(t,s))?n=n.filter(d=>d!==s):i=o,s=fl(s)}return e.set(t,n),n}function wse(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?Ub(e)?[]:Sse(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((c,d)=>{const f=Zk(e,d,i);return c.top=ui(f.top,c.top),c.right=ul(f.right,c.right),c.bottom=ul(f.bottom,c.bottom),c.left=ui(f.left,c.left),c},Zk(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ese(t){const{width:e,height:r}=Iz(t);return{width:e,height:r}}function Tse(t,e,r){const n=Wa(e),i=Ja(e),a=r==="fixed",s=Dc(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=za(0);if(n||!n&&!a)if((mf(e)!=="body"||km(i))&&(o=Gb(e)),n){const p=Dc(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=qP(i));const c=i&&!n&&!a?Nz(i,o):za(0),d=s.left+o.scrollLeft-l.x-c.x,f=s.top+o.scrollTop-l.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function xE(t){return va(t).position==="static"}function Jk(t,e){if(!Wa(t)||va(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ja(t)===r&&(r=r.ownerDocument.body),r}function jz(t,e){const r=hi(t);if(Ub(t))return r;if(!Wa(t)){let i=fl(t);for(;i&&!Ad(i);){if(ga(i)&&!xE(i))return i;i=fl(i)}return r}let n=Jk(t,e);for(;n&&fse(n)&&xE(n);)n=Jk(n,e);return n&&Ad(n)&&xE(n)&&!GP(n)?r:n||hse(t)||r}const Ase=async function(t){const e=this.getOffsetParent||jz,r=this.getDimensions,n=await r(t.floating);return{reference:Tse(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _se(t){return va(t).direction==="rtl"}const Ose={convertOffsetParentRelativeRectToViewportRelativeRect:gse,getDocumentElement:Ja,getClippingRect:wse,getOffsetParent:jz,getElementRects:Ase,getClientRects:vse,getDimensions:Ese,getScale:dd,isElement:ga,isRTL:_se};function $z(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Rse(t,e){let r=null,n;const i=Ja(t);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=c;if(o||e(),!p||!g)return;const y=Ev(f),b=Ev(i.clientWidth-(d+p)),x=Ev(i.clientHeight-(f+g)),w=Ev(d),T={rootMargin:-y+"px "+-b+"px "+-x+"px "+-w+"px",threshold:ui(0,ul(1,l))||1};let O=!0;function _(P){const R=P[0].intersectionRatio;if(R!==l){if(!O)return s();R?s(!1,R):n=setTimeout(()=>{s(!1,1e-7)},1e3)}R===1&&!$z(c,t.getBoundingClientRect())&&s(),O=!1}try{r=new IntersectionObserver(_,{...T,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,T)}r.observe(t)}return s(!0),a}function HP(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=VP(t),d=i||a?[...c?wp(c):[],...wp(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const f=c&&o?Rse(c,r):null;let p=-1,g=null;s&&(g=new ResizeObserver(w=>{let[E]=w;E&&E.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),r()}),c&&!l&&g.observe(c),g.observe(e));let y,b=l?Dc(t):null;l&&x();function x(){const w=Dc(t);b&&!$z(b,w)&&r(),b=w,y=requestAnimationFrame(x)}return r(),()=>{var w;d.forEach(E=>{i&&E.removeEventListener("scroll",r),a&&E.removeEventListener("resize",r)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const Cse=lse,Pse=cse,Dse=ase,Lse=dse,Ise=sse,ej=ise,Mse=use,Nse=(t,e,r)=>{const n=new Map,i={platform:Ose,...r},a={...i.platform,_c:n};return nse(t,e,{...i,platform:a})};var my=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Vy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Vy(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Vy(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Fz(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tj(t,e){const r=Fz(t);return Math.round(e*r)/r}function SE(t){const e=A.useRef(t);return my(()=>{e.current=t}),e}function KP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,f]=A.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=A.useState(n);Vy(p,n)||g(n);const[y,b]=A.useState(null),[x,w]=A.useState(null),E=A.useCallback(V=>{V!==P.current&&(P.current=V,b(V))},[]),T=A.useCallback(V=>{V!==R.current&&(R.current=V,w(V))},[]),O=a||y,_=s||x,P=A.useRef(null),R=A.useRef(null),D=A.useRef(d),I=l!=null,M=SE(l),N=SE(i),k=SE(c),F=A.useCallback(()=>{if(!P.current||!R.current)return;const V={placement:e,strategy:r,middleware:p};N.current&&(V.platform=N.current),Nse(P.current,R.current,V).then(q=>{const G={...q,isPositioned:k.current!==!1};U.current&&!Vy(D.current,G)&&(D.current=G,ao.flushSync(()=>{f(G)}))})},[p,e,r,N,k]);my(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[c]);const U=A.useRef(!1);my(()=>(U.current=!0,()=>{U.current=!1}),[]),my(()=>{if(O&&(P.current=O),_&&(R.current=_),O&&_){if(M.current)return M.current(O,_,F);F()}},[O,_,F,M,I]);const z=A.useMemo(()=>({reference:P,floating:R,setReference:E,setFloating:T}),[E,T]),j=A.useMemo(()=>({reference:O,floating:_}),[O,_]),H=A.useMemo(()=>{const V={position:r,left:0,top:0};if(!j.floating)return V;const q=tj(j.floating,d.x),G=tj(j.floating,d.y);return o?{...V,transform:"translate("+q+"px, "+G+"px)",...Fz(j.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:G}},[r,o,j.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:F,refs:z,elements:j,floatingStyles:H}),[d,F,z,j,H])}const kse=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?ej({element:n.current,padding:i}).fn(r):{}:n?ej({element:n,padding:i}).fn(r):{}}}},WP=(t,e)=>({...Cse(t),options:[t,e]}),YP=(t,e)=>({...Pse(t),options:[t,e]}),XP=(t,e)=>({...Mse(t),options:[t,e]}),QP=(t,e)=>({...Dse(t),options:[t,e]}),ZP=(t,e)=>({...Lse(t),options:[t,e]}),JP=(t,e)=>({...Ise(t),options:[t,e]}),eD=(t,e)=>({...kse(t),options:[t,e]});var jse="Arrow",Bz=A.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return v.jsx(hf.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});Bz.displayName=jse;var $se=Bz;function Fse(t){const[e,r]=A.useState(void 0);return Pc(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var tD="Popper",[Uz,Gz]=Az(tD),[Bse,zz]=Uz(tD),Vz=t=>{const{__scopePopper:e,children:r}=t,[n,i]=A.useState(null);return v.jsx(Bse,{scope:e,anchor:n,onAnchorChange:i,children:r})};Vz.displayName=tD;var qz="PopperAnchor",Hz=A.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=zz(qz,r),s=A.useRef(null),o=tu(e,s);return A.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:v.jsx(hf.div,{...i,ref:o})});Hz.displayName=qz;var rD="PopperContent",[Use,Gse]=Uz(rD),Kz=A.forwardRef((t,e)=>{var ve,Se,me,Ee,Ce,ce;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:y,...b}=t,x=zz(rD,r),[w,E]=A.useState(null),T=tu(e,ke=>E(ke)),[O,_]=A.useState(null),P=Fse(O),R=(P==null?void 0:P.width)??0,D=(P==null?void 0:P.height)??0,I=n+(a!=="center"?"-"+a:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],k=N.length>0,F={padding:M,boundary:N.filter(Vse),altBoundary:k},{refs:U,floatingStyles:z,placement:j,isPositioned:H,middlewareData:V}=KP({strategy:"fixed",placement:I,whileElementsMounted:(...ke)=>HP(...ke,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[WP({mainAxis:i+D,alignmentAxis:s}),l&&YP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?XP():void 0,...F}),l&&QP({...F}),ZP({...F,apply:({elements:ke,rects:Ue,availableWidth:ut,availableHeight:Ie})=>{const{width:nt,height:Z}=Ue.reference,ae=ke.floating.style;ae.setProperty("--radix-popper-available-width",`${ut}px`),ae.setProperty("--radix-popper-available-height",`${Ie}px`),ae.setProperty("--radix-popper-anchor-width",`${nt}px`),ae.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),O&&eD({element:O,padding:o}),qse({arrowWidth:R,arrowHeight:D}),p&&JP({strategy:"referenceHidden",...F})]}),[q,G]=Xz(j),Y=Fb(y);Pc(()=>{H&&(Y==null||Y())},[H,Y]);const X=(ve=V.arrow)==null?void 0:ve.x,te=(Se=V.arrow)==null?void 0:Se.y,ee=((me=V.arrow)==null?void 0:me.centerOffset)!==0,[ue,he]=A.useState();return Pc(()=>{w&&he(window.getComputedStyle(w).zIndex)},[w]),v.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:H?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Ee=V.transformOrigin)==null?void 0:Ee.x,(Ce=V.transformOrigin)==null?void 0:Ce.y].join(" "),...((ce=V.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(Use,{scope:r,placedSide:q,onArrowChange:_,arrowX:X,arrowY:te,shouldHideArrow:ee,children:v.jsx(hf.div,{"data-side":q,"data-align":G,...b,ref:T,style:{...b.style,animation:H?void 0:"none"}})})})});Kz.displayName=rD;var Wz="PopperArrow",zse={top:"bottom",right:"left",bottom:"top",left:"right"},Yz=A.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=Gse(Wz,n),s=zse[a.placedSide];return v.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:v.jsx($se,{...i,ref:r,style:{...i.style,display:"block"}})})});Yz.displayName=Wz;function Vse(t){return t!==null}var qse=t=>({name:"transformOrigin",options:t,fn(e){var x,w,E;const{placement:r,rects:n,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=Xz(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=i.arrow)==null?void 0:w.x)??0)+o/2,g=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let y="",b="";return c==="bottom"?(y=s?f:`${p}px`,b=`${-l}px`):c==="top"?(y=s?f:`${p}px`,b=`${n.floating.height+l}px`):c==="right"?(y=`${-l}px`,b=s?f:`${g}px`):c==="left"&&(y=`${n.floating.width+l}px`,b=s?f:`${g}px`),{data:{x:y,y:b}}}});function Xz(t){const[e,r="center"]=t.split("-");return[e,r]}var Hse=Vz,Kse=Hz,Wse=Kz,Yse=Yz;function Xse(t,e){return A.useReducer((r,n)=>e[r][n]??r,t)}var Qz=t=>{const{present:e,children:r}=t,n=Qse(e),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),a=tu(n.ref,Zse(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:a}):null};Qz.displayName="Presence";function Qse(t){const[e,r]=A.useState(),n=A.useRef(null),i=A.useRef(t),a=A.useRef("none"),s=t?"mounted":"unmounted",[o,l]=Xse(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=Tv(n.current);a.current=o==="mounted"?c:"none"},[o]),Pc(()=>{const c=n.current,d=i.current;if(d!==t){const p=a.current,g=Tv(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Pc(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const b=Tv(n.current).includes(g.animationName);if(g.target===e&&b&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(a.current=Tv(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Tv(t){return(t==null?void 0:t.animationName)||"none"}function Zse(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Jse=Ki[" useInsertionEffect ".trim().toString()]||Pc;function eoe({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,s]=toe({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const d=A.useRef(t!==void 0);A.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const c=A.useCallback(d=>{var f;if(o){const p=roe(d)?d(t):d;p!==t&&((f=s.current)==null||f.call(s,p))}else a(d)},[o,t,a,s]);return[l,c]}function toe({defaultProp:t,onChange:e}){const[r,n]=A.useState(t),i=A.useRef(r),a=A.useRef(e);return Jse(()=>{a.current=e},[e]),A.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function roe(t){return typeof t=="function"}function rj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function noe(...t){return e=>{let r=!1;const n=t.map(i=>{const a=rj(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():rj(t[i],null)}}}}function ioe(t){const e=aoe(t),r=A.forwardRef((n,i)=>{const{children:a,...s}=n,o=A.Children.toArray(a),l=o.find(ooe);if(l){const c=l.props.children,d=o.map(f=>f===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:f);return v.jsx(e,{...s,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,d):null})}return v.jsx(e,{...s,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function aoe(t){const e=A.forwardRef((r,n)=>{const{children:i,...a}=r;if(A.isValidElement(i)){const s=coe(i),o=loe(a,i.props);return i.type!==A.Fragment&&(o.ref=n?noe(n,s):s),A.cloneElement(i,o)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var soe=Symbol("radix.slottable");function ooe(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===soe}function loe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const l=a(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function coe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var uoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],doe=uoe.reduce((t,e)=>{const r=ioe(`Primitive.${e}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),foe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hoe="VisuallyHidden",Zz=A.forwardRef((t,e)=>v.jsx(doe.span,{...t,ref:e,style:{...foe,...t.style}}));Zz.displayName=hoe;var poe=Zz,[zb,d4e]=Az("Tooltip",[Gz]),Vb=Gz(),Jz="TooltipProvider",moe=700,GO="tooltip.open",[goe,nD]=zb(Jz),eV=t=>{const{__scopeTooltip:e,delayDuration:r=moe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,s=A.useRef(!0),o=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),v.jsx(goe,{scope:e,isOpenDelayedRef:s,delayDuration:r,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:A.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:a})};eV.displayName=Jz;var Ep="Tooltip",[voe,qb]=zb(Ep),tV=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:s,delayDuration:o}=t,l=nD(Ep,t.__scopeTooltip),c=Vb(e),[d,f]=A.useState(null),p=Wae(),g=A.useRef(0),y=s??l.disableHoverableContent,b=o??l.delayDuration,x=A.useRef(!1),[w,E]=eoe({prop:n,defaultProp:i??!1,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(GO))):l.onClose(),a==null||a(R)},caller:Ep}),T=A.useMemo(()=>w?x.current?"delayed-open":"instant-open":"closed",[w]),O=A.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,E(!0)},[E]),_=A.useCallback(()=>{window.clearTimeout(g.current),g.current=0,E(!1)},[E]),P=A.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,E(!0),g.current=0},b)},[b,E]);return A.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),v.jsx(Hse,{...c,children:v.jsx(voe,{scope:e,contentId:p,open:w,stateAttribute:T,trigger:d,onTriggerChange:f,onTriggerEnter:A.useCallback(()=>{l.isOpenDelayedRef.current?P():O()},[l.isOpenDelayedRef,P,O]),onTriggerLeave:A.useCallback(()=>{y?_():(window.clearTimeout(g.current),g.current=0)},[_,y]),onOpen:O,onClose:_,disableHoverableContent:y,children:r})})};tV.displayName=Ep;var zO="TooltipTrigger",rV=A.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=qb(zO,r),a=nD(zO,r),s=Vb(r),o=A.useRef(null),l=tu(e,o,i.onTriggerChange),c=A.useRef(!1),d=A.useRef(!1),f=A.useCallback(()=>c.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),v.jsx(Kse,{asChild:!0,...s,children:v.jsx(hf.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:ks(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ks(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ks(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ks(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ks(t.onBlur,i.onClose),onClick:ks(t.onClick,i.onClose)})})});rV.displayName=zO;var yoe="TooltipPortal",[f4e,boe]=zb(yoe,{forceMount:void 0}),_d="TooltipContent",nV=A.forwardRef((t,e)=>{const r=boe(_d,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,s=qb(_d,t.__scopeTooltip);return v.jsx(Qz,{present:n||s.open,children:s.disableHoverableContent?v.jsx(iV,{side:i,...a,ref:e}):v.jsx(xoe,{side:i,...a,ref:e})})}),xoe=A.forwardRef((t,e)=>{const r=qb(_d,t.__scopeTooltip),n=nD(_d,t.__scopeTooltip),i=A.useRef(null),a=tu(e,i),[s,o]=A.useState(null),{trigger:l,onClose:c}=r,d=i.current,{onPointerInTransitChange:f}=n,p=A.useCallback(()=>{o(null),f(!1)},[f]),g=A.useCallback((y,b)=>{const x=y.currentTarget,w={x:y.clientX,y:y.clientY},E=Aoe(w,x.getBoundingClientRect()),T=_oe(w,E),O=Ooe(b.getBoundingClientRect()),_=Coe([...T,...O]);o(_),f(!0)},[f]);return A.useEffect(()=>()=>p(),[p]),A.useEffect(()=>{if(l&&d){const y=x=>g(x,d),b=x=>g(x,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",b),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",b)}}},[l,d,g,p]),A.useEffect(()=>{if(s){const y=b=>{const x=b.target,w={x:b.clientX,y:b.clientY},E=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),T=!Roe(w,s);E?p():T&&(p(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,s,c,p]),v.jsx(iV,{...t,ref:a})}),[Soe,woe]=zb(Ep,{isInside:!1}),Eoe=Lae("TooltipContent"),iV=A.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=t,l=qb(_d,r),c=Vb(r),{onClose:d}=l;return A.useEffect(()=>(document.addEventListener(GO,d),()=>document.removeEventListener(GO,d)),[d]),A.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),v.jsx(Rz,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:v.jsxs(Wse,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(Eoe,{children:n}),v.jsx(Soe,{scope:r,isInside:!0,children:v.jsx(poe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});nV.displayName=_d;var aV="TooltipArrow",Toe=A.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Vb(r);return woe(aV,r).isInside?null:v.jsx(Yse,{...i,...n,ref:e})});Toe.displayName=aV;function Aoe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _oe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Ooe(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Roe(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a],l=e[s],c=o.x,d=o.y,f=l.x,p=l.y;d>n!=p>n&&r<(f-c)*(n-d)/(p-d)+c&&(i=!i)}return i}function Coe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Poe(e)}function Poe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Doe=eV,Loe=tV,Ioe=rV,sV=nV;const oV=Doe,lV=Loe,cV=Ioe,iD=A.forwardRef(({className:t,sideOffset:e=4,...r},n)=>v.jsx(sV,{ref:n,sideOffset:e,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));iD.displayName=sV.displayName;const Moe="sidebar_state",Noe=60*60*24*7,koe="16rem",joe="18rem",$oe="3rem",Foe="b",uV=A.createContext(null);function ya(){const t=A.useContext(uV);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const es=A.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:i,children:a,...s},o)=>{const l=sne(),[c,d]=A.useState(!1),[f,p]=A.useState(t),g=e??f,y=A.useCallback(E=>{const T=typeof E=="function"?E(g):E;r?r(T):p(T),document.cookie=`${Moe}=${T}; path=/; max-age=${Noe}`},[r,g]),b=A.useCallback(()=>l?d(E=>!E):y(E=>!E),[l,y,d]);A.useEffect(()=>{const E=T=>{T.key===Foe&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),b())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[b]);const x=g?"expanded":"collapsed",w=A.useMemo(()=>({state:x,open:g,setOpen:y,isMobile:l,openMobile:c,setOpenMobile:d,toggleSidebar:b}),[x,g,y,l,c,d,b]);return v.jsx(uV.Provider,{value:w,children:v.jsx(oV,{delayDuration:0,children:v.jsx("div",{style:{"--sidebar-width":koe,"--sidebar-width-icon":$oe,...i},className:Le("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:o,...s,children:a})})})});es.displayName="SidebarProvider";const dV=A.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:i,...a},s)=>{const{isMobile:o,state:l,openMobile:c,setOpenMobile:d}=ya();return r==="none"?v.jsx("div",{className:Le("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:s,...a,children:i}):o?v.jsx(Tae,{open:c,onOpenChange:d,...a,children:v.jsx(Ez,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":joe},side:t,children:v.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):v.jsxs("div",{ref:s,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":e,"data-side":t,children:[v.jsx("div",{className:Le("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),v.jsx("div",{className:Le("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:v.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});dV.displayName="Sidebar";const ts=A.forwardRef(({className:t,onClick:e,...r},n)=>{const{toggleSidebar:i}=ya();return v.jsxs(dt,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Le("h-7 w-7",t),onClick:a=>{e==null||e(a),i()},...r,children:[v.jsx(ore,{}),v.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});ts.displayName="SidebarTrigger";const Boe=A.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:n}=ya();return v.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Le("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});Boe.displayName="SidebarRail";const rs=A.forwardRef(({className:t,...e},r)=>v.jsx("main",{ref:r,className:Le("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));rs.displayName="SidebarInset";const Uoe=A.forwardRef(({className:t,...e},r)=>v.jsx(jr,{ref:r,"data-sidebar":"input",className:Le("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));Uoe.displayName="SidebarInput";const fV=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,"data-sidebar":"header",className:Le("flex flex-col gap-2 p-2",t),...e}));fV.displayName="SidebarHeader";const hV=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,"data-sidebar":"footer",className:Le("flex flex-col gap-2 p-2",t),...e}));hV.displayName="SidebarFooter";const Goe=A.forwardRef(({className:t,...e},r)=>v.jsx(zG,{ref:r,"data-sidebar":"separator",className:Le("mx-2 w-auto bg-sidebar-border",t),...e}));Goe.displayName="SidebarSeparator";const pV=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,"data-sidebar":"content",className:Le("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));pV.displayName="SidebarContent";const Hb=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,"data-sidebar":"group",className:Le("relative flex w-full min-w-0 flex-col p-2",t),...e}));Hb.displayName="SidebarGroup";const aD=A.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?Jc:"div";return v.jsx(i,{ref:n,"data-sidebar":"group-label",className:Le("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});aD.displayName="SidebarGroupLabel";const zoe=A.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?Jc:"button";return v.jsx(i,{ref:n,"data-sidebar":"group-action",className:Le("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});zoe.displayName="SidebarGroupAction";const mV=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,"data-sidebar":"group-content",className:Le("w-full text-sm",t),...e}));mV.displayName="SidebarGroupContent";const jm=A.forwardRef(({className:t,...e},r)=>v.jsx("ul",{ref:r,"data-sidebar":"menu",className:Le("flex w-full min-w-0 flex-col gap-1",t),...e}));jm.displayName="SidebarMenu";const Od=A.forwardRef(({className:t,...e},r)=>v.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Le("group/menu-item relative",t),...e}));Od.displayName="SidebarMenuItem";const Voe=Dm("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Kb=A.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:i,className:a,...s},o)=>{const l=t?Jc:"button",{isMobile:c,state:d}=ya(),f=v.jsx(l,{ref:o,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:Le(Voe({variant:r,size:n}),a),...s});return i?(typeof i=="string"&&(i={children:i}),v.jsxs(lV,{children:[v.jsx(cV,{asChild:!0,children:f}),v.jsx(iD,{side:"right",align:"center",hidden:d!=="collapsed"||c,...i})]})):f});Kb.displayName="SidebarMenuButton";const gV=A.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...n},i)=>{const a=e?Jc:"button";return v.jsx(a,{ref:i,"data-sidebar":"menu-action",className:Le("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});gV.displayName="SidebarMenuAction";const qoe=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Le("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));qoe.displayName="SidebarMenuBadge";const Hoe=A.forwardRef(({className:t,showIcon:e=!1,...r},n)=>{const i=A.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return v.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Le("flex h-8 items-center gap-2 rounded-md px-2",t),...r,children:[e&&v.jsx(Vk,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),v.jsx(Vk,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});Hoe.displayName="SidebarMenuSkeleton";const vV=A.forwardRef(({className:t,...e},r)=>v.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Le("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));vV.displayName="SidebarMenuSub";const yV=A.forwardRef(({...t},e)=>v.jsx("li",{ref:e,...t}));yV.displayName="SidebarMenuSubItem";const bV=A.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:n,...i},a)=>{const s=t?Jc:"a";return v.jsx(s,{ref:a,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:Le("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});bV.displayName="SidebarMenuSubButton";/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mr(){return mr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mr.apply(this,arguments)}var kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kr||(kr={}));const nj="popstate";function Koe(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return Tp("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Lc(i)}return Yoe(e,r,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Woe(){return Math.random().toString(36).substr(2,8)}function ij(t,e){return{usr:t.state,key:t.key,idx:e}}function Tp(t,e,r,n){return r===void 0&&(r=null),mr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bl(e):e,{state:r,key:e&&e.key||n||Woe()})}function Lc(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Yoe(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=kr.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(mr({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=kr.Pop;let x=d(),w=x==null?null:x-c;c=x,l&&l({action:o,location:b.location,delta:w})}function p(x,w){o=kr.Push;let E=Tp(b.location,x,w);c=d()+1;let T=ij(E,c),O=b.createHref(E);try{s.pushState(T,"",O)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(O)}a&&l&&l({action:o,location:b.location,delta:1})}function g(x,w){o=kr.Replace;let E=Tp(b.location,x,w);c=d();let T=ij(E,c),O=b.createHref(E);s.replaceState(T,"",O),a&&l&&l({action:o,location:b.location,delta:0})}function y(x){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof x=="string"?x:Lc(x);return E=E.replace(/ $/,"%20"),xt(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let b={get action(){return o},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(nj,f),l=x,()=>{i.removeEventListener(nj,f),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let w=y(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(x){return s.go(x)}};return b}var Kt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kt||(Kt={}));const Xoe=new Set(["lazy","caseSensitive","path","id","index","children"]);function Qoe(t){return t.index===!0}function qy(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,a)=>{let s=[...r,String(a)],o=typeof i.id=="string"?i.id:s.join("-");if(xt(i.index!==!0||!i.children,"Cannot specify children on an index route"),xt(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),Qoe(i)){let l=mr({},i,e(i),{id:o});return n[o]=l,l}else{let l=mr({},i,e(i),{id:o,children:void 0});return n[o]=l,i.children&&(l.children=qy(i.children,e,s,n)),l}})}function pc(t,e,r){return r===void 0&&(r="/"),gy(t,e,r,!1)}function gy(t,e,r,n){let i=typeof e=="string"?bl(e):e,a=Qs(i.pathname||"/",r);if(a==null)return null;let s=xV(t);Joe(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=ule(a);o=lle(s[l],c,n)}return o}function Zoe(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function xV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Gs([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xV(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:sle(c,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of SV(a.path))i(a,s,l)}),e}function SV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=SV(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Joe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ole(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ele=/^:[\w-]+$/,tle=3,rle=2,nle=1,ile=10,ale=-2,aj=t=>t==="*";function sle(t,e){let r=t.split("/"),n=r.length;return r.some(aj)&&(n+=ale),e&&(n+=rle),r.filter(i=>!aj(i)).reduce((i,a)=>i+(ele.test(a)?tle:a===""?nle:ile),n)}function ole(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function lle(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=Hy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Hy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Gs([a,f.pathname]),pathnameBase:hle(Gs([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Gs([a,f.pathnameBase]))}return s}function Hy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=cle(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let b=o[f]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[f];return g&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function cle(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Rd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ule(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function dle(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?bl(t):t;return{pathname:r?r.startsWith("/")?r:fle(r,e):e,search:ple(n),hash:mle(i)}}function fle(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function wE(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wV(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function sD(t,e){let r=wV(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oD(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=bl(t):(i=mr({},t),xt(!i.pathname||!i.pathname.includes("?"),wE("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),wE("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),wE("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=dle(i,o),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Gs=t=>t.join("/").replace(/\/\/+/g,"/"),hle=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ple=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mle=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ky{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Ap(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EV=["post","put","patch","delete"],gle=new Set(EV),vle=["get",...EV],yle=new Set(vle),ble=new Set([301,302,303,307,308]),xle=new Set([307,308]),EE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sle={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Eh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},lD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wle=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),TV="remix-router-transitions";function Ele(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;xt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let J=t.detectErrorBoundary;i=se=>({hasErrorBoundary:J(se)})}else i=wle;let a={},s=qy(t.routes,i,void 0,a),o,l=t.basename||"/",c=t.dataStrategy||Ole,d=t.patchRoutesOnNavigation,f=mr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,y=null,b=null,x=null,w=t.hydrationData!=null,E=pc(s,t.history.location,l),T=!1,O=null;if(E==null&&!d){let J=qn(404,{pathname:t.history.location.pathname}),{matches:se,route:ge}=gj(s);E=se,O={[ge.id]:J}}E&&!t.hydrationData&&Il(E,s,t.history.location.pathname).active&&(E=null);let _;if(E)if(E.some(J=>J.route.lazy))_=!1;else if(!E.some(J=>J.route.loader))_=!0;else if(f.v7_partialHydration){let J=t.hydrationData?t.hydrationData.loaderData:null,se=t.hydrationData?t.hydrationData.errors:null;if(se){let ge=E.findIndex(Oe=>se[Oe.route.id]!==void 0);_=E.slice(0,ge+1).every(Oe=>!qO(Oe.route,J,se))}else _=E.every(ge=>!qO(ge.route,J,se))}else _=t.hydrationData!=null;else if(_=!1,E=[],f.v7_partialHydration){let J=Il(null,s,t.history.location.pathname);J.active&&J.matches&&(T=!0,E=J.matches)}let P,R={historyAction:t.history.action,location:t.history.location,matches:E,initialized:_,navigation:EE,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},D=kr.Pop,I=!1,M,N=!1,k=new Map,F=null,U=!1,z=!1,j=[],H=new Set,V=new Map,q=0,G=-1,Y=new Map,X=new Set,te=new Map,ee=new Map,ue=new Set,he=new Map,ve=new Map,Se;function me(){if(p=t.history.listen(J=>{let{action:se,location:ge,delta:Oe}=J;if(Se){Se(),Se=void 0;return}Rd(ve.size===0||Oe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $e=lg({currentLocation:R.location,nextLocation:ge,historyAction:se});if($e&&Oe!=null){let Qe=new Promise(et=>{Se=et});t.history.go(Oe*-1),uu($e,{state:"blocked",location:ge,proceed(){uu($e,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Qe.then(()=>t.history.go(Oe))},reset(){let et=new Map(R.blockers);et.set($e,Eh),ce({blockers:et})}});return}return Ie(se,ge)}),r){Ule(e,k);let J=()=>Gle(e,k);e.addEventListener("pagehide",J),F=()=>e.removeEventListener("pagehide",J)}return R.initialized||Ie(kr.Pop,R.location,{initialHydration:!0}),P}function Ee(){p&&p(),F&&F(),g.clear(),M&&M.abort(),R.fetchers.forEach((J,se)=>bn(se)),R.blockers.forEach((J,se)=>og(se))}function Ce(J){return g.add(J),()=>g.delete(J)}function ce(J,se){se===void 0&&(se={}),R=mr({},R,J);let ge=[],Oe=[];f.v7_fetcherPersist&&R.fetchers.forEach(($e,Qe)=>{$e.state==="idle"&&(ue.has(Qe)?Oe.push(Qe):ge.push(Qe))}),ue.forEach($e=>{!R.fetchers.has($e)&&!V.has($e)&&Oe.push($e)}),[...g].forEach($e=>$e(R,{deletedFetchers:Oe,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),f.v7_fetcherPersist?(ge.forEach($e=>R.fetchers.delete($e)),Oe.forEach($e=>bn($e))):Oe.forEach($e=>ue.delete($e))}function ke(J,se,ge){var Oe,$e;let{flushSync:Qe}=ge===void 0?{}:ge,et=R.actionData!=null&&R.navigation.formMethod!=null&&la(R.navigation.formMethod)&&R.navigation.state==="loading"&&((Oe=J.state)==null?void 0:Oe._isRedirect)!==!0,Me;se.actionData?Object.keys(se.actionData).length>0?Me=se.actionData:Me=null:et?Me=R.actionData:Me=null;let je=se.loaderData?pj(R.loaderData,se.loaderData,se.matches||[],se.errors):R.loaderData,Be=R.blockers;Be.size>0&&(Be=new Map(Be),Be.forEach((wt,Dr)=>Be.set(Dr,Eh)));let Ye=I===!0||R.navigation.formMethod!=null&&la(R.navigation.formMethod)&&(($e=J.state)==null?void 0:$e._isRedirect)!==!0;o&&(s=o,o=void 0),U||D===kr.Pop||(D===kr.Push?t.history.push(J,J.state):D===kr.Replace&&t.history.replace(J,J.state));let gt;if(D===kr.Pop){let wt=k.get(R.location.pathname);wt&&wt.has(J.pathname)?gt={currentLocation:R.location,nextLocation:J}:k.has(J.pathname)&&(gt={currentLocation:J,nextLocation:R.location})}else if(N){let wt=k.get(R.location.pathname);wt?wt.add(J.pathname):(wt=new Set([J.pathname]),k.set(R.location.pathname,wt)),gt={currentLocation:R.location,nextLocation:J}}ce(mr({},se,{actionData:Me,loaderData:je,historyAction:D,location:J,initialized:!0,navigation:EE,revalidation:"idle",restoreScrollPosition:cg(J,se.matches||R.matches),preventScrollReset:Ye,blockers:Be}),{viewTransitionOpts:gt,flushSync:Qe===!0}),D=kr.Pop,I=!1,N=!1,U=!1,z=!1,j=[]}async function Ue(J,se){if(typeof J=="number"){t.history.go(J);return}let ge=VO(R.location,R.matches,l,f.v7_prependBasename,J,f.v7_relativeSplatPath,se==null?void 0:se.fromRouteId,se==null?void 0:se.relative),{path:Oe,submission:$e,error:Qe}=sj(f.v7_normalizeFormMethod,!1,ge,se),et=R.location,Me=Tp(R.location,Oe,se&&se.state);Me=mr({},Me,t.history.encodeLocation(Me));let je=se&&se.replace!=null?se.replace:void 0,Be=kr.Push;je===!0?Be=kr.Replace:je===!1||$e!=null&&la($e.formMethod)&&$e.formAction===R.location.pathname+R.location.search&&(Be=kr.Replace);let Ye=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,gt=(se&&se.flushSync)===!0,wt=lg({currentLocation:et,nextLocation:Me,historyAction:Be});if(wt){uu(wt,{state:"blocked",location:Me,proceed(){uu(wt,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),Ue(J,se)},reset(){let Dr=new Map(R.blockers);Dr.set(wt,Eh),ce({blockers:Dr})}});return}return await Ie(Be,Me,{submission:$e,pendingError:Qe,preventScrollReset:Ye,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:gt})}function ut(){if(Xt(),ce({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){Ie(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}Ie(D||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:N===!0})}}async function Ie(J,se,ge){M&&M.abort(),M=null,D=J,U=(ge&&ge.startUninterruptedRevalidation)===!0,Ll(R.location,R.matches),I=(ge&&ge.preventScrollReset)===!0,N=(ge&&ge.enableViewTransition)===!0;let Oe=o||s,$e=ge&&ge.overrideNavigation,Qe=ge!=null&&ge.initialHydration&&R.matches&&R.matches.length>0&&!T?R.matches:pc(Oe,se,l),et=(ge&&ge.flushSync)===!0,Me=Il(Qe,Oe,se.pathname);if(Me.active&&Me.matches&&(Qe=Me.matches),!Qe){let{error:Mt,notFoundMatches:Tt,route:Bt}=vo(se.pathname);ke(se,{matches:Tt,loaderData:{},errors:{[Bt.id]:Mt}},{flushSync:et});return}if(R.initialized&&!z&&Ile(R.location,se)&&!(ge&&ge.submission&&la(ge.submission.formMethod))){ke(se,{matches:Qe},{flushSync:et});return}M=new AbortController;let je=Ku(t.history,se,M.signal,ge&&ge.submission),Be;if(ge&&ge.pendingError)Be=[mc(Qe).route.id,{type:Kt.error,error:ge.pendingError}];else if(ge&&ge.submission&&la(ge.submission.formMethod)){let Mt=await nt(je,se,ge.submission,Qe,Me.active,{replace:ge.replace,flushSync:et});if(Mt.shortCircuited)return;if(Mt.pendingActionResult){let[Tt,Bt]=Mt.pendingActionResult;if(li(Bt)&&Ap(Bt.error)&&Bt.error.status===404){M=null,ke(se,{matches:Mt.matches,loaderData:{},errors:{[Tt]:Bt.error}});return}}Qe=Mt.matches||Qe,Be=Mt.pendingActionResult,$e=TE(se,ge.submission),et=!1,Me.active=!1,je=Ku(t.history,je.url,je.signal)}let{shortCircuited:Ye,matches:gt,loaderData:wt,errors:Dr}=await Z(je,se,Qe,Me.active,$e,ge&&ge.submission,ge&&ge.fetcherSubmission,ge&&ge.replace,ge&&ge.initialHydration===!0,et,Be);Ye||(M=null,ke(se,mr({matches:gt||Qe},mj(Be),{loaderData:wt,errors:Dr})))}async function nt(J,se,ge,Oe,$e,Qe){Qe===void 0&&(Qe={}),Xt();let et=Fle(se,ge);if(ce({navigation:et},{flushSync:Qe.flushSync===!0}),$e){let Be=await Ml(Oe,se.pathname,J.signal);if(Be.type==="aborted")return{shortCircuited:!0};if(Be.type==="error"){let Ye=mc(Be.partialMatches).route.id;return{matches:Be.partialMatches,pendingActionResult:[Ye,{type:Kt.error,error:Be.error}]}}else if(Be.matches)Oe=Be.matches;else{let{notFoundMatches:Ye,error:gt,route:wt}=vo(se.pathname);return{matches:Ye,pendingActionResult:[wt.id,{type:Kt.error,error:gt}]}}}let Me,je=Wh(Oe,se);if(!je.route.action&&!je.route.lazy)Me={type:Kt.error,error:qn(405,{method:J.method,pathname:se.pathname,routeId:je.route.id})};else if(Me=(await tt("action",R,J,[je],Oe,null))[je.route.id],J.signal.aborted)return{shortCircuited:!0};if(vc(Me)){let Be;return Qe&&Qe.replace!=null?Be=Qe.replace:Be=dj(Me.response.headers.get("Location"),new URL(J.url),l)===R.location.pathname+R.location.search,await Ne(J,Me,!0,{submission:ge,replace:Be}),{shortCircuited:!0}}if(nl(Me))throw qn(400,{type:"defer-action"});if(li(Me)){let Be=mc(Oe,je.route.id);return(Qe&&Qe.replace)!==!0&&(D=kr.Push),{matches:Oe,pendingActionResult:[Be.route.id,Me]}}return{matches:Oe,pendingActionResult:[je.route.id,Me]}}async function Z(J,se,ge,Oe,$e,Qe,et,Me,je,Be,Ye){let gt=$e||TE(se,Qe),wt=Qe||et||yj(gt),Dr=!U&&(!f.v7_partialHydration||!je);if(Oe){if(Dr){let lr=ae(Ye);ce(mr({navigation:gt},lr!==void 0?{actionData:lr}:{}),{flushSync:Be})}let Ct=await Ml(ge,se.pathname,J.signal);if(Ct.type==="aborted")return{shortCircuited:!0};if(Ct.type==="error"){let lr=mc(Ct.partialMatches).route.id;return{matches:Ct.partialMatches,loaderData:{},errors:{[lr]:Ct.error}}}else if(Ct.matches)ge=Ct.matches;else{let{error:lr,notFoundMatches:ls,route:kl}=vo(se.pathname);return{matches:ls,loaderData:{},errors:{[kl.id]:lr}}}}let Mt=o||s,[Tt,Bt]=lj(t.history,R,ge,wt,se,f.v7_partialHydration&&je===!0,f.v7_skipActionErrorRevalidation,z,j,H,ue,te,X,Mt,l,Ye);if(yo(Ct=>!(ge&&ge.some(lr=>lr.route.id===Ct))||Tt&&Tt.some(lr=>lr.route.id===Ct)),G=++q,Tt.length===0&&Bt.length===0){let Ct=Pl();return ke(se,mr({matches:ge,loaderData:{},errors:Ye&&li(Ye[1])?{[Ye[0]]:Ye[1].error}:null},mj(Ye),Ct?{fetchers:new Map(R.fetchers)}:{}),{flushSync:Be}),{shortCircuited:!0}}if(Dr){let Ct={};if(!Oe){Ct.navigation=gt;let lr=ae(Ye);lr!==void 0&&(Ct.actionData=lr)}Bt.length>0&&(Ct.fetchers=ne(Bt)),ce(Ct,{flushSync:Be})}Bt.forEach(Ct=>{cn(Ct.key),Ct.controller&&V.set(Ct.key,Ct.controller)});let Jn=()=>Bt.forEach(Ct=>cn(Ct.key));M&&M.signal.addEventListener("abort",Jn);let{loaderResults:Xi,fetcherResults:xn}=await Ft(R,ge,Tt,Bt,J);if(J.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Jn),Bt.forEach(Ct=>V.delete(Ct.key));let qt=Av(Xi);if(qt)return await Ne(J,qt.result,!0,{replace:Me}),{shortCircuited:!0};if(qt=Av(xn),qt)return X.add(qt.key),await Ne(J,qt.result,!0,{replace:Me}),{shortCircuited:!0};let{loaderData:du,errors:bo}=hj(R,ge,Xi,Ye,Bt,xn,he);he.forEach((Ct,lr)=>{Ct.subscribe(ls=>{(ls||Ct.done)&&he.delete(lr)})}),f.v7_partialHydration&&je&&R.errors&&(bo=mr({},R.errors,bo));let On=Pl(),Qi=Yi(G),Fn=On||Qi||Bt.length>0;return mr({matches:ge,loaderData:du,errors:bo},Fn?{fetchers:new Map(R.fetchers)}:{})}function ae(J){if(J&&!li(J[1]))return{[J[0]]:J[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function ne(J){return J.forEach(se=>{let ge=R.fetchers.get(se.key),Oe=Th(void 0,ge?ge.data:void 0);R.fetchers.set(se.key,Oe)}),new Map(R.fetchers)}function Ae(J,se,ge,Oe){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");cn(J);let $e=(Oe&&Oe.flushSync)===!0,Qe=o||s,et=VO(R.location,R.matches,l,f.v7_prependBasename,ge,f.v7_relativeSplatPath,se,Oe==null?void 0:Oe.relative),Me=pc(Qe,et,l),je=Il(Me,Qe,et);if(je.active&&je.matches&&(Me=je.matches),!Me){yn(J,se,qn(404,{pathname:et}),{flushSync:$e});return}let{path:Be,submission:Ye,error:gt}=sj(f.v7_normalizeFormMethod,!0,et,Oe);if(gt){yn(J,se,gt,{flushSync:$e});return}let wt=Wh(Me,Be),Dr=(Oe&&Oe.preventScrollReset)===!0;if(Ye&&la(Ye.formMethod)){_e(J,se,Be,wt,Me,je.active,$e,Dr,Ye);return}te.set(J,{routeId:se,path:Be}),Pe(J,se,Be,wt,Me,je.active,$e,Dr,Ye)}async function _e(J,se,ge,Oe,$e,Qe,et,Me,je){Xt(),te.delete(J);function Be(cr){if(!cr.route.action&&!cr.route.lazy){let Zi=qn(405,{method:je.formMethod,pathname:ge,routeId:se});return yn(J,se,Zi,{flushSync:et}),!0}return!1}if(!Qe&&Be(Oe))return;let Ye=R.fetchers.get(J);pr(J,Ble(je,Ye),{flushSync:et});let gt=new AbortController,wt=Ku(t.history,ge,gt.signal,je);if(Qe){let cr=await Ml($e,new URL(wt.url).pathname,wt.signal);if(cr.type==="aborted")return;if(cr.type==="error"){yn(J,se,cr.error,{flushSync:et});return}else if(cr.matches){if($e=cr.matches,Oe=Wh($e,ge),Be(Oe))return}else{yn(J,se,qn(404,{pathname:ge}),{flushSync:et});return}}V.set(J,gt);let Dr=q,Tt=(await tt("action",R,wt,[Oe],$e,J))[Oe.route.id];if(wt.signal.aborted){V.get(J)===gt&&V.delete(J);return}if(f.v7_fetcherPersist&&ue.has(J)){if(vc(Tt)||li(Tt)){pr(J,Ho(void 0));return}}else{if(vc(Tt))if(V.delete(J),G>Dr){pr(J,Ho(void 0));return}else return X.add(J),pr(J,Th(je)),Ne(wt,Tt,!1,{fetcherSubmission:je,preventScrollReset:Me});if(li(Tt)){yn(J,se,Tt.error);return}}if(nl(Tt))throw qn(400,{type:"defer-action"});let Bt=R.navigation.location||R.location,Jn=Ku(t.history,Bt,gt.signal),Xi=o||s,xn=R.navigation.state!=="idle"?pc(Xi,R.navigation.location,l):R.matches;xt(xn,"Didn't find any matches after fetcher action");let qt=++q;Y.set(J,qt);let du=Th(je,Tt.data);R.fetchers.set(J,du);let[bo,On]=lj(t.history,R,xn,je,Bt,!1,f.v7_skipActionErrorRevalidation,z,j,H,ue,te,X,Xi,l,[Oe.route.id,Tt]);On.filter(cr=>cr.key!==J).forEach(cr=>{let Zi=cr.key,bi=R.fetchers.get(Zi),Bn=Th(void 0,bi?bi.data:void 0);R.fetchers.set(Zi,Bn),cn(Zi),cr.controller&&V.set(Zi,cr.controller)}),ce({fetchers:new Map(R.fetchers)});let Qi=()=>On.forEach(cr=>cn(cr.key));gt.signal.addEventListener("abort",Qi);let{loaderResults:Fn,fetcherResults:Ct}=await Ft(R,xn,bo,On,Jn);if(gt.signal.aborted)return;gt.signal.removeEventListener("abort",Qi),Y.delete(J),V.delete(J),On.forEach(cr=>V.delete(cr.key));let lr=Av(Fn);if(lr)return Ne(Jn,lr.result,!1,{preventScrollReset:Me});if(lr=Av(Ct),lr)return X.add(lr.key),Ne(Jn,lr.result,!1,{preventScrollReset:Me});let{loaderData:ls,errors:kl}=hj(R,xn,Fn,void 0,On,Ct,he);if(R.fetchers.has(J)){let cr=Ho(Tt.data);R.fetchers.set(J,cr)}Yi(qt),R.navigation.state==="loading"&&qt>G?(xt(D,"Expected pending action"),M&&M.abort(),ke(R.navigation.location,{matches:xn,loaderData:ls,errors:kl,fetchers:new Map(R.fetchers)})):(ce({errors:kl,loaderData:pj(R.loaderData,ls,xn,kl),fetchers:new Map(R.fetchers)}),z=!1)}async function Pe(J,se,ge,Oe,$e,Qe,et,Me,je){let Be=R.fetchers.get(J);pr(J,Th(je,Be?Be.data:void 0),{flushSync:et});let Ye=new AbortController,gt=Ku(t.history,ge,Ye.signal);if(Qe){let Tt=await Ml($e,new URL(gt.url).pathname,gt.signal);if(Tt.type==="aborted")return;if(Tt.type==="error"){yn(J,se,Tt.error,{flushSync:et});return}else if(Tt.matches)$e=Tt.matches,Oe=Wh($e,ge);else{yn(J,se,qn(404,{pathname:ge}),{flushSync:et});return}}V.set(J,Ye);let wt=q,Mt=(await tt("loader",R,gt,[Oe],$e,J))[Oe.route.id];if(nl(Mt)&&(Mt=await cD(Mt,gt.signal,!0)||Mt),V.get(J)===Ye&&V.delete(J),!gt.signal.aborted){if(ue.has(J)){pr(J,Ho(void 0));return}if(vc(Mt))if(G>wt){pr(J,Ho(void 0));return}else{X.add(J),await Ne(gt,Mt,!1,{preventScrollReset:Me});return}if(li(Mt)){yn(J,se,Mt.error);return}xt(!nl(Mt),"Unhandled fetcher deferred data"),pr(J,Ho(Mt.data))}}async function Ne(J,se,ge,Oe){let{submission:$e,fetcherSubmission:Qe,preventScrollReset:et,replace:Me}=Oe===void 0?{}:Oe;se.response.headers.has("X-Remix-Revalidate")&&(z=!0);let je=se.response.headers.get("Location");xt(je,"Expected a Location header on the redirect Response"),je=dj(je,new URL(J.url),l);let Be=Tp(R.location,je,{_isRedirect:!0});if(r){let Tt=!1;if(se.response.headers.has("X-Remix-Reload-Document"))Tt=!0;else if(lD.test(je)){const Bt=t.history.createURL(je);Tt=Bt.origin!==e.location.origin||Qs(Bt.pathname,l)==null}if(Tt){Me?e.location.replace(je):e.location.assign(je);return}}M=null;let Ye=Me===!0||se.response.headers.has("X-Remix-Replace")?kr.Replace:kr.Push,{formMethod:gt,formAction:wt,formEncType:Dr}=R.navigation;!$e&&!Qe&&gt&&wt&&Dr&&($e=yj(R.navigation));let Mt=$e||Qe;if(xle.has(se.response.status)&&Mt&&la(Mt.formMethod))await Ie(Ye,Be,{submission:mr({},Mt,{formAction:je}),preventScrollReset:et||I,enableViewTransition:ge?N:void 0});else{let Tt=TE(Be,$e);await Ie(Ye,Be,{overrideNavigation:Tt,fetcherSubmission:Qe,preventScrollReset:et||I,enableViewTransition:ge?N:void 0})}}async function tt(J,se,ge,Oe,$e,Qe){let et,Me={};try{et=await Rle(c,J,se,ge,Oe,$e,Qe,a,i)}catch(je){return Oe.forEach(Be=>{Me[Be.route.id]={type:Kt.error,error:je}}),Me}for(let[je,Be]of Object.entries(et))if(Mle(Be)){let Ye=Be.result;Me[je]={type:Kt.redirect,response:Dle(Ye,ge,je,$e,l,f.v7_relativeSplatPath)}}else Me[je]=await Ple(Be);return Me}async function Ft(J,se,ge,Oe,$e){let Qe=J.matches,et=tt("loader",J,$e,ge,se,null),Me=Promise.all(Oe.map(async Ye=>{if(Ye.matches&&Ye.match&&Ye.controller){let wt=(await tt("loader",J,Ku(t.history,Ye.path,Ye.controller.signal),[Ye.match],Ye.matches,Ye.key))[Ye.match.route.id];return{[Ye.key]:wt}}else return Promise.resolve({[Ye.key]:{type:Kt.error,error:qn(404,{pathname:Ye.path})}})})),je=await et,Be=(await Me).reduce((Ye,gt)=>Object.assign(Ye,gt),{});return await Promise.all([jle(se,je,$e.signal,Qe,J.loaderData),$le(se,Be,Oe)]),{loaderResults:je,fetcherResults:Be}}function Xt(){z=!0,j.push(...yo()),te.forEach((J,se)=>{V.has(se)&&H.add(se),cn(se)})}function pr(J,se,ge){ge===void 0&&(ge={}),R.fetchers.set(J,se),ce({fetchers:new Map(R.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function yn(J,se,ge,Oe){Oe===void 0&&(Oe={});let $e=mc(R.matches,se);bn(J),ce({errors:{[$e.route.id]:ge},fetchers:new Map(R.fetchers)},{flushSync:(Oe&&Oe.flushSync)===!0})}function yi(J){return ee.set(J,(ee.get(J)||0)+1),ue.has(J)&&ue.delete(J),R.fetchers.get(J)||Sle}function bn(J){let se=R.fetchers.get(J);V.has(J)&&!(se&&se.state==="loading"&&Y.has(J))&&cn(J),te.delete(J),Y.delete(J),X.delete(J),f.v7_fetcherPersist&&ue.delete(J),H.delete(J),R.fetchers.delete(J)}function Rf(J){let se=(ee.get(J)||0)-1;se<=0?(ee.delete(J),ue.add(J),f.v7_fetcherPersist||bn(J)):ee.set(J,se),ce({fetchers:new Map(R.fetchers)})}function cn(J){let se=V.get(J);se&&(se.abort(),V.delete(J))}function Xr(J){for(let se of J){let ge=yi(se),Oe=Ho(ge.data);R.fetchers.set(se,Oe)}}function Pl(){let J=[],se=!1;for(let ge of X){let Oe=R.fetchers.get(ge);xt(Oe,"Expected fetcher: "+ge),Oe.state==="loading"&&(X.delete(ge),J.push(ge),se=!0)}return Xr(J),se}function Yi(J){let se=[];for(let[ge,Oe]of Y)if(Oe<J){let $e=R.fetchers.get(ge);xt($e,"Expected fetcher: "+ge),$e.state==="loading"&&(cn(ge),Y.delete(ge),se.push(ge))}return Xr(se),se.length>0}function _n(J,se){let ge=R.blockers.get(J)||Eh;return ve.get(J)!==se&&ve.set(J,se),ge}function og(J){R.blockers.delete(J),ve.delete(J)}function uu(J,se){let ge=R.blockers.get(J)||Eh;xt(ge.state==="unblocked"&&se.state==="blocked"||ge.state==="blocked"&&se.state==="blocked"||ge.state==="blocked"&&se.state==="proceeding"||ge.state==="blocked"&&se.state==="unblocked"||ge.state==="proceeding"&&se.state==="unblocked","Invalid blocker state transition: "+ge.state+" -> "+se.state);let Oe=new Map(R.blockers);Oe.set(J,se),ce({blockers:Oe})}function lg(J){let{currentLocation:se,nextLocation:ge,historyAction:Oe}=J;if(ve.size===0)return;ve.size>1&&Rd(!1,"A router only supports one blocker at a time");let $e=Array.from(ve.entries()),[Qe,et]=$e[$e.length-1],Me=R.blockers.get(Qe);if(!(Me&&Me.state==="proceeding")&&et({currentLocation:se,nextLocation:ge,historyAction:Oe}))return Qe}function vo(J){let se=qn(404,{pathname:J}),ge=o||s,{matches:Oe,route:$e}=gj(ge);return yo(),{notFoundMatches:Oe,route:$e,error:se}}function yo(J){let se=[];return he.forEach((ge,Oe)=>{(!J||J(Oe))&&(ge.cancel(),se.push(Oe),he.delete(Oe))}),se}function os(J,se,ge){if(y=J,x=se,b=ge||null,!w&&R.navigation===EE){w=!0;let Oe=cg(R.location,R.matches);Oe!=null&&ce({restoreScrollPosition:Oe})}return()=>{y=null,x=null,b=null}}function Dl(J,se){return b&&b(J,se.map(Oe=>Zoe(Oe,R.loaderData)))||J.key}function Ll(J,se){if(y&&x){let ge=Dl(J,se);y[ge]=x()}}function cg(J,se){if(y){let ge=Dl(J,se),Oe=y[ge];if(typeof Oe=="number")return Oe}return null}function Il(J,se,ge){if(d)if(J){if(Object.keys(J[0].params).length>0)return{active:!0,matches:gy(se,ge,l,!0)}}else return{active:!0,matches:gy(se,ge,l,!0)||[]};return{active:!1,matches:null}}async function Ml(J,se,ge){if(!d)return{type:"success",matches:J};let Oe=J;for(;;){let $e=o==null,Qe=o||s,et=a;try{await d({signal:ge,path:se,matches:Oe,patch:(Be,Ye)=>{ge.aborted||uj(Be,Ye,Qe,et,i)}})}catch(Be){return{type:"error",error:Be,partialMatches:Oe}}finally{$e&&!ge.aborted&&(s=[...s])}if(ge.aborted)return{type:"aborted"};let Me=pc(Qe,se,l);if(Me)return{type:"success",matches:Me};let je=gy(Qe,se,l,!0);if(!je||Oe.length===je.length&&Oe.every((Be,Ye)=>Be.route.id===je[Ye].route.id))return{type:"success",matches:null};Oe=je}}function Cf(J){a={},o=qy(J,i,void 0,a)}function Nl(J,se){let ge=o==null;uj(J,se,o||s,a,i),ge&&(s=[...s],ce({}))}return P={get basename(){return l},get future(){return f},get state(){return R},get routes(){return s},get window(){return e},initialize:me,subscribe:Ce,enableScrollRestoration:os,navigate:Ue,fetch:Ae,revalidate:ut,createHref:J=>t.history.createHref(J),encodeLocation:J=>t.history.encodeLocation(J),getFetcher:yi,deleteFetcher:Rf,dispose:Ee,getBlocker:_n,deleteBlocker:og,patchRoutes:Nl,_internalFetchControllers:V,_internalActiveDeferreds:he,_internalSetRoutes:Cf},P}function Tle(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function VO(t,e,r,n,i,a,s,o){let l,c;if(s){l=[];for(let f of e)if(l.push(f),f.route.id===s){c=f;break}}else l=e,c=e[e.length-1];let d=oD(i||".",sD(l,a),Qs(t.pathname,r)||t.pathname,o==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c){let f=uD(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let p=new URLSearchParams(d.search),g=p.getAll("index");p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let y=p.toString();d.search=y?"?"+y:""}}return n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:Gs([r,d.pathname])),Lc(d)}function sj(t,e,r,n){if(!n||!Tle(n))return{path:r};if(n.formMethod&&!kle(n.formMethod))return{path:r,error:qn(405,{method:n.formMethod})};let i=()=>({path:r,error:qn(400,{type:"invalid-body"})}),a=n.formMethod||"get",s=t?a.toUpperCase():a.toLowerCase(),o=OV(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!la(s))return i();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,y)=>{let[b,x]=y;return""+g+b+"="+x+`
`},""):String(n.body);return{path:r,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!la(s))return i();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}xt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=HO(n.formData),c=n.formData;else if(n.body instanceof FormData)l=HO(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=fj(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=fj(l)}catch{return i()}let d={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(la(d.formMethod))return{path:r,submission:d};let f=bl(r);return e&&f.search&&uD(f.search)&&l.append("index",""),f.search="?"+l,{path:Lc(f),submission:d}}function oj(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(i=>i.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function lj(t,e,r,n,i,a,s,o,l,c,d,f,p,g,y,b){let x=b?li(b[1])?b[1].error:b[1].data:void 0,w=t.createURL(e.location),E=t.createURL(i),T=r;a&&e.errors?T=oj(r,Object.keys(e.errors)[0],!0):b&&li(b[1])&&(T=oj(r,b[0]));let O=b?b[1].statusCode:void 0,_=s&&O&&O>=400,P=T.filter((D,I)=>{let{route:M}=D;if(M.lazy)return!0;if(M.loader==null)return!1;if(a)return qO(M,e.loaderData,e.errors);if(Ale(e.loaderData,e.matches[I],D)||l.some(F=>F===D.route.id))return!0;let N=e.matches[I],k=D;return cj(D,mr({currentUrl:w,currentParams:N.params,nextUrl:E,nextParams:k.params},n,{actionResult:x,actionStatus:O,defaultShouldRevalidate:_?!1:o||w.pathname+w.search===E.pathname+E.search||w.search!==E.search||AV(N,k)}))}),R=[];return f.forEach((D,I)=>{if(a||!r.some(U=>U.route.id===D.routeId)||d.has(I))return;let M=pc(g,D.path,y);if(!M){R.push({key:I,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(I),k=Wh(M,D.path),F=!1;p.has(I)?F=!1:c.has(I)?(c.delete(I),F=!0):N&&N.state!=="idle"&&N.data===void 0?F=o:F=cj(k,mr({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:r[r.length-1].params},n,{actionResult:x,actionStatus:O,defaultShouldRevalidate:_?!1:o})),F&&R.push({key:I,routeId:D.routeId,path:D.path,matches:M,match:k,controller:new AbortController})}),[P,R]}function qO(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function Ale(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function AV(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function cj(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function uj(t,e,r,n,i){var a;let s;if(t){let c=n[t];xt(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),s=c.children}else s=r;let o=e.filter(c=>!s.some(d=>_V(c,d))),l=qy(o,i,[t||"_","patch",String(((a=s)==null?void 0:a.length)||"0")],n);s.push(...l)}function _V(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var i;return(i=e.children)==null?void 0:i.some(a=>_V(r,a))}):!1}async function _le(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];xt(i,"No route found in manifest");let a={};for(let s in n){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Rd(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!Xoe.has(s)&&(a[s]=n[s])}Object.assign(i,a),Object.assign(i,mr({},e(i),{lazy:void 0}))}async function Ole(t){let{matches:e}=t,r=e.filter(i=>i.shouldLoad);return(await Promise.all(r.map(i=>i.resolve()))).reduce((i,a,s)=>Object.assign(i,{[r[s].route.id]:a}),{})}async function Rle(t,e,r,n,i,a,s,o,l,c){let d=a.map(g=>g.route.lazy?_le(g.route,l,o):void 0),f=a.map((g,y)=>{let b=d[y],x=i.some(E=>E.route.id===g.route.id);return mr({},g,{shouldLoad:x,resolve:async E=>(E&&n.method==="GET"&&(g.route.lazy||g.route.loader)&&(x=!0),x?Cle(e,n,g,b,E,c):Promise.resolve({type:Kt.data,result:void 0}))})}),p=await t({matches:f,request:n,params:a[0].params,fetcherKey:s,context:c});try{await Promise.all(d)}catch{}return p}async function Cle(t,e,r,n,i,a){let s,o,l=c=>{let d,f=new Promise((y,b)=>d=b);o=()=>d(),e.signal.addEventListener("abort",o);let p=y=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):c({request:e,params:r.params,context:a},...y!==void 0?[y]:[]),g=(async()=>{try{return{type:"data",result:await(i?i(b=>p(b)):p())}}catch(y){return{type:"error",result:y}}})();return Promise.race([g,f])};try{let c=r.route[t];if(n)if(c){let d,[f]=await Promise.all([l(c).catch(p=>{d=p}),n]);if(d!==void 0)throw d;s=f}else if(await n,c=r.route[t],c)s=await l(c);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw qn(405,{method:e.method,pathname:f,routeId:r.route.id})}else return{type:Kt.data,result:void 0};else if(c)s=await l(c);else{let d=new URL(e.url),f=d.pathname+d.search;throw qn(404,{pathname:f})}xt(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Kt.error,result:c}}finally{o&&e.signal.removeEventListener("abort",o)}return s}async function Ple(t){let{result:e,type:r}=t;if(RV(e)){let f;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(p){return{type:Kt.error,error:p}}return r===Kt.error?{type:Kt.error,error:new Ky(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:Kt.data,data:f,statusCode:e.status,headers:e.headers}}if(r===Kt.error){if(vj(e)){var n,i;if(e.data instanceof Error){var a,s;return{type:Kt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Kt.error,error:new Ky(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:Ap(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Kt.error,error:e,statusCode:Ap(e)?e.status:void 0}}if(Nle(e)){var o,l;return{type:Kt.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(vj(e)){var c,d;return{type:Kt.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}}return{type:Kt.data,data:e}}function Dle(t,e,r,n,i,a){let s=t.headers.get("Location");if(xt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!lD.test(s)){let o=n.slice(0,n.findIndex(l=>l.route.id===r)+1);s=VO(new URL(e.url),o,i,!0,s,a),t.headers.set("Location",s)}return t}function dj(t,e,r){if(lD.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=Qs(i.pathname,r)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function Ku(t,e,r,n){let i=t.createURL(OV(e)).toString(),a={signal:r};if(n&&la(n.formMethod)){let{formMethod:s,formEncType:o}=n;a.method=s.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(n.json)):o==="text/plain"?a.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?a.body=HO(n.formData):a.body=n.formData}return new Request(i,a)}function HO(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function fj(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function Lle(t,e,r,n,i){let a={},s=null,o,l=!1,c={},d=r&&li(r[1])?r[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let p=f.route.id,g=e[p];if(xt(!vc(g),"Cannot handle redirect results in processLoaderData"),li(g)){let y=g.error;d!==void 0&&(y=d,d=void 0),s=s||{};{let b=mc(t,p);s[b.route.id]==null&&(s[b.route.id]=y)}a[p]=void 0,l||(l=!0,o=Ap(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else nl(g)?(n.set(p,g.deferredData),a[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(c[p]=g.headers)):(a[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(c[p]=g.headers))}),d!==void 0&&r&&(s={[r[0]]:d},a[r[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function hj(t,e,r,n,i,a,s){let{loaderData:o,errors:l}=Lle(e,r,n,s);return i.forEach(c=>{let{key:d,match:f,controller:p}=c,g=a[d];if(xt(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(li(g)){let y=mc(t.matches,f==null?void 0:f.route.id);l&&l[y.route.id]||(l=mr({},l,{[y.route.id]:g.error})),t.fetchers.delete(d)}else if(vc(g))xt(!1,"Unhandled fetcher revalidation redirect");else if(nl(g))xt(!1,"Unhandled fetcher deferred data");else{let y=Ho(g.data);t.fetchers.set(d,y)}}),{loaderData:o,errors:l}}function pj(t,e,r,n){let i=mr({},e);for(let a of r){let s=a.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&a.route.loader&&(i[s]=t[s]),n&&n.hasOwnProperty(s))break}return i}function mj(t){return t?li(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function mc(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function gj(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qn(t,e){let{pathname:r,routeId:n,method:i,type:a,message:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?l="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?l="defer() is not supported in actions":a==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",l='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?l="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Ky(t||500,o,new Error(l),!0)}function Av(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(vc(i))return{key:n,result:i}}}function OV(t){let e=typeof t=="string"?bl(t):t;return Lc(mr({},e,{hash:""}))}function Ile(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Mle(t){return RV(t.result)&&ble.has(t.result.status)}function nl(t){return t.type===Kt.deferred}function li(t){return t.type===Kt.error}function vc(t){return(t&&t.type)===Kt.redirect}function vj(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Nle(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function RV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function kle(t){return yle.has(t.toLowerCase())}function la(t){return gle.has(t.toLowerCase())}async function jle(t,e,r,n,i){let a=Object.entries(e);for(let s=0;s<a.length;s++){let[o,l]=a[s],c=t.find(p=>(p==null?void 0:p.route.id)===o);if(!c)continue;let d=n.find(p=>p.route.id===c.route.id),f=d!=null&&!AV(d,c)&&(i&&i[c.route.id])!==void 0;nl(l)&&f&&await cD(l,r,!1).then(p=>{p&&(e[o]=p)})}}async function $le(t,e,r){for(let n=0;n<r.length;n++){let{key:i,routeId:a,controller:s}=r[n],o=e[i];t.find(c=>(c==null?void 0:c.route.id)===a)&&nl(o)&&(xt(s,"Expected an AbortController for revalidating fetcher deferred result"),await cD(o,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function cD(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Kt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Kt.error,error:i}}return{type:Kt.data,data:t.deferredData.data}}}function uD(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Wh(t,e){let r=typeof e=="string"?bl(e).search:e.search;if(t[t.length-1].route.index&&uD(r||""))return t[t.length-1];let n=wV(t);return n[n.length-1]}function yj(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:a,json:s}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function TE(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Fle(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Th(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ble(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ho(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ule(t,e){try{let r=t.sessionStorage.getItem(TV);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function Gle(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(TV,JSON.stringify(r))}catch(n){Rd(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wy.apply(this,arguments)}const $m=A.createContext(null),dD=A.createContext(null),xl=A.createContext(null),fD=A.createContext(null),Sl=A.createContext({outlet:null,matches:[],isDataRoute:!1}),CV=A.createContext(null);function zle(t,e){let{relative:r}=e===void 0?{}:e;Fm()||xt(!1);let{basename:n,navigator:i}=A.useContext(xl),{hash:a,pathname:s,search:o}=Wb(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Gs([n,s])),i.createHref({pathname:l,search:o,hash:a})}function Fm(){return A.useContext(fD)!=null}function Bm(){return Fm()||xt(!1),A.useContext(fD).location}function PV(t){A.useContext(xl).static||A.useLayoutEffect(t)}function Um(){let{isDataRoute:t}=A.useContext(Sl);return t?rce():Vle()}function Vle(){Fm()||xt(!1);let t=A.useContext($m),{basename:e,future:r,navigator:n}=A.useContext(xl),{matches:i}=A.useContext(Sl),{pathname:a}=Bm(),s=JSON.stringify(sD(i,r.v7_relativeSplatPath)),o=A.useRef(!1);return PV(()=>{o.current=!0}),A.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=oD(c,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Gs([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,a,t])}function qle(){let{matches:t}=A.useContext(Sl),e=t[t.length-1];return e?e.params:{}}function Wb(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=A.useContext(xl),{matches:i}=A.useContext(Sl),{pathname:a}=Bm(),s=JSON.stringify(sD(i,n.v7_relativeSplatPath));return A.useMemo(()=>oD(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function Hle(t,e,r,n){Fm()||xt(!1);let{navigator:i,static:a}=A.useContext(xl),{matches:s}=A.useContext(Sl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Bm(),f;f=d;let p=f.pathname||"/",g=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=!a&&r&&r.matches&&r.matches.length>0?r.matches:pc(t,{pathname:g});return Qle(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Gs([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Gs([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n)}function Kle(){let t=tce(),e=Ap(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:i},r):null,null)}const Wle=A.createElement(Kle,null);class Yle extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?A.createElement(Sl.Provider,{value:this.props.routeContext},A.createElement(CV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xle(t){let{routeContext:e,match:r,children:n}=t,i=A.useContext($m);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Sl.Provider,{value:e},n)}function Qle(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||xt(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=r,y=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let g,y=!1,b=null,x=null;r&&(g=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||Wle,l&&(c<0&&p===0?(nce("route-fallback"),y=!0,x=null):c===p&&(y=!0,x=f.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,p+1)),E=()=>{let T;return g?T=b:y?T=x:f.route.Component?T=A.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,A.createElement(Xle,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:T})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?A.createElement(Yle,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var DV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DV||{}),LV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(LV||{});function Zle(t){let e=A.useContext($m);return e||xt(!1),e}function Jle(t){let e=A.useContext(dD);return e||xt(!1),e}function ece(t){let e=A.useContext(Sl);return e||xt(!1),e}function IV(t){let e=ece(),r=e.matches[e.matches.length-1];return r.route.id||xt(!1),r.route.id}function tce(){var t;let e=A.useContext(CV),r=Jle(LV.UseRouteError),n=IV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function rce(){let{router:t}=Zle(DV.UseNavigateStable),e=IV(),r=A.useRef(!1);return PV(()=>{r.current=!0}),A.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wy({fromRouteId:e},a)))},[t,e])}const bj={};function nce(t,e,r){bj[t]||(bj[t]=!0)}function ice(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function ace(t){let{basename:e="/",children:r=null,location:n,navigationType:i=kr.Pop,navigator:a,static:s=!1,future:o}=t;Fm()&&xt(!1);let l=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:a,static:s,future:Wy({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=bl(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:y="default"}=n,b=A.useMemo(()=>{let x=Qs(d,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:g,key:y},navigationType:i}},[l,d,f,p,g,y,i]);return b==null?null:A.createElement(xl.Provider,{value:c},A.createElement(fD.Provider,{children:r,value:b}))}new Promise(()=>{});function sce(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:A.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cd.apply(this,arguments)}function MV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function oce(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lce(t,e){return t.button===0&&(!e||e==="_self")&&!oce(t)}const cce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uce=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],dce="6";try{window.__reactRouterVersion=dce}catch{}function fce(t,e){return Ele({basename:void 0,future:Cd({},void 0,{v7_prependBasename:!0}),history:Koe({window:void 0}),hydrationData:hce(),routes:t,mapRouteProperties:sce,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function hce(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Cd({},e,{errors:pce(e.errors)})),e}function pce(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Ky(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}const NV=A.createContext({isTransitioning:!1}),mce=A.createContext(new Map),gce="startTransition",xj=Ki[gce],vce="flushSync",Sj=Nre[vce];function yce(t){xj?xj(t):t()}function Ah(t){Sj?Sj(t):t()}class bce{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function xce(t){let{fallbackElement:e,router:r,future:n}=t,[i,a]=A.useState(r.state),[s,o]=A.useState(),[l,c]=A.useState({isTransitioning:!1}),[d,f]=A.useState(),[p,g]=A.useState(),[y,b]=A.useState(),x=A.useRef(new Map),{v7_startTransition:w}=n||{},E=A.useCallback(D=>{w?yce(D):D()},[w]),T=A.useCallback((D,I)=>{let{deletedFetchers:M,flushSync:N,viewTransitionOpts:k}=I;D.fetchers.forEach((U,z)=>{U.data!==void 0&&x.current.set(z,U.data)}),M.forEach(U=>x.current.delete(U));let F=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!k||F){N?Ah(()=>a(D)):E(()=>a(D));return}if(N){Ah(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let U=r.window.document.startViewTransition(()=>{Ah(()=>a(D))});U.finished.finally(()=>{Ah(()=>{f(void 0),g(void 0),o(void 0),c({isTransitioning:!1})})}),Ah(()=>g(U));return}p?(d&&d.resolve(),p.skipTransition(),b({state:D,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(o(D),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[r.window,p,d,x,E]);A.useLayoutEffect(()=>r.subscribe(T),[r,T]),A.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new bce)},[l]),A.useEffect(()=>{if(d&&s&&r.window){let D=s,I=d.promise,M=r.window.document.startViewTransition(async()=>{E(()=>a(D)),await I});M.finished.finally(()=>{f(void 0),g(void 0),o(void 0),c({isTransitioning:!1})}),g(M)}},[E,s,d,r.window]),A.useEffect(()=>{d&&s&&i.location.key===s.location.key&&d.resolve()},[d,p,i.location,s]),A.useEffect(()=>{!l.isTransitioning&&y&&(o(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[l.isTransitioning,y]),A.useEffect(()=>{},[]);let O=A.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:D=>r.navigate(D),push:(D,I,M)=>r.navigate(D,{state:I,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(D,I,M)=>r.navigate(D,{replace:!0,state:I,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[r]),_=r.basename||"/",P=A.useMemo(()=>({router:r,navigator:O,static:!1,basename:_}),[r,O,_]),R=A.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return A.useEffect(()=>ice(n,r.future),[n,r.future]),A.createElement(A.Fragment,null,A.createElement($m.Provider,{value:P},A.createElement(dD.Provider,{value:i},A.createElement(mce.Provider,{value:x.current},A.createElement(NV.Provider,{value:l},A.createElement(ace,{basename:_,location:i.location,navigationType:i.historyAction,navigator:O,future:R},i.initialized||r.future.v7_partialHydration?A.createElement(Sce,{routes:r.routes,future:r.future,state:i}):e))))),null)}const Sce=A.memo(wce);function wce(t){let{routes:e,future:r,state:n}=t;return Hle(e,void 0,n,r)}const Ece=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pd=A.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=MV(e,cce),{basename:g}=A.useContext(xl),y,b=!1;if(typeof c=="string"&&Tce.test(c)&&(y=c,Ece))try{let T=new URL(window.location.href),O=c.startsWith("//")?new URL(T.protocol+c):new URL(c),_=Qs(O.pathname,g);O.origin===T.origin&&_!=null?c=_+O.search+O.hash:b=!0}catch{}let x=zle(c,{relative:i}),w=_ce(c,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function E(T){n&&n(T),T.defaultPrevented||w(T)}return A.createElement("a",Cd({},p,{href:y||x,onClick:b||a?n:E,ref:r,target:l}))}),np=A.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:c,children:d}=e,f=MV(e,uce),p=Wb(l,{relative:f.relative}),g=Bm(),y=A.useContext(dD),{navigator:b,basename:x}=A.useContext(xl),w=y!=null&&Oce(p)&&c===!0,E=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,T=g.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(T=T.toLowerCase(),O=O?O.toLowerCase():null,E=E.toLowerCase()),O&&x&&(O=Qs(O,x)||O);const _=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let P=T===E||!s&&T.startsWith(E)&&T.charAt(_)==="/",R=O!=null&&(O===E||!s&&O.startsWith(E)&&O.charAt(E.length)==="/"),D={isActive:P,isPending:R,isTransitioning:w},I=P?n:void 0,M;typeof a=="function"?M=a(D):M=[a,P?"active":null,R?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(D):o;return A.createElement(Pd,Cd({},f,{"aria-current":I,className:M,ref:r,style:N,to:l,viewTransition:c}),typeof d=="function"?d(D):d)});var KO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(KO||(KO={}));var wj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wj||(wj={}));function Ace(t){let e=A.useContext($m);return e||xt(!1),e}function _ce(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Um(),c=Bm(),d=Wb(t,{relative:s});return A.useCallback(f=>{if(lce(f,r)){f.preventDefault();let p=n!==void 0?n:Lc(c)===Lc(d);l(t,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,d,n,i,r,t,a,s,o])}function Oce(t,e){e===void 0&&(e={});let r=A.useContext(NV);r==null&&xt(!1);let{basename:n}=Ace(KO.useViewTransitionState),i=Wb(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Qs(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Qs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Hy(i.pathname,s)!=null||Hy(i.pathname,a)!=null}function AE({items:t,title:e}){return v.jsxs(Hb,{children:[v.jsx(aD,{children:e}),v.jsx(jm,{children:t.map(r=>{var n,i;return v.jsx(Xre,{asChild:!0,defaultOpen:r.isActive,children:v.jsxs(Od,{children:[v.jsx(Kb,{asChild:!0,tooltip:r.title,className:"hover:bg-yellow-400 hover:text-black transition-colors duration-200",children:v.jsxs(np,{to:r.url,className:({isActive:a})=>`hover:text-yellow-400 ${a?"text-yellow-400":""}`,children:[v.jsx(r.icon,{}),v.jsx("span",{children:r.title})]})}),(n=r.items)!=null&&n.length?v.jsxs(v.Fragment,{children:[v.jsx(Qre,{asChild:!0,children:v.jsxs(gV,{className:"data-[state=open]:rotate-90 hover:bg-yellow-400 hover:text-black transition-colors duration-200",children:[v.jsx(SP,{}),v.jsx("span",{className:"sr-only",children:"Toggle"})]})}),v.jsx(Zre,{children:v.jsx(vV,{children:(i=r.items)==null?void 0:i.map(a=>v.jsx(yV,{children:v.jsx(bV,{asChild:!0,className:"hover:bg-yellow-400 hover:text-black transition-colors duration-200",children:v.jsx(np,{to:a.url,className:({isActive:s})=>`hover:text-yellow-400 ${s?"text-yellow-400":""}`,children:v.jsx("span",{children:a.title})})})},a.title))})})]}):null]})},r.title)})})]})}var WO=A.forwardRef((t,e)=>{const{children:r,...n}=t,i=A.Children.toArray(r),a=i.find(Cce);if(a){const s=a.props.children,o=i.map(l=>l===a?A.Children.count(s)>1?A.Children.only(null):A.isValidElement(s)?s.props.children:null:l);return v.jsx(YO,{...n,ref:e,children:A.isValidElement(s)?A.cloneElement(s,void 0,o):null})}return v.jsx(YO,{...n,ref:e,children:r})});WO.displayName="Slot";var YO=A.forwardRef((t,e)=>{const{children:r,...n}=t;if(A.isValidElement(r)){const i=Dce(r),a=Pce(n,r.props);return r.type!==A.Fragment&&(a.ref=e?cf(e,i):i),A.cloneElement(r,a)}return A.Children.count(r)>1?A.Children.only(null):null});YO.displayName="SlotClone";var Rce=({children:t})=>v.jsx(v.Fragment,{children:t});function Cce(t){return A.isValidElement(t)&&t.type===Rce}function Pce(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{a(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Dce(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function kV(t){const e=t+"CollectionProvider",[r,n]=yl(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:y,children:b}=g,x=W.useRef(null),w=W.useRef(new Map).current;return v.jsx(i,{scope:y,itemMap:w,collectionRef:x,children:b})};s.displayName=e;const o=t+"CollectionSlot",l=W.forwardRef((g,y)=>{const{scope:b,children:x}=g,w=a(o,b),E=kn(y,w.collectionRef);return v.jsx(WO,{ref:E,children:x})});l.displayName=o;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=W.forwardRef((g,y)=>{const{scope:b,children:x,...w}=g,E=W.useRef(null),T=kn(y,E),O=a(c,b);return W.useEffect(()=>(O.itemMap.set(E,{ref:E,...w}),()=>void O.itemMap.delete(E))),v.jsx(WO,{[d]:"",ref:T,children:x})});f.displayName=c;function p(g){const y=a(t+"CollectionConsumer",g);return W.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((O,_)=>w.indexOf(O.ref.current)-w.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},p,n]}var Lce=A.createContext(void 0);function jV(t){const e=A.useContext(Lce);return t||e||"ltr"}function Ice(t,e=globalThis==null?void 0:globalThis.document){const r=Gi(t);A.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Mce="DismissableLayer",XO="dismissableLayer.update",Nce="dismissableLayer.pointerDownOutside",kce="dismissableLayer.focusOutside",Ej,$V=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FV=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,c=A.useContext($V),[d,f]=A.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=A.useState({}),y=kn(e,R=>f(R)),b=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(x),E=d?b.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,O=E>=w,_=Fce(R=>{const D=R.target,I=[...c.branches].some(M=>M.contains(D));!O||I||(i==null||i(R),s==null||s(R),R.defaultPrevented||o==null||o())},p),P=Bce(R=>{const D=R.target;[...c.branches].some(M=>M.contains(D))||(a==null||a(R),s==null||s(R),R.defaultPrevented||o==null||o())},p);return Ice(R=>{E===c.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&o&&(R.preventDefault(),o()))},p),A.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Ej=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Tj(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Ej)}},[d,p,r,c]),A.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Tj())},[d,c]),A.useEffect(()=>{const R=()=>g({});return document.addEventListener(XO,R),()=>document.removeEventListener(XO,R)},[]),v.jsx(hr.div,{...l,ref:y,style:{pointerEvents:T?O?"auto":"none":void 0,...t.style},onFocusCapture:Ot(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Ot(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ot(t.onPointerDownCapture,_.onPointerDownCapture)})});FV.displayName=Mce;var jce="DismissableLayerBranch",$ce=A.forwardRef((t,e)=>{const r=A.useContext($V),n=A.useRef(null),i=kn(e,n);return A.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),v.jsx(hr.div,{...t,ref:i})});$ce.displayName=jce;function Fce(t,e=globalThis==null?void 0:globalThis.document){const r=Gi(t),n=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let l=function(){BV(Nce,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Bce(t,e=globalThis==null?void 0:globalThis.document){const r=Gi(t),n=A.useRef(!1);return A.useEffect(()=>{const i=a=>{a.target&&!n.current&&BV(kce,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Tj(){const t=new CustomEvent(XO);document.dispatchEvent(t)}function BV(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?_G(i,a):i.dispatchEvent(a)}var _E=0;function Uce(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Aj()),document.body.insertAdjacentElement("beforeend",t[1]??Aj()),_E++,()=>{_E===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_E--}},[])}function Aj(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var OE="focusScope.autoFocusOnMount",RE="focusScope.autoFocusOnUnmount",_j={bubbles:!1,cancelable:!0},Gce="FocusScope",UV=A.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=A.useState(null),c=Gi(i),d=Gi(a),f=A.useRef(null),p=kn(e,b=>l(b)),g=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let b=function(T){if(g.paused||!o)return;const O=T.target;o.contains(O)?f.current=O:Ko(f.current,{select:!0})},x=function(T){if(g.paused||!o)return;const O=T.relatedTarget;O!==null&&(o.contains(O)||Ko(f.current,{select:!0}))},w=function(T){if(document.activeElement===document.body)for(const _ of T)_.removedNodes.length>0&&Ko(o)};document.addEventListener("focusin",b),document.addEventListener("focusout",x);const E=new MutationObserver(w);return o&&E.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",x),E.disconnect()}}},[n,o,g.paused]),A.useEffect(()=>{if(o){Rj.add(g);const b=document.activeElement;if(!o.contains(b)){const w=new CustomEvent(OE,_j);o.addEventListener(OE,c),o.dispatchEvent(w),w.defaultPrevented||(zce(Wce(GV(o)),{select:!0}),document.activeElement===b&&Ko(o))}return()=>{o.removeEventListener(OE,c),setTimeout(()=>{const w=new CustomEvent(RE,_j);o.addEventListener(RE,d),o.dispatchEvent(w),w.defaultPrevented||Ko(b??document.body,{select:!0}),o.removeEventListener(RE,d),Rj.remove(g)},0)}}},[o,c,d,g]);const y=A.useCallback(b=>{if(!r&&!n||g.paused)return;const x=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,w=document.activeElement;if(x&&w){const E=b.currentTarget,[T,O]=Vce(E);T&&O?!b.shiftKey&&w===O?(b.preventDefault(),r&&Ko(T,{select:!0})):b.shiftKey&&w===T&&(b.preventDefault(),r&&Ko(O,{select:!0})):w===E&&b.preventDefault()}},[r,n,g.paused]);return v.jsx(hr.div,{tabIndex:-1,...s,ref:p,onKeyDown:y})});UV.displayName=Gce;function zce(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ko(n,{select:e}),document.activeElement!==r)return}function Vce(t){const e=GV(t),r=Oj(e,t),n=Oj(e.reverse(),t);return[r,n]}function GV(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Oj(t,e){for(const r of t)if(!qce(r,{upTo:e}))return r}function qce(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Hce(t){return t instanceof HTMLInputElement&&"select"in t}function Ko(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Hce(t)&&e&&t.select()}}var Rj=Kce();function Kce(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Cj(t,e),t.unshift(e)},remove(e){var r;t=Cj(t,e),(r=t[0])==null||r.resume()}}}function Cj(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Wce(t){return t.filter(e=>e.tagName!=="A")}var Yce="Arrow",zV=A.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return v.jsx(hr.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});zV.displayName=Yce;var Xce=zV;function Qce(t){const[e,r]=A.useState(void 0);return Ka(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var hD="Popper",[VV,qV]=yl(hD),[Zce,HV]=VV(hD),KV=t=>{const{__scopePopper:e,children:r}=t,[n,i]=A.useState(null);return v.jsx(Zce,{scope:e,anchor:n,onAnchorChange:i,children:r})};KV.displayName=hD;var WV="PopperAnchor",YV=A.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=HV(WV,r),s=A.useRef(null),o=kn(e,s);return A.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:v.jsx(hr.div,{...i,ref:o})});YV.displayName=WV;var pD="PopperContent",[Jce,eue]=VV(pD),XV=A.forwardRef((t,e)=>{var ve,Se,me,Ee,Ce,ce;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:y,...b}=t,x=HV(pD,r),[w,E]=A.useState(null),T=kn(e,ke=>E(ke)),[O,_]=A.useState(null),P=Qce(O),R=(P==null?void 0:P.width)??0,D=(P==null?void 0:P.height)??0,I=n+(a!=="center"?"-"+a:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],k=N.length>0,F={padding:M,boundary:N.filter(rue),altBoundary:k},{refs:U,floatingStyles:z,placement:j,isPositioned:H,middlewareData:V}=KP({strategy:"fixed",placement:I,whileElementsMounted:(...ke)=>HP(...ke,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[WP({mainAxis:i+D,alignmentAxis:s}),l&&YP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?XP():void 0,...F}),l&&QP({...F}),ZP({...F,apply:({elements:ke,rects:Ue,availableWidth:ut,availableHeight:Ie})=>{const{width:nt,height:Z}=Ue.reference,ae=ke.floating.style;ae.setProperty("--radix-popper-available-width",`${ut}px`),ae.setProperty("--radix-popper-available-height",`${Ie}px`),ae.setProperty("--radix-popper-anchor-width",`${nt}px`),ae.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),O&&eD({element:O,padding:o}),nue({arrowWidth:R,arrowHeight:D}),p&&JP({strategy:"referenceHidden",...F})]}),[q,G]=JV(j),Y=Gi(y);Ka(()=>{H&&(Y==null||Y())},[H,Y]);const X=(ve=V.arrow)==null?void 0:ve.x,te=(Se=V.arrow)==null?void 0:Se.y,ee=((me=V.arrow)==null?void 0:me.centerOffset)!==0,[ue,he]=A.useState();return Ka(()=>{w&&he(window.getComputedStyle(w).zIndex)},[w]),v.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:H?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Ee=V.transformOrigin)==null?void 0:Ee.x,(Ce=V.transformOrigin)==null?void 0:Ce.y].join(" "),...((ce=V.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(Jce,{scope:r,placedSide:q,onArrowChange:_,arrowX:X,arrowY:te,shouldHideArrow:ee,children:v.jsx(hr.div,{"data-side":q,"data-align":G,...b,ref:T,style:{...b.style,animation:H?void 0:"none"}})})})});XV.displayName=pD;var QV="PopperArrow",tue={top:"bottom",right:"left",bottom:"top",left:"right"},ZV=A.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=eue(QV,n),s=tue[a.placedSide];return v.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:v.jsx(Xce,{...i,ref:r,style:{...i.style,display:"block"}})})});ZV.displayName=QV;function rue(t){return t!==null}var nue=t=>({name:"transformOrigin",options:t,fn(e){var x,w,E;const{placement:r,rects:n,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=JV(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=i.arrow)==null?void 0:w.x)??0)+o/2,g=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let y="",b="";return c==="bottom"?(y=s?f:`${p}px`,b=`${-l}px`):c==="top"?(y=s?f:`${p}px`,b=`${n.floating.height+l}px`):c==="right"?(y=`${-l}px`,b=s?f:`${g}px`):c==="left"&&(y=`${n.floating.width+l}px`,b=s?f:`${g}px`),{data:{x:y,y:b}}}});function JV(t){const[e,r="center"]=t.split("-");return[e,r]}var iue=KV,aue=YV,sue=XV,oue=ZV,lue="Portal",eq=A.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,a]=A.useState(!1);Ka(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?Ib.createPortal(v.jsx(hr.div,{...n,ref:e}),s):null});eq.displayName=lue;var CE="rovingFocusGroup.onEntryFocus",cue={bubbles:!1,cancelable:!0},Yb="RovingFocusGroup",[QO,tq,uue]=kV(Yb),[due,rq]=yl(Yb,[uue]),[fue,hue]=due(Yb),nq=A.forwardRef((t,e)=>v.jsx(QO.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(QO.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(pue,{...t,ref:e})})}));nq.displayName=Yb;var pue=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=A.useRef(null),g=kn(e,p),y=jV(a),[b=null,x]=AP({prop:s,defaultProp:o,onChange:l}),[w,E]=A.useState(!1),T=Gi(c),O=tq(r),_=A.useRef(!1),[P,R]=A.useState(0);return A.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(CE,T),()=>D.removeEventListener(CE,T)},[T]),v.jsx(fue,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:b,onItemFocus:A.useCallback(D=>x(D),[x]),onItemShiftTab:A.useCallback(()=>E(!0),[]),onFocusableItemAdd:A.useCallback(()=>R(D=>D+1),[]),onFocusableItemRemove:A.useCallback(()=>R(D=>D-1),[]),children:v.jsx(hr.div,{tabIndex:w||P===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:Ot(t.onMouseDown,()=>{_.current=!0}),onFocus:Ot(t.onFocus,D=>{const I=!_.current;if(D.target===D.currentTarget&&I&&!w){const M=new CustomEvent(CE,cue);if(D.currentTarget.dispatchEvent(M),!M.defaultPrevented){const N=O().filter(j=>j.focusable),k=N.find(j=>j.active),F=N.find(j=>j.id===b),z=[k,F,...N].filter(Boolean).map(j=>j.ref.current);sq(z,d)}}_.current=!1}),onBlur:Ot(t.onBlur,()=>E(!1))})})}),iq="RovingFocusGroupItem",aq=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...s}=t,o=Fy(),l=a||o,c=hue(iq,r),d=c.currentTabStopId===l,f=tq(r),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return A.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),v.jsx(QO.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:v.jsx(hr.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:Ot(t.onMouseDown,y=>{n?c.onItemFocus(l):y.preventDefault()}),onFocus:Ot(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ot(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=vue(y,c.orientation,c.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=f().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const E=w.indexOf(y.currentTarget);w=c.loop?yue(w,E+1):w.slice(E+1)}setTimeout(()=>sq(w))}})})})});aq.displayName=iq;var mue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gue(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function vue(t,e,r){const n=gue(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return mue[n]}function sq(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function yue(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var bue=nq,xue=aq,oq=A.forwardRef((t,e)=>{const{children:r,...n}=t,i=A.Children.toArray(r),a=i.find(wue);if(a){const s=a.props.children,o=i.map(l=>l===a?A.Children.count(s)>1?A.Children.only(null):A.isValidElement(s)?s.props.children:null:l);return v.jsx(ZO,{...n,ref:e,children:A.isValidElement(s)?A.cloneElement(s,void 0,o):null})}return v.jsx(ZO,{...n,ref:e,children:r})});oq.displayName="Slot";var ZO=A.forwardRef((t,e)=>{const{children:r,...n}=t;if(A.isValidElement(r)){const i=Tue(r),a=Eue(n,r.props);return r.type!==A.Fragment&&(a.ref=e?cf(e,i):i),A.cloneElement(r,a)}return A.Children.count(r)>1?A.Children.only(null):null});ZO.displayName="SlotClone";var Sue=({children:t})=>v.jsx(v.Fragment,{children:t});function wue(t){return A.isValidElement(t)&&t.type===Sue}function Eue(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{a(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Tue(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var JO=["Enter"," "],Aue=["ArrowDown","PageUp","Home"],lq=["ArrowUp","PageDown","End"],_ue=[...Aue,...lq],Oue={ltr:[...JO,"ArrowRight"],rtl:[...JO,"ArrowLeft"]},Rue={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gm="Menu",[_p,Cue,Pue]=kV(Gm),[ru,cq]=yl(Gm,[Pue,qV,rq]),Xb=qV(),uq=rq(),[Due,nu]=ru(Gm),[Lue,zm]=ru(Gm),dq=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:s=!0}=t,o=Xb(e),[l,c]=A.useState(null),d=A.useRef(!1),f=Gi(a),p=jV(i);return A.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),v.jsx(iue,{...o,children:v.jsx(Due,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:c,children:v.jsx(Lue,{scope:e,onClose:A.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:s,children:n})})})};dq.displayName=Gm;var Iue="MenuAnchor",mD=A.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Xb(r);return v.jsx(aue,{...i,...n,ref:e})});mD.displayName=Iue;var gD="MenuPortal",[Mue,fq]=ru(gD,{forceMount:void 0}),hq=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=nu(gD,e);return v.jsx(Mue,{scope:e,forceMount:r,children:v.jsx(uf,{present:r||a.open,children:v.jsx(eq,{asChild:!0,container:i,children:n})})})};hq.displayName=gD;var Bi="MenuContent",[Nue,vD]=ru(Bi),pq=A.forwardRef((t,e)=>{const r=fq(Bi,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=nu(Bi,t.__scopeMenu),s=zm(Bi,t.__scopeMenu);return v.jsx(_p.Provider,{scope:t.__scopeMenu,children:v.jsx(uf,{present:n||a.open,children:v.jsx(_p.Slot,{scope:t.__scopeMenu,children:s.modal?v.jsx(kue,{...i,ref:e}):v.jsx(jue,{...i,ref:e})})})})}),kue=A.forwardRef((t,e)=>{const r=nu(Bi,t.__scopeMenu),n=A.useRef(null),i=kn(e,n);return A.useEffect(()=>{const a=n.current;if(a)return IP(a)},[]),v.jsx(yD,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ot(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),jue=A.forwardRef((t,e)=>{const r=nu(Bi,t.__scopeMenu);return v.jsx(yD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),yD=A.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:y,...b}=t,x=nu(Bi,r),w=zm(Bi,r),E=Xb(r),T=uq(r),O=Cue(r),[_,P]=A.useState(null),R=A.useRef(null),D=kn(e,R,x.onContentChange),I=A.useRef(0),M=A.useRef(""),N=A.useRef(0),k=A.useRef(null),F=A.useRef("right"),U=A.useRef(0),z=y?kb:A.Fragment,j=y?{as:oq,allowPinchZoom:!0}:void 0,H=q=>{var ve,Se;const G=M.current+q,Y=O().filter(me=>!me.disabled),X=document.activeElement,te=(ve=Y.find(me=>me.ref.current===X))==null?void 0:ve.textValue,ee=Y.map(me=>me.textValue),ue=Yue(ee,G,te),he=(Se=Y.find(me=>me.textValue===ue))==null?void 0:Se.ref.current;(function me(Ee){M.current=Ee,window.clearTimeout(I.current),Ee!==""&&(I.current=window.setTimeout(()=>me(""),1e3))})(G),he&&setTimeout(()=>he.focus())};A.useEffect(()=>()=>window.clearTimeout(I.current),[]),Uce();const V=A.useCallback(q=>{var Y,X;return F.current===((Y=k.current)==null?void 0:Y.side)&&Que(q,(X=k.current)==null?void 0:X.area)},[]);return v.jsx(Nue,{scope:r,searchRef:M,onItemEnter:A.useCallback(q=>{V(q)&&q.preventDefault()},[V]),onItemLeave:A.useCallback(q=>{var G;V(q)||((G=R.current)==null||G.focus(),P(null))},[V]),onTriggerLeave:A.useCallback(q=>{V(q)&&q.preventDefault()},[V]),pointerGraceTimerRef:N,onPointerGraceIntentChange:A.useCallback(q=>{k.current=q},[]),children:v.jsx(z,{...j,children:v.jsx(UV,{asChild:!0,trapped:i,onMountAutoFocus:Ot(a,q=>{var G;q.preventDefault(),(G=R.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:v.jsx(FV,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:v.jsx(bue,{asChild:!0,...T,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:P,onEntryFocus:Ot(l,q=>{w.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(sue,{role:"menu","aria-orientation":"vertical","data-state":Pq(x.open),"data-radix-menu-content":"",dir:w.dir,...E,...b,ref:D,style:{outline:"none",...b.style},onKeyDown:Ot(b.onKeyDown,q=>{const Y=q.target.closest("[data-radix-menu-content]")===q.currentTarget,X=q.ctrlKey||q.altKey||q.metaKey,te=q.key.length===1;Y&&(q.key==="Tab"&&q.preventDefault(),!X&&te&&H(q.key));const ee=R.current;if(q.target!==ee||!_ue.includes(q.key))return;q.preventDefault();const he=O().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);lq.includes(q.key)&&he.reverse(),Kue(he)}),onBlur:Ot(t.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(I.current),M.current="")}),onPointerMove:Ot(t.onPointerMove,Op(q=>{const G=q.target,Y=U.current!==q.clientX;if(q.currentTarget.contains(G)&&Y){const X=q.clientX>U.current?"right":"left";F.current=X,U.current=q.clientX}}))})})})})})})});pq.displayName=Bi;var $ue="MenuGroup",bD=A.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return v.jsx(hr.div,{role:"group",...n,ref:e})});bD.displayName=$ue;var Fue="MenuLabel",mq=A.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return v.jsx(hr.div,{...n,ref:e})});mq.displayName=Fue;var Yy="MenuItem",Pj="menu.itemSelect",Qb=A.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=A.useRef(null),s=zm(Yy,t.__scopeMenu),o=vD(Yy,t.__scopeMenu),l=kn(e,a),c=A.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const p=new CustomEvent(Pj,{bubbles:!0,cancelable:!0});f.addEventListener(Pj,g=>n==null?void 0:n(g),{once:!0}),_G(f,p),p.defaultPrevented?c.current=!1:s.onClose()}};return v.jsx(gq,{...i,ref:l,disabled:r,onClick:Ot(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),c.current=!0},onPointerUp:Ot(t.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Ot(t.onKeyDown,f=>{const p=o.searchRef.current!=="";r||p&&f.key===" "||JO.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Qb.displayName=Yy;var gq=A.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,s=vD(Yy,r),o=uq(r),l=A.useRef(null),c=kn(e,l),[d,f]=A.useState(!1),[p,g]=A.useState("");return A.useEffect(()=>{const y=l.current;y&&g((y.textContent??"").trim())},[a.children]),v.jsx(_p.ItemSlot,{scope:r,disabled:n,textValue:i??p,children:v.jsx(xue,{asChild:!0,...o,focusable:!n,children:v.jsx(hr.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:c,onPointerMove:Ot(t.onPointerMove,Op(y=>{n?s.onItemLeave(y):(s.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ot(t.onPointerLeave,Op(y=>s.onItemLeave(y))),onFocus:Ot(t.onFocus,()=>f(!0)),onBlur:Ot(t.onBlur,()=>f(!1))})})})}),Bue="MenuCheckboxItem",vq=A.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return v.jsx(wq,{scope:t.__scopeMenu,checked:r,children:v.jsx(Qb,{role:"menuitemcheckbox","aria-checked":Xy(r)?"mixed":r,...i,ref:e,"data-state":SD(r),onSelect:Ot(i.onSelect,()=>n==null?void 0:n(Xy(r)?!0:!r),{checkForDefaultPrevented:!1})})})});vq.displayName=Bue;var yq="MenuRadioGroup",[Uue,Gue]=ru(yq,{value:void 0,onValueChange:()=>{}}),bq=A.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=Gi(n);return v.jsx(Uue,{scope:t.__scopeMenu,value:r,onValueChange:a,children:v.jsx(bD,{...i,ref:e})})});bq.displayName=yq;var xq="MenuRadioItem",Sq=A.forwardRef((t,e)=>{const{value:r,...n}=t,i=Gue(xq,t.__scopeMenu),a=r===i.value;return v.jsx(wq,{scope:t.__scopeMenu,checked:a,children:v.jsx(Qb,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":SD(a),onSelect:Ot(n.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,r)},{checkForDefaultPrevented:!1})})})});Sq.displayName=xq;var xD="MenuItemIndicator",[wq,zue]=ru(xD,{checked:!1}),Eq=A.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=zue(xD,r);return v.jsx(uf,{present:n||Xy(a.checked)||a.checked===!0,children:v.jsx(hr.span,{...i,ref:e,"data-state":SD(a.checked)})})});Eq.displayName=xD;var Vue="MenuSeparator",Tq=A.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return v.jsx(hr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Tq.displayName=Vue;var que="MenuArrow",Aq=A.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Xb(r);return v.jsx(oue,{...i,...n,ref:e})});Aq.displayName=que;var Hue="MenuSub",[h4e,_q]=ru(Hue),Yh="MenuSubTrigger",Oq=A.forwardRef((t,e)=>{const r=nu(Yh,t.__scopeMenu),n=zm(Yh,t.__scopeMenu),i=_q(Yh,t.__scopeMenu),a=vD(Yh,t.__scopeMenu),s=A.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=a,c={__scopeMenu:t.__scopeMenu},d=A.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return A.useEffect(()=>d,[d]),A.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),v.jsx(mD,{asChild:!0,...c,children:v.jsx(gq,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":Pq(r.open),...t,ref:cf(e,i.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ot(t.onPointerMove,Op(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ot(t.onPointerLeave,Op(f=>{var g,y;d();const p=(g=r.content)==null?void 0:g.getBoundingClientRect();if(p){const b=(y=r.content)==null?void 0:y.dataset.side,x=b==="right",w=x?-5:5,E=p[x?"left":"right"],T=p[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:E,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:E,y:p.bottom}],side:b}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ot(t.onKeyDown,f=>{var g;const p=a.searchRef.current!=="";t.disabled||p&&f.key===" "||Oue[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});Oq.displayName=Yh;var Rq="MenuSubContent",Cq=A.forwardRef((t,e)=>{const r=fq(Bi,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=nu(Bi,t.__scopeMenu),s=zm(Bi,t.__scopeMenu),o=_q(Rq,t.__scopeMenu),l=A.useRef(null),c=kn(e,l);return v.jsx(_p.Provider,{scope:t.__scopeMenu,children:v.jsx(uf,{present:n||a.open,children:v.jsx(_p.Slot,{scope:t.__scopeMenu,children:v.jsx(yD,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ot(t.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ot(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:Ot(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=Rue[s.dir].includes(d.key);f&&p&&(a.onOpenChange(!1),(g=o.trigger)==null||g.focus(),d.preventDefault())})})})})})});Cq.displayName=Rq;function Pq(t){return t?"open":"closed"}function Xy(t){return t==="indeterminate"}function SD(t){return Xy(t)?"indeterminate":t?"checked":"unchecked"}function Kue(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Wue(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Yue(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=Wue(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==r));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function Xue(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const o=e[a].x,l=e[a].y,c=e[s].x,d=e[s].y;l>n!=d>n&&r<(c-o)*(n-l)/(d-l)+o&&(i=!i)}return i}function Que(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Xue(r,e)}function Op(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Zue=dq,Jue=mD,ede=hq,tde=pq,rde=bD,nde=mq,ide=Qb,ade=vq,sde=bq,ode=Sq,lde=Eq,cde=Tq,ude=Aq,dde=Oq,fde=Cq,wD="DropdownMenu",[hde,p4e]=yl(wD,[cq]),jn=cq(),[pde,Dq]=hde(wD),Lq=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=t,l=jn(e),c=A.useRef(null),[d=!1,f]=AP({prop:i,defaultProp:a,onChange:s});return v.jsx(pde,{scope:e,triggerId:Fy(),triggerRef:c,contentId:Fy(),open:d,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(p=>!p),[f]),modal:o,children:v.jsx(Zue,{...l,open:d,onOpenChange:f,dir:n,modal:o,children:r})})};Lq.displayName=wD;var Iq="DropdownMenuTrigger",Mq=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=Dq(Iq,r),s=jn(r);return v.jsx(Jue,{asChild:!0,...s,children:v.jsx(hr.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:cf(e,a.triggerRef),onPointerDown:Ot(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:Ot(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});Mq.displayName=Iq;var mde="DropdownMenuPortal",Nq=t=>{const{__scopeDropdownMenu:e,...r}=t,n=jn(e);return v.jsx(ede,{...n,...r})};Nq.displayName=mde;var kq="DropdownMenuContent",jq=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Dq(kq,r),a=jn(r),s=A.useRef(!1);return v.jsx(tde,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:Ot(t.onCloseAutoFocus,o=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:Ot(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jq.displayName=kq;var gde="DropdownMenuGroup",vde=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(rde,{...i,...n,ref:e})});vde.displayName=gde;var yde="DropdownMenuLabel",$q=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(nde,{...i,...n,ref:e})});$q.displayName=yde;var bde="DropdownMenuItem",Fq=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(ide,{...i,...n,ref:e})});Fq.displayName=bde;var xde="DropdownMenuCheckboxItem",Bq=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(ade,{...i,...n,ref:e})});Bq.displayName=xde;var Sde="DropdownMenuRadioGroup",wde=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(sde,{...i,...n,ref:e})});wde.displayName=Sde;var Ede="DropdownMenuRadioItem",Uq=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(ode,{...i,...n,ref:e})});Uq.displayName=Ede;var Tde="DropdownMenuItemIndicator",Gq=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(lde,{...i,...n,ref:e})});Gq.displayName=Tde;var Ade="DropdownMenuSeparator",zq=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(cde,{...i,...n,ref:e})});zq.displayName=Ade;var _de="DropdownMenuArrow",Ode=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(ude,{...i,...n,ref:e})});Ode.displayName=_de;var Rde="DropdownMenuSubTrigger",Vq=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(dde,{...i,...n,ref:e})});Vq.displayName=Rde;var Cde="DropdownMenuSubContent",qq=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=jn(r);return v.jsx(fde,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qq.displayName=Cde;var Pde=Lq,Dde=Mq,Lde=Nq,Hq=jq,Kq=$q,Wq=Fq,Yq=Bq,Xq=Uq,Qq=Gq,Zq=zq,Jq=Vq,eH=qq;const Qy=Pde,eR=Dde,Ide=A.forwardRef(({className:t,inset:e,children:r,...n},i)=>v.jsxs(Jq,{ref:i,className:Le("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,v.jsx(SP,{className:"ml-auto"})]}));Ide.displayName=Jq.displayName;const Mde=A.forwardRef(({className:t,...e},r)=>v.jsx(eH,{ref:r,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Mde.displayName=eH.displayName;const ED=A.forwardRef(({className:t,sideOffset:e=4,...r},n)=>v.jsx(Lde,{children:v.jsx(Hq,{ref:n,sideOffset:e,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ED.displayName=Hq.displayName;const il=A.forwardRef(({className:t,inset:e,...r},n)=>v.jsx(Wq,{ref:n,className:Le("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));il.displayName=Wq.displayName;const Nde=A.forwardRef(({className:t,children:e,checked:r,...n},i)=>v.jsxs(Yq,{ref:i,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(Qq,{children:v.jsx(Db,{className:"h-4 w-4"})})}),e]}));Nde.displayName=Yq.displayName;const kde=A.forwardRef(({className:t,children:e,...r},n)=>v.jsxs(Xq,{ref:n,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(Qq,{children:v.jsx(Ote,{className:"h-2 w-2 fill-current"})})}),e]}));kde.displayName=Xq.displayName;const tH=A.forwardRef(({className:t,inset:e,...r},n)=>v.jsx(Kq,{ref:n,className:Le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));tH.displayName=Kq.displayName;const rH=A.forwardRef(({className:t,...e},r)=>v.jsx(Zq,{ref:r,className:Le("-mx-1 my-1 h-px bg-muted",t),...e}));rH.displayName=Zq.displayName;function jde({projects:t}){return v.jsxs(Hb,{className:"group-data-[collapsible=icon]:hidden",children:[v.jsx(aD,{children:"Watchlist"}),v.jsxs(jm,{children:[t.map(e=>v.jsxs(Od,{children:[v.jsx(Kb,{asChild:!0,children:v.jsxs("a",{href:e.url,children:[v.jsx(e.icon,{}),v.jsx("span",{children:e.name})]})}),v.jsx(Qy,{})]},e.name)),v.jsx(Od,{})]})]})}var PE={exports:{}},DE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj;function $de(){if(Dj)return DE;Dj=1;var t=Cm();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return DE.useSyncExternalStoreWithSelector=function(l,c,d,f,p){var g=i(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=s(function(){function x(_){if(!w){if(w=!0,E=_,_=f(_),p!==void 0&&y.hasValue){var P=y.value;if(p(P,_))return T=P}return T=_}if(P=T,r(E,_))return P;var R=f(_);return p!==void 0&&p(P,R)?(E=_,P):(E=_,T=R)}var w=!1,E,T,O=d===void 0?null:d;return[function(){return x(c())},O===null?void 0:function(){return x(O())}]},[c,d,f,p]);var b=n(l,g[0],g[1]);return a(function(){y.hasValue=!0,y.value=b},[b]),o(b),b},DE}var Lj;function Fde(){return Lj||(Lj=1,PE.exports=$de()),PE.exports}var Bde=Fde();function nH(t){t()}function Ude(){let t=null,e=null;return{clear(){t=null,e=null},notify(){nH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Ij={notify(){},get:()=>[]};function Gde(t,e){let r,n=Ij,i=0,a=!1;function s(b){d();const x=n.subscribe(b);let w=!1;return()=>{w||(w=!0,x(),f())}}function o(){n.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return a}function d(){i++,r||(r=t.subscribe(l),n=Ude())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Ij)}function p(){a||(a=!0,d())}function g(){a&&(a=!1,f())}const y={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>n};return y}var zde=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vde=zde(),qde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hde=qde(),Kde=()=>Vde||Hde?A.useLayoutEffect:A.useEffect,Wde=Kde();function Mj(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ip(t,e){if(Mj(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!Mj(t[r[i]],e[r[i]]))return!1;return!0}var LE=Symbol.for("react-redux-context"),IE=typeof globalThis<"u"?globalThis:{};function Yde(){if(!A.createContext)return{};const t=IE[LE]??(IE[LE]=new Map);let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var hl=Yde();function Xde(t){const{children:e,context:r,serverState:n,store:i}=t,a=A.useMemo(()=>{const l=Gde(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=A.useMemo(()=>i.getState(),[i]);Wde(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||hl;return A.createElement(o.Provider,{value:a},e)}var Qde=Xde;function TD(t=hl){return function(){return A.useContext(t)}}var iH=TD();function aH(t=hl){const e=t===hl?iH:TD(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var sH=aH();function Zde(t=hl){const e=t===hl?sH:aH(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Zb=Zde(),Jde=(t,e)=>t===e;function efe(t=hl){const e=t===hl?iH:TD(t),r=(n,i={})=>{const{equalityFn:a=Jde}=typeof i=="function"?{equalityFn:i}:i,s=e(),{store:o,subscription:l,getServerState:c}=s;A.useRef(!0);const d=A.useCallback({[n.name](p){return n(p)}}[n.name],[n]),f=Bde.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,c||o.getState,d,a);return A.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var AD=efe(),tfe=nH;const rfe=Zb,nfe=AD;function hn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ife=typeof Symbol=="function"&&Symbol.observable||"@@observable",Nj=ife,ME=()=>Math.random().toString(36).substring(7).split("").join("."),afe={INIT:`@@redux/INIT${ME()}`,REPLACE:`@@redux/REPLACE${ME()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ME()}`},Zy=afe;function pl(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function _D(t,e,r){if(typeof t!="function")throw new Error(hn(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(hn(1));return r(_D)(t,e)}let n=t,i=e,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((x,w)=>{s.set(w,x)}))}function d(){if(l)throw new Error(hn(3));return i}function f(x){if(typeof x!="function")throw new Error(hn(4));if(l)throw new Error(hn(5));let w=!0;c();const E=o++;return s.set(E,x),function(){if(w){if(l)throw new Error(hn(6));w=!1,c(),s.delete(E),a=null}}}function p(x){if(!pl(x))throw new Error(hn(7));if(typeof x.type>"u")throw new Error(hn(8));if(typeof x.type!="string")throw new Error(hn(17));if(l)throw new Error(hn(9));try{l=!0,i=n(i,x)}finally{l=!1}return(a=s).forEach(E=>{E()}),x}function g(x){if(typeof x!="function")throw new Error(hn(10));n=x,p({type:Zy.REPLACE})}function y(){const x=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(hn(11));function E(){const O=w;O.next&&O.next(d())}return E(),{unsubscribe:x(E)}},[Nj](){return this}}}return p({type:Zy.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:g,[Nj]:y}}function sfe(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Zy.INIT})>"u")throw new Error(hn(12));if(typeof r(void 0,{type:Zy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hn(13))})}function oH(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let i;try{sfe(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<n.length;d++){const f=n[d],p=r[f],g=s[f],y=p(g,o);if(typeof y>"u")throw o&&o.type,new Error(hn(14));c[f]=y,l=l||y!==g}return l=l||n.length!==Object.keys(s).length,l?c:s}}function Jy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function ofe(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(hn(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=t.map(l=>l(s));return a=Jy(...o)(i.dispatch),{...i,dispatch:a}}}function lH(t){return pl(t)&&"type"in t&&typeof t.type=="string"}var OD=Symbol.for("immer-nothing"),ap=Symbol.for("immer-draftable"),Xn=Symbol.for("immer-state");function mn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ic=Object.getPrototypeOf;function Ya(t){return!!t&&!!t[Xn]}function ba(t){var e;return t?cH(t)||Array.isArray(t)||!!t[ap]||!!((e=t.constructor)!=null&&e[ap])||Vm(t)||qm(t):!1}var lfe=Object.prototype.constructor.toString();function cH(t){if(!t||typeof t!="object")return!1;const e=Ic(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===lfe}function cfe(t){return Ya(t)||mn(15,t),t[Xn].base_}function Rp(t,e){Mc(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Mc(t){const e=t[Xn];return e?e.type_:Array.isArray(t)?1:Vm(t)?2:qm(t)?3:0}function Cp(t,e){return Mc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NE(t,e){return Mc(t)===2?t.get(e):t[e]}function uH(t,e,r){const n=Mc(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function ufe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Vm(t){return t instanceof Map}function qm(t){return t instanceof Set}function lc(t){return t.copy_||t.base_}function tR(t,e){if(Vm(t))return new Map(t);if(qm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=cH(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Xn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Ic(t),n)}else{const n=Ic(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function RD(t,e=!1){return Jb(t)||Ya(t)||!ba(t)||(Mc(t)>1&&(t.set=t.add=t.clear=t.delete=dfe),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>RD(n,!0))),t}function dfe(){mn(2)}function Jb(t){return Object.isFrozen(t)}var rR={};function Nc(t){const e=rR[t];return e||mn(0,t),e}function ffe(t,e){rR[t]||(rR[t]=e)}var Pp;function dH(){return Pp}function hfe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kj(t,e){e&&(Nc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function nR(t){iR(t),t.drafts_.forEach(pfe),t.drafts_=null}function iR(t){t===Pp&&(Pp=t.parent_)}function jj(t){return Pp=hfe(Pp,t)}function pfe(t){const e=t[Xn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $j(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Xn].modified_&&(nR(e),mn(4)),ba(t)&&(t=e0(e,t),e.parent_||t0(e,t)),e.patches_&&Nc("Patches").generateReplacementPatches_(r[Xn].base_,t,e.patches_,e.inversePatches_)):t=e0(e,r,[]),nR(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==OD?t:void 0}function e0(t,e,r){if(Jb(e))return e;const n=e[Xn];if(!n)return Rp(e,(i,a)=>Fj(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return t0(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),Rp(a,(o,l)=>Fj(t,n,i,o,l,r,s)),t0(t,i,!1),r&&t.patches_&&Nc("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function Fj(t,e,r,n,i,a,s){if(Ya(i)){const o=a&&e&&e.type_!==3&&!Cp(e.assigned_,n)?a.concat(n):void 0,l=e0(t,i,o);if(uH(r,n,l),Ya(l))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if(ba(i)&&!Jb(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;e0(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&t0(t,i)}}function t0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&RD(e,r)}function mfe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:dH(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=CD;r&&(i=[n],a=Dp);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var CD={get(t,e){if(e===Xn)return t;const r=lc(t);if(!Cp(r,e))return gfe(t,r,e);const n=r[e];return t.finalized_||!ba(n)?n:n===kE(t.base_,e)?(jE(t),t.copy_[e]=sR(n,t)):n},has(t,e){return e in lc(t)},ownKeys(t){return Reflect.ownKeys(lc(t))},set(t,e,r){const n=fH(lc(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=kE(lc(t),e),a=i==null?void 0:i[Xn];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(ufe(r,i)&&(r!==void 0||Cp(t.base_,e)))return!0;jE(t),aR(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return kE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,jE(t),aR(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=lc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){mn(11)},getPrototypeOf(t){return Ic(t.base_)},setPrototypeOf(){mn(12)}},Dp={};Rp(CD,(t,e)=>{Dp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Dp.deleteProperty=function(t,e){return Dp.set.call(this,t,e,void 0)};Dp.set=function(t,e,r){return CD.set.call(this,t[0],e,r,t[0])};function kE(t,e){const r=t[Xn];return(r?lc(r):t)[e]}function gfe(t,e,r){var i;const n=fH(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function fH(t,e){if(!(e in t))return;let r=Ic(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Ic(r)}}function aR(t){t.modified_||(t.modified_=!0,t.parent_&&aR(t.parent_))}function jE(t){t.copy_||(t.copy_=tR(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vfe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const s=this;return function(l=a,...c){return s.produce(l,d=>r.call(this,d,...c))}}typeof r!="function"&&mn(6),n!==void 0&&typeof n!="function"&&mn(7);let i;if(ba(e)){const a=jj(this),s=sR(e,void 0);let o=!0;try{i=r(s),o=!1}finally{o?nR(a):iR(a)}return kj(a,n),$j(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===OD&&(i=void 0),this.autoFreeze_&&RD(i,!0),n){const a=[],s=[];Nc("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else mn(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let n,i;return[this.produce(e,r,(s,o)=>{n=s,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ba(t)||mn(8),Ya(t)&&(t=yfe(t));const e=jj(this),r=sR(t,void 0);return r[Xn].isManual_=!0,iR(e),r}finishDraft(t,e){const r=t&&t[Xn];(!r||!r.isManual_)&&mn(9);const{scope_:n}=r;return kj(n,e),$j(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Nc("Patches").applyPatches_;return Ya(t)?n(t,e):this.produce(t,i=>n(i,e))}};function sR(t,e){const r=Vm(t)?Nc("MapSet").proxyMap_(t,e):qm(t)?Nc("MapSet").proxySet_(t,e):mfe(t,e);return(e?e.scope_:dH()).drafts_.push(r),r}function yfe(t){return Ya(t)||mn(10,t),hH(t)}function hH(t){if(!ba(t)||Jb(t))return t;const e=t[Xn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=tR(t,e.scope_.immer_.useStrictShallowCopy_)}else r=tR(t,!0);return Rp(r,(n,i)=>{uH(r,n,hH(i))}),e&&(e.finalized_=!1),r}function bfe(){const e="replace",r="add",n="remove";function i(p,g,y,b){switch(p.type_){case 0:case 2:return s(p,g,y,b);case 1:return a(p,g,y,b);case 3:return o(p,g,y,b)}}function a(p,g,y,b){let{base_:x,assigned_:w}=p,E=p.copy_;E.length<x.length&&([x,E]=[E,x],[y,b]=[b,y]);for(let T=0;T<x.length;T++)if(w[T]&&E[T]!==x[T]){const O=g.concat([T]);y.push({op:e,path:O,value:f(E[T])}),b.push({op:e,path:O,value:f(x[T])})}for(let T=x.length;T<E.length;T++){const O=g.concat([T]);y.push({op:r,path:O,value:f(E[T])})}for(let T=E.length-1;x.length<=T;--T){const O=g.concat([T]);b.push({op:n,path:O})}}function s(p,g,y,b){const{base_:x,copy_:w}=p;Rp(p.assigned_,(E,T)=>{const O=NE(x,E),_=NE(w,E),P=T?Cp(x,E)?e:r:n;if(O===_&&P===e)return;const R=g.concat(E);y.push(P===n?{op:P,path:R}:{op:P,path:R,value:_}),b.push(P===r?{op:n,path:R}:P===n?{op:r,path:R,value:f(O)}:{op:e,path:R,value:f(O)})})}function o(p,g,y,b){let{base_:x,copy_:w}=p,E=0;x.forEach(T=>{if(!w.has(T)){const O=g.concat([E]);y.push({op:n,path:O,value:T}),b.unshift({op:r,path:O,value:T})}E++}),E=0,w.forEach(T=>{if(!x.has(T)){const O=g.concat([E]);y.push({op:r,path:O,value:T}),b.unshift({op:n,path:O,value:T})}E++})}function l(p,g,y,b){y.push({op:e,path:[],value:g===OD?void 0:g}),b.push({op:e,path:[],value:p})}function c(p,g){return g.forEach(y=>{const{path:b,op:x}=y;let w=p;for(let _=0;_<b.length-1;_++){const P=Mc(w);let R=b[_];typeof R!="string"&&typeof R!="number"&&(R=""+R),(P===0||P===1)&&(R==="__proto__"||R==="constructor")&&mn(19),typeof w=="function"&&R==="prototype"&&mn(19),w=NE(w,R),typeof w!="object"&&mn(18,b.join("/"))}const E=Mc(w),T=d(y.value),O=b[b.length-1];switch(x){case e:switch(E){case 2:return w.set(O,T);case 3:mn(16);default:return w[O]=T}case r:switch(E){case 1:return O==="-"?w.push(T):w.splice(O,0,T);case 2:return w.set(O,T);case 3:return w.add(T);default:return w[O]=T}case n:switch(E){case 1:return w.splice(O,1);case 2:return w.delete(O);case 3:return w.delete(y.value);default:return delete w[O]}default:mn(17,x)}}),p}function d(p){if(!ba(p))return p;if(Array.isArray(p))return p.map(d);if(Vm(p))return new Map(Array.from(p.entries()).map(([y,b])=>[y,d(b)]));if(qm(p))return new Set(Array.from(p).map(d));const g=Object.create(Ic(p));for(const y in p)g[y]=d(p[y]);return Cp(p,ap)&&(g[ap]=p[ap]),g}function f(p){return Ya(p)?d(p):p}ffe("Patches",{applyPatches_:c,generatePatches_:i,generateReplacementPatches_:l})}var vi=new vfe,Hm=vi.produce,pH=vi.produceWithPatches.bind(vi);vi.setAutoFreeze.bind(vi);vi.setUseStrictShallowCopy.bind(vi);var Bj=vi.applyPatches.bind(vi);vi.createDraft.bind(vi);vi.finishDraft.bind(vi);function xfe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Sfe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function wfe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var Uj=t=>Array.isArray(t)?t:[t];function Efe(t){const e=Array.isArray(t[0])?t[0]:t;return wfe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Tfe(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Afe=class{constructor(t){this.value=t}deref(){return this.value}},_fe=typeof WeakRef<"u"?WeakRef:Afe,Ofe=0,Gj=1;function _v(){return{s:Ofe,v:void 0,o:null,p:null}}function r0(t,e={}){let r=_v();const{resultEqualityCheck:n}=e;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let p=0,g=l;p<g;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const x=b.get(y);x===void 0?(o=_v(),b.set(y,o)):o=x}else{let b=o.p;b===null&&(o.p=b=new Map);const x=b.get(y);x===void 0?(o=_v(),b.set(y,o)):o=x}}const c=o;let d;if(o.s===Gj)d=o.v;else if(d=t.apply(null,arguments),a++,n){const p=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;p!=null&&n(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new _fe(d):d}return c.s=Gj,c.v=d,d}return s.clearCache=()=>{r=_v(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Rfe(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),xfe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:g=r0,argsMemoizeOptions:y=[]}=d,b=Uj(p),x=Uj(y),w=Efe(i),E=f(function(){return a++,c.apply(null,arguments)},...b),T=g(function(){s++;const _=Tfe(w,arguments);return o=E.apply(null,_),o},...x);return Object.assign(T,{resultFunc:c,memoizedResultFunc:E,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var PD=Rfe(r0),Cfe=Object.assign((t,e=PD)=>{Sfe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>Cfe});function mH(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var Pfe=mH(),Dfe=mH,Lfe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jy:Jy.apply(null,arguments)},Ife=t=>t&&typeof t.match=="function";function fa(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(ha(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>lH(n)&&n.type===t,r}var gH=class Xh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Xh.prototype)}static get[Symbol.species](){return Xh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Xh(...e[0].concat(this)):new Xh(...e.concat(this))}};function zj(t){return ba(t)?Hm(t,()=>{}):t}function Vj(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Mfe(t){return typeof t=="boolean"}var Nfe=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new gH;return r&&(Mfe(r)?s.push(Pfe):s.push(Dfe(r.extraArgument))),s},ex="RTK_autoBatch",_h=()=>t=>({payload:t,meta:{[ex]:!0}}),qj=t=>e=>{setTimeout(e,t)},kfe=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qj(10):t.type==="callback"?t.queueNotification:qj(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),p=n.subscribe(f);return o.add(d),()=>{p(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[ex]),a=!i,a&&(s||(s=!0,l(c))),n.dispatch(d)}finally{i=!0}}})},jfe=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new gH(t);return n&&i.push(kfe(typeof n=="object"?n:void 0)),i};function $fe(t){const e=Nfe(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(pl(r))o=oH(r);else throw new Error(ha(1));let l;typeof n=="function"?l=n(e):l=e();let c=Jy;i&&(c=Lfe({trace:!1,...typeof i=="object"&&i}));const d=ofe(...l),f=jfe(d);let p=typeof s=="function"?s(f):f();const g=c(...p);return _D(o,a,g)}function vH(t){const e={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(ha(28));if(o in e)throw new Error(ha(29));return e[o]=s,i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function Ffe(t){return typeof t=="function"}function Bfe(t,e){let[r,n,i]=vH(e),a;if(Ffe(t))a=()=>zj(t());else{const o=zj(t);a=()=>o}function s(o=a(),l){let c=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(Ya(d)){const g=f(d,l);return g===void 0?d:g}else{if(ba(d))return Hm(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},o)}return s.getInitialState=a,s}var yH=(t,e)=>Ife(t)?t.match(e):t(e);function Zs(...t){return e=>t.some(r=>yH(r,e))}function sp(...t){return e=>t.every(r=>yH(r,e))}function tx(t,e){if(!t||!t.meta)return!1;const r=typeof t.meta.requestId=="string",n=e.indexOf(t.meta.requestStatus)>-1;return r&&n}function Km(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function DD(...t){return t.length===0?e=>tx(e,["pending"]):Km(t)?Zs(...t.map(e=>e.pending)):DD()(t[0])}function Dd(...t){return t.length===0?e=>tx(e,["rejected"]):Km(t)?Zs(...t.map(e=>e.rejected)):Dd()(t[0])}function rx(...t){const e=r=>r&&r.meta&&r.meta.rejectedWithValue;return t.length===0?sp(Dd(...t),e):Km(t)?sp(Dd(...t),e):rx()(t[0])}function ml(...t){return t.length===0?e=>tx(e,["fulfilled"]):Km(t)?Zs(...t.map(e=>e.fulfilled)):ml()(t[0])}function oR(...t){return t.length===0?e=>tx(e,["pending","fulfilled","rejected"]):Km(t)?Zs(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):oR()(t[0])}var Ufe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LD=(t=21)=>{let e="",r=t;for(;r--;)e+=Ufe[Math.random()*64|0];return e},Gfe=["name","message","stack","code"],$E=class{constructor(t,e){rE(this,"_type");this.payload=t,this.meta=e}},Hj=class{constructor(t,e){rE(this,"_type");this.payload=t,this.meta=e}},zfe=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of Gfe)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},Kj="External signal was aborted",Wj=(()=>{function t(e,r,n){const i=fa(e+"/fulfilled",(l,c,d,f)=>({payload:l,meta:{...f||{},arg:d,requestId:c,requestStatus:"fulfilled"}})),a=fa(e+"/pending",(l,c,d)=>({payload:void 0,meta:{...d||{},arg:c,requestId:l,requestStatus:"pending"}})),s=fa(e+"/rejected",(l,c,d,f,p)=>({payload:f,error:(n&&n.serializeError||zfe)(l||"Rejected"),meta:{...p||{},arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function o(l,{signal:c}={}){return(d,f,p)=>{const g=n!=null&&n.idGenerator?n.idGenerator(l):LD(),y=new AbortController;let b,x;function w(T){x=T,y.abort()}c&&(c.aborted?w(Kj):c.addEventListener("abort",()=>w(Kj),{once:!0}));const E=async function(){var _,P;let T;try{let R=(_=n==null?void 0:n.condition)==null?void 0:_.call(n,l,{getState:f,extra:p});if(qfe(R)&&(R=await R),R===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const D=new Promise((I,M)=>{b=()=>{M({name:"AbortError",message:x||"Aborted"})},y.signal.addEventListener("abort",b)});d(a(g,l,(P=n==null?void 0:n.getPendingMeta)==null?void 0:P.call(n,{requestId:g,arg:l},{getState:f,extra:p}))),T=await Promise.race([D,Promise.resolve(r(l,{dispatch:d,getState:f,extra:p,requestId:g,signal:y.signal,abort:w,rejectWithValue:(I,M)=>new $E(I,M),fulfillWithValue:(I,M)=>new Hj(I,M)})).then(I=>{if(I instanceof $E)throw I;return I instanceof Hj?i(I.payload,g,l,I.meta):i(I,g,l)})])}catch(R){T=R instanceof $E?s(null,g,l,R.payload,R.meta):s(R,g,l)}finally{b&&y.signal.removeEventListener("abort",b)}return n&&!n.dispatchConditionRejection&&s.match(T)&&T.meta.condition||d(T),T}();return Object.assign(E,{abort:w,requestId:g,arg:l,unwrap(){return E.then(Vfe)}})}}return Object.assign(o,{pending:a,rejected:s,fulfilled:i,settled:Zs(s,i),typePrefix:e})}return t.withTypes=()=>t,t})();function Vfe(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function qfe(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Hfe=Symbol.for("rtk-slice-createasyncthunk");function Kfe(t,e){return`${t}/${e}`}function Wfe({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Hfe];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(ha(11));const o=(typeof i.reducers=="function"?i.reducers(Xfe()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(T,O){const _=typeof T=="string"?T:T.type;if(!_)throw new Error(ha(12));if(_ in c.sliceCaseReducersByType)throw new Error(ha(13));return c.sliceCaseReducersByType[_]=O,d},addMatcher(T,O){return c.sliceMatchers.push({matcher:T,reducer:O}),d},exposeAction(T,O){return c.actionCreators[T]=O,d},exposeCaseReducer(T,O){return c.sliceCaseReducersByName[T]=O,d}};l.forEach(T=>{const O=o[T],_={reducerName:T,type:Kfe(a,T),createNotation:typeof i.reducers=="function"};Zfe(O)?ehe(_,O,d,e):Qfe(_,O,d)});function f(){const[T={},O=[],_=void 0]=typeof i.extraReducers=="function"?vH(i.extraReducers):[i.extraReducers],P={...T,...c.sliceCaseReducersByType};return Bfe(i.initialState,R=>{for(let D in P)R.addCase(D,P[D]);for(let D of c.sliceMatchers)R.addMatcher(D.matcher,D.reducer);for(let D of O)R.addMatcher(D.matcher,D.reducer);_&&R.addDefaultCase(_)})}const p=T=>T,g=new Map;let y;function b(T,O){return y||(y=f()),y(T,O)}function x(){return y||(y=f()),y.getInitialState()}function w(T,O=!1){function _(R){let D=R[T];return typeof D>"u"&&O&&(D=x()),D}function P(R=p){const D=Vj(g,O,()=>new WeakMap);return Vj(D,R,()=>{const I={};for(const[M,N]of Object.entries(i.selectors??{}))I[M]=Yfe(N,R,x,O);return I})}return{reducerPath:T,getSelectors:P,get selectors(){return P(_)},selectSlice:_}}const E={name:a,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...w(s),injectInto(T,{reducerPath:O,..._}={}){const P=O??s;return T.inject({reducerPath:P,reducer:b},_),{...E,...w(P,!0)}}};return E}}function Yfe(t,e,r,n){function i(a,...s){let o=e(a);return typeof o>"u"&&n&&(o=r()),t(o,...s)}return i.unwrapped=t,i}var cc=Wfe();function Xfe(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Qfe({type:t,reducerName:e,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!Jfe(n))throw new Error(ha(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?fa(t,s):fa(t))}function Zfe(t){return t._reducerDefinitionType==="asyncThunk"}function Jfe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ehe({type:t,reducerName:e},r,n,i){if(!i)throw new Error(ha(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=r,f=i(t,a,d);n.exposeAction(e,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(e,{fulfilled:s||Ov,pending:o||Ov,rejected:l||Ov,settled:c||Ov})}function Ov(){}function ha(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const the={token:localStorage.getItem("token")},bH=cc({name:"auth",initialState:the,reducers:{setUser:(t,e)=>{const{token:r}=e.payload;t.token=r,localStorage.setItem("token",r)},logout:t=>{t.token=null,localStorage.removeItem("token")}}}),{setUser:xH,logout:rhe}=bH.actions,nhe=bH.reducer,ihe=t=>t.auth.token;class Qh extends Error{}Qh.prototype.name="InvalidTokenError";function ahe(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function she(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return ahe(e)}catch{return atob(e)}}function ID(t,e){if(typeof t!="string")throw new Qh("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new Qh(`Invalid token specified: missing part #${r+1}`);let i;try{i=she(n)}catch(a){throw new Qh(`Invalid token specified: invalid base64 for part #${r+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new Qh(`Invalid token specified: invalid json for part #${r+1} (${a.message})`)}}const ohe=t=>t.split(".").length===3,wl=()=>{const t=AD(e=>e.auth.token);if(t&&ohe(t))try{return ID(t)}catch{return console.error("Invalid token format"),null}return null};function lhe({items:t,...e}){const r=rfe(),n=Um(),i=nfe(ihe),a=()=>{r(rhe()),n("/")};A.useEffect(()=>{i||n("/")},[i,n]);const s=wl();return v.jsx(Hb,{...e,children:v.jsx(mV,{children:v.jsx(jm,{children:t.map(o=>v.jsx(Od,{children:v.jsx(Kb,{asChild:!0,size:"sm",children:s&&v.jsxs(dt,{onClick:a,className:"hover:bg-yellow-300 w-full hover:text-black",children:[v.jsx(o.icon,{}),v.jsx("span",{children:o.title})]})})},o.title))})})})}var SH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yj=W.createContext&&W.createContext(SH),che=["attr","size","title"];function uhe(t,e){if(t==null)return{};var r=dhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function n0(){return n0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n0.apply(this,arguments)}function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){fhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fhe(t,e,r){return e=hhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hhe(t){var e=phe(t,"string");return typeof e=="symbol"?e:e+""}function phe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wH(t){return t&&t.map((e,r)=>W.createElement(e.tag,i0({key:r},e.attr),wH(e.child)))}function vn(t){return e=>W.createElement(mhe,n0({attr:i0({},t.attr)},e),wH(t.child))}function mhe(t){var e=r=>{var{attr:n,size:i,title:a}=t,s=uhe(t,che),o=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),W.createElement("svg",n0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:l,style:i0(i0({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&W.createElement("title",null,a),t.children)};return Yj!==void 0?W.createElement(Yj.Consumer,null,r=>e(r)):e(SH)}function EH(t){return vn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function TH(t){return vn({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function ghe(t){return vn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(t)}function vhe(t){return vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h288c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-64zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function yhe(t){return vn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(t)}function nx(t){return vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function bhe(t){return vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function xhe(t){return vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function She(t){return vn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(t)}function AH(t){return vn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(t)}function Qj(t){return vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M401.4 354.2c-2.9.1-5.8.2-8.7.2-47.9 0-93-18.9-126.8-53.4-33.9-34.4-52.5-80.1-52.5-128.8 0-27.7 6.1-54.5 17.5-78.7 3.1-6.6 9.3-16.6 13.6-23.4 1.9-2.9-.5-6.7-3.9-6.1-6 .9-15.2 2.9-27.7 6.8C135.1 95.5 80 168.7 80 255c0 106.6 85.1 193 190.1 193 58 0 110-26.4 144.9-68.1 6-7.2 11.5-13.8 16.4-21.8 1.8-3-.7-6.7-4.1-6.1-8.5 1.7-17.1 1.8-25.9 2.2z"},child:[]}]})(t)}function whe(t){return vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M450.6 153.6c-3.3 0-6.5.9-9.3 2.7l-86.5 54.6c-2.5 1.6-4 4.3-4 7.2v76c0 2.9 1.5 5.6 4 7.2l86.5 54.6c2.8 1.7 6 2.7 9.3 2.7h20.8c4.8 0 8.6-3.8 8.6-8.5v-188c0-4.7-3.9-8.5-8.6-8.5h-20.8zM273.5 384h-190C55.2 384 32 360.8 32 332.6V179.4c0-28.3 23.2-51.4 51.4-51.4h190c28.3 0 51.4 23.2 51.4 51.4v153.1c.1 28.3-23 51.5-51.3 51.5z"},child:[]}]})(t)}function _H(t){return vn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M640 317.9C640 409.2 600.6 466.4 529.7 466.4C467.1 466.4 433.9 431.8 372.8 329.8L341.4 277.2C333.1 264.7 326.9 253 320.2 242.2C300.1 276 273.1 325.2 273.1 325.2C206.1 441.8 168.5 466.4 116.2 466.4C43.42 466.4 0 409.1 0 320.5C0 177.5 79.78 42.4 183.9 42.4C234.1 42.4 277.7 67.08 328.7 131.9C365.8 81.8 406.8 42.4 459.3 42.4C558.4 42.4 640 168.1 640 317.9H640zM287.4 192.2C244.5 130.1 216.5 111.7 183 111.7C121.1 111.7 69.22 217.8 69.22 321.7C69.22 370.2 87.7 397.4 118.8 397.4C149 397.4 167.8 378.4 222 293.6C222 293.6 246.7 254.5 287.4 192.2V192.2zM531.2 397.4C563.4 397.4 578.1 369.9 578.1 322.5C578.1 198.3 523.8 97.08 454.9 97.08C421.7 97.08 393.8 123 360 175.1C369.4 188.9 379.1 204.1 389.3 220.5L426.8 282.9C485.5 377 500.3 397.4 531.2 397.4L531.2 397.4z"},child:[]}]})(t)}function Ehe(t){return vn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c1.8 0 3.5-.2 5.3-.5c-76.3-55.1-99.8-141-103.1-200.2c-16.1-4.8-33.1-7.3-50.7-7.3l-91.4 0zm308.8-78.3l-120 48C358 277.4 352 286.2 352 296c0 63.3 25.9 168.8 134.8 214.2c5.9 2.5 12.6 2.5 18.5 0C614.1 464.8 640 359.3 640 296c0-9.8-6-18.6-15.1-22.3l-120-48c-5.7-2.3-12.1-2.3-17.8 0zM591.4 312c-3.9 50.7-27.2 116.7-95.4 149.7l0-187.8L591.4 312z"},child:[]}]})(t)}const Oh={navMain:[{title:"Home",url:"/",icon:Wte},{title:"Trending",url:"/trending",icon:Vte}],navSecondary:[{title:"Log out",url:"#",icon:Pte}],projects:[{name:"Bookmark",url:"/bookmark",icon:mte},{name:"History",url:"/history",icon:Hte}],dashboard:[{title:"Dashboard",url:"/dashboard/my-dashboard",icon:She},{title:"My videos",url:"/dashboard/my-videos",icon:whe},{title:"Edit Profile",url:"/dashboard/edit-profile",icon:xhe}],adminDashboard:[{title:"Dashboard",url:"/dashboard/adminDashboard",icon:Ehe}]};function oo({...t}){const e=wl();return v.jsxs(dV,{variant:"inset",...t,children:[v.jsx(fV,{children:v.jsx(jm,{children:v.jsx(Od,{children:v.jsxs("h1",{className:"ms-2",children:[v.jsx("span",{className:"text-yellow-500 font-bold italic text-4xl",children:"N"}),v.jsx("span",{className:"text-xl",children:"Movies"})]})})})}),v.jsxs(pV,{children:[v.jsx(AE,{title:"Menu",items:Oh.navMain}),v.jsx(jde,{projects:Oh.projects}),e&&v.jsx(AE,{title:"Dashboard",items:Oh.dashboard}),e&&v.jsx(AE,{title:"Admin Dashboard",items:Oh.adminDashboard}),v.jsx(lhe,{items:Oh.navSecondary,className:"mt-auto"})]}),v.jsx(hV,{})]})}function OH(t){return vn({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16 4C16.5523 4 17 4.44772 17 5V9.2L22.2133 5.55071C22.4395 5.39235 22.7513 5.44737 22.9096 5.6736C22.9684 5.75764 23 5.85774 23 5.96033V18.0397C23 18.3158 22.7761 18.5397 22.5 18.5397C22.3974 18.5397 22.2973 18.5081 22.2133 18.4493L17 14.8V19C17 19.5523 16.5523 20 16 20H2C1.44772 20 1 19.5523 1 19V5C1 4.44772 1.44772 4 2 4H16ZM9 8L5 12H8V16H10V12H13L9 8Z"},child:[]}]})(t)}const ix=()=>v.jsx("footer",{className:"mt-10 bg-gray-900 text-gray-300 py-8 px-4 md:px-8",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-white mb-4",children:"Links"}),v.jsxs("ul",{className:"space-y-2",children:[v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Movies"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"TV Shows"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Top IMDB"})})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("div",{children:v.jsxs("ul",{className:"space-y-2",children:[v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Action Movies"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Horror Movies"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Comedy Movies"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Thriller Movies"})})]})}),v.jsx("div",{children:v.jsxs("ul",{className:"space-y-2",children:[v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Contact"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Terms of service"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"FAQ"})})]})})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-white mb-4",children:"About Us"}),v.jsxs("p",{className:"mb-3",children:[v.jsx("span",{className:"text-yellow-400",children:"N"}),"-Movies is free streaming website with zero ads, it allows you"," ",v.jsx("span",{className:"font-medium",children:"watch shows online free"})," in high quality for free. You can also download full tv shows and watch it later if you want."]}),v.jsxs("div",{className:"flex flex-wrap gap-4",children:[v.jsxs("div",{className:"flex items-center gap-2 border border-yellow-400 rounded-md px-3 py-1",children:[v.jsx(yhe,{className:"text-yellow-400"}),v.jsx("span",{className:"text-sm",children:"High quality"})]}),v.jsxs("div",{className:"flex items-center gap-2 border border-yellow-400 rounded-md px-3 py-1",children:[v.jsx(nx,{className:"text-yellow-400"}),v.jsx("span",{className:"text-sm",children:"Free forever"})]}),v.jsxs("div",{className:"flex items-center gap-2 border border-yellow-400 rounded-md px-3 py-1",children:[v.jsx(ghe,{className:"text-yellow-400"}),v.jsx("span",{className:"text-sm",children:"Fast load"})]})]})]})]}),v.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-800 flex justify-center gap-8",children:[v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Contact"}),v.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Terms of service"})]})]})});var RH=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(RH||{});function Zj(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var Jj=pl;function CH(t,e){if(t===e||!(Jj(t)&&Jj(e)||Array.isArray(t)&&Array.isArray(e)))return e;const r=Object.keys(e),n=Object.keys(t);let i=r.length===n.length;const a=Array.isArray(e)?[]:{};for(const s of r)a[s]=CH(t[s],e[s]),i&&(i=t[s]===a[s]);return i?t:a}function fd(t){let e=0;for(const r in t)e++;return e}var e$=t=>[].concat(...t);function The(t){return new RegExp("(^|:)//").test(t)}function Ahe(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function a0(t){return t!=null}function _he(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var Ohe=t=>t.replace(/\/$/,""),Rhe=t=>t.replace(/^\//,"");function Che(t,e){if(!t)return e;if(!e)return t;if(The(e))return e;const r=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=Ohe(t),e=Rhe(e),`${t}${r}${e}`}function Phe(t,e,r){return t.has(e)?t.get(e):t.set(e,r).get(e)}var t$=(...t)=>fetch(...t),Dhe=t=>t.status>=200&&t.status<=299,Lhe=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function r$(t){if(!pl(t))return t;const e={...t};for(const[r,n]of Object.entries(e))n===void 0&&delete e[r];return e}function Ihe({baseUrl:t,prepareHeaders:e=f=>f,fetchFn:r=t$,paramsSerializer:n,isJsonContentType:i=Lhe,jsonContentType:a="application/json",jsonReplacer:s,timeout:o,responseHandler:l,validateStatus:c,...d}={}){return typeof fetch>"u"&&r===t$&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(p,g,y)=>{const{getState:b,extra:x,endpoint:w,forced:E,type:T}=g;let O,{url:_,headers:P=new Headers(d.headers),params:R=void 0,responseHandler:D=l??"json",validateStatus:I=c??Dhe,timeout:M=o,...N}=typeof p=="string"?{url:p}:p,k,F=g.signal;M&&(k=new AbortController,g.signal.addEventListener("abort",k.abort),F=k.signal);let U={...d,signal:F,...N};P=new Headers(r$(P)),U.headers=await e(P,{getState:b,arg:p,extra:x,endpoint:w,forced:E,type:T,extraOptions:y})||P;const z=ee=>typeof ee=="object"&&(pl(ee)||Array.isArray(ee)||typeof ee.toJSON=="function");if(!U.headers.has("content-type")&&z(U.body)&&U.headers.set("content-type",a),z(U.body)&&i(U.headers)&&(U.body=JSON.stringify(U.body,s)),R){const ee=~_.indexOf("?")?"&":"?",ue=n?n(R):new URLSearchParams(r$(R));_+=ee+ue}_=Che(t,_);const j=new Request(_,U);O={request:new Request(_,U)};let V,q=!1,G=k&&setTimeout(()=>{q=!0,k.abort()},M);try{V=await r(j)}catch(ee){return{error:{status:q?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(ee)},meta:O}}finally{G&&clearTimeout(G),k==null||k.signal.removeEventListener("abort",k.abort)}const Y=V.clone();O.response=Y;let X,te="";try{let ee;if(await Promise.all([f(V,D).then(ue=>X=ue,ue=>ee=ue),Y.text().then(ue=>te=ue,()=>{})]),ee)throw ee}catch(ee){return{error:{status:"PARSING_ERROR",originalStatus:V.status,data:te,error:String(ee)},meta:O}}return I(V,X)?{data:X,meta:O}:{error:{status:V.status,data:X},meta:O}};async function f(p,g){if(typeof g=="function")return g(p);if(g==="content-type"&&(g=i(p.headers)?"json":"text"),g==="json"){const y=await p.text();return y.length?JSON.parse(y):null}return p.text()}}var n$=class{constructor(t,e=void 0){this.value=t,this.meta=e}},MD=fa("__rtkq/focused"),PH=fa("__rtkq/unfocused"),ND=fa("__rtkq/online"),DH=fa("__rtkq/offline");function kD(t){return t.type==="query"}function Mhe(t){return t.type==="mutation"}function jD(t){return t.type==="infinitequery"}function $D(t,e,r,n,i,a){return Nhe(t)?t(e,r,n,i).filter(a0).map(lR).map(a):Array.isArray(t)?t.map(lR).map(a):[]}function Nhe(t){return typeof t=="function"}function lR(t){return typeof t=="string"?{type:t}:t}function khe(t,e){return t.catch(e)}var Lp=Symbol("forceQueryFn"),cR=t=>typeof t[Lp]=="function";function jhe({serializeQueryArgs:t,queryThunk:e,infiniteQueryThunk:r,mutationThunk:n,api:i,context:a}){const s=new Map,o=new Map,{unsubscribeQueryResult:l,removeMutationResult:c,updateSubscriptionOptions:d}=i.internalActions;return{buildInitiateQuery:x,buildInitiateInfiniteQuery:w,buildInitiateMutation:E,getRunningQueryThunk:f,getRunningMutationThunk:p,getRunningQueriesThunk:g,getRunningMutationsThunk:y};function f(T,O){return _=>{var D;const P=a.endpointDefinitions[T],R=t({queryArgs:O,endpointDefinition:P,endpointName:T});return(D=s.get(_))==null?void 0:D[R]}}function p(T,O){return _=>{var P;return(P=o.get(_))==null?void 0:P[O]}}function g(){return T=>Object.values(s.get(T)||{}).filter(a0)}function y(){return T=>Object.values(o.get(T)||{}).filter(a0)}function b(T,O){const _=(P,{subscribe:R=!0,forceRefetch:D,subscriptionOptions:I,[Lp]:M,...N}={})=>(k,F)=>{var he;const U=t({queryArgs:P,endpointDefinition:O,endpointName:T});let z;const j={...N,type:"query",subscribe:R,forceRefetch:D,subscriptionOptions:I,endpointName:T,originalArgs:P,queryCacheKey:U,[Lp]:M};if(kD(O))z=e(j);else{const{direction:ve,initialPageParam:Se}=N;z=r({...j,direction:ve,initialPageParam:Se})}const H=i.endpoints[T].select(P),V=k(z),q=H(F()),{requestId:G,abort:Y}=V,X=q.requestId!==G,te=(he=s.get(k))==null?void 0:he[U],ee=()=>H(F()),ue=Object.assign(M?V.then(ee):X&&!te?Promise.resolve(q):Promise.all([te,V]).then(ee),{arg:P,requestId:G,subscriptionOptions:I,queryCacheKey:U,abort:Y,async unwrap(){const ve=await ue;if(ve.isError)throw ve.error;return ve.data},refetch:()=>k(_(P,{subscribe:!1,forceRefetch:!0})),unsubscribe(){R&&k(l({queryCacheKey:U,requestId:G}))},updateSubscriptionOptions(ve){ue.subscriptionOptions=ve,k(d({endpointName:T,requestId:G,queryCacheKey:U,options:ve}))}});if(!te&&!X&&!M){const ve=Phe(s,k,{});ve[U]=ue,ue.then(()=>{delete ve[U],fd(ve)||s.delete(k)})}return ue};return _}function x(T,O){return b(T,O)}function w(T,O){return b(T,O)}function E(T){return(O,{track:_=!0,fixedCacheKey:P}={})=>(R,D)=>{const I=n({type:"mutation",endpointName:T,originalArgs:O,track:_,fixedCacheKey:P}),M=R(I),{requestId:N,abort:k,unwrap:F}=M,U=khe(M.unwrap().then(V=>({data:V})),V=>({error:V})),z=()=>{R(c({requestId:N,fixedCacheKey:P}))},j=Object.assign(U,{arg:M.arg,requestId:N,abort:k,unwrap:F,reset:z}),H=o.get(R)||{};return o.set(R,H),H[N]=j,j.then(()=>{delete H[N],fd(H)||o.delete(R)}),P&&(H[P]=j,j.then(()=>{H[P]===j&&(delete H[P],fd(H)||o.delete(R))})),j}}}function $he(t){return t}var Rv=(t={})=>({...t,[ex]:!0});function Fhe({reducerPath:t,baseQuery:e,context:{endpointDefinitions:r},serializeQueryArgs:n,api:i,assertTagType:a,selectors:s}){const o=(D,I,M,N)=>(k,F)=>{const U=r[D],z=n({queryArgs:I,endpointDefinition:U,endpointName:D});if(k(i.internalActions.queryResultPatched({queryCacheKey:z,patches:M})),!N)return;const j=i.endpoints[D].select(I)(F()),H=$D(U.providesTags,j.data,void 0,I,{},a);k(i.internalActions.updateProvidedBy({queryCacheKey:z,providedTags:H}))};function l(D,I,M=0){const N=[I,...D];return M&&N.length>M?N.slice(0,-1):N}function c(D,I,M=0){const N=[...D,I];return M&&N.length>M?N.slice(1):N}const d=(D,I,M,N=!0)=>(k,F)=>{const z=i.endpoints[D].select(I)(F()),j={patches:[],inversePatches:[],undo:()=>k(i.util.patchQueryData(D,I,j.inversePatches,N))};if(z.status==="uninitialized")return j;let H;if("data"in z)if(ba(z.data)){const[V,q,G]=pH(z.data,M);j.patches.push(...q),j.inversePatches.push(...G),H=V}else H=M(z.data),j.patches.push({op:"replace",path:[],value:H}),j.inversePatches.push({op:"replace",path:[],value:z.data});return j.patches.length===0||k(i.util.patchQueryData(D,I,j.patches,N)),j},f=(D,I,M)=>N=>N(i.endpoints[D].initiate(I,{subscribe:!1,forceRefetch:!0,[Lp]:()=>({data:M})})),p=(D,I)=>D.query&&D[I]?D[I]:$he,g=async(D,{signal:I,abort:M,rejectWithValue:N,fulfillWithValue:k,dispatch:F,getState:U,extra:z})=>{var H;const j=r[D.endpointName];try{let V=p(j,"transformResponse");const q={signal:I,abort:M,dispatch:F,getState:U,extra:z,endpoint:D.endpointName,type:D.type,forced:D.type==="query"?y(D,U()):void 0,queryCacheKey:D.type==="query"?D.queryCacheKey:void 0},G=D.type==="query"?D[Lp]:void 0;let Y;const X=async(ee,ue,he,ve)=>{if(ue==null&&ee.pages.length)return Promise.resolve({data:ee});const Se={queryArg:D.originalArgs,pageParam:ue},me=await te(Se),Ee=ve?l:c;return{data:{pages:Ee(ee.pages,me.data,he),pageParams:Ee(ee.pageParams,ue,he)}}};async function te(ee){let ue;const{extraOptions:he}=j;if(G?ue=G():j.query?ue=await e(j.query(ee),q,he):ue=await j.queryFn(ee,q,he,Se=>e(Se,q,he)),typeof process<"u",ue.error)throw new n$(ue.error,ue.meta);const ve=await V(ue.data,ue.meta,ee);return{...ue,data:ve}}if(D.type==="query"&&"infiniteQueryOptions"in j){const{infiniteQueryOptions:ee}=j,{maxPages:ue=1/0}=ee;let he;const ve={pages:[],pageParams:[]},Se=(H=s.selectQueryEntry(U(),D.queryCacheKey))==null?void 0:H.data,Ee=y(D,U())&&!D.direction||!Se?ve:Se;if("direction"in D&&D.direction&&Ee.pages.length){const Ce=D.direction==="backward",ke=(Ce?LH:uR)(ee,Ee);he=await X(Ee,ke,ue,Ce)}else{const{initialPageParam:Ce=ee.initialPageParam}=D,ce=(Se==null?void 0:Se.pageParams)??[],ke=ce[0]??Ce,Ue=ce.length;he=await X(Ee,ke,ue),G&&(he={data:he.data.pages[0]});for(let ut=1;ut<Ue;ut++){const Ie=uR(ee,he.data);he=await X(he.data,Ie,ue)}}Y=he}else Y=await te(D.originalArgs);return k(Y.data,Rv({fulfilledTimeStamp:Date.now(),baseQueryMeta:Y.meta}))}catch(V){let q=V;if(q instanceof n$){let G=p(j,"transformErrorResponse");try{return N(await G(q.value,q.meta,D.originalArgs),Rv({baseQueryMeta:q.meta}))}catch(Y){q=Y}}throw console.error(q),q}};function y(D,I){const M=s.selectQueryEntry(I,D.queryCacheKey),N=s.selectConfig(I).refetchOnMountOrArgChange,k=M==null?void 0:M.fulfilledTimeStamp,F=D.forceRefetch??(D.subscribe&&N);return F?F===!0||(Number(new Date)-Number(k))/1e3>=F:!1}const b=()=>Wj(`${t}/executeQuery`,g,{getPendingMeta({arg:I}){const M=r[I.endpointName];return Rv({startedTimeStamp:Date.now(),...jD(M)?{direction:I.direction}:{}})},condition(I,{getState:M}){var V;const N=M(),k=s.selectQueryEntry(N,I.queryCacheKey),F=k==null?void 0:k.fulfilledTimeStamp,U=I.originalArgs,z=k==null?void 0:k.originalArgs,j=r[I.endpointName],H=I.direction;return cR(I)?!0:(k==null?void 0:k.status)==="pending"?!1:y(I,N)||kD(j)&&((V=j==null?void 0:j.forceRefetch)!=null&&V.call(j,{currentArg:U,previousArg:z,endpointState:k,state:N}))?!0:!(F&&!H)},dispatchConditionRejection:!0}),x=b(),w=b(),E=Wj(`${t}/executeMutation`,g,{getPendingMeta(){return Rv({startedTimeStamp:Date.now()})}}),T=D=>"force"in D,O=D=>"ifOlderThan"in D,_=(D,I,M)=>(N,k)=>{const F=T(M)&&M.force,U=O(M)&&M.ifOlderThan,z=(H=!0)=>{const V={forceRefetch:H,isPrefetch:!0};return i.endpoints[D].initiate(I,V)},j=i.endpoints[D].select(I)(k());if(F)N(z());else if(U){const H=j==null?void 0:j.fulfilledTimeStamp;if(!H){N(z());return}(Number(new Date)-Number(new Date(H)))/1e3>=U&&N(z())}else N(z(!1))};function P(D){return I=>{var M,N;return((N=(M=I==null?void 0:I.meta)==null?void 0:M.arg)==null?void 0:N.endpointName)===D}}function R(D,I){return{matchPending:sp(DD(D),P(I)),matchFulfilled:sp(ml(D),P(I)),matchRejected:sp(Dd(D),P(I))}}return{queryThunk:x,mutationThunk:E,infiniteQueryThunk:w,prefetch:_,updateQueryData:d,upsertQueryData:f,patchQueryData:o,buildMatchThunkActions:R}}function uR(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function LH(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}function IH(t,e,r,n){return $D(r[t.meta.arg.endpointName][e],ml(t)?t.payload:void 0,rx(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,n)}function Cv(t,e,r){const n=t[e];n&&r(n)}function Ip(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function i$(t,e,r){const n=t[Ip(e)];n&&r(n)}var Rh={};function Bhe({reducerPath:t,queryThunk:e,mutationThunk:r,serializeQueryArgs:n,context:{endpointDefinitions:i,apiUid:a,extractRehydrationInfo:s,hasRehydrationInfo:o},assertTagType:l,config:c}){const d=fa(`${t}/resetApiState`);function f(R,D,I,M){var N;R[N=D.queryCacheKey]??(R[N]={status:"uninitialized",endpointName:D.endpointName}),Cv(R,D.queryCacheKey,k=>{k.status="pending",k.requestId=I&&k.requestId?k.requestId:M.requestId,D.originalArgs!==void 0&&(k.originalArgs=D.originalArgs),k.startedTimeStamp=M.startedTimeStamp;const F=i[M.arg.endpointName];jD(F)&&"direction"in D&&(k.direction=D.direction)})}function p(R,D,I,M){Cv(R,D.arg.queryCacheKey,N=>{if(N.requestId!==D.requestId&&!M)return;const{merge:k}=i[D.arg.endpointName];if(N.status="fulfilled",k)if(N.data!==void 0){const{fulfilledTimeStamp:F,arg:U,baseQueryMeta:z,requestId:j}=D;let H=Hm(N.data,V=>k(V,I,{arg:U.originalArgs,baseQueryMeta:z,fulfilledTimeStamp:F,requestId:j}));N.data=H}else N.data=I;else N.data=i[D.arg.endpointName].structuralSharing??!0?CH(Ya(N.data)?cfe(N.data):N.data,I):I;delete N.error,N.fulfilledTimeStamp=D.fulfilledTimeStamp})}const g=cc({name:`${t}/queries`,initialState:Rh,reducers:{removeQueryResult:{reducer(R,{payload:{queryCacheKey:D}}){delete R[D]},prepare:_h()},cacheEntriesUpserted:{reducer(R,D){for(const I of D.payload){const{queryDescription:M,value:N}=I;f(R,M,!0,{arg:M,requestId:D.meta.requestId,startedTimeStamp:D.meta.timestamp}),p(R,{arg:M,requestId:D.meta.requestId,fulfilledTimeStamp:D.meta.timestamp,baseQueryMeta:{}},N,!0)}},prepare:R=>({payload:R.map(M=>{const{endpointName:N,arg:k,value:F}=M,U=i[N];return{queryDescription:{type:"query",endpointName:N,originalArgs:M.arg,queryCacheKey:n({queryArgs:k,endpointDefinition:U,endpointName:N})},value:F}}),meta:{[ex]:!0,requestId:LD(),timestamp:Date.now()}})},queryResultPatched:{reducer(R,{payload:{queryCacheKey:D,patches:I}}){Cv(R,D,M=>{M.data=Bj(M.data,I.concat())})},prepare:_h()}},extraReducers(R){R.addCase(e.pending,(D,{meta:I,meta:{arg:M}})=>{const N=cR(M);f(D,M,N,I)}).addCase(e.fulfilled,(D,{meta:I,payload:M})=>{const N=cR(I.arg);p(D,I,M,N)}).addCase(e.rejected,(D,{meta:{condition:I,arg:M,requestId:N},error:k,payload:F})=>{Cv(D,M.queryCacheKey,U=>{if(!I){if(U.requestId!==N)return;U.status="rejected",U.error=F??k}})}).addMatcher(o,(D,I)=>{const{queries:M}=s(I);for(const[N,k]of Object.entries(M))((k==null?void 0:k.status)==="fulfilled"||(k==null?void 0:k.status)==="rejected")&&(D[N]=k)})}}),y=cc({name:`${t}/mutations`,initialState:Rh,reducers:{removeMutationResult:{reducer(R,{payload:D}){const I=Ip(D);I in R&&delete R[I]},prepare:_h()}},extraReducers(R){R.addCase(r.pending,(D,{meta:I,meta:{requestId:M,arg:N,startedTimeStamp:k}})=>{N.track&&(D[Ip(I)]={requestId:M,status:"pending",endpointName:N.endpointName,startedTimeStamp:k})}).addCase(r.fulfilled,(D,{payload:I,meta:M})=>{M.arg.track&&i$(D,M,N=>{N.requestId===M.requestId&&(N.status="fulfilled",N.data=I,N.fulfilledTimeStamp=M.fulfilledTimeStamp)})}).addCase(r.rejected,(D,{payload:I,error:M,meta:N})=>{N.arg.track&&i$(D,N,k=>{k.requestId===N.requestId&&(k.status="rejected",k.error=I??M)})}).addMatcher(o,(D,I)=>{const{mutations:M}=s(I);for(const[N,k]of Object.entries(M))((k==null?void 0:k.status)==="fulfilled"||(k==null?void 0:k.status)==="rejected")&&N!==(k==null?void 0:k.requestId)&&(D[N]=k)})}}),b=cc({name:`${t}/invalidation`,initialState:Rh,reducers:{updateProvidedBy:{reducer(R,D){var N,k;const{queryCacheKey:I,providedTags:M}=D.payload;for(const F of Object.values(R))for(const U of Object.values(F)){const z=U.indexOf(I);z!==-1&&U.splice(z,1)}for(const{type:F,id:U}of M){const z=(N=R[F]??(R[F]={}))[k=U||"__internal_without_id"]??(N[k]=[]);z.includes(I)||z.push(I)}},prepare:_h()}},extraReducers(R){R.addCase(g.actions.removeQueryResult,(D,{payload:{queryCacheKey:I}})=>{for(const M of Object.values(D))for(const N of Object.values(M)){const k=N.indexOf(I);k!==-1&&N.splice(k,1)}}).addMatcher(o,(D,I)=>{var N,k;const{provided:M}=s(I);for(const[F,U]of Object.entries(M))for(const[z,j]of Object.entries(U)){const H=(N=D[F]??(D[F]={}))[k=z||"__internal_without_id"]??(N[k]=[]);for(const V of j)H.includes(V)||H.push(V)}}).addMatcher(Zs(ml(e),rx(e)),(D,I)=>{x(D,I)}).addMatcher(g.actions.cacheEntriesUpserted.match,(D,I)=>{for(const{queryDescription:M,value:N}of I.payload)x(D,{type:"UNKNOWN",payload:N,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:M}})})}});function x(R,D){const I=IH(D,"providesTags",i,l),{queryCacheKey:M}=D.meta.arg;b.caseReducers.updateProvidedBy(R,b.actions.updateProvidedBy({queryCacheKey:M,providedTags:I}))}const w=cc({name:`${t}/subscriptions`,initialState:Rh,reducers:{updateSubscriptionOptions(R,D){},unsubscribeQueryResult(R,D){},internal_getRTKQSubscriptions(){}}}),E=cc({name:`${t}/internalSubscriptions`,initialState:Rh,reducers:{subscriptionsUpdated:{reducer(R,D){return Bj(R,D.payload)},prepare:_h()}}}),T=cc({name:`${t}/config`,initialState:{online:_he(),focused:Ahe(),middlewareRegistered:!1,...c},reducers:{middlewareRegistered(R,{payload:D}){R.middlewareRegistered=R.middlewareRegistered==="conflict"||a!==D?"conflict":!0}},extraReducers:R=>{R.addCase(ND,D=>{D.online=!0}).addCase(DH,D=>{D.online=!1}).addCase(MD,D=>{D.focused=!0}).addCase(PH,D=>{D.focused=!1}).addMatcher(o,D=>({...D}))}}),O=oH({queries:g.reducer,mutations:y.reducer,provided:b.reducer,subscriptions:E.reducer,config:T.reducer}),_=(R,D)=>O(d.match(D)?void 0:R,D),P={...T.actions,...g.actions,...w.actions,...E.actions,...y.actions,...b.actions,resetApiState:d};return{reducer:_,actions:P}}var js=Symbol.for("RTKQ/skipToken"),MH={status:"uninitialized"},a$=Hm(MH,()=>{}),s$=Hm(MH,()=>{});function Uhe({serializeQueryArgs:t,reducerPath:e,createSelector:r}){const n=T=>a$,i=T=>s$;return{buildQuerySelector:p,buildInfiniteQuerySelector:g,buildMutationSelector:y,selectInvalidatedBy:b,selectCachedArgsForQuery:x,selectApiState:s,selectQueries:o,selectMutations:c,selectQueryEntry:l,selectConfig:d};function a(T){return{...T,...Zj(T.status)}}function s(T){return T[e]}function o(T){var O;return(O=s(T))==null?void 0:O.queries}function l(T,O){var _;return(_=o(T))==null?void 0:_[O]}function c(T){var O;return(O=s(T))==null?void 0:O.mutations}function d(T){var O;return(O=s(T))==null?void 0:O.config}function f(T,O,_){return P=>{if(P===js)return r(n,_);const R=t({queryArgs:P,endpointDefinition:O,endpointName:T});return r(I=>l(I,R)??a$,_)}}function p(T,O){return f(T,O,a)}function g(T,O){const{infiniteQueryOptions:_}=O;function P(R){const D={...R,...Zj(R.status)},{isLoading:I,isError:M,direction:N}=D,k=N==="forward",F=N==="backward";return{...D,hasNextPage:w(_,D.data),hasPreviousPage:E(_,D.data),isFetchingNextPage:I&&k,isFetchingPreviousPage:I&&F,isFetchNextPageError:M&&k,isFetchPreviousPageError:M&&F}}return f(T,O,P)}function y(){return T=>{let O;return typeof T=="object"?O=Ip(T)??js:O=T,r(O===js?i:R=>{var D,I;return((I=(D=s(R))==null?void 0:D.mutations)==null?void 0:I[O])??s$},a)}}function b(T,O){const _=T[e],P=new Set;for(const R of O.filter(a0).map(lR)){const D=_.provided[R.type];if(!D)continue;let I=(R.id!==void 0?D[R.id]:e$(Object.values(D)))??[];for(const M of I)P.add(M)}return e$(Array.from(P.values()).map(R=>{const D=_.queries[R];return D?[{queryCacheKey:R,endpointName:D.endpointName,originalArgs:D.originalArgs}]:[]}))}function x(T,O){return Object.values(o(T)).filter(_=>(_==null?void 0:_.endpointName)===O&&_.status!=="uninitialized").map(_=>_.originalArgs)}function w(T,O){return O?uR(T,O)!=null:!1}function E(T,O){return!O||!T.getPreviousPageParam?!1:LH(T,O)!=null}}var Wu=WeakMap?new WeakMap:void 0,dR=({endpointName:t,queryArgs:e})=>{let r="";const n=Wu==null?void 0:Wu.get(e);if(typeof n=="string")r=n;else{const i=JSON.stringify(e,(a,s)=>(s=typeof s=="bigint"?{$bigint:s.toString()}:s,s=pl(s)?Object.keys(s).sort().reduce((o,l)=>(o[l]=s[l],o),{}):s,s));pl(e)&&(Wu==null||Wu.set(e,i)),r=i}return`${t}(${r})`};function NH(...t){return function(r){const n=r0(c=>{var d;return(d=r.extractRehydrationInfo)==null?void 0:d.call(r,c,{reducerPath:r.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...r,extractRehydrationInfo:n,serializeQueryArgs(c){let d=dR;if("serializeQueryArgs"in c.endpointDefinition){const f=c.endpointDefinition.serializeQueryArgs;d=p=>{const g=f(p);return typeof g=="string"?g:dR({...p,queryArgs:g})}}else r.serializeQueryArgs&&(d=r.serializeQueryArgs);return d(c)},tagTypes:[...r.tagTypes||[]]},a={endpointDefinitions:{},batch(c){c()},apiUid:LD(),extractRehydrationInfo:n,hasRehydrationInfo:r0(c=>n(c)!=null)},s={injectEndpoints:l,enhanceEndpoints({addTagTypes:c,endpoints:d}){if(c)for(const f of c)i.tagTypes.includes(f)||i.tagTypes.push(f);if(d)for(const[f,p]of Object.entries(d))typeof p=="function"?p(a.endpointDefinitions[f]):Object.assign(a.endpointDefinitions[f]||{},p);return s}},o=t.map(c=>c.init(s,i,a));function l(c){const d=c.endpoints({query:f=>({...f,type:"query"}),mutation:f=>({...f,type:"mutation"}),infiniteQuery:f=>({...f,type:"infinitequery"})});for(const[f,p]of Object.entries(d)){if(c.overrideExisting!==!0&&f in a.endpointDefinitions){if(c.overrideExisting==="throw")throw new Error(ha(39));continue}a.endpointDefinitions[f]=p;for(const g of o)g.injectEndpoint(f,p)}return s}return s.injectEndpoints({endpoints:r.endpoints})}}function Ts(t,...e){return Object.assign(t,...e)}var Ghe=({api:t,queryThunk:e,internalState:r})=>{const n=`${t.reducerPath}/subscriptions`;let i=null,a=null;const{updateSubscriptionOptions:s,unsubscribeQueryResult:o}=t.internalActions,l=(g,y)=>{var x,w,E;if(s.match(y)){const{queryCacheKey:T,requestId:O,options:_}=y.payload;return(x=g==null?void 0:g[T])!=null&&x[O]&&(g[T][O]=_),!0}if(o.match(y)){const{queryCacheKey:T,requestId:O}=y.payload;return g[T]&&delete g[T][O],!0}if(t.internalActions.removeQueryResult.match(y))return delete g[y.payload.queryCacheKey],!0;if(e.pending.match(y)){const{meta:{arg:T,requestId:O}}=y,_=g[w=T.queryCacheKey]??(g[w]={});return _[`${O}_running`]={},T.subscribe&&(_[O]=T.subscriptionOptions??_[O]??{}),!0}let b=!1;if(e.fulfilled.match(y)||e.rejected.match(y)){const T=g[y.meta.arg.queryCacheKey]||{},O=`${y.meta.requestId}_running`;b||(b=!!T[O]),delete T[O]}if(e.rejected.match(y)){const{meta:{condition:T,arg:O,requestId:_}}=y;if(T&&O.subscribe){const P=g[E=O.queryCacheKey]??(g[E]={});P[_]=O.subscriptionOptions??P[_]??{},b=!0}}return b},c=()=>r.currentSubscriptions,p={getSubscriptions:c,getSubscriptionCount:g=>{const b=c()[g]??{};return fd(b)},isRequestSubscribed:(g,y)=>{var x;const b=c();return!!((x=b==null?void 0:b[g])!=null&&x[y])}};return(g,y)=>{if(i||(i=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.util.resetApiState.match(g))return i=r.currentSubscriptions={},a=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(g))return[!1,p];const b=l(r.currentSubscriptions,g);let x=!0;if(b){a||(a=setTimeout(()=>{const T=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,O]=pH(i,()=>T);y.next(t.internalActions.subscriptionsUpdated(O)),i=T,a=null},500));const w=typeof g.type=="string"&&!!g.type.startsWith(n),E=e.rejected.match(g)&&g.meta.condition&&!!g.meta.arg.subscribe;x=!w&&!E}return[x,!1]}};function zhe(t){for(const e in t)return!1;return!0}var Vhe=2147483647/1e3-1,qhe=({reducerPath:t,api:e,queryThunk:r,context:n,internalState:i,selectors:{selectQueryEntry:a,selectConfig:s}})=>{const{removeQueryResult:o,unsubscribeQueryResult:l,cacheEntriesUpserted:c}=e.internalActions,d=Zs(l.match,r.fulfilled,r.rejected,c.match);function f(x){const w=i.currentSubscriptions[x];return!!w&&!zhe(w)}const p={},g=(x,w,E)=>{const T=w.getState(),O=s(T);if(d(x)){let _;if(c.match(x))_=x.payload.map(P=>P.queryDescription.queryCacheKey);else{const{queryCacheKey:P}=l.match(x)?x.payload:x.meta.arg;_=[P]}y(_,w,O)}if(e.util.resetApiState.match(x))for(const[_,P]of Object.entries(p))P&&clearTimeout(P),delete p[_];if(n.hasRehydrationInfo(x)){const{queries:_}=n.extractRehydrationInfo(x);y(Object.keys(_),w,O)}};function y(x,w,E){const T=w.getState();for(const O of x){const _=a(T,O);b(O,_==null?void 0:_.endpointName,w,E)}}function b(x,w,E,T){const O=n.endpointDefinitions[w],_=(O==null?void 0:O.keepUnusedDataFor)??T.keepUnusedDataFor;if(_===1/0)return;const P=Math.max(0,Math.min(_,Vhe));if(!f(x)){const R=p[x];R&&clearTimeout(R),p[x]=setTimeout(()=>{f(x)||E.dispatch(o({queryCacheKey:x})),delete p[x]},P*1e3)}}return g},o$=new Error("Promise never resolved before cacheEntryRemoved."),Hhe=({api:t,reducerPath:e,context:r,queryThunk:n,mutationThunk:i,internalState:a,selectors:{selectQueryEntry:s,selectApiState:o}})=>{const l=oR(n),c=oR(i),d=ml(n,i),f={};function p(w,E,T){const O=f[w];O!=null&&O.valueResolved&&(O.valueResolved({data:E,meta:T}),delete O.valueResolved)}function g(w){const E=f[w];E&&(delete f[w],E.cacheEntryRemoved())}const y=(w,E,T)=>{const O=b(w);function _(P,R,D,I){const M=s(T,R),N=s(E.getState(),R);!M&&N&&x(P,I,R,E,D)}if(n.pending.match(w))_(w.meta.arg.endpointName,O,w.meta.requestId,w.meta.arg.originalArgs);else if(t.internalActions.cacheEntriesUpserted.match(w))for(const{queryDescription:P,value:R}of w.payload){const{endpointName:D,originalArgs:I,queryCacheKey:M}=P;_(D,M,w.meta.requestId,I),p(M,R,{})}else if(i.pending.match(w))E.getState()[e].mutations[O]&&x(w.meta.arg.endpointName,w.meta.arg.originalArgs,O,E,w.meta.requestId);else if(d(w))p(O,w.payload,w.meta.baseQueryMeta);else if(t.internalActions.removeQueryResult.match(w)||t.internalActions.removeMutationResult.match(w))g(O);else if(t.util.resetApiState.match(w))for(const P of Object.keys(f))g(P)};function b(w){return l(w)?w.meta.arg.queryCacheKey:c(w)?w.meta.arg.fixedCacheKey??w.meta.requestId:t.internalActions.removeQueryResult.match(w)?w.payload.queryCacheKey:t.internalActions.removeMutationResult.match(w)?Ip(w.payload):""}function x(w,E,T,O,_){const P=r.endpointDefinitions[w],R=P==null?void 0:P.onCacheEntryAdded;if(!R)return;const D={},I=new Promise(z=>{D.cacheEntryRemoved=z}),M=Promise.race([new Promise(z=>{D.valueResolved=z}),I.then(()=>{throw o$})]);M.catch(()=>{}),f[T]=D;const N=t.endpoints[w].select(P.type==="query"?E:T),k=O.dispatch((z,j,H)=>H),F={...O,getCacheEntry:()=>N(O.getState()),requestId:_,extra:k,updateCachedData:P.type==="query"?z=>O.dispatch(t.util.updateQueryData(w,E,z)):void 0,cacheDataLoaded:M,cacheEntryRemoved:I},U=R(E,F);Promise.resolve(U).catch(z=>{if(z!==o$)throw z})}return y},Khe=({api:t,context:{apiUid:e},reducerPath:r})=>(n,i)=>{t.util.resetApiState.match(n)&&i.dispatch(t.internalActions.middlewareRegistered(e))},Whe=({reducerPath:t,context:e,context:{endpointDefinitions:r},mutationThunk:n,queryThunk:i,api:a,assertTagType:s,refetchQuery:o,internalState:l})=>{const{removeQueryResult:c}=a.internalActions,d=Zs(ml(n),rx(n)),f=Zs(ml(n,i),Dd(n,i));let p=[];const g=(x,w)=>{d(x)?b(IH(x,"invalidatesTags",r,s),w):f(x)?b([],w):a.util.invalidateTags.match(x)&&b($D(x.payload,void 0,void 0,void 0,void 0,s),w)};function y(x){var T;const{queries:w,mutations:E}=x;for(const O of[w,E])for(const _ in O)if(((T=O[_])==null?void 0:T.status)==="pending")return!0;return!1}function b(x,w){const E=w.getState(),T=E[t];if(p.push(...x),T.config.invalidationBehavior==="delayed"&&y(T))return;const O=p;if(p=[],O.length===0)return;const _=a.util.selectInvalidatedBy(E,O);e.batch(()=>{const P=Array.from(_.values());for(const{queryCacheKey:R}of P){const D=T.queries[R],I=l.currentSubscriptions[R]??{};D&&(fd(I)===0?w.dispatch(c({queryCacheKey:R})):D.status!=="uninitialized"&&w.dispatch(o(D)))}})}return g},Yhe=({reducerPath:t,queryThunk:e,api:r,refetchQuery:n,internalState:i})=>{const a={},s=(p,g)=>{(r.internalActions.updateSubscriptionOptions.match(p)||r.internalActions.unsubscribeQueryResult.match(p))&&l(p.payload,g),(e.pending.match(p)||e.rejected.match(p)&&p.meta.condition)&&l(p.meta.arg,g),(e.fulfilled.match(p)||e.rejected.match(p)&&!p.meta.condition)&&o(p.meta.arg,g),r.util.resetApiState.match(p)&&d()};function o({queryCacheKey:p},g){const y=g.getState()[t],b=y.queries[p],x=i.currentSubscriptions[p];if(!b||b.status==="uninitialized")return;const{lowestPollingInterval:w,skipPollingIfUnfocused:E}=f(x);if(!Number.isFinite(w))return;const T=a[p];T!=null&&T.timeout&&(clearTimeout(T.timeout),T.timeout=void 0);const O=Date.now()+w;a[p]={nextPollTimestamp:O,pollingInterval:w,timeout:setTimeout(()=>{(y.config.focused||!E)&&g.dispatch(n(b)),o({queryCacheKey:p},g)},w)}}function l({queryCacheKey:p},g){const b=g.getState()[t].queries[p],x=i.currentSubscriptions[p];if(!b||b.status==="uninitialized")return;const{lowestPollingInterval:w}=f(x);if(!Number.isFinite(w)){c(p);return}const E=a[p],T=Date.now()+w;(!E||T<E.nextPollTimestamp)&&o({queryCacheKey:p},g)}function c(p){const g=a[p];g!=null&&g.timeout&&clearTimeout(g.timeout),delete a[p]}function d(){for(const p of Object.keys(a))c(p)}function f(p={}){let g=!1,y=Number.POSITIVE_INFINITY;for(let b in p)p[b].pollingInterval&&(y=Math.min(p[b].pollingInterval,y),g=p[b].skipPollingIfUnfocused||g);return{lowestPollingInterval:y,skipPollingIfUnfocused:g}}return s},Xhe=({api:t,context:e,queryThunk:r,mutationThunk:n})=>{const i=DD(r,n),a=Dd(r,n),s=ml(r,n),o={};return(c,d)=>{var f,p;if(i(c)){const{requestId:g,arg:{endpointName:y,originalArgs:b}}=c.meta,x=e.endpointDefinitions[y],w=x==null?void 0:x.onQueryStarted;if(w){const E={},T=new Promise((R,D)=>{E.resolve=R,E.reject=D});T.catch(()=>{}),o[g]=E;const O=t.endpoints[y].select(x.type==="query"?b:g),_=d.dispatch((R,D,I)=>I),P={...d,getCacheEntry:()=>O(d.getState()),requestId:g,extra:_,updateCachedData:x.type==="query"?R=>d.dispatch(t.util.updateQueryData(y,b,R)):void 0,queryFulfilled:T};w(b,P)}}else if(s(c)){const{requestId:g,baseQueryMeta:y}=c.meta;(f=o[g])==null||f.resolve({data:c.payload,meta:y}),delete o[g]}else if(a(c)){const{requestId:g,rejectedWithValue:y,baseQueryMeta:b}=c.meta;(p=o[g])==null||p.reject({error:c.payload??c.error,isUnhandledError:!y,meta:b}),delete o[g]}}},Qhe=({reducerPath:t,context:e,api:r,refetchQuery:n,internalState:i})=>{const{removeQueryResult:a}=r.internalActions,s=(l,c)=>{MD.match(l)&&o(c,"refetchOnFocus"),ND.match(l)&&o(c,"refetchOnReconnect")};function o(l,c){const d=l.getState()[t],f=d.queries,p=i.currentSubscriptions;e.batch(()=>{for(const g of Object.keys(p)){const y=f[g],b=p[g];if(!b||!y)continue;(Object.values(b).some(w=>w[c]===!0)||Object.values(b).every(w=>w[c]===void 0)&&d.config[c])&&(fd(b)===0?l.dispatch(a({queryCacheKey:g})):y.status!=="uninitialized"&&l.dispatch(n(y)))}})}return s};function Zhe(t){const{reducerPath:e,queryThunk:r,api:n,context:i}=t,{apiUid:a}=i,s={invalidateTags:fa(`${e}/invalidateTags`)},o=f=>f.type.startsWith(`${e}/`),l=[Khe,qhe,Whe,Yhe,Hhe,Xhe];return{middleware:f=>{let p=!1;const y={...t,internalState:{currentSubscriptions:{}},refetchQuery:d,isThisApiSliceAction:o},b=l.map(E=>E(y)),x=Ghe(y),w=Qhe(y);return E=>T=>{if(!lH(T))return E(T);p||(p=!0,f.dispatch(n.internalActions.middlewareRegistered(a)));const O={...f,next:E},_=f.getState(),[P,R]=x(T,O,_);let D;if(P?D=E(T):D=R,f.getState()[e]&&(w(T,O,_),o(T)||i.hasRehydrationInfo(T)))for(const I of b)I(T,O,_);return D}},actions:s};function d(f){return t.api.endpoints[f.endpointName].initiate(f.originalArgs,{subscribe:!1,forceRefetch:!0})}}var l$=Symbol(),kH=({createSelector:t=PD}={})=>({name:l$,init(e,{baseQuery:r,tagTypes:n,reducerPath:i,serializeQueryArgs:a,keepUnusedDataFor:s,refetchOnMountOrArgChange:o,refetchOnFocus:l,refetchOnReconnect:c,invalidationBehavior:d},f){bfe();const p=X=>X;Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:ND,onOffline:DH,onFocus:MD,onFocusLost:PH},util:{}});const g=Uhe({serializeQueryArgs:a,reducerPath:i,createSelector:t}),{selectInvalidatedBy:y,selectCachedArgsForQuery:b,buildQuerySelector:x,buildInfiniteQuerySelector:w,buildMutationSelector:E}=g;Ts(e.util,{selectInvalidatedBy:y,selectCachedArgsForQuery:b});const{queryThunk:T,infiniteQueryThunk:O,mutationThunk:_,patchQueryData:P,updateQueryData:R,upsertQueryData:D,prefetch:I,buildMatchThunkActions:M}=Fhe({baseQuery:r,reducerPath:i,context:f,api:e,serializeQueryArgs:a,assertTagType:p,selectors:g}),{reducer:N,actions:k}=Bhe({context:f,queryThunk:T,mutationThunk:_,serializeQueryArgs:a,reducerPath:i,assertTagType:p,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:o,keepUnusedDataFor:s,reducerPath:i,invalidationBehavior:d}});Ts(e.util,{patchQueryData:P,updateQueryData:R,upsertQueryData:D,prefetch:I,resetApiState:k.resetApiState,upsertQueryEntries:k.cacheEntriesUpserted}),Ts(e.internalActions,k);const{middleware:F,actions:U}=Zhe({reducerPath:i,context:f,queryThunk:T,mutationThunk:_,infiniteQueryThunk:O,api:e,assertTagType:p,selectors:g});Ts(e.util,U),Ts(e,{reducer:N,middleware:F});const{buildInitiateQuery:z,buildInitiateInfiniteQuery:j,buildInitiateMutation:H,getRunningMutationThunk:V,getRunningMutationsThunk:q,getRunningQueriesThunk:G,getRunningQueryThunk:Y}=jhe({queryThunk:T,mutationThunk:_,infiniteQueryThunk:O,api:e,serializeQueryArgs:a,context:f});return Ts(e.util,{getRunningMutationThunk:V,getRunningMutationsThunk:q,getRunningQueryThunk:Y,getRunningQueriesThunk:G}),{name:l$,injectEndpoint(X,te){var he;const ue=(he=e.endpoints)[X]??(he[X]={});kD(te)&&Ts(ue,{name:X,select:x(X,te),initiate:z(X,te)},M(T,X)),Mhe(te)&&Ts(ue,{name:X,select:E(),initiate:H(X)},M(_,X)),jD(te)&&Ts(ue,{name:X,select:w(X,te),initiate:j(X,te)},M(T,X))}}}});kH();function Pv(t){return t.replace(t[0],t[0].toUpperCase())}function Jhe(t){return t.type==="query"}function epe(t){return t.type==="mutation"}function jH(t){return t.type==="infinitequery"}function Ch(t,...e){return Object.assign(t,...e)}var FE=Symbol();function c$(t,e,r,n){const i=A.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:r,endpointName:n}):t}),[t,e,r,n]),a=A.useRef(i);return A.useEffect(()=>{a.current.serialized!==i.serialized&&(a.current=i)},[i]),a.current.serialized===i.serialized?a.current.queryArgs:t}function Dv(t){const e=A.useRef(t);return A.useEffect(()=>{ip(e.current,t)||(e.current=t)},[t]),ip(e.current,t)?e.current:t}var tpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rpe=tpe(),npe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ipe=npe(),ape=()=>rpe||ipe?A.useLayoutEffect:A.useEffect,spe=ape(),u$=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:RH.pending}:t;function BE(t,...e){const r={};return e.forEach(n=>{r[n]=t[n]}),r}var UE=["data","status","isLoading","isSuccess","isError","error"];function ope({api:t,moduleOptions:{batch:e,hooks:{useDispatch:r,useSelector:n,useStore:i},unstable__sideEffectsInRender:a,createSelector:s},serializeQueryArgs:o,context:l}){const c=a?O=>O():A.useEffect;return{buildQueryHooks:w,buildInfiniteQueryHooks:E,buildMutationHook:T,usePrefetch:p};function d(O,_,P){if(_!=null&&_.endpointName&&O.isUninitialized){const{endpointName:k}=_,F=l.endpointDefinitions[k];P!==js&&o({queryArgs:_.originalArgs,endpointDefinition:F,endpointName:k})===o({queryArgs:P,endpointDefinition:F,endpointName:k})&&(_=void 0)}let R=O.isSuccess?O.data:_==null?void 0:_.data;R===void 0&&(R=O.data);const D=R!==void 0,I=O.isLoading,M=(!_||_.isLoading||_.isUninitialized)&&!D&&I,N=O.isSuccess||D&&(I&&!(_!=null&&_.isError)||O.isUninitialized);return{...O,data:R,currentData:O.data,isFetching:I,isLoading:M,isSuccess:N}}function f(O,_,P){if(_!=null&&_.endpointName&&O.isUninitialized){const{endpointName:k}=_,F=l.endpointDefinitions[k];o({queryArgs:_.originalArgs,endpointDefinition:F,endpointName:k})===o({queryArgs:P,endpointDefinition:F,endpointName:k})&&(_=void 0)}let R=O.isSuccess?O.data:_==null?void 0:_.data;R===void 0&&(R=O.data);const D=R!==void 0,I=O.isLoading,M=(!_||_.isLoading||_.isUninitialized)&&!D&&I,N=O.isSuccess||I&&D;return{...O,data:R,currentData:O.data,isFetching:I,isLoading:M,isSuccess:N}}function p(O,_){const P=r(),R=Dv(_);return A.useCallback((D,I)=>P(t.util.prefetch(O,D,{...R,...I})),[O,P,R])}function g(O,_,{refetchOnReconnect:P,refetchOnFocus:R,refetchOnMountOrArgChange:D,skip:I=!1,pollingInterval:M=0,skipPollingIfUnfocused:N=!1,...k}={}){const{initiate:F}=t.endpoints[O],U=r(),z=A.useRef(void 0);if(!z.current){const he=U(t.internalActions.internal_getRTKQSubscriptions());z.current=he}const j=c$(I?js:_,dR,l.endpointDefinitions[O],O),H=Dv({refetchOnReconnect:P,refetchOnFocus:R,pollingInterval:M,skipPollingIfUnfocused:N}),V=A.useRef(!1),q=k.initialPageParam,G=Dv(q),Y=A.useRef(void 0);let{queryCacheKey:X,requestId:te}=Y.current||{},ee=!1;X&&te&&(ee=z.current.isRequestSubscribed(X,te));const ue=!ee&&V.current;return c(()=>{V.current=ee}),c(()=>{ue&&(Y.current=void 0)},[ue]),c(()=>{var Se;const he=Y.current;if(j===js){he==null||he.unsubscribe(),Y.current=void 0;return}const ve=(Se=Y.current)==null?void 0:Se.subscriptionOptions;if(!he||he.arg!==j){he==null||he.unsubscribe();const me=U(F(j,{subscriptionOptions:H,forceRefetch:D,...jH(l.endpointDefinitions[O])?{initialPageParam:G}:{}}));Y.current=me}else H!==ve&&he.updateSubscriptionOptions(H)},[U,F,D,j,H,ue,G,O]),[Y,U,F,H]}function y(O,_){return(R,{skip:D=!1,selectFromResult:I}={})=>{const{select:M}=t.endpoints[O],N=c$(D?js:R,o,l.endpointDefinitions[O],O),k=A.useRef(void 0),F=A.useMemo(()=>s([M(N),(V,q)=>q,V=>N],_,{memoizeOptions:{resultEqualityCheck:ip}}),[M,N]),U=A.useMemo(()=>I?s([F],I,{devModeChecks:{identityFunctionCheck:"never"}}):F,[F,I]),z=n(V=>U(V,k.current),ip),j=i(),H=F(j.getState(),k.current);return spe(()=>{k.current=H},[H]),z}}function b(O){A.useEffect(()=>()=>{var _,P;(P=(_=O.current)==null?void 0:_.unsubscribe)==null||P.call(_),O.current=void 0},[O])}function x(O){if(!O.current)throw new Error(ha(38));return O.current.refetch()}function w(O){const _=(D,I={})=>{const[M]=g(O,D,I);return b(M),A.useMemo(()=>({refetch:()=>x(M)}),[M])},P=({refetchOnReconnect:D,refetchOnFocus:I,pollingInterval:M=0,skipPollingIfUnfocused:N=!1}={})=>{const{initiate:k}=t.endpoints[O],F=r(),[U,z]=A.useState(FE),j=A.useRef(void 0),H=Dv({refetchOnReconnect:D,refetchOnFocus:I,pollingInterval:M,skipPollingIfUnfocused:N});c(()=>{var X,te;const Y=(X=j.current)==null?void 0:X.subscriptionOptions;H!==Y&&((te=j.current)==null||te.updateSubscriptionOptions(H))},[H]);const V=A.useRef(H);c(()=>{V.current=H},[H]);const q=A.useCallback(function(Y,X=!1){let te;return e(()=>{var ee;(ee=j.current)==null||ee.unsubscribe(),j.current=te=F(k(Y,{subscriptionOptions:V.current,forceRefetch:!X})),z(Y)}),te},[F,k]),G=A.useCallback(()=>{var Y,X;(Y=j.current)!=null&&Y.queryCacheKey&&F(t.internalActions.removeQueryResult({queryCacheKey:(X=j.current)==null?void 0:X.queryCacheKey}))},[F]);return A.useEffect(()=>()=>{var Y;(Y=j==null?void 0:j.current)==null||Y.unsubscribe()},[]),A.useEffect(()=>{U!==FE&&!j.current&&q(U,!0)},[U,q]),A.useMemo(()=>[q,U,{reset:G}],[q,U,G])},R=y(O,d);return{useQueryState:R,useQuerySubscription:_,useLazyQuerySubscription:P,useLazyQuery(D){const[I,M,{reset:N}]=P(D),k=R(M,{...D,skip:M===FE}),F=A.useMemo(()=>({lastArg:M}),[M]);return A.useMemo(()=>[I,{...k,reset:N},F],[I,k,N,F])},useQuery(D,I){const M=_(D,I),N=R(D,{selectFromResult:D===js||I!=null&&I.skip?void 0:u$,...I}),k=BE(N,...UE);return A.useDebugValue(k),A.useMemo(()=>({...N,...M}),[N,M])}}}function E(O){const _=(R,D={})=>{const[I,M,N,k]=g(O,R,D),F=A.useRef(k);c(()=>{F.current=k},[k]);const U=A.useCallback(function(z,j){let H;return e(()=>{var V;(V=I.current)==null||V.unsubscribe(),I.current=H=M(N(z,{subscriptionOptions:F.current,direction:j}))}),H},[I,M,N]);return b(I),A.useMemo(()=>({trigger:U,refetch:()=>x(I),fetchNextPage:()=>U(R,"forward"),fetchPreviousPage:()=>U(R,"backward")}),[I,U,R])},P=y(O,f);return{useInfiniteQueryState:P,useInfiniteQuerySubscription:_,useInfiniteQuery(R,D){const{refetch:I,fetchNextPage:M,fetchPreviousPage:N}=_(R,D),k=P(R,{selectFromResult:R===js||D!=null&&D.skip?void 0:u$,...D}),F=BE(k,...UE,"hasNextPage","hasPreviousPage");return A.useDebugValue(F),A.useMemo(()=>({...k,fetchNextPage:M,fetchPreviousPage:N,refetch:I}),[k,M,N,I])}}}function T(O){return({selectFromResult:_,fixedCacheKey:P}={})=>{const{select:R,initiate:D}=t.endpoints[O],I=r(),[M,N]=A.useState();A.useEffect(()=>()=>{M!=null&&M.arg.fixedCacheKey||M==null||M.reset()},[M]);const k=A.useCallback(function(Y){const X=I(D(Y,{fixedCacheKey:P}));return N(X),X},[I,D,P]),{requestId:F}=M||{},U=A.useMemo(()=>R({fixedCacheKey:P,requestId:M==null?void 0:M.requestId}),[P,M,R]),z=A.useMemo(()=>_?s([U],_):U,[_,U]),j=n(z,ip),H=P==null?M==null?void 0:M.arg.originalArgs:void 0,V=A.useCallback(()=>{e(()=>{M&&N(void 0),P&&I(t.internalActions.removeMutationResult({requestId:F,fixedCacheKey:P}))})},[I,P,M,F]),q=BE(j,...UE,"endpointName");A.useDebugValue(q);const G=A.useMemo(()=>({...j,originalArgs:H,reset:V}),[j,H,V]);return A.useMemo(()=>[k,G],[k,G])}}}var lpe=Symbol(),cpe=({batch:t=tfe,hooks:e={useDispatch:Zb,useSelector:AD,useStore:sH},createSelector:r=PD,unstable__sideEffectsInRender:n=!1,...i}={})=>({name:lpe,init(a,{serializeQueryArgs:s},o){const l=a,{buildQueryHooks:c,buildInfiniteQueryHooks:d,buildMutationHook:f,usePrefetch:p}=ope({api:a,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:n,createSelector:r},serializeQueryArgs:s,context:o});return Ch(l,{usePrefetch:p}),Ch(o,{batch:t}),{injectEndpoint(g,y){if(Jhe(y)){const{useQuery:b,useLazyQuery:x,useLazyQuerySubscription:w,useQueryState:E,useQuerySubscription:T}=c(g);Ch(l.endpoints[g],{useQuery:b,useLazyQuery:x,useLazyQuerySubscription:w,useQueryState:E,useQuerySubscription:T}),a[`use${Pv(g)}Query`]=b,a[`useLazy${Pv(g)}Query`]=x}if(epe(y)){const b=f(g);Ch(l.endpoints[g],{useMutation:b}),a[`use${Pv(g)}Mutation`]=b}else if(jH(y)){const{useInfiniteQuery:b,useInfiniteQuerySubscription:x,useInfiniteQueryState:w}=d(g);Ch(l.endpoints[g],{useInfiniteQuery:b,useInfiniteQuerySubscription:x,useInfiniteQueryState:w}),a[`use${Pv(g)}InfiniteQuery`]=b}}}}}),upe=NH(kH(),cpe());const pa=upe({reducerPath:"baseApi",baseQuery:Ihe({baseUrl:"http://localhost:5000/api/v1",credentials:"include",prepareHeaders:(t,{getState:e})=>{const r=e().auth.token;return r&&t.set("authorization",`${r}`),t}}),tagTypes:["video","user","recent","watchLater","comment","myVideosUser","adminVideos","singleVideo"],endpoints:()=>({})}),dpe=pa.injectEndpoints({endpoints:t=>({uploadVideo:t.mutation({query:e=>({url:"/videos/upload",method:"POST",body:e}),invalidatesTags:["video"]}),getVideos:t.query({query:()=>({url:"/videos/random",method:"GET"}),providesTags:["video"]}),getSingleVideo:t.query({query:e=>({url:`/videos/find/${e.id}`,method:"GET"}),providesTags:["singleVideo"]}),uploadRecentVideos:t.mutation({query:e=>({url:"/videos/recentVideos",method:"POST",body:e}),invalidatesTags:["recent"]}),getRecentVideos:t.query({query:()=>({url:"/videos/recentVideos",method:"GET"}),providesTags:["recent"]}),getWatchLaterVideos:t.query({query:()=>({url:"/videos/watchlater",method:"GET"}),providesTags:["recent"]}),addToWatchLater:t.mutation({query:e=>({url:`/videos/watchlater/${e.id}`,method:"POST",body:e}),invalidatesTags:["watchLater","video","recent"]}),isBookmarked:t.query({query:e=>({url:`/videos/bookmarked/${e.id}`,method:"GET"}),providesTags:["watchLater"]}),recordVideoView:t.mutation({query:e=>({url:`/videos/view/${e}`,method:"PUT"}),invalidatesTags:["video"]})})}),{useGetVideosQuery:$H,useUploadVideoMutation:fpe,useGetSingleVideoQuery:hpe,useGetRecentVideosQuery:FH,useUploadRecentVideosMutation:ppe,useAddToWatchLaterMutation:mpe,useIsBookmarkedQuery:gpe,useGetWatchLaterVideosQuery:BH,useRecordVideoViewMutation:vpe}=dpe,ype=({_id:t,title:e,imgUrl:r,duration:n,createdAt:i,category:a})=>{var l;const s=Um(),o=i?new Date(i).getFullYear():new Date().getFullYear();return v.jsxs("div",{className:"max-w-36 sm:max-w-48 text-black dark:text-white relative group",children:[v.jsxs("div",{className:"relative overflow-hidden rounded-t-lg w-full h-48 sm:h-64",children:[v.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),v.jsx("span",{className:"absolute top-2 right-2 bg-white text-black font-semibold text-xs px-1 rounded",children:"HD"}),v.jsx("div",{onClick:()=>s(`/video/${t}`),className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:v.jsx("div",{className:"cursor-pointer bg-yellow-500 rounded-full p-3 sm:p-5 flex items-center justify-center",children:v.jsx(nx,{className:"text-white text-xl sm:text-2xl"})})})]}),v.jsx("h2",{className:"mt-2 sm:mt-3 text-sm sm:text-base font-bold truncate",children:e}),v.jsxs("div",{className:"mt-1 sm:mt-2 flex flex-wrap justify-between text-xs sm:text-sm text-gray-400",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{children:o}),v.jsx(Lte,{}),v.jsx("span",{children:n})]}),v.jsx("div",{children:v.jsx("span",{className:"border border-gray-500 text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 rounded",children:`${(l=a==null?void 0:a.charAt(0))==null?void 0:l.toUpperCase()}${a==null?void 0:a.slice(1)}`||"Movies"})})]})]})},hd=({title:t,Videos:e})=>{var n;const r=((n=e==null?void 0:e.data)==null?void 0:n.videos)||[];return v.jsxs("div",{className:"py-8 px-4 md:px-8",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:t}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-4 p-4",children:r.map(i=>{const a=i.videoId||i;return v.jsx(ype,{_id:a._id,title:a.title,imgUrl:a.imgUrl,duration:a.duration,category:a.category,createdAt:a.createdAt},a._id)})})]})};function d$(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function FD(t,e){t===void 0&&(t={}),e===void 0&&(e={});const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:d$(e[n])&&d$(t[n])&&Object.keys(e[n]).length>0&&FD(t[n],e[n])})}const UH={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Va(){const t=typeof document<"u"?document:{};return FD(t,UH),t}const bpe={document:UH,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function $n(){const t=typeof window<"u"?window:{};return FD(t,bpe),t}function xpe(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Spe(t){const e=t;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function fR(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function s0(){return Date.now()}function wpe(t){const e=$n();let r;return e.getComputedStyle&&(r=e.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function Epe(t,e){e===void 0&&(e="x");const r=$n();let n,i,a;const s=wpe(t);return r.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(o=>o.replace(",",".")).join(", ")),a=new r.WebKitCSSMatrix(i==="none"?"":i)):(a=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?i=a.m41:n.length===16?i=parseFloat(n[12]):i=parseFloat(n[4])),e==="y"&&(r.WebKitCSSMatrix?i=a.m42:n.length===16?i=parseFloat(n[13]):i=parseFloat(n[5])),i||0}function Lv(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Tpe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function ci(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const n=r<0||arguments.length<=r?void 0:arguments[r];if(n!=null&&!Tpe(n)){const i=Object.keys(Object(n)).filter(a=>e.indexOf(a)<0);for(let a=0,s=i.length;a<s;a+=1){const o=i[a],l=Object.getOwnPropertyDescriptor(n,o);l!==void 0&&l.enumerable&&(Lv(t[o])&&Lv(n[o])?n[o].__swiper__?t[o]=n[o]:ci(t[o],n[o]):!Lv(t[o])&&Lv(n[o])?(t[o]={},n[o].__swiper__?t[o]=n[o]:ci(t[o],n[o])):t[o]=n[o])}}}return t}function Iv(t,e,r){t.style.setProperty(e,r)}function GH(t){let{swiper:e,targetPosition:r,side:n}=t;const i=$n(),a=-e.translate;let s=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=r>a?"next":"prev",d=(p,g)=>c==="next"&&p>=g||c==="prev"&&p<=g,f=()=>{o=new Date().getTime(),s===null&&(s=o);const p=Math.max(Math.min((o-s)/l,1),0),g=.5-Math.cos(p*Math.PI)/2;let y=a+g*(r-a);if(d(y,r)&&(y=r),e.wrapperEl.scrollTo({[n]:y}),d(y,r)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:y})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function ka(t,e){e===void 0&&(e="");const r=$n(),n=[...t.children];return r.HTMLSlotElement&&t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(i=>i.matches(e)):n}function Ape(t,e){const r=[e];for(;r.length>0;){const n=r.shift();if(t===n)return!0;r.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function _pe(t,e){const r=$n();let n=e.contains(t);return!n&&r.HTMLSlotElement&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=Ape(t,e))),n}function o0(t){try{console.warn(t);return}catch{}}function l0(t,e){e===void 0&&(e=[]);const r=document.createElement(t);return r.classList.add(...Array.isArray(e)?e:xpe(e)),r}function Ope(t,e){const r=[];for(;t.previousElementSibling;){const n=t.previousElementSibling;e?n.matches(e)&&r.push(n):r.push(n),t=n}return r}function Rpe(t,e){const r=[];for(;t.nextElementSibling;){const n=t.nextElementSibling;e?n.matches(e)&&r.push(n):r.push(n),t=n}return r}function al(t,e){return $n().getComputedStyle(t,null).getPropertyValue(e)}function c0(t){let e=t,r;if(e){for(r=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(r+=1);return r}}function zH(t,e){const r=[];let n=t.parentElement;for(;n;)e?n.matches(e)&&r.push(n):r.push(n),n=n.parentElement;return r}function hR(t,e,r){const n=$n();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function rn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let GE;function Cpe(){const t=$n(),e=Va();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function VH(){return GE||(GE=Cpe()),GE}let zE;function Ppe(t){let{userAgent:e}=t===void 0?{}:t;const r=VH(),n=$n(),i=n.navigator.platform,a=e||n.navigator.userAgent,s={ios:!1,android:!1},o=n.screen.width,l=n.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/);let d=a.match(/(iPad).*OS\s([\d_]+)/);const f=a.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=i==="Win32";let y=i==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&r.touch&&b.indexOf(`${o}x${l}`)>=0&&(d=a.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),c&&!g&&(s.os="android",s.android=!0),(d||p||f)&&(s.os="ios",s.ios=!0),s}function qH(t){return t===void 0&&(t={}),zE||(zE=Ppe(t)),zE}let VE;function Dpe(){const t=$n(),e=qH();let r=!1;function n(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(n()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[l,c]=o.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));r=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),a=n(),s=a||i&&e.ios;return{isSafari:r||a,needPerspectiveFix:r,need3dFix:s,isWebView:i}}function HH(){return VE||(VE=Dpe()),VE}function Lpe(t){let{swiper:e,on:r,emit:n}=t;const i=$n();let a=null,s=null;const o=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(f=>{s=i.requestAnimationFrame(()=>{const{width:p,height:g}=e;let y=p,b=g;f.forEach(x=>{let{contentBoxSize:w,contentRect:E,target:T}=x;T&&T!==e.el||(y=E?E.width:(w[0]||w).inlineSize,b=E?E.height:(w[0]||w).blockSize)}),(y!==p||b!==g)&&o()})}),a.observe(e.el))},c=()=>{s&&i.cancelAnimationFrame(s),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},d=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};r("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",d)}),r("destroy",()=>{c(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",d)})}function Ipe(t){let{swiper:e,extendParams:r,on:n,emit:i}=t;const a=[],s=$n(),o=function(d,f){f===void 0&&(f={});const p=s.MutationObserver||s.WebkitMutationObserver,g=new p(y=>{if(e.__preventObserver__)return;if(y.length===1){i("observerUpdate",y[0]);return}const b=function(){i("observerUpdate",y[0])};s.requestAnimationFrame?s.requestAnimationFrame(b):s.setTimeout(b,0)});g.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),a.push(g)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=zH(e.hostEl);for(let f=0;f<d.length;f+=1)o(d[f])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},c=()=>{a.forEach(d=>{d.disconnect()}),a.splice(0,a.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",c)}var Mpe={on(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=r?"unshift":"push";return t.split(" ").forEach(a=>{n.eventsListeners[a]||(n.eventsListeners[a]=[]),n.eventsListeners[a][i](e)}),n},once(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function i(){n.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];e.apply(n,s)}return i.__emitterProxy=e,n.on(t,i,r)},onAny(t,e){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const n=e?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[n](t),r},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(t);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(t,e){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||t.split(" ").forEach(n=>{typeof e>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&r.eventsListeners[n].splice(a,1)})}),r},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,r,n;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],r=a.slice(1,a.length),n=t):(e=a[0].events,r=a[0].data,n=a[0].context||t),r.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(n,[l,...r])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(n,r)})}),t}};function Npe(){const t=this;let e,r;const n=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=n.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?r=t.params.height:r=n.clientHeight,!(e===0&&t.isHorizontal()||r===0&&t.isVertical())&&(e=e-parseInt(al(n,"padding-left")||0,10)-parseInt(al(n,"padding-right")||0,10),r=r-parseInt(al(n,"padding-top")||0,10)-parseInt(al(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:e,height:r,size:t.isHorizontal()?e:r}))}function kpe(){const t=this;function e(M,N){return parseFloat(M.getPropertyValue(t.getDirectionLabel(N))||0)}const r=t.params,{wrapperEl:n,slidesEl:i,size:a,rtlTranslate:s,wrongRTL:o}=t,l=t.virtual&&r.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,d=ka(i,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:d.length;let p=[];const g=[],y=[];let b=r.slidesOffsetBefore;typeof b=="function"&&(b=r.slidesOffsetBefore.call(t));let x=r.slidesOffsetAfter;typeof x=="function"&&(x=r.slidesOffsetAfter.call(t));const w=t.snapGrid.length,E=t.slidesGrid.length;let T=r.spaceBetween,O=-b,_=0,P=0;if(typeof a>"u")return;typeof T=="string"&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*a:typeof T=="string"&&(T=parseFloat(T)),t.virtualSize=-T,d.forEach(M=>{s?M.style.marginLeft="":M.style.marginRight="",M.style.marginBottom="",M.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(Iv(n,"--swiper-centered-offset-before",""),Iv(n,"--swiper-centered-offset-after",""));const R=r.grid&&r.grid.rows>1&&t.grid;R?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let D;const I=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(M=>typeof r.breakpoints[M].slidesPerView<"u").length>0;for(let M=0;M<f;M+=1){D=0;let N;if(d[M]&&(N=d[M]),R&&t.grid.updateSlide(M,N,d),!(d[M]&&al(N,"display")==="none")){if(r.slidesPerView==="auto"){I&&(d[M].style[t.getDirectionLabel("width")]="");const k=getComputedStyle(N),F=N.style.transform,U=N.style.webkitTransform;if(F&&(N.style.transform="none"),U&&(N.style.webkitTransform="none"),r.roundLengths)D=t.isHorizontal()?hR(N,"width"):hR(N,"height");else{const z=e(k,"width"),j=e(k,"padding-left"),H=e(k,"padding-right"),V=e(k,"margin-left"),q=e(k,"margin-right"),G=k.getPropertyValue("box-sizing");if(G&&G==="border-box")D=z+V+q;else{const{clientWidth:Y,offsetWidth:X}=N;D=z+j+H+V+q+(X-Y)}}F&&(N.style.transform=F),U&&(N.style.webkitTransform=U),r.roundLengths&&(D=Math.floor(D))}else D=(a-(r.slidesPerView-1)*T)/r.slidesPerView,r.roundLengths&&(D=Math.floor(D)),d[M]&&(d[M].style[t.getDirectionLabel("width")]=`${D}px`);d[M]&&(d[M].swiperSlideSize=D),y.push(D),r.centeredSlides?(O=O+D/2+_/2+T,_===0&&M!==0&&(O=O-a/2-T),M===0&&(O=O-a/2-T),Math.abs(O)<1/1e3&&(O=0),r.roundLengths&&(O=Math.floor(O)),P%r.slidesPerGroup===0&&p.push(O),g.push(O)):(r.roundLengths&&(O=Math.floor(O)),(P-Math.min(t.params.slidesPerGroupSkip,P))%t.params.slidesPerGroup===0&&p.push(O),g.push(O),O=O+D+T),t.virtualSize+=D+T,_=D,P+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+x,s&&o&&(r.effect==="slide"||r.effect==="coverflow")&&(n.style.width=`${t.virtualSize+T}px`),r.setWrapperSize&&(n.style[t.getDirectionLabel("width")]=`${t.virtualSize+T}px`),R&&t.grid.updateWrapperSize(D,p),!r.centeredSlides){const M=[];for(let N=0;N<p.length;N+=1){let k=p[N];r.roundLengths&&(k=Math.floor(k)),p[N]<=t.virtualSize-a&&M.push(k)}p=M,Math.floor(t.virtualSize-a)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-a)}if(l&&r.loop){const M=y[0]+T;if(r.slidesPerGroup>1){const N=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),k=M*r.slidesPerGroup;for(let F=0;F<N;F+=1)p.push(p[p.length-1]+k)}for(let N=0;N<t.virtual.slidesBefore+t.virtual.slidesAfter;N+=1)r.slidesPerGroup===1&&p.push(p[p.length-1]+M),g.push(g[g.length-1]+M),t.virtualSize+=M}if(p.length===0&&(p=[0]),T!==0){const M=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");d.filter((N,k)=>!r.cssMode||r.loop?!0:k!==d.length-1).forEach(N=>{N.style[M]=`${T}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let M=0;y.forEach(k=>{M+=k+(T||0)}),M-=T;const N=M>a?M-a:0;p=p.map(k=>k<=0?-b:k>N?N+x:k)}if(r.centerInsufficientSlides){let M=0;y.forEach(k=>{M+=k+(T||0)}),M-=T;const N=(r.slidesOffsetBefore||0)+(r.slidesOffsetAfter||0);if(M+N<a){const k=(a-M-N)/2;p.forEach((F,U)=>{p[U]=F-k}),g.forEach((F,U)=>{g[U]=F+k})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:g,slidesSizesGrid:y}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Iv(n,"--swiper-centered-offset-before",`${-p[0]}px`),Iv(n,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const M=-t.snapGrid[0],N=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(k=>k+M),t.slidesGrid=t.slidesGrid.map(k=>k+N)}if(f!==c&&t.emit("slidesLengthChange"),p.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==E&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const M=`${r.containerModifierClass}backface-hidden`,N=t.el.classList.contains(M);f<=r.maxBackfaceHiddenSlides?N||t.el.classList.add(M):N&&t.el.classList.remove(M)}}function jpe(t){const e=this,r=[],n=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const s=o=>n?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{r.push(o)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const o=e.activeIndex+a;if(o>e.slides.length&&!n)break;r.push(s(o))}else r.push(s(e.activeIndex));for(a=0;a<r.length;a+=1)if(typeof r[a]<"u"){const o=r[a].offsetHeight;i=o>i?o:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function $pe(){const t=this,e=t.slides,r=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-r-t.cssOverflowAdjustment()}const f$=(t,e,r)=>{e&&!t.classList.contains(r)?t.classList.add(r):!e&&t.classList.contains(r)&&t.classList.remove(r)};function Fpe(t){t===void 0&&(t=this&&this.translate||0);const e=this,r=e.params,{slides:n,rtlTranslate:i,snapGrid:a}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-t;i&&(s=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=r.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<n.length;l+=1){const c=n[l];let d=c.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(d-=n[0].swiperSlideOffset);const f=(s+(r.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+o),p=(s-a[0]+(r.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+o),g=-(s-d),y=g+e.slidesSizesGrid[l],b=g>=0&&g<=e.size-e.slidesSizesGrid[l],x=g>=0&&g<e.size-1||y>1&&y<=e.size||g<=0&&y>=e.size;x&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),f$(c,x,r.slideVisibleClass),f$(c,b,r.slideFullyVisibleClass),c.progress=i?-f:f,c.originalProgress=i?-p:p}}function Bpe(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const r=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:s,progressLoop:o}=e;const l=a,c=s;if(n===0)i=0,a=!0,s=!0;else{i=(t-e.minTranslate())/n;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;a=d||i<=0,s=f||i>=1,d&&(i=0),f&&(i=1)}if(r.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],g=e.slidesGrid[f],y=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=p?o=(b-p)/y:o=(b+y-g)/y,o>1&&(o-=1)}Object.assign(e,{progress:i,progressLoop:o,isBeginning:a,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(t),a&&!l&&e.emit("reachBeginning toEdge"),s&&!c&&e.emit("reachEnd toEdge"),(l&&!a||c&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}const qE=(t,e,r)=>{e&&!t.classList.contains(r)?t.classList.add(r):!e&&t.classList.contains(r)&&t.classList.remove(r)};function Upe(){const t=this,{slides:e,params:r,slidesEl:n,activeIndex:i}=t,a=t.virtual&&r.virtual.enabled,s=t.grid&&r.grid&&r.grid.rows>1,o=f=>ka(n,`.${r.slideClass}${f}, swiper-slide${f}`)[0];let l,c,d;if(a)if(r.loop){let f=i-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=o(`[data-swiper-slide-index="${f}"]`)}else l=o(`[data-swiper-slide-index="${i}"]`);else s?(l=e.find(f=>f.column===i),d=e.find(f=>f.column===i+1),c=e.find(f=>f.column===i-1)):l=e[i];l&&(s||(d=Rpe(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!d&&(d=e[0]),c=Ope(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{qE(f,f===l,r.slideActiveClass),qE(f,f===d,r.slideNextClass),qE(f,f===c,r.slidePrevClass)}),t.emitSlidesClasses()}const vy=(t,e)=>{if(!t||t.destroyed||!t.params)return;const r=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,n=e.closest(r());if(n){let i=n.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(n.shadowRoot?i=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(i=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},HE=(t,e)=>{if(!t.slides[e])return;const r=t.slides[e].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},pR=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const r=t.slides.length;if(!r||!e||e<0)return;e=Math.min(e,r);const n=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const s=i,o=[s-e];o.push(...Array.from({length:e}).map((l,c)=>s+n+c)),t.slides.forEach((l,c)=>{o.includes(l.column)&&HE(t,c)});return}const a=i+n-1;if(t.params.rewind||t.params.loop)for(let s=i-e;s<=a+e;s+=1){const o=(s%r+r)%r;(o<i||o>a)&&HE(t,o)}else for(let s=Math.max(i-e,0);s<=Math.min(a+e,r-1);s+=1)s!==i&&(s>a||s<i)&&HE(t,s)};function Gpe(t){const{slidesGrid:e,params:r}=t,n=t.rtlTranslate?t.translate:-t.translate;let i;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?n>=e[a]&&n<e[a+1]-(e[a+1]-e[a])/2?i=a:n>=e[a]&&n<e[a+1]&&(i=a+1):n>=e[a]&&(i=a);return r.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function zpe(t){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:i,activeIndex:a,realIndex:s,snapIndex:o}=e;let l=t,c;const d=g=>{let y=g-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof l>"u"&&(l=Gpe(e)),n.indexOf(r)>=0)c=n.indexOf(r);else{const g=Math.min(i.slidesPerGroupSkip,l);c=g+Math.floor((l-g)/i.slidesPerGroup)}if(c>=n.length&&(c=n.length-1),l===a&&!e.params.loop){c!==o&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const f=e.grid&&i.grid&&i.grid.rows>1;let p;if(e.virtual&&i.virtual.enabled&&i.loop)p=d(l);else if(f){const g=e.slides.find(b=>b.column===l);let y=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(g),0)),p=Math.floor(y/i.grid.rows)}else if(e.slides[l]){const g=e.slides[l].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:o,snapIndex:c,previousRealIndex:s,realIndex:p,previousIndex:a,activeIndex:l}),e.initialized&&pR(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function Vpe(t,e){const r=this,n=r.params;let i=t.closest(`.${n.slideClass}, swiper-slide`);!i&&r.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(o=>{!i&&o.matches&&o.matches(`.${n.slideClass}, swiper-slide`)&&(i=o)});let a=!1,s;if(i){for(let o=0;o<r.slides.length;o+=1)if(r.slides[o]===i){a=!0,s=o;break}}if(i&&a)r.clickedSlide=i,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=s;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}n.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var qpe={updateSize:Npe,updateSlides:kpe,updateAutoHeight:jpe,updateSlidesOffset:$pe,updateSlidesProgress:Fpe,updateProgress:Bpe,updateSlidesClasses:Upe,updateActiveIndex:zpe,updateClickedSlide:Vpe};function Hpe(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:r,rtlTranslate:n,translate:i,wrapperEl:a}=e;if(r.virtualTranslate)return n?-i:i;if(r.cssMode)return i;let s=Epe(a,t);return s+=e.cssOverflowAdjustment(),n&&(s=-s),s||0}function Kpe(t,e){const r=this,{rtlTranslate:n,params:i,wrapperEl:a,progress:s}=r;let o=0,l=0;const c=0;r.isHorizontal()?o=n?-t:t:l=t,i.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?o:l,i.cssMode?a[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-o:-l:i.virtualTranslate||(r.isHorizontal()?o-=r.cssOverflowAdjustment():l-=r.cssOverflowAdjustment(),a.style.transform=`translate3d(${o}px, ${l}px, ${c}px)`);let d;const f=r.maxTranslate()-r.minTranslate();f===0?d=0:d=(t-r.minTranslate())/f,d!==s&&r.updateProgress(t),r.emit("setTranslate",r.translate,e)}function Wpe(){return-this.snapGrid[0]}function Ype(){return-this.snapGrid[this.snapGrid.length-1]}function Xpe(t,e,r,n,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),n===void 0&&(n=!0);const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const l=a.minTranslate(),c=a.maxTranslate();let d;if(n&&t>l?d=l:n&&t<c?d=c:d=t,a.updateProgress(d),s.cssMode){const f=a.isHorizontal();if(e===0)o[f?"scrollLeft":"scrollTop"]=-d;else{if(!a.support.smoothScroll)return GH({swiper:a,targetPosition:-d,side:f?"left":"top"}),!0;o.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(d),r&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(d),r&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(p){!a||a.destroyed||p.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,r&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var Qpe={getTranslate:Hpe,setTranslate:Kpe,minTranslate:Wpe,maxTranslate:Ype,translateTo:Xpe};function Zpe(t,e){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${t}ms`,r.wrapperEl.style.transitionDelay=t===0?"0ms":""),r.emit("setTransition",t,e)}function KH(t){let{swiper:e,runCallbacks:r,direction:n,step:i}=t;const{activeIndex:a,previousIndex:s}=e;let o=n;if(o||(a>s?o="next":a<s?o="prev":o="reset"),e.emit(`transition${i}`),r&&a!==s){if(o==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),o==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function Jpe(t,e){t===void 0&&(t=!0);const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),KH({swiper:r,runCallbacks:t,direction:e,step:"Start"}))}function eme(t,e){t===void 0&&(t=!0);const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),KH({swiper:r,runCallbacks:t,direction:e,step:"End"}))}var tme={setTransition:Zpe,transitionStart:Jpe,transitionEnd:eme};function rme(t,e,r,n,i){t===void 0&&(t=0),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const a=this;let s=t;s<0&&(s=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:p,wrapperEl:g,enabled:y}=a;if(!y&&!n&&!i||a.destroyed||a.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const b=Math.min(a.params.slidesPerGroupSkip,s);let x=b+Math.floor((s-b)/a.params.slidesPerGroup);x>=l.length&&(x=l.length-1);const w=-l[x];if(o.normalizeSlideIndex)for(let R=0;R<c.length;R+=1){const D=-Math.floor(w*100),I=Math.floor(c[R]*100),M=Math.floor(c[R+1]*100);typeof c[R+1]<"u"?D>=I&&D<M-(M-I)/2?s=R:D>=I&&D<M&&(s=R+1):D>=I&&(s=R)}if(a.initialized&&s!==f&&(!a.allowSlideNext&&(p?w>a.translate&&w>a.minTranslate():w<a.translate&&w<a.minTranslate())||!a.allowSlidePrev&&w>a.translate&&w>a.maxTranslate()&&(f||0)!==s))return!1;s!==(d||0)&&r&&a.emit("beforeSlideChangeStart"),a.updateProgress(w);let E;s>f?E="next":s<f?E="prev":E="reset";const T=a.virtual&&a.params.virtual.enabled;if(!(T&&i)&&(p&&-w===a.translate||!p&&w===a.translate))return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),o.effect!=="slide"&&a.setTranslate(w),E!=="reset"&&(a.transitionStart(r,E),a.transitionEnd(r,E)),!1;if(o.cssMode){const R=a.isHorizontal(),D=p?w:-w;if(e===0)T&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),T&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[R?"scrollLeft":"scrollTop"]=D})):g[R?"scrollLeft":"scrollTop"]=D,T&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return GH({swiper:a,targetPosition:D,side:R?"left":"top"}),!0;g.scrollTo({[R?"left":"top"]:D,behavior:"smooth"})}return!0}const P=HH().isSafari;return T&&!i&&P&&a.isElement&&a.virtual.update(!1,!1,s),a.setTransition(e),a.setTranslate(w),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,n),a.transitionStart(r,E),e===0?a.transitionEnd(r,E):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(D){!a||a.destroyed||D.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(r,E))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function nme(t,e,r,n){t===void 0&&(t=0),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const a=i.grid&&i.params.grid&&i.params.grid.rows>1;let s=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)s=s+i.virtual.slidesBefore;else{let o;if(a){const p=s*i.params.grid.rows;o=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else o=i.getSlideIndexByData(s);const l=a?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=l-o<d;if(c&&(f=f||o<Math.ceil(d/2)),n&&c&&i.params.slidesPerView!=="auto"&&!a&&(f=!1),f){const p=c?o<i.activeIndex?"prev":"next":o-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?o+1:o-l+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(a){const p=s*i.params.grid.rows;s=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else s=i.getSlideIndexByData(s)}return requestAnimationFrame(()=>{i.slideTo(s,e,r,n)}),i}function ime(t,e,r){e===void 0&&(e=!0);const n=this,{enabled:i,params:a,animating:s}=n;if(!i||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);let o=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<a.slidesPerGroupSkip?1:o,c=n.virtual&&a.virtual.enabled;if(a.loop){if(s&&!c&&a.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+l,t,e,r)}),!0}return a.rewind&&n.isEnd?n.slideTo(0,t,e,r):n.slideTo(n.activeIndex+l,t,e,r)}function ame(t,e,r){e===void 0&&(e=!0);const n=this,{params:i,snapGrid:a,slidesGrid:s,rtlTranslate:o,enabled:l,animating:c}=n;if(!l||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);const d=n.virtual&&i.virtual.enabled;if(i.loop){if(c&&!d&&i.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const f=o?n.translate:-n.translate;function p(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const g=p(f),y=a.map(E=>p(E)),b=i.freeMode&&i.freeMode.enabled;let x=a[y.indexOf(g)-1];if(typeof x>"u"&&(i.cssMode||b)){let E;a.forEach((T,O)=>{g>=T&&(E=O)}),typeof E<"u"&&(x=b?a[E]:a[E>0?E-1:E])}let w=0;if(typeof x<"u"&&(w=s.indexOf(x),w<0&&(w=n.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-n.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&n.isBeginning){const E=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(E,t,e,r)}else if(i.loop&&n.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(w,t,e,r)}),!0;return n.slideTo(w,t,e,r)}function sme(t,e,r){e===void 0&&(e=!0);const n=this;if(!n.destroyed)return typeof t>"u"&&(t=n.params.speed),n.slideTo(n.activeIndex,t,e,r)}function ome(t,e,r,n){e===void 0&&(e=!0),n===void 0&&(n=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let a=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[o]){const c=i.snapGrid[o],d=i.snapGrid[o+1];l-c>(d-c)*n&&(a+=i.params.slidesPerGroup)}else{const c=i.snapGrid[o-1],d=i.snapGrid[o];l-c<=(d-c)*n&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,r)}function lme(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:r}=t,n=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,a;const s=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-n/2||i>t.slides.length-t.loopedSlides+n/2?(t.loopFix(),i=t.getSlideIndex(ka(r,`${s}[data-swiper-slide-index="${a}"]`)[0]),fR(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-n?(t.loopFix(),i=t.getSlideIndex(ka(r,`${s}[data-swiper-slide-index="${a}"]`)[0]),fR(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var cme={slideTo:rme,slideToLoop:nme,slideNext:ime,slidePrev:ame,slideReset:sme,slideToClosest:ome,slideToClickedSlide:lme};function ume(t){const e=this,{params:r,slidesEl:n}=e;if(!r.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{ka(n,`.${r.slideClass}, swiper-slide`).forEach((f,p)=>{f.setAttribute("data-swiper-slide-index",p)})},a=e.grid&&r.grid&&r.grid.rows>1,s=r.slidesPerGroup*(a?r.grid.rows:1),o=e.slides.length%s!==0,l=a&&e.slides.length%r.grid.rows!==0,c=d=>{for(let f=0;f<d;f+=1){const p=e.isElement?l0("swiper-slide",[r.slideBlankClass]):l0("div",[r.slideClass,r.slideBlankClass]);e.slidesEl.append(p)}};if(o){if(r.loopAddBlankSlides){const d=s-e.slides.length%s;c(d),e.recalcSlides(),e.updateSlides()}else o0("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(r.loopAddBlankSlides){const d=r.grid.rows-e.slides.length%r.grid.rows;c(d),e.recalcSlides(),e.updateSlides()}else o0("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next"})}function dme(t){let{slideRealIndex:e,slideTo:r=!0,direction:n,setTranslate:i,activeSlideIndex:a,byController:s,byMousewheel:o}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:f,slidesEl:p,params:g}=l,{centeredSlides:y}=g;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&g.virtual.enabled){r&&(!g.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):g.centeredSlides&&l.snapIndex<g.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=f,l.emit("loopFix");return}let b=g.slidesPerView;b==="auto"?b=l.slidesPerViewDynamic():(b=Math.ceil(parseFloat(g.slidesPerView,10)),y&&b%2===0&&(b=b+1));const x=g.slidesPerGroupAuto?b:g.slidesPerGroup;let w=x;w%x!==0&&(w+=x-w%x),w+=g.loopAdditionalSlides,l.loopedSlides=w;const E=l.grid&&g.grid&&g.grid.rows>1;c.length<b+w?o0("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):E&&g.grid.fill==="row"&&o0("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const T=[],O=[];let _=l.activeIndex;typeof a>"u"?a=l.getSlideIndex(c.find(F=>F.classList.contains(g.slideActiveClass))):_=a;const P=n==="next"||!n,R=n==="prev"||!n;let D=0,I=0;const M=E?Math.ceil(c.length/g.grid.rows):c.length,k=(E?c[a].column:a)+(y&&typeof i>"u"?-b/2+.5:0);if(k<w){D=Math.max(w-k,x);for(let F=0;F<w-k;F+=1){const U=F-Math.floor(F/M)*M;if(E){const z=M-U-1;for(let j=c.length-1;j>=0;j-=1)c[j].column===z&&T.push(j)}else T.push(M-U-1)}}else if(k+b>M-w){I=Math.max(k-(M-w*2),x);for(let F=0;F<I;F+=1){const U=F-Math.floor(F/M)*M;E?c.forEach((z,j)=>{z.column===U&&O.push(j)}):O.push(U)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),R&&T.forEach(F=>{c[F].swiperLoopMoveDOM=!0,p.prepend(c[F]),c[F].swiperLoopMoveDOM=!1}),P&&O.forEach(F=>{c[F].swiperLoopMoveDOM=!0,p.append(c[F]),c[F].swiperLoopMoveDOM=!1}),l.recalcSlides(),g.slidesPerView==="auto"?l.updateSlides():E&&(T.length>0&&R||O.length>0&&P)&&l.slides.forEach((F,U)=>{l.grid.updateSlide(U,F,l.slides)}),g.watchSlidesProgress&&l.updateSlidesOffset(),r){if(T.length>0&&R){if(typeof e>"u"){const F=l.slidesGrid[_],z=l.slidesGrid[_+D]-F;o?l.setTranslate(l.translate-z):(l.slideTo(_+Math.ceil(D),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-z,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-z))}else if(i){const F=E?T.length/g.grid.rows:T.length;l.slideTo(l.activeIndex+F,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(O.length>0&&P)if(typeof e>"u"){const F=l.slidesGrid[_],z=l.slidesGrid[_-I]-F;o?l.setTranslate(l.translate-z):(l.slideTo(_-I,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-z,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-z))}else{const F=E?O.length/g.grid.rows:O.length;l.slideTo(l.activeIndex-F,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=f,l.controller&&l.controller.control&&!s){const F={slideRealIndex:e,direction:n,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(U=>{!U.destroyed&&U.params.loop&&U.loopFix({...F,slideTo:U.params.slidesPerView===g.slidesPerView?r:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...F,slideTo:l.controller.control.params.slidesPerView===g.slidesPerView?r:!1})}l.emit("loopFix")}function fme(){const t=this,{params:e,slidesEl:r}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const n=[];t.slides.forEach(i=>{const a=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;n[a]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),n.forEach(i=>{r.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var hme={loopCreate:ume,loopFix:dme,loopDestroy:fme};function pme(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function mme(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var gme={setGrabCursor:pme,unsetGrabCursor:mme};function vme(t,e){e===void 0&&(e=this);function r(n){if(!n||n===Va()||n===$n())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(t);return!i&&!n.getRootNode?null:i||r(n.getRootNode().host)}return r(e)}function h$(t,e,r){const n=$n(),{params:i}=t,a=i.edgeSwipeDetection,s=i.edgeSwipeThreshold;return a&&(r<=s||r>=n.innerWidth-s)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function yme(t){const e=this,r=Va();let n=t;n.originalEvent&&(n=n.originalEvent);const i=e.touchEventsData;if(n.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==n.pointerId)return;i.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(i.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){h$(e,n,n.targetTouches[0].pageX);return}const{params:a,touches:s,enabled:o}=e;if(!o||!a.simulateTouch&&n.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let l=n.target;if(a.touchEventsTarget==="wrapper"&&!_pe(l,e.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||i.isTouched&&i.isMoved)return;const c=!!a.noSwipingClass&&a.noSwipingClass!=="",d=n.composedPath?n.composedPath():n.path;c&&n.target&&n.target.shadowRoot&&d&&(l=d[0]);const f=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,p=!!(n.target&&n.target.shadowRoot);if(a.noSwiping&&(p?vme(f,l):l.closest(f))){e.allowClick=!0;return}if(a.swipeHandler&&!l.closest(a.swipeHandler))return;s.currentX=n.pageX,s.currentY=n.pageY;const g=s.currentX,y=s.currentY;if(!h$(e,n,g))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=g,s.startY=y,i.touchStartTime=s0(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let b=!0;l.matches(i.focusableElements)&&(b=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),r.activeElement&&r.activeElement.matches(i.focusableElements)&&r.activeElement!==l&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&r.activeElement.blur();const x=b&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||x)&&!l.isContentEditable&&n.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",n)}function bme(t){const e=Va(),r=this,n=r.touchEventsData,{params:i,touches:a,rtlTranslate:s,enabled:o}=r;if(!o||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(n.touchId!==null||l.pointerId!==n.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(_=>_.identifier===n.touchId),!c||c.identifier!==n.touchId)return}else c=l;if(!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",l);return}const d=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){a.startX=d,a.startY=f;return}if(!r.allowTouchMove){l.target.matches(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(a,{startX:d,startY:f,currentX:d,currentY:f}),n.touchStartTime=s0());return}if(i.touchReleaseOnEdges&&!i.loop){if(r.isVertical()){if(f<a.startY&&r.translate<=r.maxTranslate()||f>a.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(d<a.startX&&r.translate<=r.maxTranslate()||d>a.startX&&r.translate>=r.minTranslate())return}if(e.activeElement&&e.activeElement.matches(n.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}n.allowTouchCallbacks&&r.emit("touchMove",l),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=d,a.currentY=f;const p=a.currentX-a.startX,g=a.currentY-a.startY;if(r.params.threshold&&Math.sqrt(p**2+g**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let _;r.isHorizontal()&&a.currentY===a.startY||r.isVertical()&&a.currentX===a.startX?n.isScrolling=!1:p*p+g*g>=25&&(_=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,n.isScrolling=r.isHorizontal()?_>i.touchAngle:90-_>i.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(n.startMoving=!0),n.isScrolling||l.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let y=r.isHorizontal()?p:g,b=r.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(y=Math.abs(y)*(s?1:-1),b=Math.abs(b)*(s?1:-1)),a.diff=y,y*=i.touchRatio,s&&(y=-y,b=-b);const x=r.touchesDirection;r.swipeDirection=y>0?"prev":"next",r.touchesDirection=b>0?"prev":"next";const w=r.params.loop&&!i.cssMode,E=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!n.isMoved){if(w&&E&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const _=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(_)}n.allowMomentumBounce=!1,i.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",l)}if(new Date().getTime(),i._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&x!==r.touchesDirection&&w&&E&&Math.abs(y)>=1){Object.assign(a,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}r.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=y+n.startTranslate;let T=!0,O=i.resistanceRatio;if(i.touchReleaseOnEdges&&(O=0),y>0?(w&&E&&n.allowThresholdMove&&n.currentTranslate>(i.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(i.slidesPerView!=="auto"&&r.slides.length-i.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(T=!1,i.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+y)**O))):y<0&&(w&&E&&n.allowThresholdMove&&n.currentTranslate<(i.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(i.slidesPerView!=="auto"&&r.slides.length-i.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(i.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(T=!1,i.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-y)**O))),T&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),i.threshold>0)if(Math.abs(y)>i.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,n.currentTranslate=n.startTranslate,a.diff=r.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{n.currentTranslate=n.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&r.freeMode||i.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function xme(t){const e=this,r=e.touchEventsData;let n=t;n.originalEvent&&(n=n.originalEvent);let i;if(n.type==="touchend"||n.type==="touchcancel"){if(i=[...n.changedTouches].find(_=>_.identifier===r.touchId),!i||i.identifier!==r.touchId)return}else{if(r.touchId!==null||n.pointerId!==r.pointerId)return;i=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:s,touches:o,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!s.simulateTouch&&n.pointerType==="mouse")return;if(r.allowTouchCallbacks&&e.emit("touchEnd",n),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&s.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}s.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=s0(),p=f-r.touchStartTime;if(e.allowClick){const _=n.path||n.composedPath&&n.composedPath();e.updateClickedSlide(_&&_[0]||n.target,_),e.emit("tap click",n),p<300&&f-r.lastClickTime<300&&e.emit("doubleTap doubleClick",n)}if(r.lastClickTime=s0(),fR(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||o.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let g;if(s.followFinger?g=l?e.translate:-e.translate:g=-r.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const y=g>=-e.maxTranslate()&&!e.params.loop;let b=0,x=e.slidesSizesGrid[0];for(let _=0;_<c.length;_+=_<s.slidesPerGroupSkip?1:s.slidesPerGroup){const P=_<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof c[_+P]<"u"?(y||g>=c[_]&&g<c[_+P])&&(b=_,x=c[_+P]-c[_]):(y||g>=c[_])&&(b=_,x=c[c.length-1]-c[c.length-2])}let w=null,E=null;s.rewind&&(e.isBeginning?E=s.virtual&&s.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const T=(g-c[b])/x,O=b<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(p>s.longSwipesMs){if(!s.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(T>=s.longSwipesRatio?e.slideTo(s.rewind&&e.isEnd?w:b+O):e.slideTo(b)),e.swipeDirection==="prev"&&(T>1-s.longSwipesRatio?e.slideTo(b+O):E!==null&&T<0&&Math.abs(T)>s.longSwipesRatio?e.slideTo(E):e.slideTo(b))}else{if(!s.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(n.target===e.navigation.nextEl||n.target===e.navigation.prevEl)?n.target===e.navigation.nextEl?e.slideTo(b+O):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:b+O),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:b))}}function p$(){const t=this,{params:e,el:r}=t;if(r&&r.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:a}=t,s=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!s?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=n,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function Sme(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function wme(){const t=this,{wrapperEl:e,rtlTranslate:r,enabled:n}=t;if(!n)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Eme(t){const e=this;vy(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Tme(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const WH=(t,e)=>{const r=Va(),{params:n,el:i,wrapperEl:a,device:s}=t,o=!!n.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(r[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),r[l]("touchmove",t.onTouchMove,{passive:!1,capture:o}),r[l]("pointermove",t.onTouchMove,{passive:!1,capture:o}),r[l]("touchend",t.onTouchEnd,{passive:!0}),r[l]("pointerup",t.onTouchEnd,{passive:!0}),r[l]("pointercancel",t.onTouchEnd,{passive:!0}),r[l]("touchcancel",t.onTouchEnd,{passive:!0}),r[l]("pointerout",t.onTouchEnd,{passive:!0}),r[l]("pointerleave",t.onTouchEnd,{passive:!0}),r[l]("contextmenu",t.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&i[l]("click",t.onClick,!0),n.cssMode&&a[l]("scroll",t.onScroll),n.updateOnWindowResize?t[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",p$,!0):t[c]("observerUpdate",p$,!0),i[l]("load",t.onLoad,{capture:!0}))};function Ame(){const t=this,{params:e}=t;t.onTouchStart=yme.bind(t),t.onTouchMove=bme.bind(t),t.onTouchEnd=xme.bind(t),t.onDocumentTouchStart=Tme.bind(t),e.cssMode&&(t.onScroll=wme.bind(t)),t.onClick=Sme.bind(t),t.onLoad=Eme.bind(t),WH(t,"on")}function _me(){WH(this,"off")}var Ome={attachEvents:Ame,detachEvents:_me};const m$=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Rme(){const t=this,{realIndex:e,initialized:r,params:n,el:i}=t,a=n.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const s=Va(),o=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",l=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?t.el:s.querySelector(n.breakpointsBase),c=t.getBreakpoint(a,o,l);if(!c||t.currentBreakpoint===c)return;const f=(c in a?a[c]:void 0)||t.originalParams,p=m$(t,n),g=m$(t,f),y=t.params.grabCursor,b=f.grabCursor,x=n.enabled;p&&!g?(i.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(i.classList.add(`${n.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&n.grid.fill==="column")&&i.classList.add(`${n.containerModifierClass}grid-column`),t.emitContainerClasses()),y&&!b?t.unsetGrabCursor():!y&&b&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(P=>{if(typeof f[P]>"u")return;const R=n[P]&&n[P].enabled,D=f[P]&&f[P].enabled;R&&!D&&t[P].disable(),!R&&D&&t[P].enable()});const w=f.direction&&f.direction!==n.direction,E=n.loop&&(f.slidesPerView!==n.slidesPerView||w),T=n.loop;w&&r&&t.changeDirection(),ci(t.params,f);const O=t.params.enabled,_=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),x&&!O?t.disable():!x&&O&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",f),r&&(E?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!T&&_?(t.loopCreate(e),t.updateSlides()):T&&!_&&t.loopDestroy()),t.emit("breakpoint",f)}function Cme(t,e,r){if(e===void 0&&(e="window"),!t||e==="container"&&!r)return;let n=!1;const i=$n(),a=e==="window"?i.innerHeight:r.clientHeight,s=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:a*l,point:o}}return{value:o,point:o}});s.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<s.length;o+=1){const{point:l,value:c}=s[o];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(n=l):c<=r.clientWidth&&(n=l)}return n||"max"}var Pme={setBreakpoint:Rme,getBreakpoint:Cme};function Dme(t,e){const r=[];return t.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(i=>{n[i]&&r.push(e+i)}):typeof n=="string"&&r.push(e+n)}),r}function Lme(){const t=this,{classNames:e,params:r,rtl:n,el:i,device:a}=t,s=Dme(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);e.push(...s),i.classList.add(...e),t.emitContainerClasses()}function Ime(){const t=this,{el:e,classNames:r}=t;!e||typeof e=="string"||(e.classList.remove(...r),t.emitContainerClasses())}var Mme={addClasses:Lme,removeClasses:Ime};function Nme(){const t=this,{isLocked:e,params:r}=t,{slidesOffsetBefore:n}=r;if(n){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+n*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var kme={checkOverflow:Nme},mR={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function jme(t,e){return function(n){n===void 0&&(n={});const i=Object.keys(n)[0],a=n[i];if(typeof a!="object"||a===null){ci(e,n);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in a)){ci(e,n);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),ci(e,n)}}const KE={eventsEmitter:Mpe,update:qpe,translate:Qpe,transition:tme,slide:cme,loop:hme,grabCursor:gme,events:Ome,breakpoints:Pme,checkOverflow:kme,classes:Mme},WE={};let BD=class Ls{constructor(){let e,r;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?r=i[0]:[e,r]=i,r||(r={}),r=ci({},r),e&&!r.el&&(r.el=e);const s=Va();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const d=[];return s.querySelectorAll(r.el).forEach(f=>{const p=ci({},r,{el:f});d.push(new Ls(p))}),d}const o=this;o.__swiper__=!0,o.support=VH(),o.device=qH({userAgent:r.userAgent}),o.browser=HH(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],r.modules&&Array.isArray(r.modules)&&o.modules.push(...r.modules);const l={};o.modules.forEach(d=>{d({params:r,swiper:o,extendParams:jme(r,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=ci({},mR,l);return o.params=ci({},c,WE,r),o.originalParams=ci({},o.params),o.passedParams=ci({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach(d=>{o.on(d,o.params.on[d])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:r,params:n}=this,i=ka(r,`.${n.slideClass}, swiper-slide`),a=c0(i[0]);return c0(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:r,params:n}=e;e.slides=ka(r,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),s=(n.maxTranslate()-i)*e+i;n.translateTo(s,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return r.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.forEach(n=>{const i=e.getSlideClasses(n);r.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e,r){e===void 0&&(e="current"),r===void 0&&(r=!1);const n=this,{params:i,slides:a,slidesGrid:s,slidesSizesGrid:o,size:l,activeIndex:c}=n;let d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=a[c]?Math.ceil(a[c].swiperSlideSize):0,p;for(let g=c+1;g<a.length;g+=1)a[g]&&!p&&(f+=Math.ceil(a[g].swiperSlideSize),d+=1,f>l&&(p=!0));for(let g=c-1;g>=0;g-=1)a[g]&&!p&&(f+=a[g].swiperSlideSize,d+=1,f>l&&(p=!0))}else if(e==="current")for(let f=c+1;f<a.length;f+=1)(r?s[f]+o[f]-s[c]<l:s[f]-s[c]<l)&&(d+=1);else for(let f=c-1;f>=0;f-=1)s[c]-s[f]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&vy(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const s=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)i(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const s=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(s.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||i()}n.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r){r===void 0&&(r=!0);const n=this,i=n.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${i}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(e){const r=this;r.rtl&&e==="rtl"||!r.rtl&&e==="ltr"||(r.rtl=e==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(e){const r=this;if(r.mounted)return!0;let n=e||r.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=r,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const i=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(i()):ka(n,i())[0];return!s&&r.params.createElements&&(s=l0("div",r.params.wrapperClass),n.append(s),ka(n,`.${r.params.slideClass}`).forEach(o=>{s.append(o)})),Object.assign(r,{el:n,wrapperEl:s,slidesEl:r.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:s,hostEl:r.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||al(n,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||al(n,"direction")==="rtl"),wrongRTL:al(s,"display")==="-webkit-box"}),!0}init(e){const r=this;if(r.initialized||r.mount(e)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(),r.attachEvents();const i=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&i.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(a=>{a.complete?vy(r,a):a.addEventListener("load",s=>{vy(r,s.target)})}),pR(r),r.initialized=!0,pR(r),r.emit("init"),r.emit("afterInit"),r}destroy(e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);const n=this,{params:i,el:a,wrapperEl:s,slides:o}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),r&&(n.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),s&&s.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),e!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),Spe(n)),n.destroyed=!0),null}static extendDefaults(e){ci(WE,e)}static get extendedDefaults(){return WE}static get defaults(){return mR}static installModule(e){Ls.prototype.__modules__||(Ls.prototype.__modules__=[]);const r=Ls.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>Ls.installModule(r)),Ls):(Ls.installModule(e),Ls)}};Object.keys(KE).forEach(t=>{Object.keys(KE[t]).forEach(e=>{BD.prototype[e]=KE[t][e]})});BD.use([Lpe,Ipe]);const YH=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function kc(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function pd(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:kc(e[n])&&kc(t[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?t[n]=e[n]:pd(t[n],e[n]):t[n]=e[n]})}function XH(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function QH(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function ZH(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function JH(t){t===void 0&&(t="");const e=t.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return e.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function $me(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Fme(t){let{swiper:e,slides:r,passedParams:n,changedParams:i,nextEl:a,prevEl:s,scrollbarEl:o,paginationEl:l}=t;const c=i.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:d,pagination:f,navigation:p,scrollbar:g,virtual:y,thumbs:b}=e;let x,w,E,T,O,_,P,R;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(x=!0),i.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(w=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(E=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(d.scrollbar||d.scrollbar===!1)&&g&&!g.el&&(T=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||a)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(O=!0);const D=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),d[I].prevEl=void 0,d[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),d[I].el=void 0,e[I].el=void 0))};i.includes("loop")&&e.isElement&&(d.loop&&!n.loop?_=!0:!d.loop&&n.loop?P=!0:R=!0),c.forEach(I=>{if(kc(d[I])&&kc(n[I]))Object.assign(d[I],n[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in n[I]&&!n[I].enabled&&D(I);else{const M=n[I];(M===!0||M===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?M===!1&&D(I):d[I]=n[I]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),i.includes("children")&&r&&y&&d.virtual.enabled?(y.slides=r,y.update(!0)):i.includes("virtual")&&y&&d.virtual.enabled&&(r&&(y.slides=r),y.update(!0)),i.includes("children")&&r&&d.loop&&(R=!0),x&&b.init()&&b.update(!0),w&&(e.controller.control=d.controller.control),E&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),T&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(d.scrollbar.el=o),g.init(),g.updateSize(),g.setTranslate()),O&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),s.innerHTML=e.hostEl.constructor.prevButtonSvg,s.part.add("button-prev"),e.el.appendChild(s))),a&&(d.navigation.nextEl=a),s&&(d.navigation.prevEl=s),p.init(),p.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&e.changeDirection(n.direction,!1),(_||R)&&e.loopDestroy(),(P||R)&&e.loopCreate(),e.update()}function Bme(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const r={on:{}},n={},i={};pd(r,mR),r._emitClasses=!0,r.init=!1;const a={},s=YH.map(l=>l.replace(/_/,"")),o=Object.assign({},t);return Object.keys(o).forEach(l=>{typeof t[l]>"u"||(s.indexOf(l)>=0?kc(t[l])?(r[l]={},i[l]={},pd(r[l],t[l]),pd(i[l],t[l])):(r[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?n[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:a[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{r[l]===!0&&(r[l]={}),r[l]===!1&&delete r[l]}),{params:r,passedParams:i,rest:a,events:n}}function Ume(t,e){let{el:r,nextEl:n,prevEl:i,paginationEl:a,scrollbarEl:s,swiper:o}=t;XH(e)&&n&&i&&(o.params.navigation.nextEl=n,o.originalParams.navigation.nextEl=n,o.params.navigation.prevEl=i,o.originalParams.navigation.prevEl=i),QH(e)&&a&&(o.params.pagination.el=a,o.originalParams.pagination.el=a),ZH(e)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(r)}function Gme(t,e,r,n,i){const a=[];if(!e)return a;const s=l=>{a.indexOf(l)<0&&a.push(l)};if(r&&n){const l=n.map(i),c=r.map(i);l.join("")!==c.join("")&&s("children"),n.length!==r.length&&s("children")}return YH.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(kc(t[l])&&kc(e[l])){const c=Object.keys(t[l]),d=Object.keys(e[l]);c.length!==d.length?s(l):(c.forEach(f=>{t[l][f]!==e[l][f]&&s(l)}),d.forEach(f=>{t[l][f]!==e[l][f]&&s(l)}))}else t[l]!==e[l]&&s(l)}),a}const zme=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u0.apply(this,arguments)}function e7(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function t7(t){const e=[];return W.Children.toArray(t).forEach(r=>{e7(r)?e.push(r):r.props&&r.props.children&&t7(r.props.children).forEach(n=>e.push(n))}),e}function Vme(t){const e=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return W.Children.toArray(t).forEach(n=>{if(e7(n))e.push(n);else if(n.props&&n.props.slot&&r[n.props.slot])r[n.props.slot].push(n);else if(n.props&&n.props.children){const i=t7(n.props.children);i.length>0?i.forEach(a=>e.push(a)):r["container-end"].push(n)}else r["container-end"].push(n)}),{slides:e,slots:r}}function qme(t,e,r){if(!r)return null;const n=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:a,to:s}=r,o=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let d=o;d<l;d+=1)d>=a&&d<=s&&c.push(e[n(d)]);return c.map((d,f)=>W.cloneElement(d,{swiper:t,style:i,key:d.props.virtualIndex||d.key||`slide-${f}`}))}function op(t,e){return typeof window>"u"?A.useEffect(t,e):A.useLayoutEffect(t,e)}const g$=A.createContext(null),Hme=A.createContext(null),r7=A.forwardRef(function(t,e){let{className:r,tag:n="div",wrapperTag:i="div",children:a,onSwiper:s,...o}=t===void 0?{}:t,l=!1;const[c,d]=A.useState("swiper"),[f,p]=A.useState(null),[g,y]=A.useState(!1),b=A.useRef(!1),x=A.useRef(null),w=A.useRef(null),E=A.useRef(null),T=A.useRef(null),O=A.useRef(null),_=A.useRef(null),P=A.useRef(null),R=A.useRef(null),{params:D,passedParams:I,rest:M,events:N}=Bme(o),{slides:k,slots:F}=Vme(a),U=()=>{y(!g)};Object.assign(D.on,{_containerClasses(q,G){d(G)}});const z=()=>{Object.assign(D.on,N),l=!0;const q={...D};if(delete q.wrapperClass,w.current=new BD(q),w.current.virtual&&w.current.params.virtual.enabled){w.current.virtual.slides=k;const G={cache:!1,slides:k,renderExternal:p,renderExternalUpdate:!1};pd(w.current.params.virtual,G),pd(w.current.originalParams.virtual,G)}};x.current||z(),w.current&&w.current.on("_beforeBreakpoint",U);const j=()=>{l||!N||!w.current||Object.keys(N).forEach(q=>{w.current.on(q,N[q])})},H=()=>{!N||!w.current||Object.keys(N).forEach(q=>{w.current.off(q,N[q])})};A.useEffect(()=>()=>{w.current&&w.current.off("_beforeBreakpoint",U)}),A.useEffect(()=>{!b.current&&w.current&&(w.current.emitSlidesClasses(),b.current=!0)}),op(()=>{if(e&&(e.current=x.current),!!x.current)return w.current.destroyed&&z(),Ume({el:x.current,nextEl:O.current,prevEl:_.current,paginationEl:P.current,scrollbarEl:R.current,swiper:w.current},D),s&&!w.current.destroyed&&s(w.current),()=>{w.current&&!w.current.destroyed&&w.current.destroy(!0,!1)}},[]),op(()=>{j();const q=Gme(I,E.current,k,T.current,G=>G.key);return E.current=I,T.current=k,q.length&&w.current&&!w.current.destroyed&&Fme({swiper:w.current,slides:k,passedParams:I,changedParams:q,nextEl:O.current,prevEl:_.current,scrollbarEl:R.current,paginationEl:P.current}),()=>{H()}}),op(()=>{zme(w.current)},[f]);function V(){return D.virtual?qme(w.current,k,f):k.map((q,G)=>W.cloneElement(q,{swiper:w.current,swiperSlideIndex:G}))}return W.createElement(n,u0({ref:x,className:JH(`${c}${r?` ${r}`:""}`)},M),W.createElement(Hme.Provider,{value:w.current},F["container-start"],W.createElement(i,{className:$me(D.wrapperClass)},F["wrapper-start"],V(),F["wrapper-end"]),XH(D)&&W.createElement(W.Fragment,null,W.createElement("div",{ref:_,className:"swiper-button-prev"}),W.createElement("div",{ref:O,className:"swiper-button-next"})),ZH(D)&&W.createElement("div",{ref:R,className:"swiper-scrollbar"}),QH(D)&&W.createElement("div",{ref:P,className:"swiper-pagination"}),F["container-end"]))});r7.displayName="Swiper";const n7=A.forwardRef(function(t,e){let{tag:r="div",children:n,className:i="",swiper:a,zoom:s,lazy:o,virtualIndex:l,swiperSlideIndex:c,...d}=t===void 0?{}:t;const f=A.useRef(null),[p,g]=A.useState("swiper-slide"),[y,b]=A.useState(!1);function x(O,_,P){_===f.current&&g(P)}op(()=>{if(typeof c<"u"&&(f.current.swiperSlideIndex=c),e&&(e.current=f.current),!(!f.current||!a)){if(a.destroyed){p!=="swiper-slide"&&g("swiper-slide");return}return a.on("_slideClass",x),()=>{a&&a.off("_slideClass",x)}}}),op(()=>{a&&f.current&&!a.destroyed&&g(a.getSlideClasses(f.current))},[a]);const w={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},E=()=>typeof n=="function"?n(w):n,T=()=>{b(!0)};return W.createElement(r,u0({ref:f,className:JH(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:T},d),s&&W.createElement(g$.Provider,{value:w},W.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},E(),o&&!y&&W.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&W.createElement(g$.Provider,{value:w},E(),o&&!y&&W.createElement("div",{className:"swiper-lazy-preloader"})))});n7.displayName="SwiperSlide";function i7(t,e,r,n){return t.params.createElements&&Object.keys(n).forEach(i=>{if(!r[i]&&r.auto===!0){let a=ka(t.el,`.${n[i]}`)[0];a||(a=l0("div",n[i]),a.className=n[i],t.el.append(a)),r[i]=a,e[i]=a}}),r}function Kme(t){let{swiper:e,extendParams:r,on:n,emit:i}=t;r({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function a(y){let b;return y&&typeof y=="string"&&e.isElement&&(b=e.el.querySelector(y)||e.hostEl.querySelector(y),b)?b:(y&&(typeof y=="string"&&(b=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&b&&b.length>1&&e.el.querySelectorAll(y).length===1?b=e.el.querySelector(y):b&&b.length===1&&(b=b[0])),y&&!b?y:b)}function s(y,b){const x=e.params.navigation;y=rn(y),y.forEach(w=>{w&&(w.classList[b?"add":"remove"](...x.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=b),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](x.lockClass))})}function o(){const{nextEl:y,prevEl:b}=e.navigation;if(e.params.loop){s(b,!1),s(y,!1);return}s(b,e.isBeginning&&!e.params.rewind),s(y,e.isEnd&&!e.params.rewind)}function l(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){const y=e.params.navigation;if(e.params.navigation=i7(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let b=a(y.nextEl),x=a(y.prevEl);Object.assign(e.navigation,{nextEl:b,prevEl:x}),b=rn(b),x=rn(x);const w=(E,T)=>{E&&E.addEventListener("click",T==="next"?c:l),!e.enabled&&E&&E.classList.add(...y.lockClass.split(" "))};b.forEach(E=>w(E,"next")),x.forEach(E=>w(E,"prev"))}function f(){let{nextEl:y,prevEl:b}=e.navigation;y=rn(y),b=rn(b);const x=(w,E)=>{w.removeEventListener("click",E==="next"?c:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(w=>x(w,"next")),b.forEach(w=>x(w,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?g():(d(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{f()}),n("enable disable",()=>{let{nextEl:y,prevEl:b}=e.navigation;if(y=rn(y),b=rn(b),e.enabled){o();return}[...y,...b].filter(x=>!!x).forEach(x=>x.classList.add(e.params.navigation.lockClass))}),n("click",(y,b)=>{let{nextEl:x,prevEl:w}=e.navigation;x=rn(x),w=rn(w);const E=b.target;let T=w.includes(E)||x.includes(E);if(e.isElement&&!T){const O=b.path||b.composedPath&&b.composedPath();O&&(T=O.find(_=>x.includes(_)||w.includes(_)))}if(e.params.navigation.hideOnClick&&!T){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let O;x.length?O=x[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(O=w[0].classList.contains(e.params.navigation.hiddenClass)),i(O===!0?"navigationShow":"navigationHide"),[...x,...w].filter(_=>!!_).forEach(_=>_.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),o()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:p,disable:g,update:o,init:d,destroy:f})}function Ph(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Wme(t){let{swiper:e,extendParams:r,on:n,emit:i}=t;const a="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let s,o=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(E,T){const{bulletActiveClass:O}=e.params.pagination;E&&(E=E[`${T==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${O}-${T}`),E=E[`${T==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${O}-${T}-${T}`)))}function d(E,T,O){if(E=E%O,T=T%O,T===E+1)return"next";if(T===E-1)return"previous"}function f(E){const T=E.target.closest(Ph(e.params.pagination.bulletClass));if(!T)return;E.preventDefault();const O=c0(T)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===O)return;const _=d(e.realIndex,O,e.slides.length);_==="next"?e.slideNext():_==="previous"?e.slidePrev():e.slideToLoop(O)}else e.slideTo(O)}function p(){const E=e.rtl,T=e.params.pagination;if(l())return;let O=e.pagination.el;O=rn(O);let _,P;const R=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,D=e.params.loop?Math.ceil(R/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(P=e.previousRealIndex||0,_=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(_=e.snapIndex,P=e.previousSnapIndex):(P=e.previousIndex||0,_=e.activeIndex||0),T.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const I=e.pagination.bullets;let M,N,k;if(T.dynamicBullets&&(s=hR(I[0],e.isHorizontal()?"width":"height"),O.forEach(F=>{F.style[e.isHorizontal()?"width":"height"]=`${s*(T.dynamicMainBullets+4)}px`}),T.dynamicMainBullets>1&&P!==void 0&&(o+=_-(P||0),o>T.dynamicMainBullets-1?o=T.dynamicMainBullets-1:o<0&&(o=0)),M=Math.max(_-o,0),N=M+(Math.min(I.length,T.dynamicMainBullets)-1),k=(N+M)/2),I.forEach(F=>{const U=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(z=>`${T.bulletActiveClass}${z}`)].map(z=>typeof z=="string"&&z.includes(" ")?z.split(" "):z).flat();F.classList.remove(...U)}),O.length>1)I.forEach(F=>{const U=c0(F);U===_?F.classList.add(...T.bulletActiveClass.split(" ")):e.isElement&&F.setAttribute("part","bullet"),T.dynamicBullets&&(U>=M&&U<=N&&F.classList.add(...`${T.bulletActiveClass}-main`.split(" ")),U===M&&c(F,"prev"),U===N&&c(F,"next"))});else{const F=I[_];if(F&&F.classList.add(...T.bulletActiveClass.split(" ")),e.isElement&&I.forEach((U,z)=>{U.setAttribute("part",z===_?"bullet-active":"bullet")}),T.dynamicBullets){const U=I[M],z=I[N];for(let j=M;j<=N;j+=1)I[j]&&I[j].classList.add(...`${T.bulletActiveClass}-main`.split(" "));c(U,"prev"),c(z,"next")}}if(T.dynamicBullets){const F=Math.min(I.length,T.dynamicMainBullets+4),U=(s*F-s)/2-k*s,z=E?"right":"left";I.forEach(j=>{j.style[e.isHorizontal()?z:"top"]=`${U}px`})}}O.forEach((I,M)=>{if(T.type==="fraction"&&(I.querySelectorAll(Ph(T.currentClass)).forEach(N=>{N.textContent=T.formatFractionCurrent(_+1)}),I.querySelectorAll(Ph(T.totalClass)).forEach(N=>{N.textContent=T.formatFractionTotal(D)})),T.type==="progressbar"){let N;T.progressbarOpposite?N=e.isHorizontal()?"vertical":"horizontal":N=e.isHorizontal()?"horizontal":"vertical";const k=(_+1)/D;let F=1,U=1;N==="horizontal"?F=k:U=k,I.querySelectorAll(Ph(T.progressbarFillClass)).forEach(z=>{z.style.transform=`translate3d(0,0,0) scaleX(${F}) scaleY(${U})`,z.style.transitionDuration=`${e.params.speed}ms`})}T.type==="custom"&&T.renderCustom?(I.innerHTML=T.renderCustom(e,_+1,D),M===0&&i("paginationRender",I)):(M===0&&i("paginationRender",I),i("paginationUpdate",I)),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](T.lockClass)})}function g(){const E=e.params.pagination;if(l())return;const T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let O=e.pagination.el;O=rn(O);let _="";if(E.type==="bullets"){let P=e.params.loop?Math.ceil(T/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&P>T&&(P=T);for(let R=0;R<P;R+=1)E.renderBullet?_+=E.renderBullet.call(e,R,E.bulletClass):_+=`<${E.bulletElement} ${e.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?_=E.renderFraction.call(e,E.currentClass,E.totalClass):_=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?_=E.renderProgressbar.call(e,E.progressbarFillClass):_=`<span class="${E.progressbarFillClass}"></span>`),e.pagination.bullets=[],O.forEach(P=>{E.type!=="custom"&&(P.innerHTML=_||""),E.type==="bullets"&&e.pagination.bullets.push(...P.querySelectorAll(Ph(E.bulletClass)))}),E.type!=="custom"&&i("paginationRender",O[0])}function y(){e.params.pagination=i7(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const E=e.params.pagination;if(!E.el)return;let T;typeof E.el=="string"&&e.isElement&&(T=e.el.querySelector(E.el)),!T&&typeof E.el=="string"&&(T=[...document.querySelectorAll(E.el)]),T||(T=E.el),!(!T||T.length===0)&&(e.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(T)&&T.length>1&&(T=[...e.el.querySelectorAll(E.el)],T.length>1&&(T=T.find(O=>zH(O,".swiper")[0]===e.el))),Array.isArray(T)&&T.length===1&&(T=T[0]),Object.assign(e.pagination,{el:T}),T=rn(T),T.forEach(O=>{E.type==="bullets"&&E.clickable&&O.classList.add(...(E.clickableClass||"").split(" ")),O.classList.add(E.modifierClass+E.type),O.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(O.classList.add(`${E.modifierClass}${E.type}-dynamic`),o=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&O.classList.add(E.progressbarOppositeClass),E.clickable&&O.addEventListener("click",f),e.enabled||O.classList.add(E.lockClass)}))}function b(){const E=e.params.pagination;if(l())return;let T=e.pagination.el;T&&(T=rn(T),T.forEach(O=>{O.classList.remove(E.hiddenClass),O.classList.remove(E.modifierClass+E.type),O.classList.remove(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(O.classList.remove(...(E.clickableClass||"").split(" ")),O.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(O=>O.classList.remove(...E.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const E=e.params.pagination;let{el:T}=e.pagination;T=rn(T),T.forEach(O=>{O.classList.remove(E.horizontalClass,E.verticalClass),O.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?w():(y(),g(),p())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),n("snapIndexChange",()=>{p()}),n("snapGridLengthChange",()=>{g(),p()}),n("destroy",()=>{b()}),n("enable disable",()=>{let{el:E}=e.pagination;E&&(E=rn(E),E.forEach(T=>T.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{p()}),n("click",(E,T)=>{const O=T.target,_=rn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&_&&_.length>0&&!O.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&O===e.navigation.nextEl||e.navigation.prevEl&&O===e.navigation.prevEl))return;const P=_[0].classList.contains(e.params.pagination.hiddenClass);i(P===!0?"paginationShow":"paginationHide"),_.forEach(R=>R.classList.toggle(e.params.pagination.hiddenClass))}});const x=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=rn(E),E.forEach(T=>T.classList.remove(e.params.pagination.paginationDisabledClass))),y(),g(),p()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=rn(E),E.forEach(T=>T.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:x,disable:w,render:g,update:p,init:y,destroy:b})}function Yme(t){let{swiper:e,extendParams:r,on:n,emit:i,params:a}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,o,l=a&&a.autoplay?a.autoplay.delay:3e3,c=a&&a.autoplay?a.autoplay.delay:3e3,d,f=new Date().getTime(),p,g,y,b,x,w,E;function T(V){!e||e.destroyed||!e.wrapperEl||V.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",T),!(E||V.detail&&V.detail.bySwiperTouchMove)&&M())}const O=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(c=d,p=!1);const V=e.autoplay.paused?d:f+c-new Date().getTime();e.autoplay.timeLeft=V,i("autoplayTimeLeft",V,V/l),o=requestAnimationFrame(()=>{O()})},_=()=>{let V;return e.virtual&&e.params.virtual.enabled?V=e.slides.find(G=>G.classList.contains("swiper-slide-active")):V=e.slides[e.activeIndex],V?parseInt(V.getAttribute("data-swiper-autoplay"),10):void 0},P=V=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),O();let q=typeof V>"u"?e.params.autoplay.delay:V;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const G=_();!Number.isNaN(G)&&G>0&&typeof V>"u"&&(q=G,l=G,c=G),d=q;const Y=e.params.speed,X=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Y,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Y,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Y,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Y,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{P()})))};return q>0?(clearTimeout(s),s=setTimeout(()=>{X()},q)):requestAnimationFrame(()=>{X()}),q},R=()=>{f=new Date().getTime(),e.autoplay.running=!0,P(),i("autoplayStart")},D=()=>{e.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(o),i("autoplayStop")},I=(V,q)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(s),V||(w=!0);const G=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",T):M()};if(e.autoplay.paused=!0,q){x&&(d=e.params.autoplay.delay),x=!1,G();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),G())},M=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),w?(w=!1,P(d)):P(),e.autoplay.paused=!1,i("autoplayResume"))},N=()=>{if(e.destroyed||!e.autoplay.running)return;const V=Va();V.visibilityState==="hidden"&&(w=!0,I(!0)),V.visibilityState==="visible"&&M()},k=V=>{V.pointerType==="mouse"&&(w=!0,E=!0,!(e.animating||e.autoplay.paused)&&I(!0))},F=V=>{V.pointerType==="mouse"&&(E=!1,e.autoplay.paused&&M())},U=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",k),e.el.addEventListener("pointerleave",F))},z=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",k),e.el.removeEventListener("pointerleave",F))},j=()=>{Va().addEventListener("visibilitychange",N)},H=()=>{Va().removeEventListener("visibilitychange",N)};n("init",()=>{e.params.autoplay.enabled&&(U(),j(),R())}),n("destroy",()=>{z(),H(),e.autoplay.running&&D()}),n("_freeModeStaticRelease",()=>{(y||w)&&M()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?D():I(!0,!0)}),n("beforeTransitionStart",(V,q,G)=>{e.destroyed||!e.autoplay.running||(G||!e.params.autoplay.disableOnInteraction?I(!0,!0):D())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){D();return}g=!0,y=!1,w=!1,b=setTimeout(()=>{w=!0,y=!0,I(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!g)){if(clearTimeout(b),clearTimeout(s),e.params.autoplay.disableOnInteraction){y=!1,g=!1;return}y&&e.params.cssMode&&M(),y=!1,g=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(x=!0)}),Object.assign(e.autoplay,{start:R,stop:D,pause:I,resume:M})}const Xme=["https://media.gettyimages.com/id/1445487185/photo/canadian-born-actor-keanu-reeves-walks-along-an-aisle-in-the-church-of-saint-eustache-in-a.jpg?s=612x612&w=0&k=20&c=rCJatqXjiKyzRRobjW7iuSZrYg7a7n0MbjRHw2NASZQ=","https://media.gettyimages.com/id/517724758/photo/marlon-brando-as-don-vito-corleone-in-the-godfather-for-which-he-won-an-oscar-for-best-actor.jpg?s=612x612&w=0&k=20&c=AteFgnS-zJEp9DmlieoeCk-ECqOyXy82splFpVmoLA8=","https://media.gettyimages.com/id/517475848/photo/scenes-from-the-movie-bonnie-and-clyde-with-warren-beatty-and-faye-dunaway-produced-by-warner.jpg?s=612x612&w=0&k=20&c=Jej6SNujxegbMJmE2ChJw9J3SazL0zlZdCOf6W1G5T0=","https://media.gettyimages.com/id/515364544/photo/the-hand-of-a-phantom-threatens-a-woman-in-bed-in-this-scene-from-the-cat-and-the-canary-1927.jpg?s=612x612&w=0&k=20&c=08-ykLwmdSBv7JQE-Qhb-tfYWVJwxMverMfnlNlLUOg=","https://media.gettyimages.com/id/50379490/photo/warriors-on-horses-in-movie-gladiator-being-filmed-at-bourne-wood.jpg?s=612x612&w=0&k=20&c=78DVB2IT8h-d0vb2y1obcvR9IM2Hi4jVUBqbXu1FtBU="],Qme=()=>{const{open:t,setOpen:e}=ya(),{isMobile:r}=ya();return r===!0&&e(!1),v.jsx("div",{className:`w-screen ${t===!0?"max-w-[calc(100vw-300px)]":"max-w-[calc(100vw-50px)]"} mx-auto h-80 md:h-[700px] overflow-hidden`,children:v.jsx(r7,{modules:[Yme,Wme,Kme],autoplay:{delay:2e3,disableOnInteraction:!1},loop:!0,pagination:{clickable:!0},spaceBetween:10,className:"h-full rounded-2xl shadow-lg ",children:Xme.map((n,i)=>v.jsx(n7,{children:v.jsxs("div",{className:"relative w-full h-full",children:[v.jsx("img",{src:n,alt:`Slide ${i+1}`,className:"w-full h-full object-cover rounded-2xl"}),v.jsx("div",{className:" absolute inset-0 bg-black bg-opacity-50 p-6 flex flex-col justify-center gap-2",children:v.jsxs("div",{className:"-mt-0 md:-mt-20",children:[v.jsx("div",{className:"mb-3 md:mb-6",children:v.jsxs("h2",{className:"text-2xl md:text-6xl font-semibold text-white mb-2 z-10",children:["Movie Title ",i+1]})}),v.jsxs("div",{className:"text-sm md:text-lg flex items-center gap-2  text-white z-10 mb-2",children:[v.jsx("span",{className:"text-yellow-500",children:" 8.5 |"}),v.jsx("span",{className:"flex items-center gap-1",children:"2021 |"}),v.jsx("span",{children:"12+ |"}),v.jsx("span",{children:"1.20 hr "})]}),v.jsxs("div",{className:"flex gap-2 text-xs md:text-sm z-10 mb-4",children:[v.jsx("span",{className:"bg-gray-500 text-white px-3 py-1 rounded-md",children:"Action"}),v.jsx("span",{className:" text-white px-3 py-1 rounded-md",style:{background:"linear-gradient(8deg, rgba(91,91,91,1) 54%, rgba(83,83,83,1) 60%)"},children:"Thriller"}),v.jsx("span",{className:"bg-gray-500 text-white px-3 py-1 rounded-md",children:"DramaMovies"})]}),v.jsxs("div",{className:"flex gap-4 md:gap-8 mt-2 z-10 items-center",children:[v.jsxs("button",{className:"px-2 md:px-4 py-2  bg-yellow-500 rounded-md hover:bg-yellow-400 flex font-semibold gap-1.5 text-black text-sm  md:text-lg",children:[v.jsx(nx,{className:"mt-0.5 md:mt-1 "}),"Watch Now"]}),v.jsxs("button",{className:"group hover:text-yellow-500 text-sm  md:text-lg flex items-center gap-2 text-white rounded-md ",children:[v.jsx(bhe,{})," Watchlist"]})]})]})})]})},i))})})},Zme=()=>{const{open:t,setOpen:e}=ya(),{isMobile:r}=ya();r===!0&&e(!1);const{data:n}=$H(void 0),{data:i}=FH(void 0),{data:a}=BH(void 0);return v.jsxs(v.Fragment,{children:[v.jsx(Qme,{}),v.jsxs("div",{children:[v.jsx(hd,{title:"Trending",open:t,Videos:n}),v.jsx(hd,{title:"Recently Watched",open:t,Videos:i}),v.jsx(hd,{title:"Watch Later",open:t,Videos:a}),v.jsx(ix,{})]})]})};var Wm=t=>t.type==="checkbox",yc=t=>t instanceof Date,Dn=t=>t==null;const a7=t=>typeof t=="object";var Rr=t=>!Dn(t)&&!Array.isArray(t)&&a7(t)&&!yc(t),Jme=t=>Rr(t)&&t.target?Wm(t.target)?t.target.checked:t.target.value:t,ege=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tge=(t,e)=>t.has(ege(e)),rge=t=>{const e=t.constructor&&t.constructor.prototype;return Rr(e)&&e.hasOwnProperty("isPrototypeOf")},UD=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mi(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(UD&&(t instanceof Blob||n))&&(r||Rr(t)))if(e=r?[]:{},!r&&!rge(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Mi(t[i]));else return t;return e}var ax=t=>Array.isArray(t)?t.filter(Boolean):[],$r=t=>t===void 0,Ve=(t,e,r)=>{if(!e||!Rr(t))return r;const n=ax(e.split(/[,[\].]+?/)).reduce((i,a)=>Dn(i)?i:i[a],t);return $r(n)||n===t?$r(t[e])?r:t[e]:n},Ca=t=>typeof t=="boolean",GD=t=>/^\w*$/.test(t),s7=t=>ax(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ur=(t,e,r)=>{let n=-1;const i=GD(e)?[e]:s7(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let l=r;if(n!==s){const c=t[o];l=Rr(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}return t};const v$={BLUR:"blur",FOCUS_OUT:"focusout"},ua={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},As={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};W.createContext(null);var nge=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==ua.all&&(e._proxyFormState[s]=!n||ua.all),t[s]}});return i},Hn=t=>Rr(t)&&!Object.keys(t).length,ige=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Hn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===ua.all)},yy=t=>Array.isArray(t)?t:[t];function age(t){const e=W.useRef(t);e.current=t,W.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var ja=t=>typeof t=="string",sge=(t,e,r,n,i)=>ja(t)?(n&&e.watch.add(t),Ve(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Ve(r,a))):(n&&(e.watchAll=!0),r),oge=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},y$=t=>({isOnSubmit:!t||t===ua.onSubmit,isOnBlur:t===ua.onBlur,isOnChange:t===ua.onChange,isOnAll:t===ua.all,isOnTouch:t===ua.onTouched}),b$=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const lp=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=Ve(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(lp(o,e))break}else if(Rr(o)&&lp(o,e))break}}};var lge=(t,e,r)=>{const n=yy(Ve(t,r));return ur(n,"root",e[r]),ur(t,r,n),t},zD=t=>t.type==="file",Ia=t=>typeof t=="function",d0=t=>{if(!UD)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},by=t=>ja(t),VD=t=>t.type==="radio",f0=t=>t instanceof RegExp;const x$={value:!1,isValid:!1},S$={value:!0,isValid:!0};var o7=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$r(t[0].attributes.value)?$r(t[0].value)||t[0].value===""?S$:{value:t[0].value,isValid:!0}:S$:x$}return x$};const w$={isValid:!1,value:null};var l7=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,w$):w$;function E$(t,e,r="validate"){if(by(t)||Array.isArray(t)&&t.every(by)||Ca(t)&&!t)return{type:r,message:by(t)?t:"",ref:e}}var Yu=t=>Rr(t)&&!f0(t)?t:{value:t,message:""},T$=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:l,maxLength:c,minLength:d,min:f,max:p,pattern:g,validate:y,name:b,valueAsNumber:x,mount:w}=t._f,E=Ve(r,b);if(!w||e.has(b))return{};const T=o?o[0]:s,O=k=>{i&&T.reportValidity&&(T.setCustomValidity(Ca(k)?"":k||""),T.reportValidity())},_={},P=VD(s),R=Wm(s),D=P||R,I=(x||zD(s))&&$r(s.value)&&$r(E)||d0(s)&&s.value===""||E===""||Array.isArray(E)&&!E.length,M=oge.bind(null,b,n,_),N=(k,F,U,z=As.maxLength,j=As.minLength)=>{const H=k?F:U;_[b]={type:k?z:j,message:H,ref:s,...M(k?z:j,H)}};if(a?!Array.isArray(E)||!E.length:l&&(!D&&(I||Dn(E))||Ca(E)&&!E||R&&!o7(o).isValid||P&&!l7(o).isValid)){const{value:k,message:F}=by(l)?{value:!!l,message:l}:Yu(l);if(k&&(_[b]={type:As.required,message:F,ref:T,...M(As.required,F)},!n))return O(F),_}if(!I&&(!Dn(f)||!Dn(p))){let k,F;const U=Yu(p),z=Yu(f);if(!Dn(E)&&!isNaN(E)){const j=s.valueAsNumber||E&&+E;Dn(U.value)||(k=j>U.value),Dn(z.value)||(F=j<z.value)}else{const j=s.valueAsDate||new Date(E),H=G=>new Date(new Date().toDateString()+" "+G),V=s.type=="time",q=s.type=="week";ja(U.value)&&E&&(k=V?H(E)>H(U.value):q?E>U.value:j>new Date(U.value)),ja(z.value)&&E&&(F=V?H(E)<H(z.value):q?E<z.value:j<new Date(z.value))}if((k||F)&&(N(!!k,U.message,z.message,As.max,As.min),!n))return O(_[b].message),_}if((c||d)&&!I&&(ja(E)||a&&Array.isArray(E))){const k=Yu(c),F=Yu(d),U=!Dn(k.value)&&E.length>+k.value,z=!Dn(F.value)&&E.length<+F.value;if((U||z)&&(N(U,k.message,F.message),!n))return O(_[b].message),_}if(g&&!I&&ja(E)){const{value:k,message:F}=Yu(g);if(f0(k)&&!E.match(k)&&(_[b]={type:As.pattern,message:F,ref:s,...M(As.pattern,F)},!n))return O(F),_}if(y){if(Ia(y)){const k=await y(E,r),F=E$(k,T);if(F&&(_[b]={...F,...M(As.validate,F.message)},!n))return O(F.message),_}else if(Rr(y)){let k={};for(const F in y){if(!Hn(k)&&!n)break;const U=E$(await y[F](E,r),T,F);U&&(k={...U,...M(F,U.message)},O(U.message),n&&(_[b]=k))}if(!Hn(k)&&(_[b]={ref:T,...k},!n))return _}}return O(!0),_};function cge(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=$r(t)?n++:t[e[n++]];return t}function uge(t){for(const e in t)if(t.hasOwnProperty(e)&&!$r(t[e]))return!1;return!0}function Vr(t,e){const r=Array.isArray(e)?e:GD(e)?[e]:s7(e),n=r.length===1?t:cge(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Rr(n)&&Hn(n)||Array.isArray(n)&&uge(n))&&Vr(t,r.slice(0,-1)),t}var YE=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},gR=t=>Dn(t)||!a7(t);function el(t,e){if(gR(t)||gR(e))return t===e;if(yc(t)&&yc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(yc(a)&&yc(s)||Rr(a)&&Rr(s)||Array.isArray(a)&&Array.isArray(s)?!el(a,s):a!==s)return!1}}return!0}var c7=t=>t.type==="select-multiple",dge=t=>VD(t)||Wm(t),XE=t=>d0(t)&&t.isConnected,u7=t=>{for(const e in t)if(Ia(t[e]))return!0;return!1};function h0(t,e={}){const r=Array.isArray(t);if(Rr(t)||r)for(const n in t)Array.isArray(t[n])||Rr(t[n])&&!u7(t[n])?(e[n]=Array.isArray(t[n])?[]:{},h0(t[n],e[n])):Dn(t[n])||(e[n]=!0);return e}function d7(t,e,r){const n=Array.isArray(t);if(Rr(t)||n)for(const i in t)Array.isArray(t[i])||Rr(t[i])&&!u7(t[i])?$r(e)||gR(r[i])?r[i]=Array.isArray(t[i])?h0(t[i],[]):{...h0(t[i])}:d7(t[i],Dn(e)?{}:e[i],r[i]):r[i]=!el(t[i],e[i]);return r}var Dh=(t,e)=>d7(t,e,h0(e)),f7=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>$r(t)?t:e?t===""?NaN:t&&+t:r&&ja(t)?new Date(t):n?n(t):t;function QE(t){const e=t.ref;return zD(e)?e.files:VD(e)?l7(t.refs).value:c7(e)?[...e.selectedOptions].map(({value:r})=>r):Wm(e)?o7(t.refs).value:f7($r(e.value)?t.ref.value:e.value,t)}var fge=(t,e,r,n)=>{const i={};for(const a of t){const s=Ve(e,a);s&&ur(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Lh=t=>$r(t)?t:f0(t)?t.source:Rr(t)?f0(t.value)?t.value.source:t.value:t;const A$="AsyncFunction";var hge=t=>!!t&&!!t.validate&&!!(Ia(t.validate)&&t.validate.constructor.name===A$||Rr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===A$)),pge=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function _$(t,e,r){const n=Ve(t,r);if(n||GD(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=Ve(e,a),o=Ve(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:r}}var mge=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,gge=(t,e)=>!ax(Ve(t,e)).length&&Vr(t,e);const vge={mode:ua.onSubmit,reValidateMode:ua.onChange,shouldFocusError:!0};function yge(t={}){let e={...vge,...t},r={submitCount:0,isDirty:!1,isLoading:Ia(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Rr(e.defaultValues)||Rr(e.values)?Mi(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Mi(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:YE(),array:YE(),state:YE()},p=y$(e.mode),g=y$(e.reValidateMode),y=e.criteriaMode===ua.all,b=Z=>ae=>{clearTimeout(c),c=setTimeout(Z,ae)},x=async Z=>{if(!e.disabled&&(d.isValid||Z)){const ae=e.resolver?Hn((await D()).errors):await M(n,!0);ae!==r.isValid&&f.state.next({isValid:ae})}},w=(Z,ae)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((Z||Array.from(o.mount)).forEach(ne=>{ne&&(ae?ur(r.validatingFields,ne,ae):Vr(r.validatingFields,ne))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Hn(r.validatingFields)}))},E=(Z,ae=[],ne,Ae,_e=!0,Pe=!0)=>{if(Ae&&ne&&!e.disabled){if(s.action=!0,Pe&&Array.isArray(Ve(n,Z))){const Ne=ne(Ve(n,Z),Ae.argA,Ae.argB);_e&&ur(n,Z,Ne)}if(Pe&&Array.isArray(Ve(r.errors,Z))){const Ne=ne(Ve(r.errors,Z),Ae.argA,Ae.argB);_e&&ur(r.errors,Z,Ne),gge(r.errors,Z)}if(d.touchedFields&&Pe&&Array.isArray(Ve(r.touchedFields,Z))){const Ne=ne(Ve(r.touchedFields,Z),Ae.argA,Ae.argB);_e&&ur(r.touchedFields,Z,Ne)}d.dirtyFields&&(r.dirtyFields=Dh(i,a)),f.state.next({name:Z,isDirty:k(Z,ae),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ur(a,Z,ae)},T=(Z,ae)=>{ur(r.errors,Z,ae),f.state.next({errors:r.errors})},O=Z=>{r.errors=Z,f.state.next({errors:r.errors,isValid:!1})},_=(Z,ae,ne,Ae)=>{const _e=Ve(n,Z);if(_e){const Pe=Ve(a,Z,$r(ne)?Ve(i,Z):ne);$r(Pe)||Ae&&Ae.defaultChecked||ae?ur(a,Z,ae?Pe:QE(_e._f)):z(Z,Pe),s.mount&&x()}},P=(Z,ae,ne,Ae,_e)=>{let Pe=!1,Ne=!1;const tt={name:Z};if(!e.disabled){const Ft=!!(Ve(n,Z)&&Ve(n,Z)._f&&Ve(n,Z)._f.disabled);if(!ne||Ae){d.isDirty&&(Ne=r.isDirty,r.isDirty=tt.isDirty=k(),Pe=Ne!==tt.isDirty);const Xt=Ft||el(Ve(i,Z),ae);Ne=!!(!Ft&&Ve(r.dirtyFields,Z)),Xt||Ft?Vr(r.dirtyFields,Z):ur(r.dirtyFields,Z,!0),tt.dirtyFields=r.dirtyFields,Pe=Pe||d.dirtyFields&&Ne!==!Xt}if(ne){const Xt=Ve(r.touchedFields,Z);Xt||(ur(r.touchedFields,Z,ne),tt.touchedFields=r.touchedFields,Pe=Pe||d.touchedFields&&Xt!==ne)}Pe&&_e&&f.state.next(tt)}return Pe?tt:{}},R=(Z,ae,ne,Ae)=>{const _e=Ve(r.errors,Z),Pe=d.isValid&&Ca(ae)&&r.isValid!==ae;if(e.delayError&&ne?(l=b(()=>T(Z,ne)),l(e.delayError)):(clearTimeout(c),l=null,ne?ur(r.errors,Z,ne):Vr(r.errors,Z)),(ne?!el(_e,ne):_e)||!Hn(Ae)||Pe){const Ne={...Ae,...Pe&&Ca(ae)?{isValid:ae}:{},errors:r.errors,name:Z};r={...r,...Ne},f.state.next(Ne)}},D=async Z=>{w(Z,!0);const ae=await e.resolver(a,e.context,fge(Z||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(Z),ae},I=async Z=>{const{errors:ae}=await D(Z);if(Z)for(const ne of Z){const Ae=Ve(ae,ne);Ae?ur(r.errors,ne,Ae):Vr(r.errors,ne)}else r.errors=ae;return ae},M=async(Z,ae,ne={valid:!0})=>{for(const Ae in Z){const _e=Z[Ae];if(_e){const{_f:Pe,...Ne}=_e;if(Pe){const tt=o.array.has(Pe.name),Ft=_e._f&&hge(_e._f);Ft&&d.validatingFields&&w([Ae],!0);const Xt=await T$(_e,o.disabled,a,y,e.shouldUseNativeValidation&&!ae,tt);if(Ft&&d.validatingFields&&w([Ae]),Xt[Pe.name]&&(ne.valid=!1,ae))break;!ae&&(Ve(Xt,Pe.name)?tt?lge(r.errors,Xt,Pe.name):ur(r.errors,Pe.name,Xt[Pe.name]):Vr(r.errors,Pe.name))}!Hn(Ne)&&await M(Ne,ae,ne)}}return ne.valid},N=()=>{for(const Z of o.unMount){const ae=Ve(n,Z);ae&&(ae._f.refs?ae._f.refs.every(ne=>!XE(ne)):!XE(ae._f.ref))&&he(Z)}o.unMount=new Set},k=(Z,ae)=>!e.disabled&&(Z&&ae&&ur(a,Z,ae),!el(Y(),i)),F=(Z,ae,ne)=>sge(Z,o,{...s.mount?a:$r(ae)?i:ja(Z)?{[Z]:ae}:ae},ne,ae),U=Z=>ax(Ve(s.mount?a:i,Z,e.shouldUnregister?Ve(i,Z,[]):[])),z=(Z,ae,ne={})=>{const Ae=Ve(n,Z);let _e=ae;if(Ae){const Pe=Ae._f;Pe&&(!Pe.disabled&&ur(a,Z,f7(ae,Pe)),_e=d0(Pe.ref)&&Dn(ae)?"":ae,c7(Pe.ref)?[...Pe.ref.options].forEach(Ne=>Ne.selected=_e.includes(Ne.value)):Pe.refs?Wm(Pe.ref)?Pe.refs.length>1?Pe.refs.forEach(Ne=>(!Ne.defaultChecked||!Ne.disabled)&&(Ne.checked=Array.isArray(_e)?!!_e.find(tt=>tt===Ne.value):_e===Ne.value)):Pe.refs[0]&&(Pe.refs[0].checked=!!_e):Pe.refs.forEach(Ne=>Ne.checked=Ne.value===_e):zD(Pe.ref)?Pe.ref.value="":(Pe.ref.value=_e,Pe.ref.type||f.values.next({name:Z,values:{...a}})))}(ne.shouldDirty||ne.shouldTouch)&&P(Z,_e,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&G(Z)},j=(Z,ae,ne)=>{for(const Ae in ae){const _e=ae[Ae],Pe=`${Z}.${Ae}`,Ne=Ve(n,Pe);(o.array.has(Z)||Rr(_e)||Ne&&!Ne._f)&&!yc(_e)?j(Pe,_e,ne):z(Pe,_e,ne)}},H=(Z,ae,ne={})=>{const Ae=Ve(n,Z),_e=o.array.has(Z),Pe=Mi(ae);ur(a,Z,Pe),_e?(f.array.next({name:Z,values:{...a}}),(d.isDirty||d.dirtyFields)&&ne.shouldDirty&&f.state.next({name:Z,dirtyFields:Dh(i,a),isDirty:k(Z,Pe)})):Ae&&!Ae._f&&!Dn(Pe)?j(Z,Pe,ne):z(Z,Pe,ne),b$(Z,o)&&f.state.next({...r}),f.values.next({name:s.mount?Z:void 0,values:{...a}})},V=async Z=>{s.mount=!0;const ae=Z.target;let ne=ae.name,Ae=!0;const _e=Ve(n,ne),Pe=()=>ae.type?QE(_e._f):Jme(Z),Ne=tt=>{Ae=Number.isNaN(tt)||yc(tt)&&isNaN(tt.getTime())||el(tt,Ve(a,ne,tt))};if(_e){let tt,Ft;const Xt=Pe(),pr=Z.type===v$.BLUR||Z.type===v$.FOCUS_OUT,yn=!pge(_e._f)&&!e.resolver&&!Ve(r.errors,ne)&&!_e._f.deps||mge(pr,Ve(r.touchedFields,ne),r.isSubmitted,g,p),yi=b$(ne,o,pr);ur(a,ne,Xt),pr?(_e._f.onBlur&&_e._f.onBlur(Z),l&&l(0)):_e._f.onChange&&_e._f.onChange(Z);const bn=P(ne,Xt,pr,!1),Rf=!Hn(bn)||yi;if(!pr&&f.values.next({name:ne,type:Z.type,values:{...a}}),yn)return d.isValid&&(e.mode==="onBlur"&&pr?x():pr||x()),Rf&&f.state.next({name:ne,...yi?{}:bn});if(!pr&&yi&&f.state.next({...r}),e.resolver){const{errors:cn}=await D([ne]);if(Ne(Xt),Ae){const Xr=_$(r.errors,n,ne),Pl=_$(cn,n,Xr.name||ne);tt=Pl.error,ne=Pl.name,Ft=Hn(cn)}}else w([ne],!0),tt=(await T$(_e,o.disabled,a,y,e.shouldUseNativeValidation))[ne],w([ne]),Ne(Xt),Ae&&(tt?Ft=!1:d.isValid&&(Ft=await M(n,!0)));Ae&&(_e._f.deps&&G(_e._f.deps),R(ne,Ft,tt,bn))}},q=(Z,ae)=>{if(Ve(r.errors,ae)&&Z.focus)return Z.focus(),1},G=async(Z,ae={})=>{let ne,Ae;const _e=yy(Z);if(e.resolver){const Pe=await I($r(Z)?Z:_e);ne=Hn(Pe),Ae=Z?!_e.some(Ne=>Ve(Pe,Ne)):ne}else Z?(Ae=(await Promise.all(_e.map(async Pe=>{const Ne=Ve(n,Pe);return await M(Ne&&Ne._f?{[Pe]:Ne}:Ne)}))).every(Boolean),!(!Ae&&!r.isValid)&&x()):Ae=ne=await M(n);return f.state.next({...!ja(Z)||d.isValid&&ne!==r.isValid?{}:{name:Z},...e.resolver||!Z?{isValid:ne}:{},errors:r.errors}),ae.shouldFocus&&!Ae&&lp(n,q,Z?_e:o.mount),Ae},Y=Z=>{const ae={...s.mount?a:i};return $r(Z)?ae:ja(Z)?Ve(ae,Z):Z.map(ne=>Ve(ae,ne))},X=(Z,ae)=>({invalid:!!Ve((ae||r).errors,Z),isDirty:!!Ve((ae||r).dirtyFields,Z),error:Ve((ae||r).errors,Z),isValidating:!!Ve(r.validatingFields,Z),isTouched:!!Ve((ae||r).touchedFields,Z)}),te=Z=>{Z&&yy(Z).forEach(ae=>Vr(r.errors,ae)),f.state.next({errors:Z?r.errors:{}})},ee=(Z,ae,ne)=>{const Ae=(Ve(n,Z,{_f:{}})._f||{}).ref,_e=Ve(r.errors,Z)||{},{ref:Pe,message:Ne,type:tt,...Ft}=_e;ur(r.errors,Z,{...Ft,...ae,ref:Ae}),f.state.next({name:Z,errors:r.errors,isValid:!1}),ne&&ne.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},ue=(Z,ae)=>Ia(Z)?f.values.subscribe({next:ne=>Z(F(void 0,ae),ne)}):F(Z,ae,!0),he=(Z,ae={})=>{for(const ne of Z?yy(Z):o.mount)o.mount.delete(ne),o.array.delete(ne),ae.keepValue||(Vr(n,ne),Vr(a,ne)),!ae.keepError&&Vr(r.errors,ne),!ae.keepDirty&&Vr(r.dirtyFields,ne),!ae.keepTouched&&Vr(r.touchedFields,ne),!ae.keepIsValidating&&Vr(r.validatingFields,ne),!e.shouldUnregister&&!ae.keepDefaultValue&&Vr(i,ne);f.values.next({values:{...a}}),f.state.next({...r,...ae.keepDirty?{isDirty:k()}:{}}),!ae.keepIsValid&&x()},ve=({disabled:Z,name:ae,field:ne,fields:Ae})=>{(Ca(Z)&&s.mount||Z||o.disabled.has(ae))&&(Z?o.disabled.add(ae):o.disabled.delete(ae),P(ae,QE(ne?ne._f:Ve(Ae,ae)._f),!1,!1,!0))},Se=(Z,ae={})=>{let ne=Ve(n,Z);const Ae=Ca(ae.disabled)||Ca(e.disabled);return ur(n,Z,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:Z}},name:Z,mount:!0,...ae}}),o.mount.add(Z),ne?ve({field:ne,disabled:Ca(ae.disabled)?ae.disabled:e.disabled,name:Z}):_(Z,!0,ae.value),{...Ae?{disabled:ae.disabled||e.disabled}:{},...e.progressive?{required:!!ae.required,min:Lh(ae.min),max:Lh(ae.max),minLength:Lh(ae.minLength),maxLength:Lh(ae.maxLength),pattern:Lh(ae.pattern)}:{},name:Z,onChange:V,onBlur:V,ref:_e=>{if(_e){Se(Z,ae),ne=Ve(n,Z);const Pe=$r(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,Ne=dge(Pe),tt=ne._f.refs||[];if(Ne?tt.find(Ft=>Ft===Pe):Pe===ne._f.ref)return;ur(n,Z,{_f:{...ne._f,...Ne?{refs:[...tt.filter(XE),Pe,...Array.isArray(Ve(i,Z))?[{}]:[]],ref:{type:Pe.type,name:Z}}:{ref:Pe}}}),_(Z,!1,void 0,Pe)}else ne=Ve(n,Z,{}),ne._f&&(ne._f.mount=!1),(e.shouldUnregister||ae.shouldUnregister)&&!(tge(o.array,Z)&&s.action)&&o.unMount.add(Z)}}},me=()=>e.shouldFocusError&&lp(n,q,o.mount),Ee=Z=>{Ca(Z)&&(f.state.next({disabled:Z}),lp(n,(ae,ne)=>{const Ae=Ve(n,ne);Ae&&(ae.disabled=Ae._f.disabled||Z,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(_e=>{_e.disabled=Ae._f.disabled||Z}))},0,!1))},Ce=(Z,ae)=>async ne=>{let Ae;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let _e=Mi(a);if(o.disabled.size)for(const Pe of o.disabled)ur(_e,Pe,void 0);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Pe,values:Ne}=await D();r.errors=Pe,_e=Ne}else await M(n);if(Vr(r.errors,"root"),Hn(r.errors)){f.state.next({errors:{}});try{await Z(_e,ne)}catch(Pe){Ae=Pe}}else ae&&await ae({...r.errors},ne),me(),setTimeout(me);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hn(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},ce=(Z,ae={})=>{Ve(n,Z)&&($r(ae.defaultValue)?H(Z,Mi(Ve(i,Z))):(H(Z,ae.defaultValue),ur(i,Z,Mi(ae.defaultValue))),ae.keepTouched||Vr(r.touchedFields,Z),ae.keepDirty||(Vr(r.dirtyFields,Z),r.isDirty=ae.defaultValue?k(Z,Mi(Ve(i,Z))):k()),ae.keepError||(Vr(r.errors,Z),d.isValid&&x()),f.state.next({...r}))},ke=(Z,ae={})=>{const ne=Z?Mi(Z):i,Ae=Mi(ne),_e=Hn(Z),Pe=_e?i:Ae;if(ae.keepDefaultValues||(i=ne),!ae.keepValues){if(ae.keepDirtyValues){const Ne=new Set([...o.mount,...Object.keys(Dh(i,a))]);for(const tt of Array.from(Ne))Ve(r.dirtyFields,tt)?ur(Pe,tt,Ve(a,tt)):H(tt,Ve(Pe,tt))}else{if(UD&&$r(Z))for(const Ne of o.mount){const tt=Ve(n,Ne);if(tt&&tt._f){const Ft=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(d0(Ft)){const Xt=Ft.closest("form");if(Xt){Xt.reset();break}}}}n={}}a=e.shouldUnregister?ae.keepDefaultValues?Mi(i):{}:Mi(Pe),f.array.next({values:{...Pe}}),f.values.next({values:{...Pe}})}o={mount:ae.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!ae.keepIsValid||!!ae.keepDirtyValues,s.watch=!!e.shouldUnregister,f.state.next({submitCount:ae.keepSubmitCount?r.submitCount:0,isDirty:_e?!1:ae.keepDirty?r.isDirty:!!(ae.keepDefaultValues&&!el(Z,i)),isSubmitted:ae.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:_e?{}:ae.keepDirtyValues?ae.keepDefaultValues&&a?Dh(i,a):r.dirtyFields:ae.keepDefaultValues&&Z?Dh(i,Z):ae.keepDirty?r.dirtyFields:{},touchedFields:ae.keepTouched?r.touchedFields:{},errors:ae.keepErrors?r.errors:{},isSubmitSuccessful:ae.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ue=(Z,ae)=>ke(Ia(Z)?Z(a):Z,ae);return{control:{register:Se,unregister:he,getFieldState:X,handleSubmit:Ce,setError:ee,_executeSchema:D,_getWatch:F,_getDirty:k,_updateValid:x,_removeUnmounted:N,_updateFieldArray:E,_updateDisabledField:ve,_getFieldArray:U,_reset:ke,_resetDefaultValues:()=>Ia(e.defaultValues)&&e.defaultValues().then(Z=>{Ue(Z,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:Z=>{r={...r,...Z}},_disableForm:Ee,_subjects:f,_proxyFormState:d,_setErrors:O,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(Z){s=Z},get _defaultValues(){return i},get _names(){return o},set _names(Z){o=Z},get _formState(){return r},set _formState(Z){r=Z},get _options(){return e},set _options(Z){e={...e,...Z}}},trigger:G,register:Se,handleSubmit:Ce,watch:ue,setValue:H,getValues:Y,reset:Ue,resetField:ce,clearErrors:te,unregister:he,setError:ee,setFocus:(Z,ae={})=>{const ne=Ve(n,Z),Ae=ne&&ne._f;if(Ae){const _e=Ae.refs?Ae.refs[0]:Ae.ref;_e.focus&&(_e.focus(),ae.shouldSelect&&Ia(_e.select)&&_e.select())}},getFieldState:X}}function qD(t={}){const e=W.useRef(void 0),r=W.useRef(void 0),[n,i]=W.useState({isDirty:!1,isValidating:!1,isLoading:Ia(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ia(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...yge(t),formState:n});const a=e.current.control;return a._options=t,age({subject:a._subjects.state,next:s=>{ige(s,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),W.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),W.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),W.useEffect(()=>{t.values&&!el(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[t.values,a]),W.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),W.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),W.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=nge(n,a),e.current}const Ym=A.forwardRef(({className:t,...e},r)=>v.jsx("textarea",{className:Le("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Ym.displayName="Textarea";var bge="Label",h7=A.forwardRef((t,e)=>v.jsx(hr.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));h7.displayName=bge;var p7=h7;const xge=Dm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_t=A.forwardRef(({className:t,...e},r)=>v.jsx(p7,{ref:r,className:Le(xge(),t),...e}));_t.displayName=p7.displayName;function O$(t,[e,r]){return Math.min(r,Math.max(e,t))}function Fr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function HD(t,e=[]){let r=[];function n(a,s){const o=A.createContext(s),l=r.length;r=[...r,s];const c=f=>{var w;const{scope:p,children:g,...y}=f,b=((w=p==null?void 0:p[t])==null?void 0:w[l])||o,x=A.useMemo(()=>y,Object.values(y));return v.jsx(b.Provider,{value:x,children:g})};c.displayName=a+"Provider";function d(f,p){var b;const g=((b=p==null?void 0:p[t])==null?void 0:b[l])||o,y=A.useContext(g);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(s=>A.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,Sge(i,...e)]}function Sge(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function R$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wge(...t){return e=>{let r=!1;const n=t.map(i=>{const a=R$(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():R$(t[i],null)}}}}function gn(...t){return A.useCallback(wge(...t),t)}function Ege(t){const e=t+"CollectionProvider",[r,n]=HD(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:x,children:w}=b,E=W.useRef(null),T=W.useRef(new Map).current;return v.jsx(i,{scope:x,itemMap:T,collectionRef:E,children:w})};s.displayName=e;const o=t+"CollectionSlot",l=gi(o),c=W.forwardRef((b,x)=>{const{scope:w,children:E}=b,T=a(o,w),O=gn(x,T.collectionRef);return v.jsx(l,{ref:O,children:E})});c.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=gi(d),g=W.forwardRef((b,x)=>{const{scope:w,children:E,...T}=b,O=W.useRef(null),_=gn(x,O),P=a(d,w);return W.useEffect(()=>(P.itemMap.set(O,{ref:O,...T}),()=>void P.itemMap.delete(O))),v.jsx(p,{[f]:"",ref:_,children:E})});g.displayName=d;function y(b){const x=a(t+"CollectionConsumer",b);return W.useCallback(()=>{const E=x.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((P,R)=>T.indexOf(P.ref.current)-T.indexOf(R.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},y,n]}var Tge=A.createContext(void 0);function Age(t){const e=A.useContext(Tge);return t||e||"ltr"}var _ge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pr=_ge.reduce((t,e)=>{const r=gi(`Primitive.${e}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Oge(t,e){t&&ao.flushSync(()=>t.dispatchEvent(e))}function jc(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Rge(t,e=globalThis==null?void 0:globalThis.document){const r=jc(t);A.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Cge="DismissableLayer",vR="dismissableLayer.update",Pge="dismissableLayer.pointerDownOutside",Dge="dismissableLayer.focusOutside",C$,m7=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),g7=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...l}=t,c=A.useContext(m7),[d,f]=A.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=A.useState({}),y=gn(e,R=>f(R)),b=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(x),E=d?b.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,O=E>=w,_=Mge(R=>{const D=R.target,I=[...c.branches].some(M=>M.contains(D));!O||I||(i==null||i(R),s==null||s(R),R.defaultPrevented||o==null||o())},p),P=Nge(R=>{const D=R.target;[...c.branches].some(M=>M.contains(D))||(a==null||a(R),s==null||s(R),R.defaultPrevented||o==null||o())},p);return Rge(R=>{E===c.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&o&&(R.preventDefault(),o()))},p),A.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(C$=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),P$(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=C$)}},[d,p,r,c]),A.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),P$())},[d,c]),A.useEffect(()=>{const R=()=>g({});return document.addEventListener(vR,R),()=>document.removeEventListener(vR,R)},[]),v.jsx(Pr.div,{...l,ref:y,style:{pointerEvents:T?O?"auto":"none":void 0,...t.style},onFocusCapture:Fr(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Fr(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Fr(t.onPointerDownCapture,_.onPointerDownCapture)})});g7.displayName=Cge;var Lge="DismissableLayerBranch",Ige=A.forwardRef((t,e)=>{const r=A.useContext(m7),n=A.useRef(null),i=gn(e,n);return A.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),v.jsx(Pr.div,{...t,ref:i})});Ige.displayName=Lge;function Mge(t,e=globalThis==null?void 0:globalThis.document){const r=jc(t),n=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let l=function(){v7(Pge,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Nge(t,e=globalThis==null?void 0:globalThis.document){const r=jc(t),n=A.useRef(!1);return A.useEffect(()=>{const i=a=>{a.target&&!n.current&&v7(Dge,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function P$(){const t=new CustomEvent(vR);document.dispatchEvent(t)}function v7(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Oge(i,a):i.dispatchEvent(a)}var ZE=0;function kge(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??D$()),document.body.insertAdjacentElement("beforeend",t[1]??D$()),ZE++,()=>{ZE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ZE--}},[])}function D$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var JE="focusScope.autoFocusOnMount",e1="focusScope.autoFocusOnUnmount",L$={bubbles:!1,cancelable:!0},jge="FocusScope",y7=A.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=t,[o,l]=A.useState(null),c=jc(i),d=jc(a),f=A.useRef(null),p=gn(e,b=>l(b)),g=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(n){let b=function(T){if(g.paused||!o)return;const O=T.target;o.contains(O)?f.current=O:Wo(f.current,{select:!0})},x=function(T){if(g.paused||!o)return;const O=T.relatedTarget;O!==null&&(o.contains(O)||Wo(f.current,{select:!0}))},w=function(T){if(document.activeElement===document.body)for(const _ of T)_.removedNodes.length>0&&Wo(o)};document.addEventListener("focusin",b),document.addEventListener("focusout",x);const E=new MutationObserver(w);return o&&E.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",x),E.disconnect()}}},[n,o,g.paused]),A.useEffect(()=>{if(o){M$.add(g);const b=document.activeElement;if(!o.contains(b)){const w=new CustomEvent(JE,L$);o.addEventListener(JE,c),o.dispatchEvent(w),w.defaultPrevented||($ge(zge(b7(o)),{select:!0}),document.activeElement===b&&Wo(o))}return()=>{o.removeEventListener(JE,c),setTimeout(()=>{const w=new CustomEvent(e1,L$);o.addEventListener(e1,d),o.dispatchEvent(w),w.defaultPrevented||Wo(b??document.body,{select:!0}),o.removeEventListener(e1,d),M$.remove(g)},0)}}},[o,c,d,g]);const y=A.useCallback(b=>{if(!r&&!n||g.paused)return;const x=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,w=document.activeElement;if(x&&w){const E=b.currentTarget,[T,O]=Fge(E);T&&O?!b.shiftKey&&w===O?(b.preventDefault(),r&&Wo(T,{select:!0})):b.shiftKey&&w===T&&(b.preventDefault(),r&&Wo(O,{select:!0})):w===E&&b.preventDefault()}},[r,n,g.paused]);return v.jsx(Pr.div,{tabIndex:-1,...s,ref:p,onKeyDown:y})});y7.displayName=jge;function $ge(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Wo(n,{select:e}),document.activeElement!==r)return}function Fge(t){const e=b7(t),r=I$(e,t),n=I$(e.reverse(),t);return[r,n]}function b7(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function I$(t,e){for(const r of t)if(!Bge(r,{upTo:e}))return r}function Bge(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Uge(t){return t instanceof HTMLInputElement&&"select"in t}function Wo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Uge(t)&&e&&t.select()}}var M$=Gge();function Gge(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=N$(t,e),t.unshift(e)},remove(e){var r;t=N$(t,e),(r=t[0])==null||r.resume()}}}function N$(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function zge(t){return t.filter(e=>e.tagName!=="A")}var Qn=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},Vge=Ki[" useId ".trim().toString()]||(()=>{}),qge=0;function KD(t){const[e,r]=A.useState(Vge());return Qn(()=>{r(n=>n??String(qge++))},[t]),e?`radix-${e}`:""}var Hge="Arrow",x7=A.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return v.jsx(Pr.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});x7.displayName=Hge;var Kge=x7;function Wge(t){const[e,r]=A.useState(void 0);return Qn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var WD="Popper",[S7,w7]=HD(WD),[Yge,E7]=S7(WD),T7=t=>{const{__scopePopper:e,children:r}=t,[n,i]=A.useState(null);return v.jsx(Yge,{scope:e,anchor:n,onAnchorChange:i,children:r})};T7.displayName=WD;var A7="PopperAnchor",_7=A.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=E7(A7,r),s=A.useRef(null),o=gn(e,s);return A.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:v.jsx(Pr.div,{...i,ref:o})});_7.displayName=A7;var YD="PopperContent",[Xge,Qge]=S7(YD),O7=A.forwardRef((t,e)=>{var ve,Se,me,Ee,Ce,ce;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:y,...b}=t,x=E7(YD,r),[w,E]=A.useState(null),T=gn(e,ke=>E(ke)),[O,_]=A.useState(null),P=Wge(O),R=(P==null?void 0:P.width)??0,D=(P==null?void 0:P.height)??0,I=n+(a!=="center"?"-"+a:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],k=N.length>0,F={padding:M,boundary:N.filter(Jge),altBoundary:k},{refs:U,floatingStyles:z,placement:j,isPositioned:H,middlewareData:V}=KP({strategy:"fixed",placement:I,whileElementsMounted:(...ke)=>HP(...ke,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[WP({mainAxis:i+D,alignmentAxis:s}),l&&YP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?XP():void 0,...F}),l&&QP({...F}),ZP({...F,apply:({elements:ke,rects:Ue,availableWidth:ut,availableHeight:Ie})=>{const{width:nt,height:Z}=Ue.reference,ae=ke.floating.style;ae.setProperty("--radix-popper-available-width",`${ut}px`),ae.setProperty("--radix-popper-available-height",`${Ie}px`),ae.setProperty("--radix-popper-anchor-width",`${nt}px`),ae.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),O&&eD({element:O,padding:o}),eve({arrowWidth:R,arrowHeight:D}),p&&JP({strategy:"referenceHidden",...F})]}),[q,G]=P7(j),Y=jc(y);Qn(()=>{H&&(Y==null||Y())},[H,Y]);const X=(ve=V.arrow)==null?void 0:ve.x,te=(Se=V.arrow)==null?void 0:Se.y,ee=((me=V.arrow)==null?void 0:me.centerOffset)!==0,[ue,he]=A.useState();return Qn(()=>{w&&he(window.getComputedStyle(w).zIndex)},[w]),v.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:H?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Ee=V.transformOrigin)==null?void 0:Ee.x,(Ce=V.transformOrigin)==null?void 0:Ce.y].join(" "),...((ce=V.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(Xge,{scope:r,placedSide:q,onArrowChange:_,arrowX:X,arrowY:te,shouldHideArrow:ee,children:v.jsx(Pr.div,{"data-side":q,"data-align":G,...b,ref:T,style:{...b.style,animation:H?void 0:"none"}})})})});O7.displayName=YD;var R7="PopperArrow",Zge={top:"bottom",right:"left",bottom:"top",left:"right"},C7=A.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=Qge(R7,n),s=Zge[a.placedSide];return v.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:v.jsx(Kge,{...i,ref:r,style:{...i.style,display:"block"}})})});C7.displayName=R7;function Jge(t){return t!==null}var eve=t=>({name:"transformOrigin",options:t,fn(e){var x,w,E;const{placement:r,rects:n,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,o=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,d]=P7(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=i.arrow)==null?void 0:w.x)??0)+o/2,g=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let y="",b="";return c==="bottom"?(y=s?f:`${p}px`,b=`${-l}px`):c==="top"?(y=s?f:`${p}px`,b=`${n.floating.height+l}px`):c==="right"?(y=`${-l}px`,b=s?f:`${g}px`):c==="left"&&(y=`${n.floating.width+l}px`,b=s?f:`${g}px`),{data:{x:y,y:b}}}});function P7(t){const[e,r="center"]=t.split("-");return[e,r]}var tve=T7,rve=_7,nve=O7,ive=C7,ave="Portal",D7=A.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,a]=A.useState(!1);Qn(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?Ib.createPortal(v.jsx(Pr.div,{...n,ref:e}),s):null});D7.displayName=ave;var sve=Ki[" useInsertionEffect ".trim().toString()]||Qn;function k$({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,s]=ove({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const d=A.useRef(t!==void 0);A.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const c=A.useCallback(d=>{var f;if(o){const p=lve(d)?d(t):d;p!==t&&((f=s.current)==null||f.call(s,p))}else a(d)},[o,t,a,s]);return[l,c]}function ove({defaultProp:t,onChange:e}){const[r,n]=A.useState(t),i=A.useRef(r),a=A.useRef(e);return sve(()=>{a.current=e},[e]),A.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function lve(t){return typeof t=="function"}function L7(t){const e=A.useRef({value:t,previous:t});return A.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var I7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cve="VisuallyHidden",uve=A.forwardRef((t,e)=>v.jsx(Pr.span,{...t,ref:e,style:{...I7,...t.style}}));uve.displayName=cve;var dve=[" ","Enter","ArrowUp","ArrowDown"],fve=[" ","Enter"],$c="Select",[sx,ox,hve]=Ege($c),[gf,m4e]=HD($c,[hve,w7]),lx=w7(),[pve,El]=gf($c),[mve,gve]=gf($c),M7=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g,form:y}=t,b=lx(e),[x,w]=A.useState(null),[E,T]=A.useState(null),[O,_]=A.useState(!1),P=Age(c),[R,D]=k$({prop:n,defaultProp:i??!1,onChange:a,caller:$c}),[I,M]=k$({prop:s,defaultProp:o,onChange:l,caller:$c}),N=A.useRef(null),k=x?y||!!x.closest("form"):!0,[F,U]=A.useState(new Set),z=Array.from(F).map(j=>j.props.value).join(";");return v.jsx(tve,{...b,children:v.jsxs(pve,{required:g,scope:e,trigger:x,onTriggerChange:w,valueNode:E,onValueNodeChange:T,valueNodeHasChildren:O,onValueNodeHasChildrenChange:_,contentId:KD(),value:I,onValueChange:M,open:R,onOpenChange:D,dir:P,triggerPointerDownPosRef:N,disabled:p,children:[v.jsx(sx.Provider,{scope:e,children:v.jsx(mve,{scope:t.__scopeSelect,onNativeOptionAdd:A.useCallback(j=>{U(H=>new Set(H).add(j))},[]),onNativeOptionRemove:A.useCallback(j=>{U(H=>{const V=new Set(H);return V.delete(j),V})},[]),children:r})}),k?v.jsxs(a9,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:j=>M(j.target.value),disabled:p,form:y,children:[I===void 0?v.jsx("option",{value:""}):null,Array.from(F)]},z):null]})})};M7.displayName=$c;var N7="SelectTrigger",k7=A.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=lx(r),s=El(N7,r),o=s.disabled||n,l=gn(e,s.onTriggerChange),c=ox(r),d=A.useRef("touch"),[f,p,g]=o9(b=>{const x=c().filter(T=>!T.disabled),w=x.find(T=>T.value===s.value),E=l9(x,b,w);E!==void 0&&s.onValueChange(E.value)}),y=b=>{o||(s.onOpenChange(!0),g()),b&&(s.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return v.jsx(rve,{asChild:!0,...a,children:v.jsx(Pr.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":s9(s.value)?"":void 0,...i,ref:l,onClick:Fr(i.onClick,b=>{b.currentTarget.focus(),d.current!=="mouse"&&y(b)}),onPointerDown:Fr(i.onPointerDown,b=>{d.current=b.pointerType;const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(y(b),b.preventDefault())}),onKeyDown:Fr(i.onKeyDown,b=>{const x=f.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(x&&b.key===" ")&&dve.includes(b.key)&&(y(),b.preventDefault())})})})});k7.displayName=N7;var j7="SelectValue",$7=A.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=t,l=El(j7,r),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=gn(e,l.onValueNodeChange);return Qn(()=>{c(d)},[c,d]),v.jsx(Pr.span,{...o,ref:f,style:{pointerEvents:"none"},children:s9(l.value)?v.jsx(v.Fragment,{children:s}):a})});$7.displayName=j7;var vve="SelectIcon",F7=A.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return v.jsx(Pr.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});F7.displayName=vve;var yve="SelectPortal",B7=t=>v.jsx(D7,{asChild:!0,...t});B7.displayName=yve;var Fc="SelectContent",U7=A.forwardRef((t,e)=>{const r=El(Fc,t.__scopeSelect),[n,i]=A.useState();if(Qn(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?ao.createPortal(v.jsx(G7,{scope:t.__scopeSelect,children:v.jsx(sx.Slot,{scope:t.__scopeSelect,children:v.jsx("div",{children:t.children})})}),a):null}return v.jsx(z7,{...t,ref:e})});U7.displayName=Fc;var aa=10,[G7,Tl]=gf(Fc),bve="SelectContentImpl",xve=gi("SelectContent.RemoveScroll"),z7=A.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:y,hideWhenDetached:b,avoidCollisions:x,...w}=t,E=El(Fc,r),[T,O]=A.useState(null),[_,P]=A.useState(null),R=gn(e,ve=>O(ve)),[D,I]=A.useState(null),[M,N]=A.useState(null),k=ox(r),[F,U]=A.useState(!1),z=A.useRef(!1);A.useEffect(()=>{if(T)return IP(T)},[T]),kge();const j=A.useCallback(ve=>{const[Se,...me]=k().map(ce=>ce.ref.current),[Ee]=me.slice(-1),Ce=document.activeElement;for(const ce of ve)if(ce===Ce||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===Se&&_&&(_.scrollTop=0),ce===Ee&&_&&(_.scrollTop=_.scrollHeight),ce==null||ce.focus(),document.activeElement!==Ce))return},[k,_]),H=A.useCallback(()=>j([D,T]),[j,D,T]);A.useEffect(()=>{F&&H()},[F,H]);const{onOpenChange:V,triggerPointerDownPosRef:q}=E;A.useEffect(()=>{if(T){let ve={x:0,y:0};const Se=Ee=>{var Ce,ce;ve={x:Math.abs(Math.round(Ee.pageX)-(((Ce=q.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((ce=q.current)==null?void 0:ce.y)??0))}},me=Ee=>{ve.x<=10&&ve.y<=10?Ee.preventDefault():T.contains(Ee.target)||V(!1),document.removeEventListener("pointermove",Se),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",me,{capture:!0})}}},[T,V,q]),A.useEffect(()=>{const ve=()=>V(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[V]);const[G,Y]=o9(ve=>{const Se=k().filter(Ce=>!Ce.disabled),me=Se.find(Ce=>Ce.ref.current===document.activeElement),Ee=l9(Se,ve,me);Ee&&setTimeout(()=>Ee.ref.current.focus())}),X=A.useCallback((ve,Se,me)=>{const Ee=!z.current&&!me;(E.value!==void 0&&E.value===Se||Ee)&&(I(ve),Ee&&(z.current=!0))},[E.value]),te=A.useCallback(()=>T==null?void 0:T.focus(),[T]),ee=A.useCallback((ve,Se,me)=>{const Ee=!z.current&&!me;(E.value!==void 0&&E.value===Se||Ee)&&N(ve)},[E.value]),ue=n==="popper"?yR:V7,he=ue===yR?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:y,hideWhenDetached:b,avoidCollisions:x}:{};return v.jsx(G7,{scope:r,content:T,viewport:_,onViewportChange:P,itemRefCallback:X,selectedItem:D,onItemLeave:te,itemTextRefCallback:ee,focusSelectedItem:H,selectedItemText:M,position:n,isPositioned:F,searchRef:G,children:v.jsx(kb,{as:xve,allowPinchZoom:!0,children:v.jsx(y7,{asChild:!0,trapped:E.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:Fr(i,ve=>{var Se;(Se=E.trigger)==null||Se.focus({preventScroll:!0}),ve.preventDefault()}),children:v.jsx(g7,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:v.jsx(ue,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ve=>ve.preventDefault(),...w,...he,onPlaced:()=>U(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Fr(w.onKeyDown,ve=>{const Se=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!Se&&ve.key.length===1&&Y(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let Ee=k().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const Ce=ve.target,ce=Ee.indexOf(Ce);Ee=Ee.slice(ce+1)}setTimeout(()=>j(Ee)),ve.preventDefault()}})})})})})})});z7.displayName=bve;var Sve="SelectItemAlignedPosition",V7=A.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=El(Fc,r),s=Tl(Fc,r),[o,l]=A.useState(null),[c,d]=A.useState(null),f=gn(e,R=>d(R)),p=ox(r),g=A.useRef(!1),y=A.useRef(!0),{viewport:b,selectedItem:x,selectedItemText:w,focusSelectedItem:E}=s,T=A.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&b&&x&&w){const R=a.trigger.getBoundingClientRect(),D=c.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),M=w.getBoundingClientRect();if(a.dir!=="rtl"){const Ce=M.left-D.left,ce=I.left-Ce,ke=R.left-ce,Ue=R.width+ke,ut=Math.max(Ue,D.width),Ie=window.innerWidth-aa,nt=O$(ce,[aa,Math.max(aa,Ie-ut)]);o.style.minWidth=Ue+"px",o.style.left=nt+"px"}else{const Ce=D.right-M.right,ce=window.innerWidth-I.right-Ce,ke=window.innerWidth-R.right-ce,Ue=R.width+ke,ut=Math.max(Ue,D.width),Ie=window.innerWidth-aa,nt=O$(ce,[aa,Math.max(aa,Ie-ut)]);o.style.minWidth=Ue+"px",o.style.right=nt+"px"}const N=p(),k=window.innerHeight-aa*2,F=b.scrollHeight,U=window.getComputedStyle(c),z=parseInt(U.borderTopWidth,10),j=parseInt(U.paddingTop,10),H=parseInt(U.borderBottomWidth,10),V=parseInt(U.paddingBottom,10),q=z+j+F+V+H,G=Math.min(x.offsetHeight*5,q),Y=window.getComputedStyle(b),X=parseInt(Y.paddingTop,10),te=parseInt(Y.paddingBottom,10),ee=R.top+R.height/2-aa,ue=k-ee,he=x.offsetHeight/2,ve=x.offsetTop+he,Se=z+j+ve,me=q-Se;if(Se<=ee){const Ce=N.length>0&&x===N[N.length-1].ref.current;o.style.bottom="0px";const ce=c.clientHeight-b.offsetTop-b.offsetHeight,ke=Math.max(ue,he+(Ce?te:0)+ce+H),Ue=Se+ke;o.style.height=Ue+"px"}else{const Ce=N.length>0&&x===N[0].ref.current;o.style.top="0px";const ke=Math.max(ee,z+b.offsetTop+(Ce?X:0)+he)+me;o.style.height=ke+"px",b.scrollTop=Se-ee+b.offsetTop}o.style.margin=`${aa}px 0`,o.style.minHeight=G+"px",o.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[p,a.trigger,a.valueNode,o,c,b,x,w,a.dir,n]);Qn(()=>T(),[T]);const[O,_]=A.useState();Qn(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const P=A.useCallback(R=>{R&&y.current===!0&&(T(),E==null||E(),y.current=!1)},[T,E]);return v.jsx(Eve,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:P,children:v.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:v.jsx(Pr.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});V7.displayName=Sve;var wve="SelectPopperPosition",yR=A.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=aa,...a}=t,s=lx(r);return v.jsx(nve,{...s,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yR.displayName=wve;var[Eve,XD]=gf(Fc,{}),bR="SelectViewport",q7=A.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Tl(bR,r),s=XD(bR,r),o=gn(e,a.onViewportChange),l=A.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),v.jsx(sx.Slot,{scope:r,children:v.jsx(Pr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Fr(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=s;if(p!=null&&p.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const y=window.innerHeight-aa*2,b=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(b,x);if(w<y){const E=w+g,T=Math.min(y,E),O=E-T;f.style.height=T+"px",f.style.bottom==="0px"&&(d.scrollTop=O>0?O:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});q7.displayName=bR;var H7="SelectGroup",[Tve,Ave]=gf(H7),K7=A.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=KD();return v.jsx(Tve,{scope:r,id:i,children:v.jsx(Pr.div,{role:"group","aria-labelledby":i,...n,ref:e})})});K7.displayName=H7;var W7="SelectLabel",Y7=A.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Ave(W7,r);return v.jsx(Pr.div,{id:i.id,...n,ref:e})});Y7.displayName=W7;var p0="SelectItem",[_ve,X7]=gf(p0),Q7=A.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=t,o=El(p0,r),l=Tl(p0,r),c=o.value===n,[d,f]=A.useState(a??""),[p,g]=A.useState(!1),y=gn(e,E=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,E,n,i)}),b=KD(),x=A.useRef("touch"),w=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(_ve,{scope:r,value:n,disabled:i,textId:b,isSelected:c,onItemTextChange:A.useCallback(E=>{f(T=>T||((E==null?void 0:E.textContent)??"").trim())},[]),children:v.jsx(sx.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:v.jsx(Pr.div,{role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:y,onFocus:Fr(s.onFocus,()=>g(!0)),onBlur:Fr(s.onBlur,()=>g(!1)),onClick:Fr(s.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:Fr(s.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:Fr(s.onPointerDown,E=>{x.current=E.pointerType}),onPointerMove:Fr(s.onPointerMove,E=>{var T;x.current=E.pointerType,i?(T=l.onItemLeave)==null||T.call(l):x.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fr(s.onPointerLeave,E=>{var T;E.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:Fr(s.onKeyDown,E=>{var O;((O=l.searchRef)==null?void 0:O.current)!==""&&E.key===" "||(fve.includes(E.key)&&w(),E.key===" "&&E.preventDefault())})})})})});Q7.displayName=p0;var Zh="SelectItemText",Z7=A.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,s=El(Zh,r),o=Tl(Zh,r),l=X7(Zh,r),c=gve(Zh,r),[d,f]=A.useState(null),p=gn(e,w=>f(w),l.onItemTextChange,w=>{var E;return(E=o.itemTextRefCallback)==null?void 0:E.call(o,w,l.value,l.disabled)}),g=d==null?void 0:d.textContent,y=A.useMemo(()=>v.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:b,onNativeOptionRemove:x}=c;return Qn(()=>(b(y),()=>x(y)),[b,x,y]),v.jsxs(v.Fragment,{children:[v.jsx(Pr.span,{id:l.textId,...a,ref:p}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?ao.createPortal(a.children,s.valueNode):null]})});Z7.displayName=Zh;var J7="SelectItemIndicator",e9=A.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return X7(J7,r).isSelected?v.jsx(Pr.span,{"aria-hidden":!0,...n,ref:e}):null});e9.displayName=J7;var xR="SelectScrollUpButton",t9=A.forwardRef((t,e)=>{const r=Tl(xR,t.__scopeSelect),n=XD(xR,t.__scopeSelect),[i,a]=A.useState(!1),s=gn(e,n.onScrollButtonChange);return Qn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?v.jsx(n9,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});t9.displayName=xR;var SR="SelectScrollDownButton",r9=A.forwardRef((t,e)=>{const r=Tl(SR,t.__scopeSelect),n=XD(SR,t.__scopeSelect),[i,a]=A.useState(!1),s=gn(e,n.onScrollButtonChange);return Qn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?v.jsx(n9,{...t,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});r9.displayName=SR;var n9=A.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Tl("SelectScrollButton",r),s=A.useRef(null),o=ox(r),l=A.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),Qn(()=>{var d;const c=o().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),v.jsx(Pr.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Fr(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:Fr(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:Fr(i.onPointerLeave,()=>{l()})})}),Ove="SelectSeparator",i9=A.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return v.jsx(Pr.div,{"aria-hidden":!0,...n,ref:e})});i9.displayName=Ove;var wR="SelectArrow",Rve=A.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=lx(r),a=El(wR,r),s=Tl(wR,r);return a.open&&s.position==="popper"?v.jsx(ive,{...i,...n,ref:e}):null});Rve.displayName=wR;var Cve="SelectBubbleInput",a9=A.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=A.useRef(null),a=gn(n,i),s=L7(e);return A.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[s,e]),v.jsx(Pr.select,{...r,style:{...I7,...r.style},ref:a,defaultValue:e})});a9.displayName=Cve;function s9(t){return t===""||t===void 0}function o9(t){const e=jc(t),r=A.useRef(""),n=A.useRef(0),i=A.useCallback(s=>{const o=r.current+s;e(o),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),a=A.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function l9(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let s=Pve(t,Math.max(a,0));i.length===1&&(s=s.filter(c=>c!==r));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function Pve(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Dve=M7,c9=k7,Lve=$7,Ive=F7,Mve=B7,u9=U7,Nve=q7,kve=K7,d9=Y7,f9=Q7,jve=Z7,$ve=e9,h9=t9,p9=r9,m9=i9;const m0=Dve,ER=kve,g0=Lve,Mp=A.forwardRef(({className:t,children:e,...r},n)=>v.jsxs(c9,{ref:n,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,v.jsx(Ive,{asChild:!0,children:v.jsx(xP,{className:"h-4 w-4 opacity-50"})})]}));Mp.displayName=c9.displayName;const g9=A.forwardRef(({className:t,...e},r)=>v.jsx(h9,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(Ete,{className:"h-4 w-4"})}));g9.displayName=h9.displayName;const v9=A.forwardRef(({className:t,...e},r)=>v.jsx(p9,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(xP,{className:"h-4 w-4"})}));v9.displayName=p9.displayName;const Np=A.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>v.jsx(Mve,{children:v.jsxs(u9,{ref:i,className:Le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[v.jsx(g9,{}),v.jsx(Nve,{className:Le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(v9,{})]})}));Np.displayName=u9.displayName;const TR=A.forwardRef(({className:t,...e},r)=>v.jsx(d9,{ref:r,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));TR.displayName=d9.displayName;const ji=A.forwardRef(({className:t,children:e,...r},n)=>v.jsxs(f9,{ref:n,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx($ve,{children:v.jsx(Db,{className:"h-4 w-4"})})}),v.jsx(jve,{children:e})]}));ji.displayName=f9.displayName;const Fve=A.forwardRef(({className:t,...e},r)=>v.jsx(m9,{ref:r,className:Le("-mx-1 my-1 h-px bg-muted",t),...e}));Fve.displayName=m9.displayName;let Bve={data:""},Uve=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Bve,Gve=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,zve=/\/\*[^]*?\*\/|  +/g,j$=/\n+/g,tl=(t,e)=>{let r="",n="",i="";for(let a in t){let s=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+s+";":n+=a[1]=="f"?tl(s,a):a+"{"+tl(s,a[1]=="k"?"":e)+"}":typeof s=="object"?n+=tl(s,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=tl.p?tl.p(a,s):a+":"+s+";")}return r+(e&&i?e+"{"+i+"}":i)+n},_s={},y9=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+y9(t[r]);return e}return t},Vve=(t,e,r,n,i)=>{let a=y9(t),s=_s[a]||(_s[a]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(a));if(!_s[s]){let l=a!==t?t:(c=>{let d,f,p=[{}];for(;d=Gve.exec(c.replace(zve,""));)d[4]?p.shift():d[3]?(f=d[3].replace(j$," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][d[1]]=d[2].replace(j$," ").trim();return p[0]})(t);_s[s]=tl(i?{["@keyframes "+s]:l}:l,r?"":"."+s)}let o=r&&_s.g?_s.g:null;return r&&(_s.g=_s[s]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(_s[s],e,n,o),s},qve=(t,e,r)=>t.reduce((n,i,a)=>{let s=e[a];if(s&&s.call){let o=s(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":tl(o,""):o===!1?"":o}return n+i+(s??"")},"");function cx(t){let e=this||{},r=t.call?t(e.p):t;return Vve(r.unshift?r.raw?qve(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,Uve(e.target),e.g,e.o,e.k)}let b9,AR,_R;cx.bind({g:1});let Js=cx.bind({k:1});function Hve(t,e,r,n){tl.p=e,b9=t,AR=r,_R=n}function Al(t,e){let r=this||{};return function(){let n=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;r.p=Object.assign({theme:AR&&AR()},o),r.o=/ *go\d+/.test(l),o.className=cx.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),_R&&c[0]&&_R(o),b9(c,o)}return i}}var Kve=t=>typeof t=="function",v0=(t,e)=>Kve(t)?t(e):t,Wve=(()=>{let t=0;return()=>(++t).toString()})(),x9=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Yve=20,S9=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Yve)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return S9(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},xy=[],bc={toasts:[],pausedAt:void 0},iu=t=>{bc=S9(bc,t),xy.forEach(e=>{e(bc)})},Xve={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Qve=(t={})=>{let[e,r]=A.useState(bc),n=A.useRef(bc);A.useEffect(()=>(n.current!==bc&&r(bc),xy.push(r),()=>{let a=xy.indexOf(r);a>-1&&xy.splice(a,1)}),[]);let i=e.toasts.map(a=>{var s,o,l;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((s=t[a.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((o=t[a.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||Xve[a.type],style:{...t.style,...(l=t[a.type])==null?void 0:l.style,...a.style}}});return{...e,toasts:i}},Zve=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Wve()}),Xm=t=>(e,r)=>{let n=Zve(e,t,r);return iu({type:2,toast:n}),n.id},Lt=(t,e)=>Xm("blank")(t,e);Lt.error=Xm("error");Lt.success=Xm("success");Lt.loading=Xm("loading");Lt.custom=Xm("custom");Lt.dismiss=t=>{iu({type:3,toastId:t})};Lt.remove=t=>iu({type:4,toastId:t});Lt.promise=(t,e,r)=>{let n=Lt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?v0(e.success,i):void 0;return a?Lt.success(a,{id:n,...r,...r==null?void 0:r.success}):Lt.dismiss(n),i}).catch(i=>{let a=e.error?v0(e.error,i):void 0;a?Lt.error(a,{id:n,...r,...r==null?void 0:r.error}):Lt.dismiss(n)}),t};var Jve=(t,e)=>{iu({type:1,toast:{id:t,height:e}})},eye=()=>{iu({type:5,time:Date.now()})},cp=new Map,tye=1e3,rye=(t,e=tye)=>{if(cp.has(t))return;let r=setTimeout(()=>{cp.delete(t),iu({type:4,toastId:t})},e);cp.set(t,r)},nye=t=>{let{toasts:e,pausedAt:r}=Qve(t);A.useEffect(()=>{if(r)return;let a=Date.now(),s=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(a-o.createdAt);if(l<0){o.visible&&Lt.dismiss(o.id);return}return setTimeout(()=>Lt.dismiss(o.id),l)});return()=>{s.forEach(o=>o&&clearTimeout(o))}},[e,r]);let n=A.useCallback(()=>{r&&iu({type:6,time:Date.now()})},[r]),i=A.useCallback((a,s)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:c}=s||{},d=e.filter(g=>(g.position||c)===(a.position||c)&&g.height),f=d.findIndex(g=>g.id===a.id),p=d.filter((g,y)=>y<f&&g.visible).length;return d.filter(g=>g.visible).slice(...o?[p+1]:[0,p]).reduce((g,y)=>g+(y.height||0)+l,0)},[e]);return A.useEffect(()=>{e.forEach(a=>{if(a.dismissed)rye(a.id,a.removeDelay);else{let s=cp.get(a.id);s&&(clearTimeout(s),cp.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:Jve,startPause:eye,endPause:n,calculateOffset:i}}},iye=Js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,aye=Js`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sye=Js`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,oye=Al("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iye} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${aye} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${sye} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lye=Js`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cye=Al("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${lye} 1s linear infinite;
`,uye=Js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dye=Js`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fye=Al("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uye} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dye} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hye=Al("div")`
  position: absolute;
`,pye=Al("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mye=Js`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gye=Al("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mye} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vye=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?A.createElement(gye,null,e):e:r==="blank"?null:A.createElement(pye,null,A.createElement(cye,{...n}),r!=="loading"&&A.createElement(hye,null,r==="error"?A.createElement(oye,{...n}):A.createElement(fye,{...n})))},yye=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,bye=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,xye="0%{opacity:0;} 100%{opacity:1;}",Sye="0%{opacity:1;} 100%{opacity:0;}",wye=Al("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Eye=Al("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Tye=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=x9()?[xye,Sye]:[yye(r),bye(r)];return{animation:e?`${Js(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Js(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Aye=A.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?Tye(t.position||e||"top-center",t.visible):{opacity:0},a=A.createElement(vye,{toast:t}),s=A.createElement(Eye,{...t.ariaProps},v0(t.message,t));return A.createElement(wye,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:s}):A.createElement(A.Fragment,null,a,s))});Hve(A.createElement);var _ye=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=A.useCallback(s=>{if(s){let o=()=>{let l=s.getBoundingClientRect().height;n(t,l)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return A.createElement("div",{ref:a,className:e,style:r},i)},Oye=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:x9()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},Rye=cx`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Mv=16,Cye=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:s})=>{let{toasts:o,handlers:l}=nye(r);return A.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Mv,left:Mv,right:Mv,bottom:Mv,pointerEvents:"none",...a},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(c=>{let d=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),p=Oye(d,f);return A.createElement(_ye,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Rye:"",style:p},c.type==="custom"?v0(c.message,c):i?i(c):A.createElement(Aye,{toast:c,position:d}))}))},It=Lt;const Pye=["movies","documentaries","tv shows","web series","short films","educational","music videos","sports"],Dye=["action","horror","comedy","drama","thriller","romance","adventure","sci-fi","fantasy","animation","documentary","crime","mystery","family"];function w9({isOpen:t,setIsOpens:e}){const{register:r,handleSubmit:n,setValue:i,watch:a,reset:s}=qD(),[o,l]=A.useState(!1),[c,d]=A.useState(""),[f,p]=A.useState(""),[g,y]=A.useState([]),[b,x]=A.useState("movies"),w=a("thumbnail"),E=a("video"),T=(D,I)=>{var N;const M=(N=D.target.files)==null?void 0:N[0];M&&(i(I,M),I==="video"&&O(M))},O=D=>{const I=URL.createObjectURL(D),M=document.createElement("video");M.onloadedmetadata=()=>{const N=M.duration,k=Math.floor(N/3600),F=Math.floor(N%3600/60),U=Math.floor(N%60);let z="";const j=[];k>0&&j.push(`${k}hr`),(F>0||k>0)&&j.push(`${F}min`),j.push(`${U}sec`),z=j.join(""),d(z),p(`${D.name} (${z})`),URL.revokeObjectURL(I)},M.src=I,M.onerror=()=>{console.error("Error loading video metadata"),URL.revokeObjectURL(I)}},[_]=fpe(),P=async D=>{if(!D.video)return It.error("Please select a video file.");if(D.video.size>100*1024*1024){const M=Number(D.video.size);It.error(`Video must be under 100MB. Your video size is: ${(M/(1024*1024)).toFixed(2)}MB`);return}const I=new FormData;D.title&&I.append("title",D.title),D.desc&&I.append("desc",D.desc),D.thumbnail&&I.append("thumbnail",D.thumbnail),D.video&&I.append("video",D.video),I.append("duration",c),I.append("category",b),I.append("tags",JSON.stringify(g));try{l(!0),await _(I).unwrap(),It.success("Video uploaded successfully! It will be available after approval."),s(),d(""),p(""),y([]),x("movies"),e(!1)}catch(M){console.error("Upload failed:",M),It.error("Upload failed. Please try again.")}finally{l(!1)}},R=D=>{y(I=>I.includes(D)?I.filter(M=>M!==D):I.length>=5?(It.error("You can select up to 5 tags only"),I):[...I,D])};return v.jsx("div",{className:`fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 ${t?"visible opacity-100":"invisible opacity-0"} transition-opacity duration-300`,onClick:()=>e(!1),children:v.jsxs("div",{className:"bg-background border border-gray-800/20 dark:border-gray-100/10 p-6 rounded-lg shadow-2xl w-full max-w-[525px] relative transition-all duration-300",onClick:D=>D.stopPropagation(),children:[v.jsx("div",{className:"absolute right-4 top-4",children:v.jsxs(dt,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100",onClick:()=>e(!1),children:[v.jsx(Pm,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})}),v.jsxs("div",{className:"space-y-1.5 text-center sm:text-left mb-6",children:[v.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Upload Your Video"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Fill in the details and upload your video"})]}),v.jsxs("form",{onSubmit:n(P),className:"space-y-5",children:[v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"title",children:"Title"}),v.jsx(jr,{id:"title",type:"text",placeholder:"Enter video title",...r("title",{required:!0})})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"desc",children:"Description"}),v.jsx(Ym,{id:"desc",placeholder:"Describe your video",className:"resize-none min-h-[80px]",...r("desc")})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"category",children:"Category"}),v.jsxs(m0,{value:b,onValueChange:D=>x(D),children:[v.jsx(Mp,{className:"w-full",children:v.jsx(g0,{placeholder:"Select category"})}),v.jsx(Np,{children:Pye.map(D=>v.jsx(ji,{value:D,children:D.charAt(0).toUpperCase()+D.slice(1)},D))})]})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{children:"Tags (select up to 5)"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:Dye.map(D=>v.jsx("button",{type:"button",onClick:()=>R(D),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${g.includes(D)?"bg-yellow-500 text-black":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:D},D))})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"thumbnail",children:"Thumbnail"}),v.jsx("div",{className:"relative h-32 border border-dashed rounded-md p-1 flex flex-col items-center justify-center bg-muted/20 hover:bg-muted/30 transition-colors",children:w?v.jsxs(v.Fragment,{children:[v.jsx("img",{src:URL.createObjectURL(w),alt:"Thumbnail preview",className:"w-full h-full object-cover rounded-md"}),v.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity rounded-md",children:v.jsxs("label",{className:"cursor-pointer",children:[v.jsx("span",{className:"inline-flex items-center px-4 py-2 bg-secondary text-secondary-foreground hover:bg-secondary/80 rounded-md text-sm font-medium",children:"Change"}),v.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:D=>T(D,"thumbnail")})]})})]}):v.jsxs(v.Fragment,{children:[v.jsx(Xte,{className:"h-10 w-10 text-muted-foreground mb-2"}),v.jsxs("label",{className:"cursor-pointer",children:[v.jsx("span",{className:"inline-flex items-center px-4 py-2 bg-yellow-500/20 text-yellow-500 hover:bg-yellow-500/30 rounded-md text-sm font-medium",children:"Choose Image"}),v.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:D=>T(D,"thumbnail")})]})]})})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"video",children:"Video File"}),v.jsx("div",{className:"relative h-32 border border-dashed rounded-md p-1 flex flex-col items-center justify-center bg-muted/20 hover:bg-muted/30 transition-colors",children:E?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"text-sm text-center",children:[v.jsx(jy,{className:"h-8 w-8 text-yellow-500 mb-2 mx-auto"}),v.jsx("p",{className:"text-xs font-medium mb-2 line-clamp-1",children:f}),v.jsxs("label",{className:"cursor-pointer",children:[v.jsx("span",{className:"inline-flex items-center px-4 py-2 bg-yellow-500/20 text-yellow-500 hover:bg-yellow-500/30 rounded-md text-sm font-medium",children:"Change Video"}),v.jsx("input",{type:"file",accept:"video/*",className:"hidden",onChange:D=>T(D,"video")})]})]})}):v.jsxs(v.Fragment,{children:[v.jsx(jy,{className:"h-10 w-10 text-muted-foreground mb-2"}),v.jsxs("label",{className:"cursor-pointer",children:[v.jsx("span",{className:"inline-flex items-center px-4 py-2 bg-yellow-500/20 text-yellow-500 hover:bg-yellow-500/30 rounded-md text-sm font-medium",children:"Choose Video"}),v.jsx("input",{type:"file",accept:"video/*",className:"hidden",onChange:D=>T(D,"video")})]})]})})]})]}),v.jsx("div",{className:"p-3 rounded-md bg-blue-500/10 border border-blue-500/20 text-sm",children:v.jsxs("p",{className:"text-blue-500",children:[v.jsx("span",{className:"font-medium",children:"Note:"}),` Uploaded videos require admin approval before appearing publicly. You can view your video's status in the "My Videos" section.`]})}),v.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 pt-4 mt-2 border-t border-gray-800/20 dark:border-gray-100/10",children:[v.jsx(dt,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),v.jsxs(dt,{type:"submit",disabled:o,className:"bg-yellow-500 hover:bg-yellow-600 text-black transition-colors",children:[v.jsx(Rre,{className:"w-4 h-4 mr-2"}),o?"Uploading...":"Upload Video"]})]})]})]})})}const ns=A.forwardRef(({...t},e)=>v.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));ns.displayName="Breadcrumb";const is=A.forwardRef(({className:t,...e},r)=>v.jsx("ol",{ref:r,className:Le("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));is.displayName="BreadcrumbList";const Cr=A.forwardRef(({className:t,...e},r)=>v.jsx("li",{ref:r,className:Le("inline-flex items-center gap-1.5",t),...e}));Cr.displayName="BreadcrumbItem";const zi=A.forwardRef(({asChild:t,className:e,...r},n)=>{const i=t?Jc:"a";return v.jsx(i,{ref:n,className:Le("transition-colors hover:text-foreground",e),...r})});zi.displayName="BreadcrumbLink";const lo=A.forwardRef(({className:t,...e},r)=>v.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:Le("font-normal text-foreground",t),...e}));lo.displayName="BreadcrumbPage";const Vi=({children:t,className:e,...r})=>v.jsx("li",{role:"presentation","aria-hidden":"true",className:Le("[&>svg]:w-3.5 [&>svg]:h-3.5",e),...r,children:t??v.jsx(SP,{})});Vi.displayName="BreadcrumbSeparator";const Lye={theme:"system",setTheme:()=>null},E9=A.createContext(Lye);function Iye({children:t,defaultTheme:e="system",storageKey:r="vite-ui-theme",...n}){const[i,a]=A.useState(()=>localStorage.getItem(r)||e);A.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(l);return}o.classList.add(i)},[i]);const s={theme:i,setTheme:o=>{localStorage.setItem(r,o),a(o)}};return v.jsx(E9.Provider,{...n,value:s,children:t})}const Mye=()=>{const t=A.useContext(E9);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};var QD="Avatar",[Nye,g4e]=yl(QD),[kye,T9]=Nye(QD),OR=A.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=A.useState("idle");return v.jsx(kye,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:v.jsx(hr.span,{...n,ref:e})})});OR.displayName=QD;var A9="AvatarImage",jye=A.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,s=T9(A9,r),o=Fye(n,a.referrerPolicy),l=Gi(c=>{i(c),s.onImageLoadingStatusChange(c)});return Ka(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?v.jsx(hr.img,{...a,ref:e,src:n}):null});jye.displayName=A9;var _9="AvatarFallback",$ye=A.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=T9(_9,r),[s,o]=A.useState(n===void 0);return A.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(l)}},[n]),s&&a.imageLoadingStatus!=="loaded"?v.jsx(hr.span,{...i,ref:e}):null});$ye.displayName=_9;function Fye(t,e){const[r,n]=A.useState("idle");return Ka(()=>{if(!t){n("error");return}let i=!0;const a=new window.Image,s=o=>()=>{i&&n(o)};return n("loading"),a.onload=s("loaded"),a.onerror=s("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),r}const co=({on:t})=>{const e=wl(),{theme:r,setTheme:n}=Mye();return v.jsx(v.Fragment,{children:t==!0?v.jsxs("div",{className:"flex items-center  gap-4",children:[r=="dark"?v.jsx(wk,{onClick:()=>n("light"),className:"cursor-pointer  w-6 h-6 md:w-7 md:h-7 text-yellow-600",size:24}):v.jsx(Qj,{onClick:()=>n("dark"),className:"cursor-pointer  w-6 h-6 md:w-7 md:h-7 text-black"}),e?v.jsxs(OR,{className:"border-2 border-gray-700 flex items-center justify-center text-black dark:text-white font-bold rounded-full w-10 h-10",children:[e.name.charAt(0),e.name.charAt(e.name.indexOf(" ")+1)]}):v.jsx(Pd,{to:"/login",children:v.jsx(dt,{className:"py-5 px-5 md:text-lg dark:bg-yellow-500",size:"sm",children:"Login"})})]}):v.jsxs(v.Fragment,{children:[r=="dark"?v.jsx(wk,{onClick:()=>n("light"),className:"cursor-pointer  w-6 h-6 md:w-7 md:h-7 text-yellow-600",size:24}):v.jsx(Qj,{onClick:()=>n("dark"),className:"cursor-pointer  w-6 h-6 md:w-7 md:h-7 text-black"}),e?v.jsxs(OR,{className:"border-2 border-gray-700 flex items-center justify-center text-black dark:text-white font-bold rounded-full w-10 h-10",children:[e.name.charAt(0),e.name.charAt(e.name.indexOf(" ")+1)]}):v.jsx(Pd,{to:"/login",children:v.jsx(dt,{className:"py-5 px-5 md:text-lg dark:bg-yellow-500",size:"sm",children:"Login"})})]})})};function Bye(){const t=wl(),[e,r]=A.useState(!1);return v.jsxs(es,{children:[v.jsx(oo,{}),v.jsxs(rs,{children:[v.jsxs("header",{className:"flex h-16 shrink-0 items-center justify-between gap-2 px-4 ",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(ts,{className:" flex md:hidden -ml-1"}),v.jsx(ns,{children:v.jsxs(is,{children:[v.jsx(Cr,{className:"hidden md:block",children:v.jsxs(zi,{href:"/",children:[v.jsx("span",{className:"text-yellow-500 font-bold",children:"N"}),"Movies"]})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsxs(Cr,{children:[v.jsx(np,{to:"/",className:({isActive:n})=>`hover:text-yellow-400 text-sm  font-medium ${n?"text-yellow-400":""}`,children:"All"}),v.jsx(np,{to:"/movies",className:({isActive:n})=>`hover:text-yellow-400 text-sm  font-medium ${n?"text-yellow-400":""}`,children:"Movies"}),v.jsx(np,{to:"/trending",className:({isActive:n})=>`hover:text-yellow-400 text-sm font-medium ${n?"text-yellow-400":""}`,children:"Trending"})]})]})})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[t&&v.jsx(OH,{title:"Upload Video",onClick:()=>r(!0),className:"cursor-pointer w-6 h-6 md:w-7 md:h-7 dark:text-yellow-600 text-black",size:24}),v.jsx(co,{on:!1})]})]}),v.jsx(w9,{isOpen:e,setIsOpens:r}),v.jsx(Zme,{})]})]})}function Uye(){return v.jsx(v.Fragment,{children:v.jsx(Bye,{})})}var ZD="persist:",JD="persist/FLUSH",ux="persist/REHYDRATE",eL="persist/PAUSE",tL="persist/PERSIST",rL="persist/PURGE",nL="persist/REGISTER",Gye=-1;function Sy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sy=function(r){return typeof r}:Sy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sy(t)}function $$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$$(r,!0).forEach(function(n){Vye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$$(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vye(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qye(t,e,r,n){n.debug;var i=zye({},r);return t&&Sy(t)==="object"&&Object.keys(t).forEach(function(a){a!=="_persist"&&e[a]===r[a]&&(i[a]=t[a])}),i}function Hye(t){var e=t.blacklist||null,r=t.whitelist||null,n=t.transforms||[],i=t.throttle||0,a="".concat(t.keyPrefix!==void 0?t.keyPrefix:ZD).concat(t.key),s=t.storage,o;t.serialize===!1?o=function(_){return _}:typeof t.serialize=="function"?o=t.serialize:o=Kye;var l=t.writeFailHandler||null,c={},d={},f=[],p=null,g=null,y=function(_){Object.keys(_).forEach(function(P){w(P)&&c[P]!==_[P]&&f.indexOf(P)===-1&&f.push(P)}),Object.keys(c).forEach(function(P){_[P]===void 0&&w(P)&&f.indexOf(P)===-1&&c[P]!==void 0&&f.push(P)}),p===null&&(p=setInterval(b,i)),c=_};function b(){if(f.length===0){p&&clearInterval(p),p=null;return}var O=f.shift(),_=n.reduce(function(P,R){return R.in(P,O,c)},c[O]);if(_!==void 0)try{d[O]=o(_)}catch(P){console.error("redux-persist/createPersistoid: error serializing state",P)}else delete d[O];f.length===0&&x()}function x(){Object.keys(d).forEach(function(O){c[O]===void 0&&delete d[O]}),g=s.setItem(a,o(d)).catch(E)}function w(O){return!(r&&r.indexOf(O)===-1&&O!=="_persist"||e&&e.indexOf(O)!==-1)}function E(O){l&&l(O)}var T=function(){for(;f.length!==0;)b();return g||Promise.resolve()};return{update:y,flush:T}}function Kye(t){return JSON.stringify(t)}function Wye(t){var e=t.transforms||[],r="".concat(t.keyPrefix!==void 0?t.keyPrefix:ZD).concat(t.key),n=t.storage;t.debug;var i;return t.deserialize===!1?i=function(s){return s}:typeof t.deserialize=="function"?i=t.deserialize:i=Yye,n.getItem(r).then(function(a){if(a)try{var s={},o=i(a);return Object.keys(o).forEach(function(l){s[l]=e.reduceRight(function(c,d){return d.out(c,l,o)},i(o[l]))}),s}catch(l){throw l}else return})}function Yye(t){return JSON.parse(t)}function Xye(t){var e=t.storage,r="".concat(t.keyPrefix!==void 0?t.keyPrefix:ZD).concat(t.key);return e.removeItem(r,Qye)}function Qye(t){}function F$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F$(r,!0).forEach(function(n){Zye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F$(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zye(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jye(t,e){if(t==null)return{};var r=e0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function e0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var t0e=5e3;function r0e(t,e){var r=t.version!==void 0?t.version:Gye;t.debug;var n=t.stateReconciler===void 0?qye:t.stateReconciler,i=t.getStoredState||Wye,a=t.timeout!==void 0?t.timeout:t0e,s=null,o=!1,l=!0,c=function(f){return f._persist.rehydrated&&s&&!l&&s.update(f),f};return function(d,f){var p=d||{},g=p._persist,y=Jye(p,["_persist"]),b=y;if(f.type===tL){var x=!1,w=function(D,I){x||(f.rehydrate(t.key,D,I),x=!0)};if(a&&setTimeout(function(){!x&&w(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},a),l=!1,s||(s=Hye(t)),g)return Os({},e(b,f),{_persist:g});if(typeof f.rehydrate!="function"||typeof f.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(t.key),i(t).then(function(R){var D=t.migrate||function(I,M){return Promise.resolve(I)};D(R,r).then(function(I){w(I)},function(I){w(void 0,I)})},function(R){w(void 0,R)}),Os({},e(b,f),{_persist:{version:r,rehydrated:!1}})}else{if(f.type===rL)return o=!0,f.result(Xye(t)),Os({},e(b,f),{_persist:g});if(f.type===JD)return f.result(s&&s.flush()),Os({},e(b,f),{_persist:g});if(f.type===eL)l=!0;else if(f.type===ux){if(o)return Os({},b,{_persist:Os({},g,{rehydrated:!0})});if(f.key===t.key){var E=e(b,f),T=f.payload,O=n!==!1&&T!==void 0?n(T,d,E,t):E,_=Os({},O,{_persist:Os({},g,{rehydrated:!0})});return c(_)}}}if(!g)return e(d,f);var P=e(b,f);return P===b?d:c(Os({},P,{_persist:g}))}}function B$(t){return a0e(t)||i0e(t)||n0e()}function n0e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i0e(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function a0e(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function U$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U$(r,!0).forEach(function(n){s0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U$(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s0e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var O9={registry:[],bootstrapped:!1},o0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O9,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case nL:return RR({},e,{registry:[].concat(B$(e.registry),[r.key])});case ux:var n=e.registry.indexOf(r.key),i=B$(e.registry);return i.splice(n,1),RR({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function l0e(t,e,r){var n=_D(o0e,O9,void 0),i=function(l){n.dispatch({type:nL,key:l})},a=function(l,c,d){var f={type:ux,payload:c,err:d,key:l};t.dispatch(f),n.dispatch(f)},s=RR({},n,{purge:function(){var l=[];return t.dispatch({type:rL,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:JD,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){t.dispatch({type:eL})},persist:function(){t.dispatch({type:tL,register:i,rehydrate:a})}});return s.persist(),s}var Ih={},Nv={},kv={},G$;function c0e(){if(G$)return kv;G$=1,kv.__esModule=!0,kv.default=i;function t(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(o){return typeof o}:t=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(a)}function e(){}var r={getItem:e,setItem:e,removeItem:e};function n(a){if((typeof self>"u"?"undefined":t(self))!=="object"||!(a in self))return!1;try{var s=self[a],o="redux-persist ".concat(a," test");s.setItem(o,"test"),s.getItem(o),s.removeItem(o)}catch{return!1}return!0}function i(a){var s="".concat(a,"Storage");return n(s)?self[s]:r}return kv}var z$;function u0e(){if(z$)return Nv;z$=1,Nv.__esModule=!0,Nv.default=r;var t=e(c0e());function e(n){return n&&n.__esModule?n:{default:n}}function r(n){var i=(0,t.default)(n);return{getItem:function(s){return new Promise(function(o,l){o(i.getItem(s))})},setItem:function(s,o){return new Promise(function(l,c){l(i.setItem(s,o))})},removeItem:function(s){return new Promise(function(o,l){o(i.removeItem(s))})}}}return Nv}var V$;function d0e(){if(V$)return Ih;V$=1,Ih.__esModule=!0,Ih.default=void 0;var t=e(u0e());function e(n){return n&&n.__esModule?n:{default:n}}var r=(0,t.default)("local");return Ih.default=r,Ih}var f0e=d0e();const h0e=$t(f0e),p0e={key:"auth",storage:h0e},m0e=r0e(p0e,nhe),R9=$fe({reducer:{[pa.reducerPath]:pa.reducer,auth:m0e},middleware:t=>t({serializableCheck:{ignoredActions:[JD,ux,eL,tL,rL,nL]}}).concat(pa.middleware)}),g0e=l0e(R9);function wy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wy=function(r){return typeof r}:wy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wy(t)}function v0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b0e(t,e,r){return e&&y0e(t.prototype,e),t}function x0e(t,e){return e&&(wy(e)==="object"||typeof e=="function")?e:Ey(t)}function CR(t){return CR=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},CR(t)}function Ey(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PR(t,e)}function PR(t,e){return PR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},PR(t,e)}function Ty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C9=function(t){S0e(e,t);function e(){var r,n;v0e(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=x0e(this,(r=CR(e)).call.apply(r,[this].concat(a))),Ty(Ey(n),"state",{bootstrapped:!1}),Ty(Ey(n),"_unsubscribe",void 0),Ty(Ey(n),"handlePersistorState",function(){var o=n.props.persistor,l=o.getState(),c=l.bootstrapped;c&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally(function(){return n.setState({bootstrapped:!0})}):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())}),n}return b0e(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(A.PureComponent);Ty(C9,"defaultProps",{children:null,loading:null});var zn={},Mh={},q$;function w0e(){if(q$)return Mh;q$=1,Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.parseLengthAndUnit=e,Mh.cssValue=r;var t={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function e(n){if(typeof n=="number")return{value:n,unit:"px"};var i,a=(n.match(/^[0-9.]*/)||"").toString();a.includes(".")?i=parseFloat(a):i=parseInt(a,10);var s=(n.match(/[^0-9]*$/)||"").toString();return t[s]?{value:i,unit:s}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(i,"px.")),{value:i,unit:"px"})}function r(n){var i=e(n);return"".concat(i.value).concat(i.unit)}return Mh}var Nh={},H$;function E0e(){if(H$)return Nh;H$=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.createAnimation=void 0;var t=function(e,r,n){var i="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return i;var a=document.createElement("style");document.head.appendChild(a);var s=a.sheet,o=`
    @keyframes `.concat(i,` {
      `).concat(r,`
    }
  `);return s&&s.insertRule(o,0),i};return Nh.createAnimation=t,Nh}var K$;function T0e(){if(K$)return zn;K$=1;var t=zn&&zn.__assign||function(){return t=Object.assign||function(d){for(var f,p=1,g=arguments.length;p<g;p++){f=arguments[p];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},t.apply(this,arguments)},e=zn&&zn.__createBinding||(Object.create?function(d,f,p,g){g===void 0&&(g=p);var y=Object.getOwnPropertyDescriptor(f,p);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(d,g,y)}:function(d,f,p,g){g===void 0&&(g=p),d[g]=f[p]}),r=zn&&zn.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),n=zn&&zn.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var p in d)p!=="default"&&Object.prototype.hasOwnProperty.call(d,p)&&e(f,d,p);return r(f,d),f},i=zn&&zn.__rest||function(d,f){var p={};for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&f.indexOf(g)<0&&(p[g]=d[g]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,g=Object.getOwnPropertySymbols(d);y<g.length;y++)f.indexOf(g[y])<0&&Object.prototype.propertyIsEnumerable.call(d,g[y])&&(p[g[y]]=d[g[y]]);return p};Object.defineProperty(zn,"__esModule",{value:!0});var a=n(Cm()),s=w0e(),o=E0e(),l=(0,o.createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function c(d){var f=d.loading,p=f===void 0?!0:f,g=d.color,y=g===void 0?"#000000":g,b=d.speedMultiplier,x=b===void 0?1:b,w=d.cssOverride,E=w===void 0?{}:w,T=d.size,O=T===void 0?35:T,_=i(d,["loading","color","speedMultiplier","cssOverride","size"]),P=t({background:"transparent !important",width:(0,s.cssValue)(O),height:(0,s.cssValue)(O),borderRadius:"100%",border:"2px solid",borderTopColor:y,borderBottomColor:"transparent",borderLeftColor:y,borderRightColor:y,display:"inline-block",animation:"".concat(l," ").concat(.75/x,"s 0s infinite linear"),animationFillMode:"both"},E);return p?a.createElement("span",t({style:P},_)):null}return zn.default=c,zn}var A0e=T0e();const P9=$t(A0e),sr=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:Le("rounded-xl border bg-card text-card-foreground shadow",t),...e}));sr.displayName="Card";const Sr=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:Le("flex flex-col space-y-1.5 p-6",t),...e}));Sr.displayName="CardHeader";const wr=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:Le("font-semibold leading-none tracking-tight",t),...e}));wr.displayName="CardTitle";const Nn=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:Le("text-sm text-muted-foreground",t),...e}));Nn.displayName="CardDescription";const fr=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:Le("p-6 pt-0",t),...e}));fr.displayName="CardContent";const _0e=A.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:Le("flex items-center p-6 pt-0",t),...e}));_0e.displayName="CardFooter";const O0e=pa.injectEndpoints({endpoints:t=>({loginUser:t.mutation({query:e=>({url:"/auth/signin",method:"POST",body:e})}),registerUser:t.mutation({query:e=>({url:"/auth/signup",method:"POST",body:e})})})}),{useRegisterUserMutation:R0e,useLoginUserMutation:C0e}=O0e;function P0e({className:t,...e}){const{register:r,handleSubmit:n,formState:{errors:i}}=qD({defaultValues:{usernameOrEmail:"afd",password:"123456"}}),[a,{isLoading:s}]=C0e(),o=Zb(),l=Um(),c=async d=>{var f;try{const p=await a(d).unwrap();if((p==null?void 0:p.success)===!0){const{token:g}=p.data;It.success((p==null?void 0:p.message)||"User logged in successfully.");const y=ID(g);o(xH({user:y,token:g})),l("/")}else It.error((p==null?void 0:p.message)||"Something went wrong!")}catch(p){console.log(p),It.error(((f=p==null?void 0:p.data)==null?void 0:f.message)||"Something went wrong!")}};return v.jsxs("div",{className:Le("flex flex-col gap-6",t),...e,children:[v.jsxs("div",{className:"relative",children:[s&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg",children:v.jsx(P9,{size:50,speedMultiplier:.7,color:"yellow"})}),v.jsxs(sr,{children:[v.jsxs(Sr,{className:"text-center",children:[v.jsx(wr,{className:"text-xl",children:"Welcome back"}),v.jsx(Nn,{children:"Login to your account"})]}),v.jsxs(fr,{children:[v.jsx("form",{onSubmit:n(c),children:v.jsxs("div",{className:"grid gap-6",children:[v.jsxs("div",{className:"grid gap-6",children:[v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"identifier",children:"Email or Username"}),v.jsx(jr,{id:"identifier",placeholder:"Enter email or username",...r("usernameOrEmail",{required:"This field is required"}),className:"focus:ring-2 focus:ring-red-400 focus:outline-none"}),i.usernameOrEmail&&v.jsx("p",{className:"text-red-500 text-sm",children:i.usernameOrEmail.message})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(_t,{htmlFor:"password",children:"Password"}),v.jsx("a",{href:"#",className:"ml-auto text-sm underline-offset-4 hover:underline",children:"Forgot your password?"})]}),v.jsx(jr,{id:"password",type:"password",...r("password",{required:"Password is required"})}),i.password&&v.jsx("p",{className:"text-red-500 text-sm",children:i.password.message})]}),v.jsx(dt,{type:"submit",className:"hover:bg-yellow-300 w-full hover:text-black",disabled:s,children:"Login"})]}),v.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",v.jsx(Pd,{to:"/register",className:"underline underline-offset-4",children:"Sign up"})]})]})}),v.jsx("div",{className:"my-5 relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:v.jsx("span",{className:"relative z-10 bg-background px-2 text-muted-foreground",children:"Or continue with"})}),v.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[v.jsx(dt,{variant:"outline",className:" hover:bg-yellow-300 w-full hover:text-black",children:v.jsx(EH,{})}),v.jsx(dt,{variant:"outline",className:" hover:bg-yellow-300 w-full hover:text-black",children:v.jsx(TH,{})}),v.jsx(dt,{variant:"outline",className:" hover:bg-yellow-300 w-full hover:text-black",children:v.jsx(_H,{})})]})]})]})]}),v.jsxs("div",{className:"text-balance text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 [&_a]:hover:text-primary",children:["By clicking continue, you agree to our ",v.jsx("a",{href:"#",children:"Terms of Service"})," ","and ",v.jsx("a",{href:"#",children:"Privacy Policy"}),"."]})]})}function D0e(){return v.jsx("div",{className:"flex min-h-svh flex-col items-center justify-center gap-6 bg-muted p-6 md:p-10",children:v.jsx("div",{className:"flex w-full max-w-sm flex-col gap-6",children:v.jsx(P0e,{})})})}const L0e={cn:Le,Button:dt,Card:sr,CardContent:fr,CardDescription:Nn,CardHeader:Sr,CardTitle:wr,Input:jr,Label:_t,FaApple:EH,FaGoogle:TH,FaMeta:_H};function I0e({className:t,...e}){const{cn:r,Button:n,Card:i,CardContent:a,CardDescription:s,CardHeader:o,CardTitle:l,Input:c,Label:d,FaApple:f,FaGoogle:p,FaMeta:g}=L0e,{register:y,handleSubmit:b,formState:{errors:x}}=qD({defaultValues:{name:"asdas",username:"afd",email:"dfs@f.g",password:"123456",conpassword:"123456"}}),w=Um(),[E,{isLoading:T}]=R0e(),O=async _=>{var P;if(_.password!==_.conpassword){It.error("Passwords do not match.");return}try{const R=await E(_).unwrap();(R==null?void 0:R.status)===201?(It.success((R==null?void 0:R.message)||"User created successfully! Please login to continue."),w("/login")):It.error((R==null?void 0:R.message)||"Something went wrong!")}catch(R){It.error(((P=R==null?void 0:R.data)==null?void 0:P.message)||"Something went wrong!")}};return v.jsxs("div",{className:"flex min-h-svh flex-col items-center justify-center gap-6 bg-muted p-6 md:p-10",children:[T&&v.jsx(P9,{className:"position absolute z-50",size:50,speedMultiplier:.7,color:"yellow"}),v.jsx("div",{className:"flex w-full max-w-sm flex-col gap-6",children:v.jsxs("div",{className:r("flex flex-col gap-6",t),...e,children:[v.jsxs(i,{children:[v.jsxs(o,{className:"text-center",children:[v.jsx(l,{className:"text-xl",children:"Welcome"}),v.jsx(s,{children:"Create a new account"})]}),v.jsxs(a,{children:[v.jsx("form",{onSubmit:b(O),children:v.jsxs("div",{className:"grid gap-6",children:[v.jsxs("div",{className:"grid gap-2",children:[v.jsx(d,{htmlFor:"name",children:"Name"}),v.jsx(c,{id:"name",type:"text",placeholder:"John Doe",...y("name",{required:"Name is required"}),className:"focus:ring-2 focus:ring-red-400 focus:outline-none"}),x.name&&v.jsx("p",{className:"text-red-500 text-sm",children:x.name.message})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(d,{htmlFor:"username",children:"Username"}),v.jsx(c,{id:"username",type:"text",placeholder:"abc123",...y("username",{required:"Username is required"}),className:"focus:ring-2 focus:ring-red-400 focus:outline-none"}),x.username&&v.jsx("p",{className:"text-red-500 text-sm",children:x.username.message})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(d,{htmlFor:"email",children:"Email"}),v.jsx(c,{id:"email",type:"email",placeholder:"m@example.com",...y("email",{required:"Email is required",pattern:{value:/^\S+@\S+\.\S+$/,message:"Invalid email format"}}),className:"focus:ring-2 focus:ring-red-400 focus:outline-none"}),x.email&&v.jsx("p",{className:"text-red-500 text-sm",children:x.email.message})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(d,{htmlFor:"password",children:"Password"}),v.jsx(c,{id:"password",type:"password",...y("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"focus:ring-2 focus:ring-red-400 focus:outline-none"}),x.password&&v.jsx("p",{className:"text-red-500 text-sm",children:x.password.message})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(d,{htmlFor:"password",children:"Confirm Password"}),v.jsx(c,{id:"password",type:"password",...y("conpassword",{required:"Confirm Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"focus:ring-2 focus:ring-red-400 focus:outline-none"}),x.password&&v.jsx("p",{className:"text-red-500 text-sm",children:x.password.message})]}),v.jsx(n,{type:"submit",className:"hover:bg-yellow-300 w-full hover:text-black",disabled:T,children:"Register"})]})}),v.jsxs("div",{className:"mt-4 text-center text-sm",children:["Already have an account?"," ",v.jsx(Pd,{to:"/login",className:"underline underline-offset-4",children:"Login"})]}),v.jsx("div",{className:"my-5 relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:v.jsx("span",{className:"relative z-10 bg-background px-2 text-muted-foreground",children:"Or continue with"})}),v.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[v.jsx(n,{variant:"outline",className:"hover:bg-yellow-300 w-full hover:text-black",children:v.jsx(f,{})}),v.jsx(n,{variant:"outline",className:"hover:bg-yellow-300 w-full hover:text-black",children:v.jsx(p,{})}),v.jsx(n,{variant:"outline",className:"hover:bg-yellow-300 w-full hover:text-black",children:v.jsx(g,{})})]})]})]}),v.jsxs("div",{className:"text-balance text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 [&_a]:hover:text-primary",children:["By clicking continue, you agree to our"," ",v.jsx("a",{href:"#",children:"Terms of Service"})," and ",v.jsx("a",{href:"#",children:"Privacy Policy"}),"."]})]})})]})}function M0e(t){return vn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5m6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5z"},child:[]}]})(t)}function N0e(t){return vn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5m8.854-9.646a.5.5 0 0 0-.708-.708L7.5 7.793 6.354 6.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0z"},child:[]}]})(t)}const Fe=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},k0e=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=j0e},j0e=Number.MAX_SAFE_INTEGER||9007199254740991;let We=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),de=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t}({}),$=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t}({});var bt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Ke={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Xu{constructor(e,r=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=r,this.totalWeight_=n}sample(e,r){const n=Math.pow(this.alpha_,e);this.estimate_=r*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class $0e{constructor(e,r,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Xu(e),this.fast_=new Xu(r),this.defaultTTFB_=i,this.ttfb_=new Xu(e)}update(e,r){const{slow_:n,fast_:i,ttfb_:a}=this;n.halfLife!==e&&(this.slow_=new Xu(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==r&&(this.fast_=new Xu(r,i.getEstimate(),i.getTotalWeight())),a.halfLife!==e&&(this.ttfb_=new Xu(e,a.getEstimate(),a.getTotalWeight()))}sample(e,r){e=Math.max(e,this.minDelayMs_);const n=8*r,i=e/1e3,a=n/i;this.fast_.sample(i,a),this.slow_.sample(i,a)}sampleTTFB(e){const r=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(r,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function F0e(t,e,r){return(e=U0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yt(){return Yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yt.apply(null,arguments)}function W$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(r),!0).forEach(function(n){F0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U0e(t){var e=B0e(t,"string");return typeof e=="symbol"?e:e+""}class uo{constructor(e,r){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n=`[${e}]:`;this.trace=Xo,this.debug=r.debug.bind(null,n),this.log=r.log.bind(null,n),this.warn=r.warn.bind(null,n),this.info=r.info.bind(null,n),this.error=r.error.bind(null,n)}}const Xo=function(){},G0e={trace:Xo,debug:Xo,log:Xo,warn:Xo,info:Xo,error:Xo};function DR(){return Yt({},G0e)}function z0e(t,e){const r=self.console[t];return r?r.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):Xo}function Y$(t,e,r){return e[t]?e[t].bind(e):z0e(t,r)}const LR=DR();function V0e(t,e,r){const n=DR();if(typeof console=="object"&&t===!0||typeof t=="object"){const i=["debug","log","info","warn","error"];i.forEach(a=>{n[a]=Y$(a,t,r)});try{n.log(`Debug logs enabled for "${e}" in hls.js version 1.6.2`)}catch{return DR()}i.forEach(a=>{LR[a]=Y$(a,t)})}else Yt(LR,n);return n}const Rt=LR;function gl(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function q0e(t){return typeof self<"u"&&t===self.ManagedMediaSource}function D9(t,e){const r=Object.keys(t),n=Object.keys(e),i=r.length,a=n.length;return!i||!a||i===a&&!r.some(s=>n.indexOf(s)===-1)}function pi(t,e=!1){if(typeof TextDecoder<"u"){const c=new TextDecoder("utf-8").decode(t);if(e){const d=c.indexOf("\0");return d!==-1?c.substring(0,d):c}return c.replace(/\0/g,"")}const r=t.length;let n,i,a,s="",o=0;for(;o<r;){if(n=t[o++],n===0&&e)return s;if(n===0||n===3)continue;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(n);break;case 12:case 13:i=t[o++],s+=String.fromCharCode((n&31)<<6|i&63);break;case 14:i=t[o++],a=t[o++],s+=String.fromCharCode((n&15)<<12|(i&63)<<6|(a&63)<<0);break}}return s}const Pa={hexDump:function(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);n.length<2&&(n="0"+n),e+=n}return e}};function H0e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t1={exports:{}},X$;function K0e(){return X$||(X$=1,function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,c,d){if(d=d||{},l=l.trim(),c=c.trim(),!c){if(!d.alwaysNormalize)return l;var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=o.normalizePath(f.path),o.buildURLFromParts(f)}var p=o.parseURL(c);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return d.alwaysNormalize?(p.path=o.normalizePath(p.path),o.buildURLFromParts(p)):c;var g=o.parseURL(l);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var y=i.exec(g.path);g.netLoc=y[1],g.path=y[2]}g.netLoc&&!g.path&&(g.path="/");var b={scheme:g.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(b.netLoc=g.netLoc,p.path[0]!=="/"))if(!p.path)b.path=g.path,p.params||(b.params=g.params,p.query||(b.query=g.query));else{var x=g.path,w=x.substring(0,x.lastIndexOf("/")+1)+p.path;b.path=o.normalizePath(w)}return b.path===null&&(b.path=d.alwaysNormalize?o.normalizePath(p.path):p.path),o.buildURLFromParts(b)},parseURL:function(l){var c=n.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(a,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()}(t1)),t1.exports}var iL=K0e();class aL{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Wt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class L9{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,Y0e(this,"stats")}setByteRange(e,r){const n=e.split("@",2);let i;n.length===1?i=(r==null?void 0:r.byteRangeEndOffset)||0:i=parseInt(n[1]),this._byteRange=[i,parseInt(n[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Wt.AUDIO]:null,[Wt.VIDEO]:null,[Wt.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new aL),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=iL.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Wt.AUDIO]=null,e[Wt.VIDEO]=null,e[Wt.AUDIOVIDEO]=null}}function an(t){return t.sn!=="initSegment"}class r1 extends L9{constructor(e,r){super(r),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange){const e=this.byteRange[0],r=this.byteRange[1];if(Fe(e)&&Fe(r))return r-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const r=this.levelkeys.identity;if(r)this._decryptdata=r.getDecryptData(this.sn);else{const n=Object.keys(this.levelkeys);if(n.length===1)return this._decryptdata=this.levelkeys[n[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=Fe(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const r=Object.keys(this.levelkeys),n=r.length;if(n>1||n===1&&this.levelkeys[r[0]].encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!Fe(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return an(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){if(this.levelkeys){const r=this.levelkeys[e];r&&!this._decryptdata&&(this._decryptdata=r.getDecryptData(this.sn))}}abortRequests(){var e,r;(e=this.loader)==null||e.abort(),(r=this.keyLoader)==null||r.abort()}setElementaryStreamInfo(e,r,n,i,a,s=!1){const{elementaryStreams:o}=this,l=o[e];if(!l){o[e]={startPTS:r,endPTS:n,startDTS:i,endDTS:a,partial:s};return}l.startPTS=Math.min(l.startPTS,r),l.endPTS=Math.max(l.endPTS,n),l.startDTS=Math.min(l.startDTS,i),l.endDTS=Math.max(l.endDTS,a)}}class W0e extends L9{constructor(e,r,n,i,a){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=r,this.index=i;const s=e.enumeratedString("BYTERANGE");s&&this.setByteRange(s,a),a&&(this.fragOffset=a.fragOffset+a.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function I9(t,e){const r=Object.getPrototypeOf(t);if(r){const n=Object.getOwnPropertyDescriptor(r,e);return n||I9(r,e)}}function Y0e(t,e){const r=I9(t,e);r&&(r.enumerable=!0,Object.defineProperty(t,e,r))}const y0=Math.pow(2,32)-1,X0e=[].push,M9={video:1,audio:2,id3:3,text:4};function qr(t){return String.fromCharCode.apply(null,t)}function N9(t,e){const r=t[e]<<8|t[e+1];return r<0?65536+r:r}function rt(t,e){const r=k9(t,e);return r<0?4294967296+r:r}function Q$(t,e){let r=rt(t,e);return r*=Math.pow(2,32),r+=rt(t,e+4),r}function k9(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function n1(t,e,r){t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r&255}function Q0e(t){const e=t.byteLength;for(let r=0;r<e;){const n=rt(t,r);if(n>8&&t[r+4]===109&&t[r+5]===111&&t[r+6]===111&&t[r+7]===102)return!0;r=n>1?r+n:e}return!1}function ct(t,e){const r=[];if(!e.length)return r;const n=t.byteLength;for(let i=0;i<n;){const a=rt(t,i),s=qr(t.subarray(i+4,i+8)),o=a>1?i+a:n;if(s===e[0])if(e.length===1)r.push(t.subarray(i+8,o));else{const l=ct(t.subarray(i+8,o),e.slice(1));l.length&&X0e.apply(r,l)}i=o}return r}function Z0e(t){const e=[],r=t[0];let n=8;const i=rt(t,n);n+=4;let a=0,s=0;r===0?(a=rt(t,n),s=rt(t,n+4),n+=8):(a=Q$(t,n),s=Q$(t,n+8),n+=16),n+=2;let o=t.length+s;const l=N9(t,n);n+=2;for(let c=0;c<l;c++){let d=n;const f=rt(t,d);d+=4;const p=f&2147483647;if((f&2147483648)>>>31===1)return Rt.warn("SIDX has hierarchical references (not supported)"),null;const y=rt(t,d);d+=4,e.push({referenceSize:p,subsegmentDuration:y,info:{duration:y/i,start:o,end:o+p-1}}),o+=p,d+=4,n=d}return{earliestPresentationTime:a,timescale:i,version:r,referencesCount:l,references:e}}function j9(t){const e=[],r=ct(t,["moov","trak"]);for(let i=0;i<r.length;i++){const a=r[i],s=ct(a,["tkhd"])[0];if(s){let o=s[0];const l=rt(s,o===0?12:20),c=ct(a,["mdia","mdhd"])[0];if(c){o=c[0];const d=rt(c,o===0?12:20),f=ct(a,["mdia","hdlr"])[0];if(f){const p=qr(f.subarray(8,12)),g={soun:Wt.AUDIO,vide:Wt.VIDEO}[p],y=ct(a,["mdia","minf","stbl","stsd"])[0],b=J0e(y);g?(e[l]={timescale:d,type:g,stsd:b},e[g]=zt({timescale:d,id:l},b)):e[l]={timescale:d,type:p,stsd:b}}}}}return ct(t,["moov","mvex","trex"]).forEach(i=>{const a=rt(i,4),s=e[a];s&&(s.default={duration:rt(i,12),flags:rt(i,20)})}),e}function J0e(t){const e=t.subarray(8),r=e.subarray(86),n=qr(e.subarray(4,8));let i=n,a;const s=n==="enca"||n==="encv";if(s){const c=ct(e,[n])[0].subarray(n==="enca"?28:78);ct(c,["sinf"]).forEach(f=>{const p=ct(f,["schm"])[0];if(p){const g=qr(p.subarray(4,8));if(g==="cbcs"||g==="cenc"){const y=ct(f,["frma"])[0];y&&(i=qr(y))}}})}const o=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const l=ct(r,["avcC"])[0];l&&l.length>3&&(i+="."+$v(l[1])+$v(l[2])+$v(l[3]),a=jv(o==="avc1"?"dva1":"dvav",r));break}case"mp4a":{const l=ct(e,[n])[0],c=ct(l.subarray(28),["esds"])[0];if(c&&c.length>7){let d=4;if(c[d++]!==3)break;d=i1(c,d),d+=2;const f=c[d++];if(f&128&&(d+=2),f&64&&(d+=c[d++]),c[d++]!==4)break;d=i1(c,d);const p=c[d++];if(p===64)i+="."+$v(p);else break;if(d+=12,c[d++]!==5)break;d=i1(c,d);const g=c[d++];let y=(g&248)>>3;y===31&&(y+=1+((g&7)<<3)+((c[d]&224)>>5)),i+="."+y}break}case"hvc1":case"hev1":{const l=ct(r,["hvcC"])[0];if(l&&l.length>12){const c=l[1],d=["","A","B","C"][c>>6],f=c&31,p=rt(l,2),g=(c&32)>>5?"H":"L",y=l[12],b=l.subarray(6,12);i+="."+d+f,i+="."+p.toString(16).toUpperCase(),i+="."+g+y;let x="";for(let w=b.length;w--;){const E=b[w];(E||x)&&(x="."+E.toString(16).toUpperCase()+x)}i+=x}a=jv(o=="hev1"?"dvhe":"dvh1",r);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=jv(i,r)||i;break}case"vp09":{const l=ct(r,["vpcC"])[0];if(l&&l.length>6){const c=l[4],d=l[5],f=l[6]>>4&15;i+="."+Ra(c)+"."+Ra(d)+"."+Ra(f)}break}case"av01":{const l=ct(r,["av1C"])[0];if(l&&l.length>2){const c=l[1]>>>5,d=l[1]&31,f=l[2]>>>7?"H":"M",p=(l[2]&64)>>6,g=(l[2]&32)>>5,y=c===2&&p?g?12:10:p?10:8,b=(l[2]&16)>>4,x=(l[2]&8)>>3,w=(l[2]&4)>>2,E=l[2]&3;i+="."+c+"."+Ra(d)+f+"."+Ra(y)+"."+b+"."+x+w+E+"."+Ra(1)+"."+Ra(1)+"."+Ra(1)+"."+0,a=jv("dav1",r)}break}}return{codec:i,encrypted:s,supplemental:a}}function jv(t,e){const r=ct(e,["dvvC"]),n=r.length?r[0]:ct(e,["dvcC"])[0];if(n){const i=n[2]>>1&127,a=n[2]<<5&32|n[3]>>3&31;return t+"."+Ra(i)+"."+Ra(a)}}function i1(t,e){const r=e+5;for(;t[e++]&128&&e<r;);return e}function $v(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function Ra(t){return(t<10?"0":"")+t}function ebe(t,e){if(!t||!e)return t;const r=e.keyId;return r&&e.isCommonEncryption&&ct(t,["moov","trak"]).forEach(i=>{const s=ct(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let o=ct(s,["enca"]);const l=o.length>0;l||(o=ct(s,["encv"])),o.forEach(c=>{const d=l?c.subarray(28):c.subarray(78);ct(d,["sinf"]).forEach(p=>{const g=$9(p);if(g){const y=g.subarray(8,24);y.some(b=>b!==0)||(Rt.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${Pa.hexDump(y)} -> ${Pa.hexDump(r)}`),g.set(r,8))}})})}),t}function $9(t){const e=ct(t,["schm"])[0];if(e){const r=qr(e.subarray(4,8));if(r==="cbcs"||r==="cenc")return ct(t,["schi","tenc"])[0]}return null}function tbe(t,e){return ct(e,["moof","traf"]).reduce((r,n)=>{const i=ct(n,["tfdt"])[0],a=i[0],s=ct(n,["tfhd"]).reduce((o,l)=>{const c=rt(l,4),d=t[c];if(d){let f=rt(i,4);if(a===1){if(f===y0)return Rt.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),o;f*=y0+1,f+=rt(i,8)}const p=d.timescale||9e4,g=f/p;if(Fe(g)&&(o===null||g<o))return g}return o},null);return s!==null&&Fe(s)&&(r===null||s<r)?s:r},null)}function rbe(t,e){let r=0,n=0,i=0;const a=ct(t,["moof","traf"]);for(let s=0;s<a.length;s++){const o=a[s],l=ct(o,["tfhd"])[0],c=rt(l,4),d=e[c];if(!d)continue;const f=d.default,p=rt(l,0)|(f==null?void 0:f.flags);let g=f==null?void 0:f.duration;p&8&&(p&2?g=rt(l,12):g=rt(l,8));const y=d.timescale||9e4,b=ct(o,["trun"]);for(let x=0;x<b.length;x++){if(r=nbe(b[x]),!r&&g){const w=rt(b[x],4);r=g*w}d.type===Wt.VIDEO?n+=r/y:d.type===Wt.AUDIO&&(i+=r/y)}}if(n===0&&i===0){let s=1/0,o=0,l=0;const c=ct(t,["sidx"]);for(let d=0;d<c.length;d++){const f=Z0e(c[d]);if(f!=null&&f.references){s=Math.min(s,f.earliestPresentationTime/f.timescale);const p=f.references.reduce((g,y)=>g+y.info.duration||0,0);o=Math.max(o,p+f.earliestPresentationTime/f.timescale),l=o-s}}if(l&&Fe(l))return l}return n||i}function nbe(t){const e=rt(t,0);let r=8;e&1&&(r+=4),e&4&&(r+=4);let n=0;const i=rt(t,4);for(let a=0;a<i;a++){if(e&256){const s=rt(t,r);n+=s,r+=4}e&512&&(r+=4),e&1024&&(r+=4),e&2048&&(r+=4)}return n}function ibe(t,e,r){ct(e,["moof","traf"]).forEach(n=>{ct(n,["tfhd"]).forEach(i=>{const a=rt(i,4),s=t[a];if(!s)return;const o=s.timescale||9e4;ct(n,["tfdt"]).forEach(l=>{const c=l[0],d=r*o;if(d){let f=rt(l,4);if(c===0)f-=d,f=Math.max(f,0),n1(l,4,f);else{f*=Math.pow(2,32),f+=rt(l,8),f-=d,f=Math.max(f,0);const p=Math.floor(f/(y0+1)),g=Math.floor(f%(y0+1));n1(l,4,p),n1(l,8,g)}}})})})}function abe(t){const e={valid:null,remainder:null},r=ct(t,["moof"]);if(r.length<2)return e.remainder=t,e;const n=r[r.length-1];return e.valid=t.slice(0,n.byteOffset-8),e.remainder=t.slice(n.byteOffset-8),e}function qi(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function Z$(t,e){const r=[],n=e.samples,i=e.timescale,a=e.id;let s=!1;return ct(n,["moof"]).map(l=>{const c=l.byteOffset-8;ct(l,["traf"]).map(f=>{const p=ct(f,["tfdt"]).map(g=>{const y=g[0];let b=rt(g,4);return y===1&&(b*=Math.pow(2,32),b+=rt(g,8)),b/i})[0];return p!==void 0&&(t=p),ct(f,["tfhd"]).map(g=>{const y=rt(g,4),b=rt(g,0)&16777215,x=(b&1)!==0,w=(b&2)!==0,E=(b&8)!==0;let T=0;const O=(b&16)!==0;let _=0;const P=(b&32)!==0;let R=8;y===a&&(x&&(R+=8),w&&(R+=4),E&&(T=rt(g,R),R+=4),O&&(_=rt(g,R),R+=4),P&&(R+=4),e.type==="video"&&(s=dx(e.codec)),ct(f,["trun"]).map(D=>{const I=D[0],M=rt(D,0)&16777215,N=(M&1)!==0;let k=0;const F=(M&4)!==0,U=(M&256)!==0;let z=0;const j=(M&512)!==0;let H=0;const V=(M&1024)!==0,q=(M&2048)!==0;let G=0;const Y=rt(D,4);let X=8;N&&(k=rt(D,X),X+=4),F&&(X+=4);let te=k+c;for(let ee=0;ee<Y;ee++){if(U?(z=rt(D,X),X+=4):z=T,j?(H=rt(D,X),X+=4):H=_,V&&(X+=4),q&&(I===0?G=rt(D,X):G=k9(D,X),X+=4),e.type===Wt.VIDEO){let ue=0;for(;ue<H;){const he=rt(n,te);if(te+=4,sbe(s,n[te])){const ve=n.subarray(te,te+he);sL(ve,s?2:1,t+G/i,r)}te+=he,ue+=he+4}}t+=z/i}}))})})}),r}function dx(t){if(!t)return!1;const e=t.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function sbe(t,e){if(t){const r=e>>1&63;return r===39||r===40}else return(e&31)===6}function sL(t,e,r,n){const i=F9(t);let a=0;a+=e;let s=0,o=0,l=0;for(;a<i.length;){s=0;do{if(a>=i.length)break;l=i[a++],s+=l}while(l===255);o=0;do{if(a>=i.length)break;l=i[a++],o+=l}while(l===255);const c=i.length-a;let d=a;if(o<c)a+=o;else if(o>c){Rt.error(`Malformed SEI payload. ${o} is too small, only ${c} bytes left to parse.`);break}if(s===4){if(i[d++]===181){const p=N9(i,d);if(d+=2,p===49){const g=rt(i,d);if(d+=4,g===1195456820){const y=i[d++];if(y===3){const b=i[d++],x=31&b,w=64&b,E=w?2+x*3:0,T=new Uint8Array(E);if(w){T[0]=b;for(let O=1;O<E;O++)T[O]=i[d++]}n.push({type:y,payloadType:s,pts:r,bytes:T})}}}}}else if(s===5&&o>16){const f=[];for(let y=0;y<16;y++){const b=i[d++].toString(16);f.push(b.length==1?"0"+b:b),(y===3||y===5||y===7||y===9)&&f.push("-")}const p=o-16,g=new Uint8Array(p);for(let y=0;y<p;y++)g[y]=i[d++];n.push({payloadType:s,pts:r,uuid:f.join(""),userData:pi(g),userDataBytes:g})}}}function F9(t){const e=t.byteLength,r=[];let n=1;for(;n<e-2;)t[n]===0&&t[n+1]===0&&t[n+2]===3?(r.push(n+2),n+=2):n++;if(r.length===0)return t;const i=e-r.length,a=new Uint8Array(i);let s=0;for(n=0;n<i;s++,n++)s===r[0]&&(s++,r.shift()),a[n]=t[s];return a}function obe(t){const e=t[0];let r="",n="",i=0,a=0,s=0,o=0,l=0,c=0;if(e===0){for(;qr(t.subarray(c,c+1))!=="\0";)r+=qr(t.subarray(c,c+1)),c+=1;for(r+=qr(t.subarray(c,c+1)),c+=1;qr(t.subarray(c,c+1))!=="\0";)n+=qr(t.subarray(c,c+1)),c+=1;n+=qr(t.subarray(c,c+1)),c+=1,i=rt(t,12),a=rt(t,16),o=rt(t,20),l=rt(t,24),c=28}else if(e===1){c+=4,i=rt(t,c),c+=4;const f=rt(t,c);c+=4;const p=rt(t,c);for(c+=4,s=2**32*f+p,k0e(s)||(s=Number.MAX_SAFE_INTEGER,Rt.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=rt(t,c),c+=4,l=rt(t,c),c+=4;qr(t.subarray(c,c+1))!=="\0";)r+=qr(t.subarray(c,c+1)),c+=1;for(r+=qr(t.subarray(c,c+1)),c+=1;qr(t.subarray(c,c+1))!=="\0";)n+=qr(t.subarray(c,c+1)),c+=1;n+=qr(t.subarray(c,c+1)),c+=1}const d=t.subarray(c,t.byteLength);return{schemeIdUri:r,value:n,timeScale:i,presentationTime:s,presentationTimeDelta:a,eventDuration:o,id:l,payload:d}}function lbe(t,...e){const r=e.length;let n=8,i=r;for(;i--;)n+=e[i].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(t,4),i=0,n=8;i<r;i++)a.set(e[i],n),n+=e[i].byteLength;return a}function cbe(t,e,r){if(t.byteLength!==16)throw new RangeError("Invalid system id");let n,i;n=0,i=new Uint8Array;let a;n>0?(a=new Uint8Array(4),e.length>0&&new DataView(a.buffer).setUint32(0,e.length,!1)):a=new Uint8Array;const s=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(s.buffer).setUint32(0,r.byteLength,!1),lbe([112,115,115,104],new Uint8Array([n,0,0,0]),t,a,i,s,r||new Uint8Array)}function ube(t){const e=[];if(t instanceof ArrayBuffer){const r=t.byteLength;let n=0;for(;n+32<r;){const i=new DataView(t,n),a=dbe(i);e.push(a),n+=a.size}}return e}function dbe(t){const e=t.getUint32(0),r=t.byteOffset,n=t.byteLength;if(n<e)return{offset:r,size:n};if(t.getUint32(4)!==1886614376)return{offset:r,size:e};const a=t.getUint32(8)>>>24;if(a!==0&&a!==1)return{offset:r,size:e};const s=t.buffer,o=Pa.hexDump(new Uint8Array(s,r+12,16)),l=t.getUint32(28);let c=null,d=null;if(a===0){if(e-32<l||l<22)return{offset:r,size:e};d=new Uint8Array(s,r+32,l)}else if(a===1){if(!l||n<r+32+l*16+16)return{offset:r,size:e};c=[];for(let f=0;f<l;f++)c.push(new Uint8Array(s,r+32+f*16,16))}return{version:a,systemId:o,kids:c,data:d,offset:r,size:e}}const B9=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),Ld={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function U9(t,e){const r=Ld[e];return!!r&&!!r[t.slice(0,4)]}function IR(t,e,r=!0){return!t.split(",").some(n=>!G9(n,e,r))}function G9(t,e,r=!0){var n;const i=gl(r);return(n=i==null?void 0:i.isTypeSupported(kp(t,e)))!=null?n:!1}function kp(t,e){return`${e}/mp4;codecs=${t}`}function J$(t){if(t){const e=t.substring(0,4);return Ld.video[e]}return 2}function b0(t){const e=B9();return t.split(",").reduce((r,n)=>{const a=e&&dx(n)?9:Ld.video[n];return a?(a*2+r)/(r?3:2):(Ld.audio[n]+r)/(r?2:1)},0)}const a1={};function fbe(t,e=!0){if(a1[t])return a1[t];const r={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let i=0;i<r.length;i++){var n;if(G9(r[i],"audio",e))return a1[t]=r[i],r[i];if(r[i]==="mp3"&&(n=gl(e))!=null&&n.isTypeSupported("audio/mpeg"))return""}return t}const hbe=/flac|opus|mp4a\.40\.34/i;function x0(t,e=!0){return t.replace(hbe,r=>fbe(r.toLowerCase(),e))}function pbe(t,e){const r=[];if(t){const n=t.split(",");for(let i=0;i<n.length;i++)U9(n[i],"video")||r.push(n[i])}return e&&r.push(e),r.join(",")}function Ay(t,e){if(t&&(t.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)!==-1))return t;if(e){const r=e.split(",");if(r.length>1){if(t){for(let n=r.length;n--;)if(r[n].substring(0,4)===t.substring(0,4))return r[n]}return r[0]}}return e||t}function mbe(t){const e=t.split(",");for(let r=0;r<e.length;r++){const n=e[r].split(".");if(n.length>2){let i=n.shift()+".";i+=parseInt(n.shift()).toString(16),i+=("000"+parseInt(n.shift()).toString(16)).slice(-4),e[r]=i}}return e.join(",")}function gbe(t){if(t.startsWith("av01.")){const e=t.split("."),r=["0","111","01","01","01","0"];for(let n=e.length;n>4&&n<10;n++)e[n]=r[n-4];return e.join(".")}return t}function eF(t){const e=gl(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function z9(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const V9={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function q9(t,e){return{supported:!1,configurations:e,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:t}}const tF={};function vbe(t,e,r,n,i,a){const s=t.audioCodec?t.audioGroups:null,o=a==null?void 0:a.audioCodec,l=a==null?void 0:a.channels,c=l?parseInt(l):o?1/0:2;let d=null;if(s!=null&&s.length)try{s.length===1&&s[0]?d=e.groups[s[0]].channels:d=s.reduce((f,p)=>{if(p){const g=e.groups[p];if(!g)throw new Error(`Audio track group ${p} not found`);Object.keys(g.channels).forEach(y=>{f[y]=(f[y]||0)+g.channels[y]})}return f},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(n,30)||t.videoRange!=="SDR"&&t.videoRange!==r||t.bitrate>Math.max(i,8e6))||!!d&&Fe(c)&&Object.keys(d).some(f=>parseInt(f)>c)}function H9(t,e,r){const n=t.videoCodec,i=t.audioCodec;if(!n&&!i||!r)return Promise.resolve(V9);const a=[];if(n){const s={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},o=t.videoRange;o!=="SDR"&&(s.transferFunction=o.toLowerCase());const l=n.split(","),c=navigator.userAgent;if(l.some(d=>dx(d))&&B9())return Promise.resolve(q9(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent sting: (${c})`),a));a.push.apply(a,l.map(d=>({type:"media-source",video:zt(zt({},s),{},{contentType:kp(gbe(d),"video")})})))}return i&&t.audioGroups&&t.audioGroups.forEach(s=>{var o;s&&((o=e.groups[s])==null||o.tracks.forEach(l=>{if(l.groupId===s){const c=l.channels||"",d=parseFloat(c);Fe(d)&&d>2&&a.push.apply(a,i.split(",").map(f=>({type:"media-source",audio:{contentType:kp(f,"audio"),channels:""+d}})))}}))}),Promise.all(a.map(s=>{const o=ybe(s);return tF[o]||(tF[o]=r.decodingInfo(s))})).then(s=>({supported:!s.some(o=>!o.supported),configurations:a,decodingInfoResults:s})).catch(s=>({supported:!1,configurations:a,decodingInfoResults:[],error:s}))}function ybe(t){const{audio:e,video:r}=t,n=r||e;if(n){const i=z9(n.contentType);if(r)return`r${r.height}x${r.width}f${Math.ceil(r.framerate)}${r.transferFunction||"sd"}_${i}_${Math.ceil(r.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${i}`}return""}const MR=["NONE","TYPE-0","TYPE-1",null];function bbe(t){return MR.indexOf(t)>-1}const S0=["SDR","PQ","HLG"];function xbe(t){return!!t&&S0.indexOf(t)>-1}var _y={No:"",Yes:"YES",v2:"v2"};function rF(t){const{canSkipUntil:e,canSkipDateRanges:r,age:n}=t,i=n<e/2;return e&&i?r?_y.v2:_y.Yes:_y.No}class nF{constructor(e,r,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=r,this.skip=n}addDirectives(e){const r=new self.URL(e);return this.msn!==void 0&&r.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href}}class jp{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),"supplemental"in e){var r;this.supplemental=e.supplemental;const n=(r=e.supplemental)==null?void 0:r.videoCodec;n&&n!==e.videoCodec&&(this.codecSet+=`,${n.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return iF(this._audioGroups,e)}hasSubtitleGroup(e){return iF(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,r){if(r){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(r)===-1&&n.push(r)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(r)===-1&&n.push(r)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function iF(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function Sbe(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function wbe(t,e){let r=!1,n=[];if(t&&(r=t!=="SDR",n=[t]),e){n=e.allowedVideoRanges||S0.slice(0);const i=n.join("")!=="SDR"&&!e.videoCodec;r=e.preferHDR!==void 0?e.preferHDR:i&&Sbe(),r||(n=["SDR"])}return{preferHDR:r,allowedVideoRanges:n}}const Ebe=t=>{const e=new WeakSet;return(r,n)=>{if(t&&(n=t(r,n)),typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},gr=(t,e)=>JSON.stringify(t,Ebe(e));function Tbe(t,e,r,n,i){const a=Object.keys(t),s=n==null?void 0:n.channels,o=n==null?void 0:n.audioCodec,l=i==null?void 0:i.videoCodec,c=s&&parseInt(s)===2;let d=!1,f=!1,p=1/0,g=1/0,y=1/0,b=1/0,x=0,w=[];const{preferHDR:E,allowedVideoRanges:T}=wbe(e,i);for(let D=a.length;D--;){const I=t[a[D]];d||(d=I.channels[2]>0),p=Math.min(p,I.minHeight),g=Math.min(g,I.minFramerate),y=Math.min(y,I.minBitrate),T.filter(N=>I.videoRanges[N]>0).length>0&&(f=!0)}p=Fe(p)?p:0,g=Fe(g)?g:0;const O=Math.max(1080,p),_=Math.max(30,g);y=Fe(y)?y:r,r=Math.max(y,r),f||(e=void 0);const P=a.length>1;return{codecSet:a.reduce((D,I)=>{const M=t[I];if(I===D)return D;if(w=f?T.filter(N=>M.videoRanges[N]>0):[],P){if(M.minBitrate>r)return Oa(I,`min bitrate of ${M.minBitrate} > current estimate of ${r}`),D;if(!M.hasDefaultAudio)return Oa(I,"no renditions with default or auto-select sound found"),D;if(o&&I.indexOf(o.substring(0,4))%5!==0)return Oa(I,`audio codec preference "${o}" not found`),D;if(s&&!c){if(!M.channels[s])return Oa(I,`no renditions with ${s} channel sound found (channels options: ${Object.keys(M.channels)})`),D}else if((!o||c)&&d&&M.channels[2]===0)return Oa(I,"no renditions with stereo sound found"),D;if(M.minHeight>O)return Oa(I,`min resolution of ${M.minHeight} > maximum of ${O}`),D;if(M.minFramerate>_)return Oa(I,`min framerate of ${M.minFramerate} > maximum of ${_}`),D;if(!w.some(N=>M.videoRanges[N]>0))return Oa(I,`no variants with VIDEO-RANGE of ${gr(w)} found`),D;if(l&&I.indexOf(l.substring(0,4))%5!==0)return Oa(I,`video codec preference "${l}" not found`),D;if(M.maxScore<x)return Oa(I,`max score of ${M.maxScore} < selected max of ${x}`),D}return D&&(b0(I)>=b0(D)||M.fragmentError>t[D].fragmentError)?D:(b=M.minIndex,x=M.maxScore,I)},void 0),videoRanges:w,preferHDR:E,minFramerate:g,minBitrate:y,minIndex:b}}function Oa(t,e){Rt.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function K9(t){return t.reduce((e,r)=>{let n=e.groups[r.groupId];n||(n=e.groups[r.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(r);const i=r.channels||"2";return n.channels[i]=(n.channels[i]||0)+1,n.hasDefault=n.hasDefault||r.default,n.hasAutoSelect=n.hasAutoSelect||r.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function Abe(t,e,r,n){return t.slice(r,n+1).reduce((i,a,s)=>{if(!a.codecSet)return i;const o=a.audioGroups;let l=i[a.codecSet];l||(i[a.codecSet]=l={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:s,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!o,fragmentError:0}),l.minBitrate=Math.min(l.minBitrate,a.bitrate);const c=Math.min(a.height,a.width);return l.minHeight=Math.min(l.minHeight,c),l.minFramerate=Math.min(l.minFramerate,a.frameRate),l.minIndex=Math.min(l.minIndex,s),l.maxScore=Math.max(l.maxScore,a.score),l.fragmentError+=a.fragmentError,l.videoRanges[a.videoRange]=(l.videoRanges[a.videoRange]||0)+1,o&&o.forEach(d=>{if(!d)return;const f=e.groups[d];f&&(l.hasDefaultAudio=l.hasDefaultAudio||e.hasDefaultAudio?f.hasDefault:f.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(f.channels).forEach(p=>{l.channels[p]=(l.channels[p]||0)+f.channels[p]}))}),i},{})}function aF(t){if(!t)return t;const{lang:e,assocLang:r,characteristics:n,channels:i,audioCodec:a}=t;return{lang:e,assocLang:r,characteristics:n,channels:i,audioCodec:a}}function $a(t,e,r){if("attrs"in t){const n=e.indexOf(t);if(n!==-1)return n}for(let n=0;n<e.length;n++){const i=e[n];if(Ac(t,i,r))return n}return-1}function Ac(t,e,r){const{groupId:n,name:i,lang:a,assocLang:s,default:o}=t,l=t.forced;return(n===void 0||e.groupId===n)&&(i===void 0||e.name===i)&&(a===void 0||_be(a,e.lang))&&(a===void 0||e.assocLang===s)&&(o===void 0||e.default===o)&&(l===void 0||e.forced===l)&&(!("characteristics"in t)||Obe(t.characteristics||"",e.characteristics))&&(r===void 0||r(t,e))}function _be(t,e="--"){return t.length===e.length?t===e:t.startsWith(e)||e.startsWith(t)}function Obe(t,e=""){const r=t.split(","),n=e.split(",");return r.length===n.length&&!r.some(i=>n.indexOf(i)===-1)}function uc(t,e){const{audioCodec:r,channels:n}=t;return(r===void 0||(e.audioCodec||"").substring(0,4)===r.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function Rbe(t,e,r,n,i){const a=e[n],o=e.reduce((p,g,y)=>{const b=g.uri;return(p[b]||(p[b]=[])).push(y),p},{})[a.uri];o.length>1&&(n=Math.max.apply(Math,o));const l=a.videoRange,c=a.frameRate,d=a.codecSet.substring(0,4),f=sF(e,n,p=>{if(p.videoRange!==l||p.frameRate!==c||p.codecSet.substring(0,4)!==d)return!1;const g=p.audioGroups,y=r.filter(b=>!g||g.indexOf(b.groupId)!==-1);return $a(t,y,i)>-1});return f>-1?f:sF(e,n,p=>{const g=p.audioGroups,y=r.filter(b=>!g||g.indexOf(b.groupId)!==-1);return $a(t,y,i)>-1})}function sF(t,e,r){for(let n=e;n>-1;n--)if(r(t[n]))return n;for(let n=e+1;n<t.length;n++)if(r(t[n]))return n;return-1}function w0(t,e){var r;return!!t&&t!==((r=e.loadLevelObj)==null?void 0:r.uri)}class Cbe extends uo{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.bwEstimator=void 0,this._abandonRulesCheck=r=>{var n;const{fragCurrent:i,partCurrent:a,hls:s}=this,{autoLevelEnabled:o,media:l}=s;if(!i||!l)return;const c=performance.now(),d=a?a.stats:i.stats,f=a?a.duration:i.duration,p=c-d.loading.start,g=s.minAutoLevel,y=i.level,b=this._nextAutoLevel;if(d.aborted||d.loaded&&d.loaded===d.total||y<=g){this.clearTimer(),this._nextAutoLevel=-1;return}if(!o)return;const x=b>-1&&b!==y,w=!!r||x;if(!w&&(l.paused||!l.playbackRate||!l.readyState))return;const E=s.mainForwardBufferInfo;if(!w&&E===null)return;const T=this.bwEstimator.getEstimateTTFB(),O=Math.abs(l.playbackRate);if(p<=Math.max(T,1e3*(f/(O*2))))return;const _=E?E.len/O:0,P=d.loading.first?d.loading.first-d.loading.start:-1,R=d.loaded&&P>-1,D=this.getBwEstimate(),I=s.levels,M=I[y],N=Math.max(d.loaded,Math.round(f*(i.bitrate||M.averageBitrate)/8));let k=R?p-P:p;k<1&&R&&(k=Math.min(p,d.loaded*8/D));const F=R?d.loaded*1e3/k:0,U=T/1e3,z=F?(N-d.loaded)/F:N*8/D+U;if(z<=_)return;const j=F?F*8:D,H=((n=(r==null?void 0:r.details)||this.hls.latestLevelDetails)==null?void 0:n.live)===!0,V=this.hls.config.abrBandWidthUpFactor;let q=Number.POSITIVE_INFINITY,G;for(G=y-1;G>g;G--){const ee=I[G].maxBitrate,ue=!I[G].details||H;if(q=this.getTimeToLoadFrag(U,j,f*ee,ue),q<Math.min(_,f+U))break}if(q>=z||q>f*10)return;R?this.bwEstimator.sample(p-Math.min(T,P),d.loaded):this.bwEstimator.sampleTTFB(p);const Y=I[G].maxBitrate;this.getBwEstimate()*V>Y&&this.resetEstimator(Y);const X=this.findBestLevel(Y,g,G,0,_,1,1);X>-1&&(G=X),this.warn(`Fragment ${i.sn}${a?" part "+a.index:""} of level ${y} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${_.toFixed(3)} s
      Estimated load time for current fragment: ${z.toFixed(3)} s
      Estimated load time for down switch fragment: ${q.toFixed(3)} s
      TTFB estimate: ${P|0} ms
      Current BW estimate: ${Fe(D)?D|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${G} @ ${Y|0} bps`),s.nextLoadLevel=s.nextAutoLevel=G,this.clearTimer();const te=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===G&&G>0){const ee=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${G>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${ee.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,G>g){let ue=this.findBestLevel(this.hls.levels[g].bitrate,g,G,0,ee,1,1);ue===-1&&(ue=g),this.hls.nextLoadLevel=this.hls.nextAutoLevel=ue,this.resetEstimator(this.hls.levels[ue].bitrate)}}};x||z>q*2?te():this.timer=self.setInterval(te,q*1e3),s.trigger($.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:a,stats:d})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new $0e(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.FRAG_LOADING,this.onFragLoading,this),e.on($.FRAG_LOADED,this.onFragLoaded,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this),e.on($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on($.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.FRAG_LOADING,this.onFragLoading,this),e.off($.FRAG_LOADED,this.onFragLoaded,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this),e.off($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off($.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off($.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,r){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,r){const n=r.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var i;this.fragCurrent=n,this.partCurrent=(i=r.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,r){this.clearTimer()}onError(e,r){if(!r.fatal)switch(r.details){case de.BUFFER_ADD_CODEC_ERROR:case de.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case de.FRAG_LOAD_TIMEOUT:{const n=r.frag,{fragCurrent:i,partCurrent:a}=this;if(n&&i&&n.sn===i.sn&&n.level===i.level){const s=performance.now(),o=a?a.stats:n.stats,l=s-o.loading.start,c=o.loading.first?o.loading.first-o.loading.start:-1;if(o.loaded&&c>-1){const f=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(f,c),o.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,r,n,i){const a=e+n/r,s=i?e+this.lastLevelLoadSec:0;return a+s}onLevelLoaded(e,r){const n=this.hls.config,{loading:i}=r.stats,a=i.end-i.first;Fe(a)&&(this.lastLevelLoadSec=a/1e3),r.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(r.levelInfo)}onFragLoaded(e,{frag:r,part:n}){const i=n?n.stats:r.stats;if(r.type===Ke.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),r.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const a=n?n.duration:r.duration,s=this.hls.levels[r.level],o=(s.loaded?s.loaded.bytes:0)+i.loaded,l=(s.loaded?s.loaded.duration:0)+a;s.loaded={bytes:o,duration:l},s.realBitrate=Math.round(8*o/l)}if(r.bitrateTest){const a={stats:i,frag:r,part:n,id:r.type};this.onFragBuffered($.FRAG_BUFFERED,a),r.bitrateTest=!1}else this.lastLoadedFragLevel=r.level}}onFragBuffered(e,r){const{frag:n,part:i}=r,a=i!=null&&i.stats.loaded?i.stats:n.stats;if(a.aborted||this.ignoreFragment(n))return;const s=a.parsing.end-a.loading.start-Math.min(a.loading.first-a.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(s,a.loaded),a.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=s/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Ke.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:r}=this.hls,n=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,a=this.findBestLevel(n,r,e,0,i,1,1);if(a>-1)return a;const s=this.hls.firstLevel,o=Math.min(Math.max(s,r),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${s} clamped to ${o}`),o}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const a=n&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const s=this.hls.levels;if(s.length>Math.max(e,a)&&s[e].loadError<=s[a].loadError)return e}return this._nextAutoLevel=a,this.nextAutoLevelKey=this.getAutoLevelKey(),a}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:r,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:i,config:a,minAutoLevel:s}=n,o=r?r.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let d=a.abrBandWidthFactor,f=a.abrBandWidthUpFactor;if(c){const x=this.findBestLevel(l,s,i,c,0,d,f);if(x>=0)return this.rebufferNotice=-1,x}let p=o?Math.min(o,a.maxStarvationDelay):a.maxStarvationDelay;if(!c){const x=this.bitrateTestDelay;x&&(p=(o?Math.min(o,a.maxLoadingDelay):a.maxLoadingDelay)-x,this.info(`bitrate test took ${Math.round(1e3*x)}ms, set first fragment max fetchDuration to ${Math.round(1e3*p)} ms`),d=f=1)}const g=this.findBestLevel(l,s,i,c,p,d,f);if(this.rebufferNotice!==g&&(this.rebufferNotice=g,this.info(`${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${g}`)),g>-1)return g;const y=n.levels[s],b=n.loadLevelObj;return b&&(y==null?void 0:y.bitrate)<b.bitrate?s:n.loadLevel}getStarvationDelay(){const e=this.hls,r=e.media;if(!r)return 1/0;const n=r&&r.playbackRate!==0?Math.abs(r.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,r,n,i,a,s,o){var l;const c=i+a,d=this.lastLoadedFragLevel,f=d===-1?this.hls.firstLevel:d,{fragCurrent:p,partCurrent:g}=this,{levels:y,allAudioTracks:b,loadLevel:x,config:w}=this.hls;if(y.length===1)return 0;const E=y[f],T=!!((l=this.hls.latestLevelDetails)!=null&&l.live),O=x===-1||d===-1;let _,P="SDR",R=(E==null?void 0:E.frameRate)||0;const{audioPreference:D,videoPreference:I}=w,M=this.audioTracksByGroup||(this.audioTracksByGroup=K9(b));let N=-1;if(O){if(this.firstSelection!==-1)return this.firstSelection;const j=this.codecTiers||(this.codecTiers=Abe(y,M,r,n)),H=Tbe(j,P,e,D,I),{codecSet:V,videoRanges:q,minFramerate:G,minBitrate:Y,minIndex:X,preferHDR:te}=H;N=X,_=V,P=te?q[q.length-1]:q[0],R=G,e=Math.max(e,Y),this.log(`picked start tier ${gr(H)}`)}else _=E==null?void 0:E.codecSet,P=E==null?void 0:E.videoRange;const k=g?g.duration:p?p.duration:0,F=this.bwEstimator.getEstimateTTFB()/1e3,U=[];for(let j=n;j>=r;j--){var z;const H=y[j],V=j>f;if(!H)continue;if(w.useMediaCapabilities&&!H.supportedResult&&!H.supportedPromise){const ue=navigator.mediaCapabilities;typeof(ue==null?void 0:ue.decodingInfo)=="function"&&(vbe(H,M,P,R,e,D)||dx(H.videoCodec))?(H.supportedPromise=H9(H,M,ue),H.supportedPromise.then(he=>{if(!this.hls)return;H.supportedResult=he;const ve=this.hls.levels,Se=ve.indexOf(H);he.error?this.warn(`MediaCapabilities decodingInfo error: "${he.error}" for level ${Se} ${gr(he)}`):he.supported||(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${Se} ${gr(he)}`),Se>-1&&ve.length>1&&(this.log(`Removing unsupported level ${Se}`),this.hls.removeLevel(Se),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))})):H.supportedResult=V9}if((_&&H.codecSet!==_||P&&H.videoRange!==P||V&&R>H.frameRate||!V&&R>0&&R<H.frameRate||H.supportedResult&&!((z=H.supportedResult.decodingInfoResults)!=null&&z[0].smooth))&&(!O||j!==N)){U.push(j);continue}const q=H.details,G=(g?q==null?void 0:q.partTarget:q==null?void 0:q.averagetargetduration)||k;let Y;V?Y=o*e:Y=s*e;const X=k&&i>=k*2&&a===0?H.averageBitrate:H.maxBitrate,te=this.getTimeToLoadFrag(F,Y,X*G,q===void 0);if(Y>=X&&(j===d||H.loadError===0&&H.fragmentError===0)&&(te<=F||!Fe(te)||T&&!this.bitrateTestDelay||te<c)){const ue=this.forcedAutoLevel;return j!==x&&(ue===-1||ue!==x)&&(U.length&&this.trace(`Skipped level(s) ${U.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${y[U[0]].codecs}" ${y[U[0]].videoRange}; not compatible with "${_}" ${P}`),this.info(`switch candidate:${f}->${j} adjustedbw(${Math.round(Y)})-bitrate=${Math.round(Y-X)} ttfb:${F.toFixed(1)} avgDuration:${G.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${te.toFixed(1)} firstSelection:${O} codecSet:${H.codecSet} videoRange:${H.videoRange} hls.loadLevel:${x}`)),O&&(this.firstSelection=j),j}}return-1}set nextAutoLevel(e){const r=this.deriveNextAutoLevel(e);this._nextAutoLevel!==r&&(this.nextAutoLevelKey="",this._nextAutoLevel=r)}deriveNextAutoLevel(e){const{maxAutoLevel:r,minAutoLevel:n}=this.hls;return Math.min(Math.max(e,n),r)}}const oL={search:function(t,e){let r=0,n=t.length-1,i=null,a=null;for(;r<=n;){i=(r+n)/2|0,a=t[i];const s=e(a);if(s>0)r=i+1;else if(s<0)n=i-1;else return a}return null}};function Pbe(t,e,r){if(e===null||!Array.isArray(t)||!t.length||!Fe(e))return null;const n=t[0].programDateTime;if(e<(n||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;r=r||0;for(let a=0;a<t.length;++a){const s=t[a];if(Lbe(e,r,s))return s}return null}function Bc(t,e,r=0,n=0,i=.005){let a=null;if(t){a=e[1+t.sn-e[0].sn]||null;const o=t.endDTS-r;o>0&&o<15e-7&&(r+=15e-7),a&&t.level!==a.level&&a.end<=t.end&&(a=e[2+t.sn-e[0].sn]||null)}else r===0&&e[0].start===0&&(a=e[0]);if(a&&((!t||t.level===a.level)&&oF(r,n,a)===0||Dbe(a,t,Math.min(i,n))))return a;const s=oL.search(e,oF.bind(null,r,n));return s&&(s!==t||!a)?s:a}function Dbe(t,e,r){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((i,a)=>(a[0]==="INF"&&(i+=parseFloat(a[1])),i),r);return t.start<=n}return!1}function oF(t=0,e=0,r){if(r.start<=t&&r.start+r.duration>t)return 0;const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function Lbe(t,e,r){const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0))*1e3;return(r.endProgramDateTime||0)-n>t}function W9(t,e){return oL.search(t,r=>r.cc<e?1:r.cc>e?-1:0)}function Ibe(t,e,r){if(t&&t.startCC<=e&&t.endCC>=e){const n=r.start,i=r.end;let a=t.fragments;if(!r.relurl){const{fragmentHint:s}=t;s&&(a=a.concat(s))}return oL.search(a,s=>s.cc<e||s.end<=n?1:s.cc>e||s.start>=i?-1:0)}return null}function E0(t){switch(t.details){case de.FRAG_LOAD_TIMEOUT:case de.KEY_LOAD_TIMEOUT:case de.LEVEL_LOAD_TIMEOUT:case de.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function lF(t,e){const r=E0(e);return t.default[`${r?"timeout":"error"}Retry`]}function lL(t,e){const r=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function cF(t){return zt(zt({},t),{errorRetry:null,timeoutRetry:null})}function T0(t,e,r,n){if(!t)return!1;const i=n==null?void 0:n.code,a=e<t.maxNumRetry&&(Mbe(i)||!!r);return t.shouldRetry?t.shouldRetry(t,e,r,n,a):a}function Mbe(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}var Tn={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},oa={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2};class Nbe extends uo{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on($.ERROR,this.onError,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off($.ERROR,this.onError,this),e.off($.ERROR,this.onErrorOut,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Ke.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,r){var n;if(r.fatal)return;const i=this.hls,a=r.context;switch(r.details){case de.FRAG_LOAD_ERROR:case de.FRAG_LOAD_TIMEOUT:case de.KEY_LOAD_ERROR:case de.KEY_LOAD_TIMEOUT:r.errorAction=this.getFragRetryOrSwitchAction(r);return;case de.FRAG_PARSING_ERROR:if((n=r.frag)!=null&&n.gap){r.errorAction=$p();return}case de.FRAG_GAP:case de.FRAG_DECRYPT_ERROR:{r.errorAction=this.getFragRetryOrSwitchAction(r),r.errorAction.action=Tn.SendAlternateToPenaltyBox;return}case de.LEVEL_EMPTY_ERROR:case de.LEVEL_PARSING_ERROR:{var s,o;const c=r.parent===Ke.MAIN?r.level:i.loadLevel;r.details===de.LEVEL_EMPTY_ERROR&&((s=r.context)!=null&&(o=s.levelDetails)!=null&&o.live)?r.errorAction=this.getPlaylistRetryOrSwitchAction(r,c):(r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,c))}return;case de.LEVEL_LOAD_ERROR:case de.LEVEL_LOAD_TIMEOUT:typeof(a==null?void 0:a.level)=="number"&&(r.errorAction=this.getPlaylistRetryOrSwitchAction(r,a.level));return;case de.AUDIO_TRACK_LOAD_ERROR:case de.AUDIO_TRACK_LOAD_TIMEOUT:case de.SUBTITLE_LOAD_ERROR:case de.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const c=i.loadLevelObj;if(c&&(a.type===bt.AUDIO_TRACK&&c.hasAudioGroup(a.groupId)||a.type===bt.SUBTITLE_TRACK&&c.hasSubtitleGroup(a.groupId))){r.errorAction=this.getPlaylistRetryOrSwitchAction(r,i.loadLevel),r.errorAction.action=Tn.SendAlternateToPenaltyBox,r.errorAction.flags=oa.MoveAllAlternatesMatchingHost;return}}return;case de.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=i.loadLevelObj,d=c==null?void 0:c.attrs["HDCP-LEVEL"];d?r.errorAction={action:Tn.SendAlternateToPenaltyBox,flags:oa.MoveAllAlternatesMatchingHDCP,hdcpLevel:d}:this.keySystemError(r)}return;case de.BUFFER_ADD_CODEC_ERROR:case de.REMUX_ALLOC_ERROR:case de.BUFFER_APPEND_ERROR:if(!r.errorAction){var l;r.errorAction=this.getLevelSwitchAction(r,(l=r.level)!=null?l:i.loadLevel)}return;case de.INTERNAL_EXCEPTION:case de.BUFFER_APPENDING_ERROR:case de.BUFFER_FULL_ERROR:case de.LEVEL_SWITCH_ERROR:case de.BUFFER_STALLED_ERROR:case de.BUFFER_SEEK_OVER_HOLE:case de.BUFFER_NUDGE_ON_STALL:r.errorAction=$p();return}r.type===We.KEY_SYSTEM_ERROR&&this.keySystemError(r)}keySystemError(e){const r=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,r)}getPlaylistRetryOrSwitchAction(e,r){const n=this.hls,i=lF(n.config.playlistLoadPolicy,e),a=this.playlistError++;if(T0(i,a,E0(e),e.response))return{action:Tn.RetryRequest,flags:oa.None,retryConfig:i,retryCount:a};const o=this.getLevelSwitchAction(e,r);return i&&(o.retryConfig=i,o.retryCount=a),o}getFragRetryOrSwitchAction(e){const r=this.hls,n=this.getVariantLevelIndex(e.frag),i=r.levels[n],{fragLoadPolicy:a,keyLoadPolicy:s}=r.config,o=lF(e.details.startsWith("key")?s:a,e),l=r.levels.reduce((d,f)=>d+f.fragmentError,0);if(i&&(e.details!==de.FRAG_GAP&&i.fragmentError++,T0(o,l,E0(e),e.response)))return{action:Tn.RetryRequest,flags:oa.None,retryConfig:o,retryCount:l};const c=this.getLevelSwitchAction(e,n);return o&&(c.retryConfig=o,c.retryCount=l),c}getLevelSwitchAction(e,r){const n=this.hls;r==null&&(r=n.loadLevel);const i=this.hls.levels[r];if(i){var a,s;const c=e.details;i.loadError++,c===de.BUFFER_APPEND_ERROR&&i.fragmentError++;let d=-1;const{levels:f,loadLevel:p,minAutoLevel:g,maxAutoLevel:y}=n;n.autoLevelEnabled||(n.loadLevel=-1);const b=(a=e.frag)==null?void 0:a.type,w=(b===Ke.AUDIO&&c===de.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===de.BUFFER_ADD_CODEC_ERROR||c===de.BUFFER_APPEND_ERROR))&&f.some(({audioCodec:P})=>i.audioCodec!==P),T=e.sourceBufferName==="video"&&(c===de.BUFFER_ADD_CODEC_ERROR||c===de.BUFFER_APPEND_ERROR)&&f.some(({codecSet:P,audioCodec:R})=>i.codecSet!==P&&i.audioCodec===R),{type:O,groupId:_}=(s=e.context)!=null?s:{};for(let P=f.length;P--;){const R=(P+p)%f.length;if(R!==p&&R>=g&&R<=y&&f[R].loadError===0){var o,l;const D=f[R];if(c===de.FRAG_GAP&&b===Ke.MAIN&&e.frag){const I=f[R].details;if(I){const M=Bc(e.frag,I.fragments,e.frag.start);if(M!=null&&M.gap)continue}}else{if(O===bt.AUDIO_TRACK&&D.hasAudioGroup(_)||O===bt.SUBTITLE_TRACK&&D.hasSubtitleGroup(_))continue;if(b===Ke.AUDIO&&(o=i.audioGroups)!=null&&o.some(I=>D.hasAudioGroup(I))||b===Ke.SUBTITLE&&(l=i.subtitleGroups)!=null&&l.some(I=>D.hasSubtitleGroup(I))||w&&i.audioCodec===D.audioCodec||!w&&i.audioCodec!==D.audioCodec||T&&i.codecSet===D.codecSet)continue}d=R;break}}if(d>-1&&n.loadLevel!==d)return e.levelRetry=!0,this.playlistError=0,{action:Tn.SendAlternateToPenaltyBox,flags:oa.None,nextAutoLevel:d}}return{action:Tn.SendAlternateToPenaltyBox,flags:oa.MoveAllAlternatesMatchingHost}}onErrorOut(e,r){var n;switch((n=r.errorAction)==null?void 0:n.action){case Tn.DoNothing:break;case Tn.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(r),!r.errorAction.resolved&&r.details!==de.FRAG_GAP?r.fatal=!0:/MediaSource readyState: ended/.test(r.error.message)&&(this.warn(`MediaSource ended after "${r.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(r.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const r=this.hls,n=e.errorAction;if(!n)return;const{flags:i,hdcpLevel:a,nextAutoLevel:s}=n;switch(i){case oa.None:this.switchLevel(e,s);break;case oa.MoveAllAlternatesMatchingHDCP:a&&(r.maxHdcpLevel=MR[MR.indexOf(a)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${r.maxHdcpLevel}" or lower`);break}n.resolved||this.switchLevel(e,s)}switchLevel(e,r){if(r!==void 0&&e.errorAction&&(this.warn(`switching to level ${r} after ${e.details}`),this.hls.nextAutoLevel=r,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===de.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const n=z9(e.mimeType),i=this.hls.levels;for(let a=i.length;a--;)i[a][`${e.sourceBufferName}Codec`]===n&&this.hls.removeLevel(a)}}}function $p(t){const e={action:Tn.DoNothing,flags:oa.None};return t&&(e.resolved=!0),e}var Hr={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class kbe{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.BUFFER_APPENDED,this.onBufferAppended,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this),e.on($.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.BUFFER_APPENDED,this.onBufferAppended,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this),e.off($.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,r){const n=this.activePartLists[r];if(n)for(let i=n.length;i--;){const a=n[i];if(!a)break;const s=a.end;if(a.start<=e&&s!==null&&e<=s)return a}return this.getBufferedFrag(e,r)}getBufferedFrag(e,r){return this.getFragAtPos(e,r,!0)}getFragAtPos(e,r,n){const{fragments:i}=this,a=Object.keys(i);for(let s=a.length;s--;){const o=i[a[s]];if((o==null?void 0:o.body.type)===r&&(!n||o.buffered)){const l=o.body;if(l.start<=e&&e<=l.end)return l}}return null}detectEvictedFragments(e,r,n,i,a){this.timeRanges&&(this.timeRanges[e]=r);const s=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(o=>{const l=this.fragments[o];if(!l||s>=l.body.sn)return;if(!l.buffered&&(!l.loaded||a)){l.body.type===n&&this.removeFragment(l.body);return}const c=l.range[e];if(c){if(c.time.length===0){this.removeFragment(l.body);return}c.time.some(d=>{const f=!this.isTimeBuffered(d.startPTS,d.endPTS,r);return f&&this.removeFragment(l.body),f})}})}detectPartialFragments(e){const r=this.timeRanges;if(!r||e.frag.sn==="initSegment")return;const n=e.frag,i=Qu(n),a=this.fragments[i];if(!a||a.buffered&&n.gap)return;const s=!n.relurl;Object.keys(r).forEach(o=>{const l=n.elementaryStreams[o];if(!l)return;const c=r[o],d=s||l.partial===!0;a.range[o]=this.getBufferedTimes(n,e.part,d,c)}),a.loaded=null,Object.keys(a.range).length?(a.buffered=!0,(a.body.endList=n.endList||a.body.endList)&&(this.endListFragments[a.body.type]=a),Fv(a)||this.removeParts(n.sn-1,n.type)):this.removeFragment(a.body)}removeParts(e,r){const n=this.activePartLists[r];n&&(this.activePartLists[r]=uF(n,i=>i.fragment.sn>=e))}fragBuffered(e,r){const n=Qu(e);let i=this.fragments[n];!i&&r&&(i=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,r,n,i){const a={time:[],partial:n},s=e.start,o=e.end,l=e.minEndPTS||o,c=e.maxStartPTS||s;for(let d=0;d<i.length;d++){const f=i.start(d)-this.bufferPadding,p=i.end(d)+this.bufferPadding;if(c>=f&&l<=p){a.time.push({startPTS:Math.max(s,i.start(d)),endPTS:Math.min(o,i.end(d))});break}else if(s<p&&o>f){const g=Math.max(s,i.start(d)),y=Math.min(o,i.end(d));y>g&&(a.partial=!0,a.time.push({startPTS:g,endPTS:y}))}else if(o<=f)break}return a}getPartialFragment(e){let r=null,n,i,a,s=0;const{bufferPadding:o,fragments:l}=this;return Object.keys(l).forEach(c=>{const d=l[c];d&&Fv(d)&&(i=d.body.start-o,a=d.body.end+o,e>=i&&e<=a&&(n=Math.min(e-i,a-e),s<=n&&(r=d.body,s=n)))}),r}isEndListAppended(e){const r=this.endListFragments[e];return r!==void 0&&(r.buffered||Fv(r))}getState(e){const r=Qu(e),n=this.fragments[r];return n?n.buffered?Fv(n)?Hr.PARTIAL:Hr.OK:Hr.APPENDING:Hr.NOT_LOADED}isTimeBuffered(e,r,n){let i,a;for(let s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,a=n.end(s)+this.bufferPadding,e>=i&&r<=a)return!0;if(r<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,r){if(r.frag.sn==="initSegment"||r.frag.bitrateTest)return;const n=r.frag,i=r.part?null:r,a=Qu(n);this.fragments[a]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,r){const{frag:n,part:i,timeRanges:a,type:s}=r;if(n.sn==="initSegment")return;const o=n.type;if(i){let c=this.activePartLists[o];c||(this.activePartLists[o]=c=[]),c.push(i)}this.timeRanges=a;const l=a[s];this.detectEvictedFragments(s,l,o,i)}onFragBuffered(e,r){this.detectPartialFragments(r)}hasFragment(e){const r=Qu(e);return!!this.fragments[r]}hasFragments(e){const{fragments:r}=this,n=Object.keys(r);if(!e)return n.length>0;for(let i=n.length;i--;){const a=r[n[i]];if((a==null?void 0:a.body.type)===e)return!0}return!1}hasParts(e){var r;return!!((r=this.activePartLists[e])!=null&&r.length)}removeFragmentsInRange(e,r,n,i,a){i&&!this.hasGaps||Object.keys(this.fragments).forEach(s=>{const o=this.fragments[s];if(!o)return;const l=o.body;l.type!==n||i&&!l.gap||l.start<r&&l.end>e&&(o.buffered||a)&&this.removeFragment(l)})}removeFragment(e){const r=Qu(e);e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const i=e.sn;this.activePartLists[e.type]=uF(n,a=>a.fragment.sn!==i)}delete this.fragments[r],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e,r;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const n=(e=this.hls)==null||(r=e.latestLevelDetails)==null?void 0:r.partList;n&&n.forEach(i=>i.clearElementaryStreamInfo())}}function Fv(t){var e,r,n;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((r=t.range.audio)==null?void 0:r.partial)||((n=t.range.audiovideo)==null?void 0:n.partial))}function Qu(t){return`${t.type}_${t.level}_${t.sn}`}function uF(t,e){return t.filter(r=>{const n=e(r);return n||r.clearElementaryStreamInfo(),n})}var vl={cbc:0,ctr:1};class jbe{constructor(e,r,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=r,this.aesMode=n}decrypt(e,r){switch(this.aesMode){case vl.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,e);case vl.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},r,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function $be(t){const e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?t.slice(0,e-r):t}class Fbe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const r=new DataView(e),n=new Uint32Array(4);for(let i=0;i<4;i++)n[i]=r.getUint32(i*4);return n}initTable(){const e=this.sBox,r=this.invSBox,n=this.subMix,i=n[0],a=n[1],s=n[2],o=n[3],l=this.invSubMix,c=l[0],d=l[1],f=l[2],p=l[3],g=new Uint32Array(256);let y=0,b=0,x=0;for(x=0;x<256;x++)x<128?g[x]=x<<1:g[x]=x<<1^283;for(x=0;x<256;x++){let w=b^b<<1^b<<2^b<<3^b<<4;w=w>>>8^w&255^99,e[y]=w,r[w]=y;const E=g[y],T=g[E],O=g[T];let _=g[w]*257^w*16843008;i[y]=_<<24|_>>>8,a[y]=_<<16|_>>>16,s[y]=_<<8|_>>>24,o[y]=_,_=O*16843009^T*65537^E*257^y*16843008,c[w]=_<<24|_>>>8,d[w]=_<<16|_>>>16,f[w]=_<<8|_>>>24,p[w]=_,y?(y=E^g[g[g[O^E]]],b^=g[g[b]]):y=b=1}}expandKey(e){const r=this.uint8ArrayToUint32Array_(e);let n=!0,i=0;for(;i<r.length&&n;)n=r[i]===this.key[i],i++;if(n)return;this.key=r;const a=this.keySize=r.length;if(a!==4&&a!==6&&a!==8)throw new Error("Invalid aes key size="+a);const s=this.ksRows=(a+6+1)*4;let o,l;const c=this.keySchedule=new Uint32Array(s),d=this.invKeySchedule=new Uint32Array(s),f=this.sBox,p=this.rcon,g=this.invSubMix,y=g[0],b=g[1],x=g[2],w=g[3];let E,T;for(o=0;o<s;o++){if(o<a){E=c[o]=r[o];continue}T=E,o%a===0?(T=T<<8|T>>>24,T=f[T>>>24]<<24|f[T>>>16&255]<<16|f[T>>>8&255]<<8|f[T&255],T^=p[o/a|0]<<24):a>6&&o%a===4&&(T=f[T>>>24]<<24|f[T>>>16&255]<<16|f[T>>>8&255]<<8|f[T&255]),c[o]=E=(c[o-a]^T)>>>0}for(l=0;l<s;l++)o=s-l,l&3?T=c[o]:T=c[o-4],l<4||o<=4?d[l]=T:d[l]=y[f[T>>>24]]^b[f[T>>>16&255]]^x[f[T>>>8&255]]^w[f[T&255]],d[l]=d[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,r,n){const i=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,o=this.invSubMix,l=o[0],c=o[1],d=o[2],f=o[3],p=this.uint8ArrayToUint32Array_(n);let g=p[0],y=p[1],b=p[2],x=p[3];const w=new Int32Array(e),E=new Int32Array(w.length);let T,O,_,P,R,D,I,M,N,k,F,U,z,j;const H=this.networkToHostOrderSwap;for(;r<w.length;){for(N=H(w[r]),k=H(w[r+1]),F=H(w[r+2]),U=H(w[r+3]),R=N^a[0],D=U^a[1],I=F^a[2],M=k^a[3],z=4,j=1;j<i;j++)T=l[R>>>24]^c[D>>16&255]^d[I>>8&255]^f[M&255]^a[z],O=l[D>>>24]^c[I>>16&255]^d[M>>8&255]^f[R&255]^a[z+1],_=l[I>>>24]^c[M>>16&255]^d[R>>8&255]^f[D&255]^a[z+2],P=l[M>>>24]^c[R>>16&255]^d[D>>8&255]^f[I&255]^a[z+3],R=T,D=O,I=_,M=P,z=z+4;T=s[R>>>24]<<24^s[D>>16&255]<<16^s[I>>8&255]<<8^s[M&255]^a[z],O=s[D>>>24]<<24^s[I>>16&255]<<16^s[M>>8&255]<<8^s[R&255]^a[z+1],_=s[I>>>24]<<24^s[M>>16&255]<<16^s[R>>8&255]<<8^s[D&255]^a[z+2],P=s[M>>>24]<<24^s[R>>16&255]<<16^s[D>>8&255]<<8^s[I&255]^a[z+3],E[r]=H(T^g),E[r+1]=H(P^y),E[r+2]=H(_^b),E[r+3]=H(O^x),g=N,y=k,b=F,x=U,r=r+4}return E.buffer}}class Bbe{constructor(e,r,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=r,this.aesMode=n}expandKey(){const e=Ube(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function Ube(t){switch(t){case vl.cbc:return"AES-CBC";case vl.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}const Gbe=16;class cL{constructor(e,{removePKCS7Padding:r=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:r}=this;if(!e||r)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?$be(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,r,n,i){return this.useSoftware?new Promise((a,s)=>{const o=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(o,r,n,i);const l=this.flush();l?a(l.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),r,n,i)}softwareDecrypt(e,r,n,i){const{currentIV:a,currentResult:s,remainderData:o}=this;if(i!==vl.cbc||r.byteLength!==16)return Rt.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),o&&(e=qi(o,e),this.remainderData=null);const l=this.getValidChunk(e);if(!l.length)return null;a&&(n=a);let c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new Fbe),c.expandKey(r);const d=s;return this.currentResult=c.decrypt(l.buffer,0,n),this.currentIV=l.slice(-16).buffer,d||null}webCryptoDecrypt(e,r,n,i){if(this.key!==r||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,r,n,i));this.key=r,this.fastAesKey=new Bbe(this.subtle,r,i)}return this.fastAesKey.expandKey().then(a=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new jbe(this.subtle,new Uint8Array(n),i).decrypt(e.buffer,a)):Promise.reject(new Error("web crypto not initialized"))).catch(a=>(Rt.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${a.name}: ${a.message}`),this.onWebCryptoError(e,r,n,i)))}onWebCryptoError(e,r,n,i){const a=this.enableSoftwareAES;if(a){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,n,i);const s=this.flush();if(s)return s.buffer}throw new Error("WebCrypto"+(a?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let r=e;const n=e.length-e.length%Gbe;return n!==e.length&&(r=e.slice(0,n),this.remainderData=e.slice(n)),r}logOnce(e){this.logEnabled&&(Rt.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const dF=Math.pow(2,17);class zbe{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,r){const n=e.url;if(!n)return Promise.reject(new Is({type:We.NETWORK_ERROR,details:de.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,a=i.fLoader,s=i.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(y=>y[0]==="GAP")){l(hF(e));return}else e.gap=!1;const c=this.loader=a?new a(i):new s(i),d=fF(e);e.loader=c;const f=cF(i.fragLoadPolicy.default),p={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:dF};e.stats=c.stats;const g={onSuccess:(y,b,x,w)=>{this.resetLoader(e,c);let E=y.data;x.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(E.slice(0,16)),E=E.slice(16)),o({frag:e,part:null,payload:E,networkDetails:w})},onError:(y,b,x,w)=>{this.resetLoader(e,c),l(new Is({type:We.NETWORK_ERROR,details:de.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:zt({url:n,data:void 0},y),error:new Error(`HTTP Error ${y.code} ${y.text}`),networkDetails:x,stats:w}))},onAbort:(y,b,x)=>{this.resetLoader(e,c),l(new Is({type:We.NETWORK_ERROR,details:de.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:x,stats:y}))},onTimeout:(y,b,x)=>{this.resetLoader(e,c),l(new Is({type:We.NETWORK_ERROR,details:de.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:x,stats:y}))}};r&&(g.onProgress=(y,b,x,w)=>r({frag:e,part:null,payload:x,networkDetails:w})),c.load(d,p,g)})}loadPart(e,r,n){this.abort();const i=this.config,a=i.fLoader,s=i.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap||r.gap){l(hF(e,r));return}const c=this.loader=a?new a(i):new s(i),d=fF(e,r);e.loader=c;const f=cF(i.fragLoadPolicy.default),p={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:dF};r.stats=c.stats,c.load(d,p,{onSuccess:(g,y,b,x)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,r);const w={frag:e,part:r,payload:g.data,networkDetails:x};n(w),o(w)},onError:(g,y,b,x)=>{this.resetLoader(e,c),l(new Is({type:We.NETWORK_ERROR,details:de.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:r,response:zt({url:d.url,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:b,stats:x}))},onAbort:(g,y,b)=>{e.stats.aborted=r.stats.aborted,this.resetLoader(e,c),l(new Is({type:We.NETWORK_ERROR,details:de.INTERNAL_ABORTED,fatal:!1,frag:e,part:r,error:new Error("Aborted"),networkDetails:b,stats:g}))},onTimeout:(g,y,b)=>{this.resetLoader(e,c),l(new Is({type:We.NETWORK_ERROR,details:de.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:r,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:b,stats:g}))}})})}updateStatsFromPart(e,r){const n=e.stats,i=r.stats,a=i.total;if(n.loaded+=i.loaded,a){const l=Math.round(e.duration/r.duration),c=Math.min(Math.round(n.loaded/a),l),f=(l-c)*Math.round(n.loaded/c);n.total=n.loaded+f}else n.total=Math.max(n.loaded,n.total);const s=n.loading,o=i.loading;s.start?s.first+=o.first-o.start:(s.start=o.start,s.first=o.first),s.end=o.end}resetLoader(e,r){e.loader=null,this.loader===r&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),r.destroy()}}function fF(t,e=null){const r=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,a=r.byteRangeEndOffset;if(Fe(i)&&Fe(a)){var s;let o=i,l=a;if(t.sn==="initSegment"&&Vbe((s=t.decryptdata)==null?void 0:s.method)){const c=a-i;c%16&&(l=a+(16-c%16)),i!==0&&(n.resetIV=!0,o=i-16)}n.rangeStart=o,n.rangeEnd=l}return n}function hF(t,e){const r=new Error(`GAP ${t.gap?"tag":"attribute"} found`),n={type:We.MEDIA_ERROR,details:de.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new Is(n)}function Vbe(t){return t==="AES-128"||t==="AES-256"}class Is extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class Y9 extends uo{constructor(e,r){super(e,r),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class uL{constructor(e,r,n,i=0,a=-1,s=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Bv(),this.buffering={audio:Bv(),video:Bv(),audiovideo:Bv()},this.level=e,this.sn=r,this.id=n,this.size=i,this.part=a,this.partial=s}}function Bv(){return{start:0,executeStart:0,executeEnd:0,end:0}}const pF={length:0,start:()=>0,end:()=>0};class mt{static isBuffered(e,r){if(e){const n=mt.getBuffered(e);for(let i=n.length;i--;)if(r>=n.start(i)&&r<=n.end(i))return!0}return!1}static bufferedRanges(e){if(e){const r=mt.getBuffered(e);return mt.timeRangesToArray(r)}return[]}static timeRangesToArray(e){const r=[];for(let n=0;n<e.length;n++)r.push({start:e.start(n),end:e.end(n)});return r}static bufferInfo(e,r,n){if(e){const i=mt.bufferedRanges(e);if(i.length)return mt.bufferedInfo(i,r,n)}return{len:0,start:r,end:r,bufferedIndex:-1}}static bufferedInfo(e,r,n){r=Math.max(0,r),e.length>1&&e.sort((d,f)=>d.start-f.start||f.end-d.end);let i=-1,a=[];if(n)for(let d=0;d<e.length;d++){r>=e[d].start&&r<=e[d].end&&(i=d);const f=a.length;if(f){const p=a[f-1].end;e[d].start-p<n?e[d].end>p&&(a[f-1].end=e[d].end):a.push(e[d])}else a.push(e[d])}else a=e;let s=0,o,l=r,c=r;for(let d=0;d<a.length;d++){const f=a[d].start,p=a[d].end;if(i===-1&&r>=f&&r<=p&&(i=d),r+n>=f&&r<p)l=f,c=p,s=c-r;else if(r+n<f){o=f;break}}return{len:s,start:l||0,end:c||0,nextStart:o,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||pF}catch(r){return Rt.log("failed to get media.buffered",r),pF}}}const X9=/\{\$([a-zA-Z0-9-_]+)\}/g;function mF(t){return X9.test(t)}function NR(t,e){if(t.variableList!==null||t.hasVariableRefs){const r=t.variableList;return e.replace(X9,n=>{const i=n.substring(2,n.length-1),a=r==null?void 0:r[i];return a===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),n):a})}return e}function gF(t,e,r){let n=t.variableList;n||(t.variableList=n={});let i,a;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const s=new self.URL(r).searchParams;if(s.has(i))a=s.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${r}"`)}catch(s){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${s.message}`))}}else i=e.NAME,a=e.VALUE;i in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=a||""}function qbe(t,e,r){const n=e.IMPORT;if(r&&n in r){let i=t.variableList;i||(t.variableList=i={}),i[n]=r[n]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}const Hbe=/^(\d+)x(\d+)$/,vF=/(.+?)=(".*?"|.*?)(?:,|$)/g;class xr{constructor(e,r){typeof e=="string"&&(e=xr.parseAttrList(e,r)),Yt(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const r=parseInt(this[e],10);return r>Number.MAX_SAFE_INTEGER?1/0:r}hexadecimalInteger(e){if(this[e]){let r=(this[e]||"0x").slice(2);r=(r.length&1?"0":"")+r;const n=new Uint8Array(r.length/2);for(let i=0;i<r.length/2;i++)n[i]=parseInt(r.slice(i*2,i*2+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const r=parseInt(this[e],16);return r>Number.MAX_SAFE_INTEGER?1/0:r}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,r){const n=this[e];return n?parseFloat(n):r}enumeratedString(e){return this[e]}enumeratedStringList(e,r){const n=this[e];return(n?n.split(/[ ,]+/):[]).reduce((i,a)=>(i[a.toLowerCase()]=!0,i),r)}bool(e){return this[e]==="YES"}decimalResolution(e){const r=Hbe.exec(this[e]);if(r!==null)return{width:parseInt(r[1],10),height:parseInt(r[2],10)}}static parseAttrList(e,r){let n;const i={},a='"';for(vF.lastIndex=0;(n=vF.exec(e))!==null;){const s=n[1].trim();let o=n[2];const l=o.indexOf(a)===0&&o.lastIndexOf(a)===o.length-1;let c=!1;if(l)o=o.slice(1,-1);else switch(s){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":c=!0}if(r&&(l||c))o=NR(r,o);else if(!c&&!l)switch(s){case"CLOSED-CAPTIONS":if(o==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":Rt.warn(`${e}: attribute ${s} is missing quotes`)}i[s]=o}return i}}const Kbe="com.apple.hls.interstitial";function Wbe(t){return t!=="ID"&&t!=="CLASS"&&t!=="CUE"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function Ybe(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"||t==="SCTE35-CMD"}class Q9{constructor(e,r,n=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(r==null?void 0:r.tagAnchor)||null,this.tagOrder=(i=r==null?void 0:r.tagOrder)!=null?i:n,r){const a=r.attr;for(const s in a)if(Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==a[s]){Rt.warn(`DATERANGE tag attribute: "${s}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=s;break}e=Yt(new xr({}),a,e)}if(this.attr=e,r?(this._startDate=r._startDate,this._cue=r._cue,this._endDate=r._endDate,this._dateAtEnd=r._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const a=(r==null?void 0:r.endDate)||new Date(this.attr["END-DATE"]);Fe(a.getTime())&&(this._endDate=a)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(Rt.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const r=this.duration;return r!==null?this._dateAtEnd=new Date(this._startDate.getTime()+r*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Fe(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===Kbe}get isValid(){return!!this.id&&!this._badValueForSameId&&Fe(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const Xbe=10;class Qbe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const r=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!r||!this.live,this.advanced=this.endSN>e.endSN||r>0||r===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}get hasProgramDateTime(){return this.fragments.length?Fe(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||Xbe}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const r=this.lastPartIndex;if(r!==-1){for(let n=e.length;n--;)if(e[n].index>r)return e[n].index;return r}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function md(t){return t==="AES-128"||t==="AES-256"||t==="AES-256-CTR"}function dL(t){switch(t){case"AES-128":case"AES-256":return vl.cbc;case"AES-256-CTR":return vl.ctr;default:throw new Error(`invalid full segment method ${t}`)}}function fL(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function kR(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}function Zbe(t){const e=kR(t).subarray(0,16),r=new Uint8Array(16);return r.set(e,16-e.length),r}function Jbe(t){const e=function(n,i,a){const s=n[i];n[i]=n[a],n[a]=s};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function exe(t){const e=t.split(":");let r=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),i=n[n.length-1].split(",");if(i.length===2){const a=i[0]==="base64",s=i[1];a?(n.splice(-1,1),r=fL(s)):r=Zbe(s)}}return r}const A0=typeof self<"u"?self:void 0;var Vt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Kn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function s1(t){switch(t){case Kn.FAIRPLAY:return Vt.FAIRPLAY;case Kn.PLAYREADY:return Vt.PLAYREADY;case Kn.WIDEVINE:return Vt.WIDEVINE;case Kn.CLEARKEY:return Vt.CLEARKEY}}var Uv={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function o1(t){if(t===Uv.WIDEVINE)return Vt.WIDEVINE;if(t===Uv.PLAYREADY)return Vt.PLAYREADY;if(t===Uv.CENC||t===Uv.CLEARKEY)return Vt.CLEARKEY}function l1(t){switch(t){case Vt.FAIRPLAY:return Kn.FAIRPLAY;case Vt.PLAYREADY:return Kn.PLAYREADY;case Vt.WIDEVINE:return Kn.WIDEVINE;case Vt.CLEARKEY:return Kn.CLEARKEY}}function Gv(t){const{drmSystems:e,widevineLicenseUrl:r}=t,n=e?[Vt.FAIRPLAY,Vt.WIDEVINE,Vt.PLAYREADY,Vt.CLEARKEY].filter(i=>!!e[i]):[];return!n[Vt.WIDEVINE]&&r&&n.push(Vt.WIDEVINE),n}const Z9=function(t){return A0!=null&&(t=A0.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function txe(t,e,r,n){let i;switch(t){case Vt.FAIRPLAY:i=["cenc","sinf"];break;case Vt.WIDEVINE:case Vt.PLAYREADY:i=["cenc"];break;case Vt.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return rxe(i,e,r,n)}function rxe(t,e,r,n){return[{initDataTypes:t,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(a=>({contentType:`audio/mp4; codecs=${a}`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:r.map(a=>({contentType:`video/mp4; codecs=${a}`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function nxe(t){var e;return t.sessionType==="persistent-license"||!!((e=t.sessionTypes)!=null&&e.some(r=>r==="persistent-license"))}function J9(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=String.fromCharCode.apply(null,Array.from(e)),n=r.substring(r.indexOf("<"),r.length),s=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(s){const o=s.childNodes[0]?s.childNodes[0].nodeValue:s.getAttribute("VALUE");if(o){const l=fL(o).subarray(0,16);return Jbe(l),l}}return null}let zv={};class Fp{static clearKeyUriToKeyIdMap(){zv={}}constructor(e,r,n,i=[1],a=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=r,this.keyFormat=n,this.keyFormatVersions=i,this.iv=a,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!md(e)}isSupported(){if(this.method){if(md(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Kn.FAIRPLAY:case Kn.WIDEVINE:case Kn.PLAYREADY:case Kn.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(md(this.method)&&this.uri&&!this.iv){typeof e!="number"&&(Rt.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const n=ixe(e);return new Fp(this.method,this.uri,"identity",this.keyFormatVersions,n)}const r=exe(this.uri);if(r)switch(this.keyFormat){case Kn.WIDEVINE:this.pssh=r,r.length>=22&&(this.keyId=r.subarray(r.length-22,r.length-6));break;case Kn.PLAYREADY:{const n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=cbe(n,null,r),this.keyId=J9(r);break}default:{let n=r.subarray(0,16);if(n.length!==16){const i=new Uint8Array(16);i.set(n,16-n.length),n=i}this.keyId=n;break}}if(!this.keyId||this.keyId.byteLength!==16){let n=zv[this.uri];if(!n){const i=Object.keys(zv).length%Number.MAX_SAFE_INTEGER;n=new Uint8Array(16),new DataView(n.buffer,12,4).setUint32(0,i),zv[this.uri]=n}this.keyId=n}return this}}function ixe(t){const e=new Uint8Array(16);for(let r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}const yF=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,bF=/#EXT-X-MEDIA:(.*)/g,axe=/^#EXT(?:INF|-X-TARGETDURATION):/m,c1=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),sxe=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Fa{static findGroup(e,r){for(let n=0;n<e.length;n++){const i=e[n];if(i.id===r)return i}}static resolve(e,r){return iL.buildAbsoluteURL(r,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return axe.test(e)}static parseMasterPlaylist(e,r){const n=mF(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},a=[];yF.lastIndex=0;let s;for(;(s=yF.exec(e))!=null;)if(s[1]){var o;const c=new xr(s[1],i),d=NR(i,s[2]),f={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:Fa.resolve(d,r)},p=c.decimalResolution("RESOLUTION");p&&(f.width=p.width,f.height=p.height),wF(c.CODECS,f);const g=c["SUPPLEMENTAL-CODECS"];g&&(f.supplemental={},wF(g,f.supplemental)),(o=f.unknownCodecs)!=null&&o.length||a.push(f),i.levels.push(f)}else if(s[3]){const c=s[3],d=s[4];switch(c){case"SESSION-DATA":{const f=new xr(d,i),p=f["DATA-ID"];p&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[p]=f);break}case"SESSION-KEY":{const f=xF(d,r,i);f.encrypted&&f.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(f)):Rt.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${d}"`);break}case"DEFINE":{{const f=new xr(d,i);gF(i,f,r)}break}case"CONTENT-STEERING":{const f=new xr(d,i);i.contentSteering={uri:Fa.resolve(f["SERVER-URI"],r),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=SF(d);break}}}const l=a.length>0&&a.length<i.levels.length;return i.levels=l?a:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,r,n){let i;const a={},s=n.levels,o={AUDIO:s.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:s.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(bF.lastIndex=0;(i=bF.exec(e))!==null;){const c=new xr(i[1],n),d=c.TYPE;if(d){const f=o[d],p=a[d]||[];a[d]=p;const g=c.LANGUAGE,y=c["ASSOC-LANGUAGE"],b=c.CHANNELS,x=c.CHARACTERISTICS,w=c["INSTREAM-ID"],E={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||g||"",type:d,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:g,url:c.URI?Fa.resolve(c.URI,r):""};if(y&&(E.assocLang=y),b&&(E.channels=b),x&&(E.characteristics=x),w&&(E.instreamId=w),f!=null&&f.length){const T=Fa.findGroup(f,E.groupId)||f[0];EF(E,T,"audioCodec"),EF(E,T,"textCodec")}p.push(E)}}return a}static parseLevelPlaylist(e,r,n,i,a,s){var o;const l={url:r},c=new Qbe(r),d=c.fragments,f=[];let p=null,g=0,y=0,b=0,x=0,w=0,E=null,T=new r1(i,l),O,_,P,R=-1,D=!1,I=null,M;if(c1.lastIndex=0,c.m3u8=e,c.hasVariableRefs=mF(e),((o=c1.exec(e))==null?void 0:o[0])!=="#EXTM3U")return c.playlistParsingError=new Error("Missing format identifier #EXTM3U"),c;for(;(O=c1.exec(e))!==null;){D&&(D=!1,T=new r1(i,l),T.playlistOffset=b,T.start=b,T.sn=g,T.cc=x,w&&(T.bitrate=w),T.level=n,p&&(T.initSegment=p,p.rawProgramDateTime&&(T.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null),I&&(T.setByteRange(I),I=null)));const U=O[1];if(U){T.duration=parseFloat(U);const z=(" "+O[2]).slice(1);T.title=z||null,T.tagList.push(z?["INF",U,z]:["INF",U])}else if(O[3]){if(Fe(T.duration)){T.playlistOffset=b,T.start=b,P&&AF(T,P,c),T.sn=g,T.level=n,T.cc=x,d.push(T);const z=(" "+O[3]).slice(1);T.relurl=NR(c,z),jR(T,E,f),E=T,b+=T.duration,g++,y=0,D=!0}}else{if(O=O[0].match(sxe),!O){Rt.warn("No matches on slow regex match for level playlist!");continue}for(_=1;_<O.length&&O[_]===void 0;_++);const z=(" "+O[_]).slice(1),j=(" "+O[_+1]).slice(1),H=O[_+2]?(" "+O[_+2]).slice(1):null;switch(z){case"BYTERANGE":E?T.setByteRange(j,E):T.setByteRange(j);break;case"PROGRAM-DATE-TIME":T.rawProgramDateTime=j,T.tagList.push(["PROGRAM-DATE-TIME",j]),R===-1&&(R=d.length);break;case"PLAYLIST-TYPE":c.type&&Rs(c,z,O),c.type=j.toUpperCase();break;case"MEDIA-SEQUENCE":c.startSN!==0?Rs(c,z,O):d.length>0&&_F(c,z,O),g=c.startSN=parseInt(j);break;case"SKIP":{c.skippedSegments&&Rs(c,z,O);const V=new xr(j,c),q=V.decimalInteger("SKIPPED-SEGMENTS");if(Fe(q)){c.skippedSegments+=q;for(let Y=q;Y--;)d.push(null);g+=q}const G=V.enumeratedString("RECENTLY-REMOVED-DATERANGES");G&&(c.recentlyRemovedDateranges=(c.recentlyRemovedDateranges||[]).concat(G.split("	")));break}case"TARGETDURATION":c.targetduration!==0&&Rs(c,z,O),c.targetduration=Math.max(parseInt(j),1);break;case"VERSION":c.version!==null&&Rs(c,z,O),c.version=parseInt(j);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":c.live||Rs(c,z,O),c.live=!1;break;case"#":(j||H)&&T.tagList.push(H?[j,H]:[j]);break;case"DISCONTINUITY":x++,T.tagList.push(["DIS"]);break;case"GAP":T.gap=!0,T.tagList.push([z]);break;case"BITRATE":T.tagList.push([z,j]),w=parseInt(j)*1e3,Fe(w)?T.bitrate=w:w=0;break;case"DATERANGE":{const V=new xr(j,c),q=new Q9(V,c.dateRanges[V.ID],c.dateRangeTagCount);c.dateRangeTagCount++,q.isValid||c.skippedSegments?c.dateRanges[q.id]=q:Rt.warn(`Ignoring invalid DATERANGE tag: "${j}"`),T.tagList.push(["EXT-X-DATERANGE",j]);break}case"DEFINE":{{const V=new xr(j,c);"IMPORT"in V?qbe(c,V,s):gF(c,V,r)}break}case"DISCONTINUITY-SEQUENCE":c.startCC!==0?Rs(c,z,O):d.length>0&&_F(c,z,O),c.startCC=x=parseInt(j);break;case"KEY":{const V=xF(j,r,c);if(V.isSupported()){if(V.method==="NONE"){P=void 0;break}P||(P={}),P[V.keyFormat]&&(P=Yt({},P)),P[V.keyFormat]=V}else Rt.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${j}"`);break}case"START":c.startTimeOffset=SF(j);break;case"MAP":{const V=new xr(j,c);if(T.duration){const q=new r1(i,l);TF(q,V,n,P),p=q,T.initSegment=p,p.rawProgramDateTime&&!T.rawProgramDateTime&&(T.rawProgramDateTime=p.rawProgramDateTime)}else{const q=T.byteRangeEndOffset;if(q){const G=T.byteRangeStartOffset;I=`${q-G}@${G}`}else I=null;TF(T,V,n,P),p=T,D=!0}p.cc=x;break}case"SERVER-CONTROL":{M&&Rs(c,z,O),M=new xr(j),c.canBlockReload=M.bool("CAN-BLOCK-RELOAD"),c.canSkipUntil=M.optionalFloat("CAN-SKIP-UNTIL",0),c.canSkipDateRanges=c.canSkipUntil>0&&M.bool("CAN-SKIP-DATERANGES"),c.partHoldBack=M.optionalFloat("PART-HOLD-BACK",0),c.holdBack=M.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{c.partTarget&&Rs(c,z,O);const V=new xr(j);c.partTarget=V.decimalFloatingPoint("PART-TARGET");break}case"PART":{let V=c.partList;V||(V=c.partList=[]);const q=y>0?V[V.length-1]:void 0,G=y++,Y=new xr(j,c),X=new W0e(Y,T,l,G,q);V.push(X),T.duration+=X.duration;break}case"PRELOAD-HINT":{const V=new xr(j,c);c.preloadHint=V;break}case"RENDITION-REPORT":{const V=new xr(j,c);c.renditionReports=c.renditionReports||[],c.renditionReports.push(V);break}default:Rt.warn(`line parsed but not handled: ${O}`);break}}}E&&!E.relurl?(d.pop(),b-=E.duration,c.partList&&(c.fragmentHint=E)):c.partList&&(jR(T,E,f),T.cc=x,c.fragmentHint=T,P&&AF(T,P,c)),c.targetduration||(c.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const N=d.length,k=d[0],F=d[N-1];if(b+=c.skippedSegments*c.targetduration,b>0&&N&&F){c.averagetargetduration=b/N;const U=F.sn;c.endSN=U!=="initSegment"?U:0,c.live||(F.endList=!0),k&&c.startCC===void 0&&(c.startCC=k.cc),R>0&&(lxe(d,R),k&&f.unshift(k))}else c.endSN=0,c.startCC=0;return c.fragmentHint&&(b+=c.fragmentHint.duration),c.totalduration=b,f.length&&c.dateRangeTagCount&&k&&eK(f,c),c.endCC=x,c}}function eK(t,e){const r=t.length,n=t[r-1],i=e.live?1/0:e.totalduration,a=Object.keys(e.dateRanges);for(let s=a.length;s--;){const o=e.dateRanges[a[s]],l=o.startDate.getTime();o.tagAnchor=n.ref;for(let c=r;c--;){const d=oxe(e,l,t,c,i);if(d!==-1){o.tagAnchor=e.fragments[d].ref;break}}}}function oxe(t,e,r,n,i){const a=r[n];if(a){const o=a.programDateTime;if(e>=o||n===0){var s;const l=(((s=r[n+1])==null?void 0:s.start)||i)-a.start;if(e<=o+l*1e3){const c=r[n].sn-t.startSN,d=t.fragments;if(d.length>r.length){const p=(r[n+1]||d[d.length-1]).sn-t.startSN;for(let g=p;g>c;g--){const y=d[g].programDateTime;if(e>=y&&e<y+d[g].duration*1e3)return g}}return c}}}return-1}function xF(t,e,r){var n,i;const a=new xr(t,r),s=(n=a.METHOD)!=null?n:"",o=a.URI,l=a.hexadecimalInteger("IV"),c=a.KEYFORMATVERSIONS,d=(i=a.KEYFORMAT)!=null?i:"identity";o&&a.IV&&!l&&Rt.error(`Invalid IV: ${a.IV}`);const f=o?Fa.resolve(o,e):"",p=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Fp(s,f,d,p,l)}function SF(t){const r=new xr(t).decimalFloatingPoint("TIME-OFFSET");return Fe(r)?r:null}function wF(t,e){let r=(t||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const i=r.filter(a=>U9(a,n));i.length&&(e[`${n}Codec`]=i.map(a=>a.split("/")[0]).join(","),r=r.filter(a=>i.indexOf(a)===-1))}),e.unknownCodecs=r}function EF(t,e,r){const n=e[r];n&&(t[r]=n)}function lxe(t,e){let r=t[e];for(let n=e;n--;){const i=t[n];if(!i)return;i.programDateTime=r.programDateTime-i.duration*1e3,r=i}}function jR(t,e,r){t.rawProgramDateTime?r.push(t):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function TF(t,e,r,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null}function AF(t,e,r){t.levelkeys=e;const{encryptedFragments:n}=r;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&n.push(t)}function Rs(t,e,r){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${r[0]})`)}function _F(t,e,r){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${r[0]})`)}function u1(t,e){const r=e.startPTS;if(Fe(r)){let n=0,i;e.sn>t.sn?(n=r-t.start,i=t):(n=t.start-r,i=e),i.duration!==n&&i.setDuration(n)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration):e.setStart(Math.max(t.start-e.duration,0))}function tK(t,e,r,n,i,a){n-r<=0&&(Rt.warn("Fragment should have a positive duration",e),n=r+e.duration,a=i+e.duration);let o=r,l=n;const c=e.startPTS,d=e.endPTS;if(Fe(c)){const x=Math.abs(c-r);Fe(e.deltaPTS)?e.deltaPTS=Math.max(x,e.deltaPTS):e.deltaPTS=x,o=Math.max(r,c),r=Math.min(r,c),i=Math.min(i,e.startDTS),l=Math.min(n,d),n=Math.max(n,d),a=Math.max(a,e.endDTS)}const f=r-e.start;e.start!==0&&e.setStart(r),e.setDuration(n-e.start),e.startPTS=r,e.maxStartPTS=o,e.startDTS=i,e.endPTS=n,e.minEndPTS=l,e.endDTS=a;const p=e.sn;if(!t||p<t.startSN||p>t.endSN)return 0;let g;const y=p-t.startSN,b=t.fragments;for(b[y]=e,g=y;g>0;g--)u1(b[g],b[g-1]);for(g=y;g<b.length-1;g++)u1(b[g],b[g+1]);return t.fragmentHint&&u1(b[b.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function cxe(t,e){if(t===e)return;let r=null;const n=t.fragments;for(let l=n.length-1;l>=0;l--){const c=n[l].initSegment;if(c){r=c;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i;fxe(t,e,(l,c,d,f)=>{if(!e.startCC&&c.cc!==l.cc){var p,g;const y=l.cc-c.cc;for(let b=d;b<f.length;b++)f[b].cc+=y;e.startCC=(p=(g=iK(t,e.startSN-1))==null?void 0:g.cc)!=null?p:f[0].cc,e.endCC=f[f.length-1].cc}Fe(l.startPTS)&&Fe(l.endPTS)&&(c.setStart(c.startPTS=l.startPTS),c.startDTS=l.startDTS,c.maxStartPTS=l.maxStartPTS,c.endPTS=l.endPTS,c.endDTS=l.endDTS,c.minEndPTS=l.minEndPTS,c.setDuration(l.endPTS-l.startPTS),c.duration&&(i=c),e.PTSKnown=e.alignedSliding=!0),l.hasStreams&&(c.elementaryStreams=l.elementaryStreams),c.loader=l.loader,l.hasStats&&(c.stats=l.stats),l.initSegment&&(c.initSegment=l.initSegment,r=l.initSegment)});const a=e.fragments,s=e.fragmentHint?a.concat(e.fragmentHint):a;if(r&&s.forEach(l=>{var c;l&&(!l.initSegment||l.initSegment.relurl===((c=r)==null?void 0:c.relurl))&&(l.initSegment=r)}),e.skippedSegments)if(e.deltaUpdateFailed=a.some(l=>!l),e.deltaUpdateFailed){Rt.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let l=e.skippedSegments;l--;)a.shift();e.startSN=a[0].sn}else{e.endCC=a[a.length-1].cc,e.canSkipDateRanges&&(e.dateRanges=uxe(t.dateRanges,e));const l=t.fragments.filter(c=>c.rawProgramDateTime);if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let c=1;c<s.length;c++)s[c].programDateTime===null&&jR(s[c],s[c-1],l);eK(l,e)}dxe(t.partList,e.partList,(l,c)=>{c.elementaryStreams=l.elementaryStreams,c.stats=l.stats}),i?tK(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):rK(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const o=e.advancedDateTime;if(e.advanced&&o){const l=e.edge;e.driftStart||(e.driftStartTime=o,e.driftStart=l),e.driftEndTime=o,e.driftEnd=l}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=t.requestScheduled)}function uxe(t,e){const{dateRanges:r,recentlyRemovedDateranges:n}=e,i=Yt({},t);n&&n.forEach(o=>{delete i[o]});const s=Object.keys(i).length;return s&&Object.keys(r).forEach(o=>{const l=i[o],c=new Q9(r[o].attr,l);c.isValid?(i[o]=c,l||(c.tagOrder+=s)):Rt.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${gr(r[o].attr)}"`)}),i}function dxe(t,e,r){if(t&&e){let n=0;for(let i=0,a=t.length;i<=a;i++){const s=t[i],o=e[i+n];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?r(s,o):n--}}}function fxe(t,e,r){const n=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,a=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,s=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=i;c<=a;c++){const d=l[s+c];let f=o[c];if(n&&!f&&d&&(f=e.fragments[c]=d),d&&f){if(r(d,f,c,o),d.url&&d.url!==f.url){e.playlistParsingError=OF(`media sequence mismatch ${f.sn}:`,t,e,d,f);return}else if(d.cc!==f.cc){e.playlistParsingError=OF(`discontinuity sequence mismatch (${d.cc}!=${f.cc})`,t,e,d,f);return}}}}function OF(t,e,r,n,i){return new Error(`${t} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${r.startSN}
${r.m3u8}`)}function rK(t,e,r=!0){const n=e.startSN+e.skippedSegments-t.startSN,i=t.fragments,a=n>=0;let s=0;if(a&&n<i.length)s=i[n].start;else if(a&&e.startSN===t.endSN+1)s=t.fragmentEnd;else if(a&&r)s=t.fragmentStart+n*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)s=t.fragmentStart;else return;$R(e,s)}function $R(t,e){if(e){const r=t.fragments;for(let n=t.skippedSegments;n<r.length;n++)r[n].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function nK(t,e=1/0){let r=1e3*t.targetduration;if(t.updated){const n=t.fragments;if(n.length&&r*4>e){const a=n[n.length-1].duration*1e3;a<r&&(r=a)}}else r/=2;return Math.round(r)}function iK(t,e,r){if(!t)return null;let n=t.fragments[e-t.startSN];return n||(n=t.fragmentHint,n&&n.sn===e)?n:e<t.startSN&&r&&r.sn===e?r:null}function RF(t,e,r){return t?aK(t.partList,e,r):null}function aK(t,e,r){if(t)for(let n=t.length;n--;){const i=t[n];if(i.index===r&&i.fragment.sn===e)return i}return null}function sK(t){t.forEach((e,r)=>{var n;(n=e.details)==null||n.fragments.forEach(i=>{i.level=r,i.initSegment&&(i.initSegment.level=r)})})}function up(t,e){for(let n=0,i=t.length;n<i;n++){var r;if(((r=t[n])==null?void 0:r.cc)===e)return t[n]}return null}function hxe(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}function CF(t,e){if(t){const r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}function oK(t,e){const r=e.fragments;for(let n=0,i=r.length;n<i;n++)CF(r[n],t);e.fragmentHint&&CF(e.fragmentHint,t),e.alignedSliding=!0}function pxe(t,e){t&&(lK(e,t),!e.alignedSliding&&t&&_0(e,t),!e.alignedSliding&&t&&!e.skippedSegments&&rK(t,e,!1))}function lK(t,e){if(!hxe(e,t))return;const r=Math.min(e.endCC,t.endCC),n=up(e.fragments,r),i=up(t.fragments,r);if(!n||!i)return;Rt.log(`Aligning playlist at start of dicontinuity sequence ${r}`);const a=n.start-i.start;oK(a,t)}function _0(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=t.fragments,n=e.fragments;if(!r.length||!n.length)return;let i,a;const s=Math.min(e.endCC,t.endCC);e.startCC<s&&t.startCC<s&&(i=up(n,s),a=up(r,s)),(!i||!a)&&(i=n[Math.floor(n.length/2)],a=up(r,i.cc)||r[Math.floor(r.length/2)]);const o=i.programDateTime,l=a.programDateTime;if(!o||!l)return;const c=(l-o)/1e3-(a.start-i.start);oK(c,t)}const mxe={toString:function(t){let e="";const r=t.length;for(let n=0;n<r;n++)e+=`[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}},we={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class hL extends Y9{constructor(e,r,n,i,a){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=we.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:s,fragCurrent:o,media:l,mediaBuffer:c,state:d}=this,f=l?l.currentTime:0,p=mt.bufferInfo(c||l,f,s.maxBufferHole);if(this.log(`media seeking to ${Fe(f)?f.toFixed(3):f}, state: ${d}`),this.state===we.ENDED)this.resetLoadingState();else if(o){const g=s.maxFragLookUpTolerance,y=o.start-g,b=o.start+o.duration+g;if(!p.len||b<p.start||y>p.end){const x=f>b;(f<y||x)&&(x&&o.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(l){this.fragmentTracker.removeFragmentsInRange(f,1/0,this.playlistType,!0);const g=this.lastCurrentTime;if(f>g&&(this.lastCurrentTime=f),!this.loadingParts){const y=Math.max(p.end,f),b=this.shouldLoadParts(this.getLevelDetails(),y);b&&(this.log(`LL-Part loading ON after seeking to ${f.toFixed(2)} with buffer @${y.toFixed(2)}`),this.loadingParts=b)}}!this.hls.hasEnoughToStart&&!p.len&&(this.log(`setting startPosition to ${f} because of seek before start`),this.nextLoadPosition=this.startPosition=f),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=a,this.hls=e,this.fragmentLoader=new zbe(e.config),this.keyLoader=n,this.fragmentTracker=r,this.config=e.config,this.decrypter=new cL(e.config)}registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_LOADED,this.onManifestLoaded,this),e.off($.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===we.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=we.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:r}=this;return r===-1&&e?e:r}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,r){if(r.live||!this.media)return!1;const n=e.end||0,i=this.config.timelineOffset||0;if(n<=i)return!1;const a=e.nextStart;if(a&&a>i&&a<r.edge||this.media.currentTime<e.start)return!1;const o=r.partList;if(o!=null&&o.length){const c=o[o.length-1];return mt.isBuffered(this.media,c.start+c.duration/2)}const l=r.fragments[r.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(l)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}get timelineOffset(){const e=this.config.timelineOffset;if(e){var r;return((r=this.getLevelDetails())==null?void 0:r.appliedTimelineOffset)||e}return 0}onMediaAttached(e,r){const n=this.media=this.mediaBuffer=r.media;n.removeEventListener("seeking",this.onMediaSeeking),n.removeEventListener("ended",this.onMediaEnded),n.addEventListener("seeking",this.onMediaSeeking),n.addEventListener("ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===we.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,r){const n=!!r.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i.removeEventListener("seeking",this.onMediaSeeking),i.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,r){}onManifestLoaded(e,r){this.startTimeOffset=r.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=we.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,r,n){this.startFragRequested=!0,this._loadFragForPlayback(e,r,n)}_loadFragForPlayback(e,r,n){const i=a=>{const s=a.frag;if(this.fragContextChanged(s)){this.warn(`${s.type} sn: ${s.sn}${a.part?" part: "+a.part.index:""} of ${this.fragInfo(s,!1,a.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(s);return}s.stats.chunkCount++,this._handleFragmentLoadProgress(a)};this._doFragLoad(e,r,n,i).then(a=>{if(!a)return;const s=this.state,o=a.frag;if(this.fragContextChanged(o)){(s===we.FRAG_LOADING||!this.fragCurrent&&s===we.PARSING)&&(this.fragmentTracker.removeFragment(o),this.state=we.IDLE);return}"payload"in a&&(this.log(`Loaded ${o.type} sn: ${o.sn} of ${this.playlistLabel()} ${o.level}`),this.hls.trigger($.FRAG_LOADED,a)),this._handleFragmentLoadComplete(a)}).catch(a=>{this.state===we.STOPPED||this.state===we.ERROR||(this.warn(`Frag error: ${(a==null?void 0:a.message)||a}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var r;const{fragmentTracker:n}=this;if(n.getState(e)===Hr.APPENDING){const a=e.type,s=this.getFwdBufferInfo(this.mediaBuffer,a),o=Math.max(e.duration,s?s.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(o,e.duration))&&n.removeFragment(e)}else((r=this.mediaBuffer)==null?void 0:r.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===Hr.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const r=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const r=e.details;return(r==null?void 0:r.live)&&r.type!=="EVENT"&&(this.levelLastLoaded!==e||r.expired)}flushMainBuffer(e,r,n=null){if(!(e-r))return;const i={startOffset:e,endOffset:r,type:n};this.hls.trigger($.BUFFER_FLUSHING,i)}_loadInitSegment(e,r){this._doFragLoad(e,r).then(n=>{const i=n==null?void 0:n.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:i}=this,{frag:a,payload:s}=n,o=a.decryptdata;if(s&&s.byteLength>0&&o!=null&&o.key&&o.iv&&md(o.method)){const l=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),o.key.buffer,o.iv.buffer,dL(o.method)).catch(c=>{throw i.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:a}),c}).then(c=>{const d=self.performance.now();return i.trigger($.FRAG_DECRYPTED,{frag:a,payload:c,stats:{tstart:l,tdecrypt:d}}),n.payload=c,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===we.STOPPED||this.state===we.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:r}=this;if(!r)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state!==we.STOPPED&&(this.state=we.IDLE),e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:r}=this;return!e||!r||e.sn!==r.sn||e.level!==r.level}fragBufferedComplete(e,r){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.fragInfo(e,!1,r)} > buffer:${n?mxe.toString(mt.getBuffered(n)):"(detached)"})`),an(e)){var i;if(e.type!==Ke.SUBTITLE){const s=e.elementaryStreams;if(!Object.keys(s).some(o=>!!s[o])){this.state=we.IDLE;return}}const a=(i=this.levels)==null?void 0:i[e.level];a!=null&&a.fragmentError&&(this.log(`Resetting level fragment error count of ${a.fragmentError} on frag buffered`),a.fragmentError=0)}this.state=we.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:r}=this;if(!r)return;const{frag:n,part:i,partsLoaded:a}=e,s=!a||a.length===0||a.some(l=>!l),o=new uL(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!s);r.flush(o)}_handleFragmentLoadProgress(e){}_doFragLoad(e,r,n=null,i){var a;this.fragCurrent=e;const s=r==null?void 0:r.details;if(!this.levels||!s)throw new Error(`frag load aborted, missing level${s?"":" detail"}s`);let o=null;e.encrypted&&!((a=e.decryptdata)!=null&&a.key)?(this.log(`Loading key for ${e.sn} of [${s.startSN}-${s.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=we.KEY_LOADING,this.fragCurrent=e,o=this.keyLoader.load(e).then(f=>{if(!this.fragContextChanged(f.frag))return this.hls.trigger($.KEY_LOADED,f),this.state===we.KEY_LOADING&&(this.state=we.IDLE),f}),this.hls.trigger($.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(e,s.encryptedFragments);const l=this.fragPrevious;if(an(e)&&(!l||e.sn!==l.sn)){const f=this.shouldLoadParts(r.details,e.end);f!==this.loadingParts&&(this.log(`LL-Part loading ${f?"ON":"OFF"} loading sn ${l==null?void 0:l.sn}->${e.sn}`),this.loadingParts=f)}if(n=Math.max(e.start,n||0),this.loadingParts&&an(e)){const f=s.partList;if(f&&i){n>e.end&&s.fragmentHint&&(e=s.fragmentHint);const p=this.getNextPart(f,e,n);if(p>-1){const g=f[p];e=this.fragCurrent=g.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${g.index} (${p}/${f.length-1}) of ${this.fragInfo(e,!1,g)}) cc: ${e.cc} [${s.startSN}-${s.endSN}], target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=g.start+g.duration,this.state=we.FRAG_LOADING;let y;return o?y=o.then(b=>!b||this.fragContextChanged(b.frag)?null:this.doFragPartsLoad(e,g,r,i)).catch(b=>this.handleFragLoadError(b)):y=this.doFragPartsLoad(e,g,r,i).catch(b=>this.handleFragLoadError(b)),this.hls.trigger($.FRAG_LOADING,{frag:e,part:g,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):y}else if(!e.url||this.loadedEndOfParts(f,n))return Promise.resolve(null)}}if(an(e)&&this.loadingParts)this.log(`LL-Part loading OFF after next part miss @${n.toFixed(2)}`),this.loadingParts=!1;else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${s?"["+s.startSN+"-"+s.endSN+"]":""}, target: ${parseFloat(n.toFixed(3))}`),Fe(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=we.FRAG_LOADING;const c=this.config.progressive;let d;return c&&o?d=o.then(f=>!f||this.fragContextChanged(f==null?void 0:f.frag)?null:this.fragmentLoader.load(e,i)).catch(f=>this.handleFragLoadError(f)):d=Promise.all([this.fragmentLoader.load(e,c?i:void 0),o]).then(([f])=>(!c&&f&&i&&i(f),f)).catch(f=>this.handleFragLoadError(f)),this.hls.trigger($.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):d}doFragPartsLoad(e,r,n,i){return new Promise((a,s)=>{var o;const l=[],c=(o=n.details)==null?void 0:o.partList,d=f=>{this.fragmentLoader.loadPart(e,f,i).then(p=>{l[f.index]=p;const g=p.part;this.hls.trigger($.FRAG_LOADED,p);const y=RF(n.details,e.sn,f.index+1)||aK(c,e.sn,f.index+1);if(y)d(y);else return a({frag:e,part:g,partsLoaded:l})}).catch(s)};d(r)})}handleFragLoadError(e){if("data"in e){const r=e.data;e.data&&r.details===de.INTERNAL_ABORTED?this.handleFragLoadAborted(r.frag,r.part):this.hls.trigger($.ERROR,r)}else this.hls.trigger($.ERROR,{type:We.OTHER_ERROR,details:de.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const r=this.getCurrentContext(e);if(!r||this.state!==we.PARSING){!this.fragCurrent&&this.state!==we.STOPPED&&this.state!==we.ERROR&&(this.state=we.IDLE);return}const{frag:n,part:i,level:a}=r,s=self.performance.now();n.stats.parsing.end=s,i&&(i.stats.parsing.end=s);const o=this.getLevelDetails(),c=o&&n.sn>o.endSN||this.shouldLoadParts(o,n.end);c!==this.loadingParts&&(this.log(`LL-Part loading ${c?"ON":"OFF"} after parsing segment ending @${n.end.toFixed(2)}`),this.loadingParts=c),this.updateLevelTiming(n,i,a,e.partial)}shouldLoadParts(e,r){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e!=null&&e.partList){var n;const a=e.partList[0],s=a.end+(((n=e.fragmentHint)==null?void 0:n.duration)||0);if(r>=s){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>a.start-a.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:r,fragCurrent:n}=this,{level:i,sn:a,part:s}=e;if(!(r!=null&&r[i]))return this.warn(`Levels object was unset while buffering fragment ${a} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const o=r[i],l=o.details,c=s>-1?RF(l,a,s):null,d=c?c.fragment:iK(l,a,n);return d?(n&&n!==d&&(d.stats=n.stats),{frag:d,part:c,level:o}):null}bufferFragmentData(e,r,n,i,a){var s;if(!e||this.state!==we.PARSING)return;const{data1:o,data2:l}=e;let c=o;if(o&&l&&(c=qi(o,l)),!((s=c)!=null&&s.length))return;const d={type:e.type,frag:r,part:n,chunkMeta:i,parent:r.type,data:c};if(this.hls.trigger($.BUFFER_APPENDING,d),e.dropped&&e.independent&&!n){if(a)return;this.flushBufferGap(r)}}flushBufferGap(e){const r=this.media;if(!r)return;if(!mt.isBuffered(r,r.currentTime)){this.flushMainBuffer(0,e.start);return}const n=r.currentTime,i=mt.bufferInfo(r,n,0),a=e.duration,s=Math.min(this.config.maxFragLookUpTolerance*2,a*.25),o=Math.max(Math.min(e.start-s,i.end-s),n+s);e.start-o>s&&this.flushMainBuffer(o,e.start)}getFwdBufferInfo(e,r){var n;const i=this.getLoadPosition();if(!Fe(i))return null;const s=this.lastCurrentTime>i||(n=this.media)!=null&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,r,s)}getFwdBufferInfoAtPos(e,r,n,i){const a=mt.bufferInfo(e,r,i);if(a.len===0&&a.nextStart!==void 0){const s=this.fragmentTracker.getBufferedFrag(r,n);if(s&&(a.nextStart<=s.end||s.gap)){const o=Math.max(Math.min(a.nextStart,s.end)-r,i);return mt.bufferInfo(e,r,o)}}return a}getMaxBufferLength(e){const{config:r}=this;let n;return e?n=Math.max(8*r.maxBufferSize/e,r.maxBufferLength):n=r.maxBufferLength,Math.min(n,r.maxMaxBufferLength)}reduceMaxBufferLength(e,r){const n=this.config,i=Math.max(Math.min(e-r,n.maxBufferLength),r),a=Math.max(e-r*3,n.maxMaxBufferLength/2,i);return a>=i?(n.maxMaxBufferLength=a,this.warn(`Reduce max buffer length to ${a}s`),!0):!1}getAppendedFrag(e,r=Ke.MAIN){var n;const i=(n=this.fragmentTracker)==null?void 0:n.getAppendedFrag(e,r);return i&&"fragment"in i?i.fragment:i}getNextFragment(e,r){const n=r.fragments,i=n.length;if(!i)return null;const{config:a}=this,s=n[0].start,o=a.lowLatencyMode&&!!r.partList;let l=null;if(r.live){const f=a.initialLiveManifestSize;if(i<f)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${f})`),null;if(!r.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<s){var c;o&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),l=this.getInitialLiveFragment(r,n);const p=this.hls.startPosition,g=this.hls.liveSyncPosition,y=l?(p!==-1&&p>=s?p:g)||l.start:e;this.log(`Setting startPosition to ${y} to match start frag at live edge. mainStart: ${p} liveSyncPosition: ${g} frag.start: ${(c=l)==null?void 0:c.start}`),this.startPosition=this.nextLoadPosition=y}}else e<=s&&(l=n[0]);if(!l){const f=this.loadingParts?r.partEnd:r.fragmentEnd;l=this.getFragmentAtPosition(e,f,r)}let d=this.filterReplacedPrimary(l,r);if(!d&&l){const f=l.sn-r.startSN;d=this.filterReplacedPrimary(n[f+1]||null,r)}return this.mapToInitFragWhenRequired(d)}isLoopLoading(e,r){const n=this.fragmentTracker.getState(e);return(n===Hr.OK||n===Hr.PARTIAL&&!!e.gap)&&this.nextLoadPosition>r}getNextFragmentLoopLoading(e,r,n,i,a){let s=null;if(e.gap&&(s=this.getNextFragment(this.nextLoadPosition,r),s&&!s.gap&&n.nextStart)){const o=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i,0);if(o!==null&&n.len+o.len>=a){const l=s.sn;return this.loopSn!==l&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${l}`),this.loopSn=l),null}}return this.loopSn=void 0,s}get primaryPrefetch(){if(PF(this.hls.config)){var e,r;if((e=this.hls.interstitialsManager)==null||(r=e.playingItem)==null?void 0:r.event)return!0}return!1}filterReplacedPrimary(e,r){if(!e)return e;if(PF(this.hls.config)&&e.type!==Ke.SUBTITLE){const n=this.hls.interstitialsManager,i=n==null?void 0:n.bufferingItem;if(i){const s=i.event;if(s){if(s.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&(r==null?void 0:r.live)===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const a=n==null?void 0:n.playerQueue;if(a)for(let s=a.length;s--;){const o=a[s].interstitial;if(o.appendInPlace&&e.start>=o.startTime&&e.end<=o.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,r,n){let i=-1,a=!1,s=!0;for(let o=0,l=e.length;o<l;o++){const c=e[o];if(s=s&&!c.independent,i>-1&&n<c.start)break;const d=c.loaded;d?i=-1:(a||c.independent||s)&&c.fragment===r&&(i=o),a=d}return i}loadedEndOfParts(e,r){const n=e[e.length-1];return n&&r>n.start&&n.loaded}getInitialLiveFragment(e,r){const n=this.fragPrevious;let i=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),i=Pbe(r,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const a=n.sn+1;if(a>=e.startSN&&a<=e.endSN){const s=r[a-e.startSN];n.cc===s.cc&&(i=s,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=W9(r,n.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const a=this.hls.liveSyncPosition;a!==null&&(i=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,r,n){const{config:i}=this;let{fragPrevious:a}=this,{fragments:s,endSN:o}=n;const{fragmentHint:l}=n,{maxFragLookUpTolerance:c}=i,d=n.partList,f=!!(this.loadingParts&&d!=null&&d.length&&l);f&&l&&!this.bitrateTest&&d[d.length-1].fragment.sn===l.sn&&(s=s.concat(l),o=l.sn);let p;if(e<r){var g;const b=e<this.lastCurrentTime||e>r-c||(g=this.media)!=null&&g.paused||!this.startFragRequested?0:c;p=Bc(a,s,e,b)}else p=s[s.length-1];if(p){const y=p.sn-n.startSN,b=this.fragmentTracker.getState(p);if((b===Hr.OK||b===Hr.PARTIAL&&p.gap)&&(a=p),a&&p.sn===a.sn&&(!f||d[0].fragment.sn>p.sn||!n.live&&!f)&&a&&p.level===a.level){const w=s[y+1];p.sn<o&&this.fragmentTracker.getState(w)!==Hr.OK?p=w:p=null}}return p}alignPlaylists(e,r,n){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const a=e.fragmentStart,s=!r,o=e.alignedSliding&&Fe(a);if(s||!o&&!a){pxe(n,e);const l=e.fragmentStart;return this.log(`Live playlist sliding: ${l.toFixed(2)} start-sn: ${r?r.startSN:"na"}->${e.startSN} fragments: ${i}`),l}return a}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,r){let n=this.startPosition;n<r&&(n=-1);const i=this.timelineOffset;if(n===-1){const a=this.startTimeOffset!==null,s=a?this.startTimeOffset:e.startTimeOffset;s!==null&&Fe(s)?(n=r+s,s<0&&(n+=e.edge),n=Math.min(Math.max(r,n),r+e.totalduration),this.log(`Setting startPosition to ${n} for start time offset ${s} found in ${a?"multivariant":"media"} playlist`),this.startPosition=n):e.live?(n=this.hls.liveSyncPosition||r,this.log(`Setting startPosition to -1 to start at live edge ${n}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+i}this.nextLoadPosition=n+i}getLoadPosition(){var e;const{media:r}=this;let n=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&r?n=r.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,r){this.transmuxer&&e.type===this.playlistType&&an(e)&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${r?" part "+r.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==we.FRAG_LOADING_WAITING_RETRY)&&(this.state=we.IDLE)}onFragmentOrKeyLoadError(e,r){if(r.chunkMeta&&!r.frag){const y=this.getCurrentContext(r.chunkMeta);y&&(r.frag=y.frag)}const n=r.frag;if(!n||n.type!==e||!this.levels)return;if(this.fragContextChanged(n)){var i;this.warn(`Frag load error must match current frag to retry ${n.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const a=r.details===de.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(n,!0);const s=r.errorAction,{action:o,flags:l,retryCount:c=0,retryConfig:d}=s||{},f=!!s&&!!d,p=f&&o===Tn.RetryRequest,g=f&&!s.resolved&&l===oa.MoveAllAlternatesMatchingHost;if(!p&&g&&an(n)&&!n.endList)this.resetFragmentErrors(e),this.treatAsGap(n),s.resolved=!0;else if((p||g)&&c<d.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const y=lL(d,c);this.warn(`Fragment ${n.sn} of ${e} ${n.level} errored with ${r.details}, retrying loading ${c+1}/${d.maxNumRetry} in ${y}ms`),s.resolved=!0,this.retryDate=self.performance.now()+y,this.state=we.FRAG_LOADING_WAITING_RETRY}else if(d&&s)if(this.resetFragmentErrors(e),c<d.maxNumRetry)!a&&o!==Tn.RemoveAlternatePermanently&&(s.resolved=!0);else{this.warn(`${r.details} reached or exceeded max retry (${c})`);return}else o===Tn.SendAlternateToPenaltyBox?this.state=we.WAITING_LEVEL:this.state=we.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===we.PARSING||this.state===we.PARSED){const r=e.frag,n=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,n),a=i&&i.len>.5;a&&this.reduceMaxBufferLength(i.len,(r==null?void 0:r.duration)||10);const s=!a;return s&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${n} buffer`),r&&(this.fragmentTracker.removeFragment(r),this.nextLoadPosition=r.start),this.resetLoadingState(),s}return!1}resetFragmentErrors(e){e===Ke.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==we.STOPPED&&(this.state=we.IDLE)}afterBufferFlushed(e,r,n){if(!e)return;const i=mt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(r,i,n),this.state===we.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==we.STOPPED&&(this.state=we.IDLE)}resetStartWhenNotLoaded(e){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const r=e?e.details:null;r!=null&&r.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(r,r.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of ${this.playlistLabel()} ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,r,n,i){const a=n.details;if(!a){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const d=e.elementaryStreams[c];if(d){const f=d.endPTS-d.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${f})`),l||!1;const p=i?0:tK(a,e,d.startPTS,d.endPTS,d.startDTS,d.endDTS);return this.hls.trigger($.LEVEL_PTS_UPDATED,{details:a,level:n,drift:p,type:c,frag:e,start:d.startPTS,end:d.endPTS}),!0}return l},!1)){var o;if(n.fragmentError===0&&this.treatAsGap(e,n),((o=this.transmuxer)==null?void 0:o.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(l.message),this.hls.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=we.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.fragInfo(e,!1,r)})`),this.hls.trigger($.FRAG_PARSED,{frag:e,part:r})}playlistLabel(){return this.playlistType===Ke.MAIN?"level":"track"}fragInfo(e,r=!0,n){var i,a;return`${this.playlistLabel()} ${e.level} (${n?"part":"frag"}:[${((i=r&&!n?e.startPTS:(n||e).start)!=null?i:NaN).toFixed(3)}-${((a=r&&!n?e.endPTS:(n||e).end)!=null?a:NaN).toFixed(3)}]${n&&e.type==="main"?"INDEPENDENT="+(n.independent?"YES":"NO"):""}`}treatAsGap(e,r){r&&r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const r=this._state;r!==e&&(this._state=e,this.log(`${r}->${e}`))}get state(){return this._state}}function PF(t){return!!t.interstitialsController&&t.enableInterstitialPlayback!==!1}class cK{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:r}=this;let n;if(e.length)e.length===1?n=e[0]:n=gxe(e,r);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function gxe(t,e){const r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++){const a=t[i];r.set(a,n),n+=a.length}return r}var d1={exports:{}},DF;function vxe(){return DF||(DF=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,p),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,y=new Array(g);p<g;p++)y[p]=f[p].fn;return y},o.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,p,g,y){var b=r?r+c:c;if(!this._events[b])return!1;var x=this._events[b],w=arguments.length,E,T;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,p),!0;case 5:return x.fn.call(x.context,d,f,p,g),!0;case 6:return x.fn.call(x.context,d,f,p,g,y),!0}for(T=1,E=new Array(w-1);T<w;T++)E[T-1]=arguments[T];x.fn.apply(x.context,E)}else{var O=x.length,_;for(T=0;T<O;T++)switch(x[T].once&&this.removeListener(c,x[T].fn,void 0,!0),w){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,d);break;case 3:x[T].fn.call(x[T].context,d,f);break;case 4:x[T].fn.call(x[T].context,d,f,p);break;default:if(!E)for(_=1,E=new Array(w-1);_<w;_++)E[_-1]=arguments[_];x[T].fn.apply(x[T].context,E)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,p){var g=r?r+c:c;if(!this._events[g])return this;if(!d)return s(this,g),this;var y=this._events[g];if(y.fn)y.fn===d&&(!p||y.once)&&(!f||y.context===f)&&s(this,g);else{for(var b=0,x=[],w=y.length;b<w;b++)(y[b].fn!==d||p&&!y[b].once||f&&y[b].context!==f)&&x.push(y[b]);x.length?this._events[g]=x.length===1?x[0]:x:s(this,g)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o}(d1)),d1.exports}var yxe=vxe(),pL=H0e(yxe);const Bp="1.6.2",Id={};function bxe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function xxe(){const t=Id[Bp];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),r=self.URL.createObjectURL(e),i={worker:new self.Worker(r),objectURL:r,clientCount:1};return Id[Bp]=i,i}function Sxe(t){const e=Id[t];if(e)return e.clientCount++,e;const r=new self.URL(t,self.location.href).href,i={worker:new self.Worker(r),scriptURL:r,clientCount:1};return Id[t]=i,i}function wxe(t){const e=Id[t||Bp];if(e&&e.clientCount--===1){const{worker:n,objectURL:i}=e;delete Id[t||Bp],i&&self.URL.revokeObjectURL(i),n.terminate()}}function uK(t,e){return e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function mL(t,e){return e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function fx(t,e){let r=0;return r=(t[e]&127)<<21,r|=(t[e+1]&127)<<14,r|=(t[e+2]&127)<<7,r|=t[e+3]&127,r}function Up(t,e){const r=e;let n=0;for(;mL(t,e);){n+=10;const i=fx(t,e+6);n+=i,uK(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(r,r+n)}function Exe(t,e,r,n){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],a=e[r+2],s=a>>2&15;if(s>12){const g=new Error(`invalid ADTS sampling index:${s}`);t.emit($.ERROR,$.ERROR,{type:We.MEDIA_ERROR,details:de.FRAG_PARSING_ERROR,fatal:!0,error:g,reason:g.message});return}const o=(a>>6&3)+1,l=e[r+3]>>6&3|(a&1)<<2,c="mp4a.40."+o,d=i[s];let f=s;(o===5||o===29)&&(f-=3);const p=[o<<3|(f&14)>>1,(f&1)<<7|l<<3];return Rt.log(`manifest codec:${n}, parsed codec:${c}, channels:${l}, rate:${d} (ADTS object type:${o} sampling index:${s})`),{config:p,samplerate:d,channelCount:l,codec:c,parsedCodec:c,manifestCodec:n}}function dK(t,e){return t[e]===255&&(t[e+1]&246)===240}function fK(t,e){return t[e+1]&1?7:9}function gL(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function Txe(t,e){return e+5<t.length}function O0(t,e){return e+1<t.length&&dK(t,e)}function Axe(t,e){return Txe(t,e)&&dK(t,e)&&gL(t,e)<=t.length-e}function _xe(t,e){if(O0(t,e)){const r=fK(t,e);if(e+r>=t.length)return!1;const n=gL(t,e);if(n<=r)return!1;const i=e+n;return i===t.length||O0(t,i)}return!1}function hK(t,e,r,n,i){if(!t.samplerate){const a=Exe(e,r,n,i);if(!a)return;Yt(t,a)}}function pK(t){return 1024*9e4/t}function Oxe(t,e){const r=fK(t,e);if(e+r<=t.length){const n=gL(t,e)-r;if(n>0)return{headerLength:r,frameLength:n}}}function mK(t,e,r,n,i){const a=pK(t.samplerate),s=n+i*a,o=Oxe(e,r);let l;if(o){const{frameLength:f,headerLength:p}=o,g=p+f,y=Math.max(0,r+g-e.length);y?(l=new Uint8Array(g-p),l.set(e.subarray(r+p,e.length),0)):l=e.subarray(r+p,r+g);const b={unit:l,pts:s};return y||t.samples.push(b),{sample:b,length:g,missing:y}}const c=e.length-r;return l=new Uint8Array(c),l.set(e.subarray(r,e.length),0),{sample:{unit:l,pts:s},length:c,missing:-1}}function Rxe(t,e){return mL(t,e)&&fx(t,e+6)+10<=t.length-e}function Cxe(t){if(t.size<2)return;const e=pi(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}}function Pxe(t){if(t.size<2)return;if(t.type==="TXXX"){let r=1;const n=pi(t.data.subarray(r),!0);r+=n.length+1;const i=pi(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=pi(t.data.subarray(1));return{key:t.type,info:"",data:e}}function Dxe(t){if(t.type==="WXXX"){if(t.size<2)return;let r=1;const n=pi(t.data.subarray(r),!0);r+=n.length+1;const i=pi(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=pi(t.data);return{key:t.type,info:"",data:e}}function Lxe(t){return btoa(String.fromCharCode(...t))}function gK(t,e){if(t<0)return-gK(-t,e);const r=Math.pow(10,e);if(Math.abs(t*r%1-.5)<Number.EPSILON){const i=Math.floor(t*r);return(i%2===0?i:i+1)/r}else return Math.round(t*r)/r}function Ixe(t,e){const r=new URL(t),n=new URL(e);if(r.origin!==n.origin)return t;const i=r.pathname.split("/").slice(1),a=n.pathname.split("/").slice(1,-1);for(;i[0]===a[0];)i.shift(),a.shift();for(;a.length;)a.shift(),i.unshift("..");return i.join("/")}function Mxe(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),r=e.toString();return URL.revokeObjectURL(e),r.slice(r.lastIndexOf("/")+1)}catch{let r=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const a=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(i=="x"?a:a&3|8).toString(16)})}}}function Nxe(t){return t instanceof ArrayBuffer?t:t.byteOffset==0&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function f1(t,e=0,r=1/0){return kxe(t,e,r,Uint8Array)}function kxe(t,e,r,n){const i=jxe(t);let a=1;"BYTES_PER_ELEMENT"in n&&(a=n.BYTES_PER_ELEMENT);const s=$xe(t)?t.byteOffset:0,o=(s+t.byteLength)/a,l=(s+e)/a,c=Math.floor(Math.max(0,Math.min(l,o))),d=Math.floor(Math.min(c+Math.max(r,0),o));return new n(i,c,d-c)}function jxe(t){return t instanceof ArrayBuffer?t:t.buffer}function $xe(t){return t&&t.buffer instanceof ArrayBuffer&&t.byteLength!==void 0&&t.byteOffset!==void 0}function Fxe(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null},r=3;if(t.size<2)return;if(t.data[0]!==r){console.log("Ignore frame with unrecognized character encoding");return}const n=t.data.subarray(1).indexOf(0);if(n===-1)return;const i=pi(f1(t.data,1,n)),a=t.data[2+n],s=t.data.subarray(3+n).indexOf(0);if(s===-1)return;const o=pi(f1(t.data,3+n,s));let l;return i==="-->"?l=pi(f1(t.data,4+n+s)):l=Nxe(t.data.subarray(4+n+s)),e.mimeType=i,e.pictureType=a,e.description=o,e.data=l,e}function Bxe(t){return t.type==="PRIV"?Cxe(t):t.type[0]==="W"?Dxe(t):t.type==="APIC"?Fxe(t):Pxe(t)}function Uxe(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=fx(t,4),n=10;return{type:e,size:r,data:t.subarray(n,n+r)}}const Vv=10,Gxe=10;function vK(t){let e=0;const r=[];for(;mL(t,e);){const n=fx(t,e+6);t[e+5]>>6&1&&(e+=Vv),e+=Vv;const i=e+n;for(;e+Gxe<i;){const a=Uxe(t.subarray(e)),s=Bxe(a);s&&r.push(s),e+=a.size+Vv}uK(t,e)&&(e+=Vv)}return r}function yK(t){return t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp"}function zxe(t){if(t.data.byteLength===8){const e=new Uint8Array(t.data),r=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=4772185884e-2),Math.round(n)}}function vL(t){const e=vK(t);for(let r=0;r<e.length;r++){const n=e[r];if(yK(n))return zxe(n)}}let di=function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t}({});function Da(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class yL{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,r,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,r){return!1}appendFrame(e,r,n){}demux(e,r){this.cachedData&&(e=qi(this.cachedData,e),this.cachedData=null);let n=Up(e,0),i=n?n.length:0,a;const s=this._audioTrack,o=this._id3Track,l=n?vL(n):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&Fe(l))&&(this.basePTS=Vxe(l,r,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:di.audioId3,duration:Number.POSITIVE_INFINITY});i<c;){if(this.canParse(e,i)){const d=this.appendFrame(s,e,i);d?(this.frameIndex++,this.lastPTS=d.sample.pts,i+=d.length,a=i):i=c}else Rxe(e,i)?(n=Up(e,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:di.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,a=i):i++;if(i===c&&a!==c){const d=e.slice(a);this.cachedData?this.cachedData=qi(this.cachedData,d):this.cachedData=d}}return{audioTrack:s,videoTrack:Da(),id3Track:o,textTrack:Da()}}demuxSampleAes(e,r,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const r=this.cachedData;return r&&(this.cachedData=null,this.demux(r,0)),{audioTrack:this._audioTrack,videoTrack:Da(),id3Track:this._id3Track,textTrack:Da()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const Vxe=(t,e,r)=>{if(Fe(t))return t*90;const n=r?r.baseTime*9e4/r.timescale:0;return e*9e4+n};let qv=null;const qxe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Hxe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Kxe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Wxe=[0,1,1,4];function bK(t,e,r,n,i){if(r+24>e.length)return;const a=xK(e,r);if(a&&r+a.frameLength<=e.length){const s=a.samplesPerFrame*9e4/a.sampleRate,o=n+i*s,l={unit:e.subarray(r,r+a.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(l),{sample:l,length:a.frameLength,missing:0}}}function xK(t,e){const r=t[e+1]>>3&3,n=t[e+1]>>1&3,i=t[e+2]>>4&15,a=t[e+2]>>2&3;if(r!==1&&i!==0&&i!==15&&a!==3){const s=t[e+2]>>1&1,o=t[e+3]>>6,l=r===3?3-n:n===3?3:4,c=qxe[l*14+i-1]*1e3,f=Hxe[(r===3?0:r===2?1:2)*3+a],p=o===3?1:2,g=Kxe[r][n],y=Wxe[n],b=g*8*y,x=Math.floor(g*c/f+s)*y;if(qv===null){const T=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);qv=T?parseInt(T[1]):0}return!!qv&&qv<=87&&n===2&&c>=224e3&&o===0&&(t[e+3]=t[e+3]|128),{sampleRate:f,channelCount:p,frameLength:x,samplesPerFrame:b}}}function bL(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function SK(t,e){return e+1<t.length&&bL(t,e)}function Yxe(t,e){return bL(t,e)&&4<=t.length-e}function wK(t,e){if(e+1<t.length&&bL(t,e)){const n=xK(t,e);let i=4;n!=null&&n.frameLength&&(i=n.frameLength);const a=e+i;return a===t.length||SK(t,a)}return!1}class Xxe extends yL{constructor(e,r){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=r}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,r){if(!e)return!1;const n=Up(e,0);let i=(n==null?void 0:n.length)||0;if(wK(e,i))return!1;for(let a=e.length;i<a;i++)if(_xe(e,i))return r.log("ADTS sync word found !"),!0;return!1}canParse(e,r){return Axe(e,r)}appendFrame(e,r,n){hK(e,this.observer,r,n,e.manifestCodec);const i=mK(e,r,n,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const EK=(t,e)=>{let r=0,n=5;e+=n;const i=new Uint32Array(1),a=new Uint32Array(1),s=new Uint8Array(1);for(;n>0;){s[0]=t[e];const o=Math.min(n,8),l=8-o;a[0]=4278190080>>>24+l<<l,i[0]=(s[0]&a[0])>>l,r=r?r<<o|i[0]:i[0],e+=1,n-=o}return r};class Qxe extends yL{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,r){return r+64<e.length}appendFrame(e,r,n){const i=TK(e,r,n,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const r=Up(e,0);if(!r)return!1;const n=r.length;return e[n]===11&&e[n+1]===119&&vL(r)!==void 0&&EK(e,n)<16}}function TK(t,e,r,n,i){if(r+8>e.length||e[r]!==11||e[r+1]!==119)return-1;const a=e[r+4]>>6;if(a>=3)return-1;const o=[48e3,44100,32e3][a],l=e[r+4]&63,d=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+a]*2;if(r+d>e.length)return-1;const f=e[r+6]>>5;let p=0;f===2?p+=2:(f&1&&f!==1&&(p+=2),f&4&&(p+=2));const g=(e[r+6]<<8|e[r+7])>>12-p&1,b=[2,1,2,3,3,4,4,5][f]+g,x=e[r+5]>>3,w=e[r+5]&7,E=new Uint8Array([a<<6|x<<1|w>>2,(w&3)<<6|f<<3|g<<2|l>>4,l<<4&224]),T=1536/o*9e4,O=n+i*T,_=e.subarray(r,r+d);return t.config=E,t.channelCount=b,t.samplerate=o,t.samples.push({unit:_,pts:O}),d}class Zxe extends yL{resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const r=Up(e,0);let n=(r==null?void 0:r.length)||0;if(r&&e[n]===11&&e[n+1]===119&&vL(r)!==void 0&&EK(e,n)<=16)return!1;for(let i=e.length;n<i;n++)if(wK(e,n))return Rt.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,r){return Yxe(e,r)}appendFrame(e,r,n){if(this.basePTS!==null)return bK(e,r,n,this.basePTS,this.frameIndex)}}const Jxe=/\/emsg[-/]ID3/i;class eSe{constructor(e,r){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=r}resetTimeStamp(){}resetInitSegment(e,r,n,i){const a=this.videoTrack=Da("video",1),s=this.audioTrack=Da("audio",1),o=this.txtTrack=Da("text",1);if(this.id3Track=Da("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=j9(e);if(l.video){const{id:c,timescale:d,codec:f,supplemental:p}=l.video;a.id=c,a.timescale=o.timescale=d,a.codec=f,a.supplemental=p}if(l.audio){const{id:c,timescale:d,codec:f}=l.audio;s.id=c,s.timescale=d,s.codec=f}o.id=M9.text,a.sampleDuration=0,a.duration=s.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return Q0e(e)}demux(e,r){this.timeOffset=r;let n=e;const i=this.videoTrack,a=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=qi(this.remainderData,e));const o=abe(n);this.remainderData=o.remainder,i.samples=o.valid||new Uint8Array}else i.samples=n;const s=this.extractID3Track(i,r);return a.samples=Z$(r,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,r=this.videoTrack,n=this.txtTrack;r.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(r,this.timeOffset);return n.samples=Z$(e,r),{videoTrack:r,audioTrack:Da(),id3Track:i,textTrack:Da()}}extractID3Track(e,r){const n=this.id3Track;if(e.samples.length){const i=ct(e.samples,["emsg"]);i&&i.forEach(a=>{const s=obe(a);if(Jxe.test(s.schemeIdUri)){const o=LF(s,r);let l=s.eventDuration===4294967295?Number.POSITIVE_INFINITY:s.eventDuration/s.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=s.payload;n.samples.push({data:c,len:c.byteLength,dts:o,pts:o,type:di.emsg,duration:l})}else if(this.config.enableEmsgKLVMetadata&&s.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const o=LF(s,r);n.samples.push({data:s.payload,len:s.payload.byteLength,dts:o,pts:o,type:di.misbklv,duration:Number.POSITIVE_INFINITY})}})}return n}demuxSampleAes(e,r,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function LF(t,e){return Fe(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class tSe{constructor(e,r,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new cL(r,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,vl.cbc)}decryptAacSample(e,r,n){const i=e[r].unit;if(i.length<=16)return;const a=i.subarray(16,i.length-i.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(s).then(o=>{const l=new Uint8Array(o);i.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,r+1,n)})}decryptAacSamples(e,r,n){for(;;r++){if(r>=e.length){n();return}if(!(e[r].unit.length<32)&&(this.decryptAacSample(e,r,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const r=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(r);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)n.set(e.subarray(a,a+16),i);return n}getAvcDecryptedUnit(e,r){const n=new Uint8Array(r);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)e.set(n.subarray(i,i+16),a);return e}decryptAvcSample(e,r,n,i,a){const s=F9(a.data),o=this.getAvcEncryptedData(s);this.decryptBuffer(o.buffer).then(l=>{a.data=this.getAvcDecryptedUnit(s,l),this.decrypter.isSync()||this.decryptAvcSamples(e,r,n+1,i)})}decryptAvcSamples(e,r,n,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;r++,n=0){if(r>=e.length){i();return}const a=e[r].units;for(;!(n>=a.length);n++){const s=a[n];if(!(s.data.length<=48||s.type!==1&&s.type!==5)&&(this.decryptAvcSample(e,r,n,i,s),!this.decrypter.isSync()))return}}}}class AK{constructor(){this.VideoSample=null}createVideoSample(e,r,n){return{key:e,frame:!1,pts:r,dts:n,units:[],length:0}}getLastNalUnit(e){var r;let n=this.VideoSample,i;if((!n||n.units.length===0)&&(n=e[e.length-1]),(r=n)!=null&&r.units){const a=n.units;i=a[a.length-1]}return i}pushAccessUnit(e,r){if(e.units.length&&e.frame){if(e.pts===void 0){const n=r.samples,i=n.length;if(i){const a=n[i-1];e.pts=a.pts,e.dts=a.dts}else{r.dropped++;return}}r.samples.push(e)}}parseNALu(e,r,n){const i=r.byteLength;let a=e.naluState||0;const s=a,o=[];let l=0,c,d,f,p=-1,g=0;for(a===-1&&(p=0,g=this.getNALuType(r,0),a=0,l=1);l<i;){if(c=r[l++],!a){a=c?0:1;continue}if(a===1){a=c?0:2;continue}if(!c)a=3;else if(c===1){if(d=l-a-1,p>=0){const y={data:r.subarray(p,d),type:g};o.push(y)}else{const y=this.getLastNalUnit(e.samples);y&&(s&&l<=4-s&&y.state&&(y.data=y.data.subarray(0,y.data.byteLength-s)),d>0&&(y.data=qi(y.data,r.subarray(0,d)),y.state=0))}l<i?(f=this.getNALuType(r,l),p=l,g=f,a=0):a=-1}else a=0}if(p>=0&&a>=0){const y={data:r.subarray(p,i),type:g,state:a};o.push(y)}if(o.length===0){const y=this.getLastNalUnit(e.samples);y&&(y.data=qi(y.data,r))}return e.naluState=a,o}}class dp{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,r=this.bytesAvailable,n=e.byteLength-r,i=new Uint8Array(4),a=Math.min(4,r);if(a===0)throw new Error("no bytes available");i.set(e.subarray(n,n+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=a*8,this.bytesAvailable-=a}skipBits(e){let r;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,r=e>>3,e-=r<<3,this.bytesAvailable-=r,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let r=Math.min(this.bitsAvailable,e);const n=this.word>>>32-r;if(e>32&&Rt.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=r,this.bitsAvailable>0)this.word<<=r;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return r=e-r,r>0&&this.bitsAvailable?n<<r|this.readBits(r):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class IF extends AK{parsePES(e,r,n,i){const a=this.parseNALu(e,n.data,i);let s=this.VideoSample,o,l=!1;n.data=null,s&&a.length&&!e.audFound&&(this.pushAccessUnit(s,e),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.forEach(c=>{var d,f;switch(c.type){case 1:{let b=!1;o=!0;const x=c.data;if(l&&x.length>4){const w=this.readSliceType(x);(w===2||w===4||w===7||w===9)&&(b=!0)}if(b){var p;(p=s)!=null&&p.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null)}s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.frame=!0,s.key=b;break}case 5:o=!0,(d=s)!=null&&d.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0,s.frame=!0;break;case 6:{o=!0,sL(c.data,1,n.pts,r.samples);break}case 7:{var g,y;o=!0,l=!0;const b=c.data,x=this.readSPS(b);if(!e.sps||e.width!==x.width||e.height!==x.height||((g=e.pixelRatio)==null?void 0:g[0])!==x.pixelRatio[0]||((y=e.pixelRatio)==null?void 0:y[1])!==x.pixelRatio[1]){e.width=x.width,e.height=x.height,e.pixelRatio=x.pixelRatio,e.sps=[b];const w=b.subarray(1,4);let E="avc1.";for(let T=0;T<3;T++){let O=w[T].toString(16);O.length<2&&(O="0"+O),E+=O}e.codec=E}break}case 8:o=!0,e.pps=[c.data];break;case 9:o=!0,e.audFound=!0,(f=s)!=null&&f.frame&&(this.pushAccessUnit(s,e),s=null),s||(s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:o=!0;break;default:o=!1;break}s&&o&&s.units.push(c)}),i&&s&&(this.pushAccessUnit(s,e),this.VideoSample=null)}getNALuType(e,r){return e[r]&31}readSliceType(e){const r=new dp(e);return r.readUByte(),r.readUEG(),r.readUEG()}skipScalingList(e,r){let n=8,i=8,a;for(let s=0;s<e;s++)i!==0&&(a=r.readEG(),i=(n+a+256)%256),n=i===0?n:i}readSPS(e){const r=new dp(e);let n=0,i=0,a=0,s=0,o,l,c;const d=r.readUByte.bind(r),f=r.readBits.bind(r),p=r.readUEG.bind(r),g=r.readBoolean.bind(r),y=r.skipBits.bind(r),b=r.skipEG.bind(r),x=r.skipUEG.bind(r),w=this.skipScalingList.bind(this);d();const E=d();if(f(5),y(3),d(),x(),E===100||E===110||E===122||E===244||E===44||E===83||E===86||E===118||E===128){const D=p();if(D===3&&y(1),x(),x(),y(1),g())for(l=D!==3?8:12,c=0;c<l;c++)g()&&(c<6?w(16,r):w(64,r))}x();const T=p();if(T===0)p();else if(T===1)for(y(1),b(),b(),o=p(),c=0;c<o;c++)b();x(),y(1);const O=p(),_=p(),P=f(1);P===0&&y(1),y(1),g()&&(n=p(),i=p(),a=p(),s=p());let R=[1,1];if(g()&&g())switch(d()){case 1:R=[1,1];break;case 2:R=[12,11];break;case 3:R=[10,11];break;case 4:R=[16,11];break;case 5:R=[40,33];break;case 6:R=[24,11];break;case 7:R=[20,11];break;case 8:R=[32,11];break;case 9:R=[80,33];break;case 10:R=[18,11];break;case 11:R=[15,11];break;case 12:R=[64,33];break;case 13:R=[160,99];break;case 14:R=[4,3];break;case 15:R=[3,2];break;case 16:R=[2,1];break;case 255:{R=[d()<<8|d(),d()<<8|d()];break}}return{width:Math.ceil((O+1)*16-n*2-i*2),height:(2-P)*(_+1)*16-(P?2:4)*(a+s),pixelRatio:R}}}class MF extends AK{constructor(...e){super(...e),this.initVPS=null}parsePES(e,r,n,i){const a=this.parseNALu(e,n.data,i);let s=this.VideoSample,o,l=!1;n.data=null,s&&a.length&&!e.audFound&&(this.pushAccessUnit(s,e),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.forEach(c=>{var d,f;switch(c.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:s||(s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),s.frame=!0,o=!0;break;case 16:case 17:case 18:case 21:if(o=!0,l){var p;(p=s)!=null&&p.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null)}s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0,s.frame=!0;break;case 19:case 20:o=!0,(d=s)!=null&&d.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0,s.frame=!0;break;case 39:o=!0,sL(c.data,2,n.pts,r.samples);break;case 32:o=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=Yt(e.params,this.readVPS(c.data)),this.initVPS=c.data),e.vps=[c.data];break;case 33:if(o=!0,l=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],c.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const g=this.readSPS(c.data);e.width=g.width,e.height=g.height,e.pixelRatio=g.pixelRatio,e.codec=g.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const y in g.params)e.params[y]=g.params[y]}this.pushParameterSet(e.sps,c.data,e.vps),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),s.key=!0;break;case 34:if(o=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const g=this.readPPS(c.data);for(const y in g)e.params[y]=g[y]}this.pushParameterSet(e.pps,c.data,e.vps)}break;case 35:o=!0,e.audFound=!0,(f=s)!=null&&f.frame&&(this.pushAccessUnit(s,e),s=null),s||(s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:o=!1;break}s&&o&&s.units.push(c)}),i&&s&&(this.pushAccessUnit(s,e),this.VideoSample=null)}pushParameterSet(e,r,n){(n&&n[0]===this.initVPS||!n&&!e.length)&&e.push(r)}getNALuType(e,r){return(e[r]&126)>>>1}ebsp2rbsp(e){const r=new Uint8Array(e.byteLength);let n=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(r[n]=e[i],n++);return new Uint8Array(r.buffer,0,n)}pushAccessUnit(e,r){super.pushAccessUnit(e,r),this.initVPS&&(this.initVPS=null)}readVPS(e){const r=new dp(e);r.readUByte(),r.readUByte(),r.readBits(4),r.skipBits(2),r.readBits(6);const n=r.readBits(3),i=r.readBoolean();return{numTemporalLayers:n+1,temporalIdNested:i}}readSPS(e){const r=new dp(this.ebsp2rbsp(e));r.readUByte(),r.readUByte(),r.readBits(4);const n=r.readBits(3);r.readBoolean();const i=r.readBits(2),a=r.readBoolean(),s=r.readBits(5),o=r.readUByte(),l=r.readUByte(),c=r.readUByte(),d=r.readUByte(),f=r.readUByte(),p=r.readUByte(),g=r.readUByte(),y=r.readUByte(),b=r.readUByte(),x=r.readUByte(),w=r.readUByte(),E=[],T=[];for(let Ie=0;Ie<n;Ie++)E.push(r.readBoolean()),T.push(r.readBoolean());if(n>0)for(let Ie=n;Ie<8;Ie++)r.readBits(2);for(let Ie=0;Ie<n;Ie++)E[Ie]&&(r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte()),T[Ie]&&r.readUByte();r.readUEG();const O=r.readUEG();O==3&&r.skipBits(1);const _=r.readUEG(),P=r.readUEG(),R=r.readBoolean();let D=0,I=0,M=0,N=0;R&&(D+=r.readUEG(),I+=r.readUEG(),M+=r.readUEG(),N+=r.readUEG());const k=r.readUEG(),F=r.readUEG(),U=r.readUEG(),z=r.readBoolean();for(let Ie=z?0:n;Ie<=n;Ie++)r.skipUEG(),r.skipUEG(),r.skipUEG();if(r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.readBoolean()&&r.readBoolean())for(let nt=0;nt<4;nt++)for(let Z=0;Z<(nt===3?2:6);Z++)if(!r.readBoolean())r.readUEG();else{const ne=Math.min(64,1<<4+(nt<<1));nt>1&&r.readEG();for(let Ae=0;Ae<ne;Ae++)r.readEG()}r.readBoolean(),r.readBoolean(),r.readBoolean()&&(r.readUByte(),r.skipUEG(),r.skipUEG(),r.readBoolean());const V=r.readUEG();let q=0;for(let Ie=0;Ie<V;Ie++){let nt=!1;if(Ie!==0&&(nt=r.readBoolean()),nt){Ie===V&&r.readUEG(),r.readBoolean(),r.readUEG();let Z=0;for(let ae=0;ae<=q;ae++){const ne=r.readBoolean();let Ae=!1;ne||(Ae=r.readBoolean()),(ne||Ae)&&Z++}q=Z}else{const Z=r.readUEG(),ae=r.readUEG();q=Z+ae;for(let ne=0;ne<Z;ne++)r.readUEG(),r.readBoolean();for(let ne=0;ne<ae;ne++)r.readUEG(),r.readBoolean()}}if(r.readBoolean()){const Ie=r.readUEG();for(let nt=0;nt<Ie;nt++){for(let Z=0;Z<U+4;Z++)r.readBits(1);r.readBits(1)}}let Y=0,X=1,te=1,ee=!0,ue=1,he=0;r.readBoolean(),r.readBoolean();let ve=!1;if(r.readBoolean()){if(r.readBoolean()){const _e=r.readUByte(),Pe=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],Ne=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];_e>0&&_e<16?(X=Pe[_e-1],te=Ne[_e-1]):_e===255&&(X=r.readBits(16),te=r.readBits(16))}if(r.readBoolean()&&r.readBoolean(),r.readBoolean()&&(r.readBits(3),r.readBoolean(),r.readBoolean()&&(r.readUByte(),r.readUByte(),r.readUByte())),r.readBoolean()&&(r.readUEG(),r.readUEG()),r.readBoolean(),r.readBoolean(),r.readBoolean(),ve=r.readBoolean(),ve&&(D+=r.readUEG(),I+=r.readUEG(),M+=r.readUEG(),N+=r.readUEG()),r.readBoolean()&&(ue=r.readBits(32),he=r.readBits(32),r.readBoolean()&&r.readUEG(),r.readBoolean())){const Ne=r.readBoolean(),tt=r.readBoolean();let Ft=!1;(Ne||tt)&&(Ft=r.readBoolean(),Ft&&(r.readUByte(),r.readBits(5),r.readBoolean(),r.readBits(5)),r.readBits(4),r.readBits(4),Ft&&r.readBits(4),r.readBits(5),r.readBits(5),r.readBits(5));for(let Xt=0;Xt<=n;Xt++){ee=r.readBoolean();const pr=ee||r.readBoolean();let yn=!1;pr?r.readEG():yn=r.readBoolean();const yi=yn?1:r.readUEG()+1;if(Ne)for(let bn=0;bn<yi;bn++)r.readUEG(),r.readUEG(),Ft&&(r.readUEG(),r.readUEG()),r.skipBits(1);if(tt)for(let bn=0;bn<yi;bn++)r.readUEG(),r.readUEG(),Ft&&(r.readUEG(),r.readUEG()),r.skipBits(1)}}r.readBoolean()&&(r.readBoolean(),r.readBoolean(),r.readBoolean(),Y=r.readUEG())}let me=_,Ee=P;if(R||ve){let Ie=1,nt=1;O===1?Ie=nt=2:O==2&&(Ie=2),me=_-Ie*I-Ie*D,Ee=P-nt*N-nt*M}const Ce=i?["A","B","C"][i]:"",ce=o<<24|l<<16|c<<8|d;let ke=0;for(let Ie=0;Ie<32;Ie++)ke=(ke|(ce>>Ie&1)<<31-Ie)>>>0;let Ue=ke.toString(16);return s===1&&Ue==="2"&&(Ue="6"),{codecString:`hvc1.${Ce}${s}.${Ue}.${a?"H":"L"}${w}.B0`,params:{general_tier_flag:a,general_profile_idc:s,general_profile_space:i,general_profile_compatibility_flags:[o,l,c,d],general_constraint_indicator_flags:[f,p,g,y,b,x],general_level_idc:w,bit_depth:k+8,bit_depth_luma_minus8:k,bit_depth_chroma_minus8:F,min_spatial_segmentation_idc:Y,chroma_format_idc:O,frame_rate:{fixed:ee,fps:he/ue}},width:me,height:Ee,pixelRatio:[X,te]}}readPPS(e){const r=new dp(this.ebsp2rbsp(e));r.readUByte(),r.readUByte(),r.skipUEG(),r.skipUEG(),r.skipBits(2),r.skipBits(3),r.skipBits(2),r.skipUEG(),r.skipUEG(),r.skipEG(),r.skipBits(2),r.readBoolean()&&r.skipUEG(),r.skipEG(),r.skipEG(),r.skipBits(4);const i=r.readBoolean(),a=r.readBoolean();let s=1;return a&&i?s=0:a?s=3:i&&(s=2),{parallelismType:s}}matchSPS(e,r){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,r).substr(3)}}const tn=188;class Qo{constructor(e,r,n,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.logger=i,this.videoParser=null}static probe(e,r){const n=Qo.syncOffset(e);return n>0&&r.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const r=e.length;let n=Math.min(tn*5,r-tn)+1,i=0;for(;i<n;){let a=!1,s=-1,o=0;for(let l=i;l<r;l+=tn)if(e[l]===71&&(r-l===tn||e[l+tn]===71)){if(o++,s===-1&&(s=l,s!==0&&(n=Math.min(s+tn*99,e.length-tn)+1)),a||(a=FR(e,l)===0),a&&o>1&&(s===0&&o>2||l+tn>n))return s}else{if(o)return-1;break}i++}return-1}static createTrack(e,r){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:M9[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?r:void 0}}resetInitSegment(e,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Qo.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=Qo.createTrack("audio",i),this._id3Track=Qo.createTrack("id3"),this._txtTrack=Qo.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:r,_id3Track:n}=this;e&&(e.pesData=null),r&&(r.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,r,n=!1,i=!1){n||(this.sampleAes=null);let a;const s=this._videoTrack,o=this._audioTrack,l=this._id3Track,c=this._txtTrack;let d=s.pid,f=s.pesData,p=o.pid,g=l.pid,y=o.pesData,b=l.pesData,x=null,w=this.pmtParsed,E=this._pmtId,T=e.length;if(this.remainderData&&(e=qi(this.remainderData,e),T=e.length,this.remainderData=null),T<tn&&!i)return this.remainderData=e,{audioTrack:o,videoTrack:s,id3Track:l,textTrack:c};const O=Math.max(0,Qo.syncOffset(e));T-=(T-O)%tn,T<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,T,e.buffer.byteLength-T));let _=0;for(let R=O;R<T;R+=tn)if(e[R]===71){const D=!!(e[R+1]&64),I=FR(e,R),M=(e[R+3]&48)>>4;let N;if(M>1){if(N=R+5+e[R+4],N===R+tn)continue}else N=R+4;switch(I){case d:if(D){if(f&&(a=Zu(f,this.logger))){if(this.videoParser===null)switch(s.segmentCodec){case"avc":this.videoParser=new IF;break;case"hevc":this.videoParser=new MF;break}this.videoParser!==null&&this.videoParser.parsePES(s,c,a,!1)}f={data:[],size:0}}f&&(f.data.push(e.subarray(N,R+tn)),f.size+=R+tn-N);break;case p:if(D){if(y&&(a=Zu(y,this.logger)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,a);break;case"mp3":this.parseMPEGPES(o,a);break;case"ac3":this.parseAC3PES(o,a);break}y={data:[],size:0}}y&&(y.data.push(e.subarray(N,R+tn)),y.size+=R+tn-N);break;case g:D&&(b&&(a=Zu(b,this.logger))&&this.parseID3PES(l,a),b={data:[],size:0}),b&&(b.data.push(e.subarray(N,R+tn)),b.size+=R+tn-N);break;case 0:D&&(N+=e[N]+1),E=this._pmtId=rSe(e,N);break;case E:{D&&(N+=e[N]+1);const k=nSe(e,N,this.typeSupported,n,this.observer,this.logger);d=k.videoPid,d>0&&(s.pid=d,s.segmentCodec=k.segmentVideoCodec),p=k.audioPid,p>0&&(o.pid=p,o.segmentCodec=k.segmentAudioCodec),g=k.id3Pid,g>0&&(l.pid=g),x!==null&&!w&&(this.logger.warn(`MPEG-TS PMT found at ${R} after unknown PID '${x}'. Backtracking to sync byte @${O} to parse all TS packets.`),x=null,R=O-188),w=this.pmtParsed=!0;break}case 17:case 8191:break;default:x=I;break}}else _++;_>0&&BR(this.observer,new Error(`Found ${_} TS packet/s that do not start with 0x47`),void 0,this.logger),s.pesData=f,o.pesData=y,l.pesData=b;const P={audioTrack:o,videoTrack:s,id3Track:l,textTrack:c};return i&&this.extractRemainingSamples(P),P}flush(){const{remainderData:e}=this;this.remainderData=null;let r;return e?r=this.demux(e,-1,!1,!0):r={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r}extractRemainingSamples(e){const{audioTrack:r,videoTrack:n,id3Track:i,textTrack:a}=e,s=n.pesData,o=r.pesData,l=i.pesData;let c;if(s&&(c=Zu(s,this.logger))){if(this.videoParser===null)switch(n.segmentCodec){case"avc":this.videoParser=new IF;break;case"hevc":this.videoParser=new MF;break}this.videoParser!==null&&(this.videoParser.parsePES(n,a,c,!0),n.pesData=null)}else n.pesData=s;if(o&&(c=Zu(o,this.logger))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,c);break;case"mp3":this.parseMPEGPES(r,c);break;case"ac3":this.parseAC3PES(r,c);break}r.pesData=null}else o!=null&&o.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=o;l&&(c=Zu(l,this.logger))?(this.parseID3PES(i,c),i.pesData=null):i.pesData=l}demuxSampleAes(e,r,n){const i=this.demux(e,n,!0,!this.config.progressive),a=this.sampleAes=new tSe(this.observer,this.config,r);return this.decrypt(i,a)}decrypt(e,r){return new Promise(n=>{const{audioTrack:i,videoTrack:a}=e;i.samples&&i.segmentCodec==="aac"?r.decryptAacSamples(i.samples,0,()=>{a.samples?r.decryptAvcSamples(a.samples,0,0,()=>{n(e)}):n(e)}):a.samples&&r.decryptAvcSamples(a.samples,0,0,()=>{n(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,r){let n=0;const i=this.aacOverFlow;let a=r.data;if(i){this.aacOverFlow=null;const f=i.missing,p=i.sample.unit.byteLength;if(f===-1)a=qi(i.sample.unit,a);else{const g=p-f;i.sample.unit.set(a.subarray(0,f),g),e.samples.push(i.sample),n=i.missing}}let s,o;for(s=n,o=a.length;s<o-1&&!O0(a,s);s++);if(s!==n){let f;const p=s<o-1;if(p?f=`AAC PES did not start with ADTS header,offset:${s}`:f="No ADTS header found in AAC PES",BR(this.observer,new Error(f),p,this.logger),!p)return}hK(e,this.observer,a,s,this.audioCodec);let l;if(r.pts!==void 0)l=r.pts;else if(i){const f=pK(e.samplerate);l=i.sample.pts+f}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,d;for(;s<o;)if(d=mK(e,a,s,l,c),s+=d.length,d.missing){this.aacOverFlow=d;break}else for(c++;s<o-1&&!O0(a,s);s++);}parseMPEGPES(e,r){const n=r.data,i=n.length;let a=0,s=0;const o=r.pts;if(o===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;s<i;)if(SK(n,s)){const l=bK(e,n,s,o,a);if(l)s+=l.length,a++;else break}else s++}parseAC3PES(e,r){{const n=r.data,i=r.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const a=n.length;let s=0,o=0,l;for(;o<a&&(l=TK(e,n,o,i,s++))>0;)o+=l}}parseID3PES(e,r){if(r.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=Yt({},r,{type:this._videoTrack?di.emsg:di.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function FR(t,e){return((t[e+1]&31)<<8)+t[e+2]}function rSe(t,e){return(t[e+10]&31)<<8|t[e+11]}function nSe(t,e,r,n,i,a){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=(t[e+1]&15)<<8|t[e+2],l=e+3+o-4,c=(t[e+10]&15)<<8|t[e+11];for(e+=12+c;e<l;){const d=FR(t,e),f=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!n){h1("ADTS AAC",a);break}case 15:s.audioPid===-1&&(s.audioPid=d);break;case 21:s.id3Pid===-1&&(s.id3Pid=d);break;case 219:if(!n){h1("H.264",a);break}case 27:s.videoPid===-1&&(s.videoPid=d);break;case 3:case 4:!r.mpeg&&!r.mp3?a.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=d,s.segmentAudioCodec="mp3");break;case 193:if(!n){h1("AC-3",a);break}case 129:r.ac3?s.audioPid===-1&&(s.audioPid=d,s.segmentAudioCodec="ac3"):a.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&f>0){let p=e+5,g=f;for(;g>2;){switch(t[p]){case 106:r.ac3!==!0?a.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=d,s.segmentAudioCodec="ac3");break}const b=t[p+1]+2;p+=b,g-=b}}break;case 194:case 135:return BR(i,new Error("Unsupported EC-3 in M2TS found"),void 0,a),s;case 36:s.videoPid===-1&&(s.videoPid=d,s.segmentVideoCodec="hevc",a.log("HEVC in M2TS found"));break}e+=f+5}return s}function BR(t,e,r,n){n.warn(`parsing error: ${e.message}`),t.emit($.ERROR,$.ERROR,{type:We.MEDIA_ERROR,details:de.FRAG_PARSING_ERROR,fatal:!1,levelRetry:r,error:e,reason:e.message})}function h1(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Zu(t,e){let r=0,n,i,a,s,o;const l=t.data;if(!t||t.size===0)return null;for(;l[0].length<19&&l.length>1;)l[0]=qi(l[0],l[1]),l.splice(1,1);if(n=l[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(i=(n[4]<<8)+n[5],i&&i>t.size-6)return null;const d=n[7];d&192&&(s=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,d&64?(o=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,s-o>60*9e4&&(e.warn(`${Math.round((s-o)/9e4)}s delta between PTS and DTS, align them`),s=o)):o=s),a=n[8];let f=a+9;if(t.size<=f)return null;t.size-=f;const p=new Uint8Array(t.size);for(let g=0,y=l.length;g<y;g++){n=l[g];let b=n.byteLength;if(f)if(f>b){f-=b;continue}else n=n.subarray(f),b-=f,f=0;p.set(n,r),r+=b}return i&&(i-=a+3),{data:p,pts:s,dts:o,len:i}}return null}class iSe{static getSilentFrame(e,r){switch(e){case"mp4a.40.2":if(r===1)return new Uint8Array([0,200,0,128,35,128]);if(r===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(r===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(r===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(r===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(r===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(r===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Go=Math.pow(2,32)-1;class le{static init(){le.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in le.types)le.types.hasOwnProperty(e)&&(le.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);le.HDLR_TYPES={video:r,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);le.STTS=le.STSC=le.STCO=a,le.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),le.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),le.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),le.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);le.FTYP=le.box(le.types.ftyp,s,l,s,o),le.DINF=le.box(le.types.dinf,le.box(le.types.dref,i))}static box(e,...r){let n=8,i=r.length;const a=i;for(;i--;)n+=r[i].byteLength;const s=new Uint8Array(n);for(s[0]=n>>24&255,s[1]=n>>16&255,s[2]=n>>8&255,s[3]=n&255,s.set(e,4),i=0,n=8;i<a;i++)s.set(r[i],n),n+=r[i].byteLength;return s}static hdlr(e){return le.box(le.types.hdlr,le.HDLR_TYPES[e])}static mdat(e){return le.box(le.types.mdat,e)}static mdhd(e,r){r*=e;const n=Math.floor(r/(Go+1)),i=Math.floor(r%(Go+1));return le.box(le.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return le.box(le.types.mdia,le.mdhd(e.timescale||0,e.duration||0),le.hdlr(e.type),le.minf(e))}static mfhd(e){return le.box(le.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?le.box(le.types.minf,le.box(le.types.smhd,le.SMHD),le.DINF,le.stbl(e)):le.box(le.types.minf,le.box(le.types.vmhd,le.VMHD),le.DINF,le.stbl(e))}static moof(e,r,n){return le.box(le.types.moof,le.mfhd(e),le.traf(n,r))}static moov(e){let r=e.length;const n=[];for(;r--;)n[r]=le.trak(e[r]);return le.box.apply(null,[le.types.moov,le.mvhd(e[0].timescale||0,e[0].duration||0)].concat(n).concat(le.mvex(e)))}static mvex(e){let r=e.length;const n=[];for(;r--;)n[r]=le.trex(e[r]);return le.box.apply(null,[le.types.mvex,...n])}static mvhd(e,r){r*=e;const n=Math.floor(r/(Go+1)),i=Math.floor(r%(Go+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return le.box(le.types.mvhd,a)}static sdtp(e){const r=e.samples||[],n=new Uint8Array(4+r.length);let i,a;for(i=0;i<r.length;i++)a=r[i].flags,n[i+4]=a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy;return le.box(le.types.sdtp,n)}static stbl(e){return le.box(le.types.stbl,le.stsd(e),le.box(le.types.stts,le.STTS),le.box(le.types.stsc,le.STSC),le.box(le.types.stsz,le.STSZ),le.box(le.types.stco,le.STCO))}static avc1(e){let r=[],n=[],i,a,s;for(i=0;i<e.sps.length;i++)a=e.sps[i],s=a.byteLength,r.push(s>>>8&255),r.push(s&255),r=r.concat(Array.prototype.slice.call(a));for(i=0;i<e.pps.length;i++)a=e.pps[i],s=a.byteLength,n.push(s>>>8&255),n.push(s&255),n=n.concat(Array.prototype.slice.call(a));const o=le.box(le.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(n))),l=e.width,c=e.height,d=e.pixelRatio[0],f=e.pixelRatio[1];return le.box(le.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,le.box(le.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),le.box(le.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,d&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(e){const r=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...r,6,1,2])}static audioStsd(e){const r=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,r>>8&255,r&255,0,0])}static mp4a(e){return le.box(le.types.mp4a,le.audioStsd(e),le.box(le.types.esds,le.esds(e)))}static mp3(e){return le.box(le.types[".mp3"],le.audioStsd(e))}static ac3(e){return le.box(le.types["ac-3"],le.audioStsd(e),le.box(le.types.dac3,e.config))}static stsd(e){const{segmentCodec:r}=e;if(e.type==="audio"){if(r==="aac")return le.box(le.types.stsd,le.STSD,le.mp4a(e));if(r==="ac3"&&e.config)return le.box(le.types.stsd,le.STSD,le.ac3(e));if(r==="mp3"&&e.codec==="mp3")return le.box(le.types.stsd,le.STSD,le.mp3(e))}else if(e.pps&&e.sps){if(r==="avc")return le.box(le.types.stsd,le.STSD,le.avc1(e));if(r==="hevc"&&e.vps)return le.box(le.types.stsd,le.STSD,le.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${r}/${e.codec})`)}static tkhd(e){const r=e.id,n=(e.duration||0)*(e.timescale||0),i=e.width||0,a=e.height||0,s=Math.floor(n/(Go+1)),o=Math.floor(n%(Go+1));return le.box(le.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,a>>8&255,a&255,0,0]))}static traf(e,r){const n=le.sdtp(e),i=e.id,a=Math.floor(r/(Go+1)),s=Math.floor(r%(Go+1));return le.box(le.types.traf,le.box(le.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),le.box(le.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,s>>24,s>>16&255,s>>8&255,s&255])),le.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,le.box(le.types.trak,le.tkhd(e),le.mdia(e))}static trex(e){const r=e.id;return le.box(le.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,r){const n=e.samples||[],i=n.length,a=12+16*i,s=new Uint8Array(a);let o,l,c,d,f,p;for(r+=8+a,s.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255],0),o=0;o<i;o++)l=n[o],c=l.duration,d=l.size,f=l.flags,p=l.cts,s.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,p>>>24&255,p>>>16&255,p>>>8&255,p&255],12+16*o);return le.box(le.types.trun,s)}static initSegment(e){le.types||le.init();const r=le.moov(e);return qi(le.FTYP,r)}static hvc1(e){const r=e.params,n=[e.vps,e.sps,e.pps],i=4,a=new Uint8Array([1,r.general_profile_space<<6|(r.general_tier_flag?32:0)|r.general_profile_idc,r.general_profile_compatibility_flags[0],r.general_profile_compatibility_flags[1],r.general_profile_compatibility_flags[2],r.general_profile_compatibility_flags[3],r.general_constraint_indicator_flags[0],r.general_constraint_indicator_flags[1],r.general_constraint_indicator_flags[2],r.general_constraint_indicator_flags[3],r.general_constraint_indicator_flags[4],r.general_constraint_indicator_flags[5],r.general_level_idc,240|r.min_spatial_segmentation_idc>>8,255&r.min_spatial_segmentation_idc,252|r.parallelismType,252|r.chroma_format_idc,248|r.bit_depth_luma_minus8,248|r.bit_depth_chroma_minus8,0,parseInt(r.frame_rate.fps),i-1|r.temporal_id_nested<<2|r.num_temporal_layers<<3|(r.frame_rate.fixed?64:0),n.length]);let s=a.length;for(let y=0;y<n.length;y+=1){s+=3;for(let b=0;b<n[y].length;b+=1)s+=2+n[y][b].length}const o=new Uint8Array(s);o.set(a,0),s=a.length;const l=n.length-1;for(let y=0;y<n.length;y+=1){o.set(new Uint8Array([32+y|(y===l?128:0),0,n[y].length]),s),s+=3;for(let b=0;b<n[y].length;b+=1)o.set(new Uint8Array([n[y][b].length>>8,n[y][b].length&255]),s),s+=2,o.set(n[y][b],s),s+=n[y][b].length}const c=le.box(le.types.hvcC,o),d=e.width,f=e.height,p=e.pixelRatio[0],g=e.pixelRatio[1];return le.box(le.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>8&255,d&255,f>>8&255,f&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,le.box(le.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),le.box(le.types.pasp,new Uint8Array([p>>24,p>>16&255,p>>8&255,p&255,g>>24,g>>16&255,g>>8&255,g&255])))}}le.types=void 0;le.HDLR_TYPES=void 0;le.STTS=void 0;le.STSC=void 0;le.STCO=void 0;le.STSZ=void 0;le.VMHD=void 0;le.SMHD=void 0;le.STSD=void 0;le.FTYP=void 0;le.DINF=void 0;const _K=9e4;function xL(t,e,r=1,n=!1){const i=t*e*r;return n?Math.round(i):i}function aSe(t,e,r=1,n=!1){return xL(t,e,1/r,n)}function kh(t,e=!1){return xL(t,1e3,1/_K,e)}function sSe(t,e=1){return xL(t,_K,1/e)}const oSe=10*1e3,lSe=1024,cSe=1152,uSe=1536;let Ju=null,p1=null;function NF(t,e,r,n){return{duration:e,size:r,cts:n,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class Oy{constructor(e,r,n,i){if(this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.logger=i,this.ISGenerated=!1,Ju===null){const s=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ju=s?parseInt(s[1]):0}if(p1===null){const a=navigator.userAgent.match(/Safari\/(\d+)/i);p1=a?parseInt(a[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){this.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let r=!1;const n=e[0].pts,i=e.reduce((a,s)=>{let o=s.pts,l=o-a;return l<-4294967296&&(r=!0,o=Ni(o,n),l=o-a),l>0?a:o},n);return r&&this.logger.debug("PTS rollover detected"),i}remux(e,r,n,i,a,s,o,l){let c,d,f,p,g,y,b=a,x=a;const w=e.pid>-1,E=r.pid>-1,T=r.samples.length,O=e.samples.length>0,_=o&&T>0||T>1;if((!w||O)&&(!E||_)||this.ISGenerated||o){if(this.ISGenerated){var R,D,I,M;const U=this.videoTrackConfig;(U&&(r.width!==U.width||r.height!==U.height||((R=r.pixelRatio)==null?void 0:R[0])!==((D=U.pixelRatio)==null?void 0:D[0])||((I=r.pixelRatio)==null?void 0:I[1])!==((M=U.pixelRatio)==null?void 0:M[1]))||!U&&_||this.nextAudioPts===null&&O)&&this.resetInitSegment()}this.ISGenerated||(f=this.generateIS(e,r,a,s));const N=this.isVideoContiguous;let k=-1,F;if(_&&(k=dSe(r.samples),!N&&this.config.forceKeyFrameOnDiscontinuity))if(y=!0,k>0){this.logger.warn(`[mp4-remuxer]: Dropped ${k} out of ${T} video samples due to a missing keyframe`);const U=this.getVideoStartPts(r.samples);r.samples=r.samples.slice(k),r.dropped+=k,x+=(r.samples[0].pts-U)/r.inputTimeScale,F=x}else k===-1&&(this.logger.warn(`[mp4-remuxer]: No keyframe found out of ${T} video samples`),y=!1);if(this.ISGenerated){if(O&&_){const U=this.getVideoStartPts(r.samples),j=(Ni(e.samples[0].pts,U)-U)/r.inputTimeScale;b+=Math.max(0,j),x+=Math.max(0,-j)}if(O){if(e.samplerate||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(e,r,a,s)),d=this.remuxAudio(e,b,this.isAudioContiguous,s,E||_||l===Ke.AUDIO?x:void 0),_){const U=d?d.endPTS-d.startPTS:0;r.inputTimeScale||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(e,r,a,s)),c=this.remuxVideo(r,x,N,U)}}else _&&(c=this.remuxVideo(r,x,N,0));c&&(c.firstKeyFrame=k,c.independent=k!==-1,c.firstKeyFramePTS=F)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(g=OK(n,a,this._initPTS,this._initDTS)),i.samples.length&&(p=RK(i,a,this._initPTS))),{audio:d,video:c,initSegment:f,independent:y,text:p,id3:g}}generateIS(e,r,n,i){const a=e.samples,s=r.samples,o=this.typeSupported,l={},c=this._initPTS;let d=!c||i,f="audio/mp4",p,g,y;if(d&&(p=g=1/0),e.config&&a.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":o.mpeg?(f="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:f,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&o.mpeg?new Uint8Array(0):le.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(y=e.inputTimeScale,!c||y!==c.timescale?p=g=a[0].pts-Math.round(y*n):d=!1)}if(r.sps&&r.pps&&s.length){if(r.timescale=r.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:r.codec,initSegment:le.initSegment([r]),metadata:{width:r.width,height:r.height}},d)if(y=r.inputTimeScale,!c||y!==c.timescale){const b=this.getVideoStartPts(s),x=Math.round(y*n);g=Math.min(g,Ni(s[0].dts,b)-x),p=Math.min(p,b-x)}else d=!1;this.videoTrackConfig={width:r.width,height:r.height,pixelRatio:r.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,d?(this._initPTS={baseTime:p,timescale:y},this._initDTS={baseTime:g,timescale:y}):p=y=void 0,{tracks:l,initPTS:p,timescale:y}}remuxVideo(e,r,n,i){const a=e.inputTimeScale,s=e.samples,o=[],l=s.length,c=this._initPTS;let d=this.nextAvcDts,f=8,p=this.videoSampleDuration,g,y,b=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,w=!1;if(!n||d===null){const q=r*a,G=s[0].pts-Ni(s[0].dts,s[0].pts);Ju&&d!==null&&Math.abs(q-G-d)<15e3?n=!0:d=q-G}const E=c.baseTime*a/c.timescale;for(let q=0;q<l;q++){const G=s[q];G.pts=Ni(G.pts-E,d),G.dts=Ni(G.dts-E,d),G.dts<s[q>0?q-1:q].dts&&(w=!0)}w&&s.sort(function(q,G){const Y=q.dts-G.dts,X=q.pts-G.pts;return Y||X}),g=s[0].dts,y=s[s.length-1].dts;const T=y-g,O=T?Math.round(T/(l-1)):p||e.inputTimeScale/30;if(n){const q=g-d,G=q>O,Y=q<-1;if((G||Y)&&(G?this.logger.warn(`${(e.segmentCodec||"").toUpperCase()}: ${kh(q,!0)} ms (${q}dts) hole between fragments detected at ${r.toFixed(3)}`):this.logger.warn(`${(e.segmentCodec||"").toUpperCase()}: ${kh(-q,!0)} ms (${q}dts) overlapping between fragments detected at ${r.toFixed(3)}`),!Y||d>=s[0].pts||Ju)){g=d;const X=s[0].pts-q;if(G)s[0].dts=g,s[0].pts=X;else{let te=!0;for(let ee=0;ee<s.length&&!(s[ee].dts>X&&te);ee++){const ue=s[ee].pts;if(s[ee].dts-=q,s[ee].pts-=q,ee<s.length-1){const he=s[ee+1].pts,ve=s[ee].pts,Se=he<=ve,me=he<=ue;te=Se==me}}}this.logger.log(`Video: Initial PTS/DTS adjusted: ${kh(X,!0)}/${kh(g,!0)}, delta: ${kh(q,!0)} ms`)}}g=Math.max(0,g);let _=0,P=0,R=g;for(let q=0;q<l;q++){const G=s[q],Y=G.units,X=Y.length;let te=0;for(let ee=0;ee<X;ee++)te+=Y[ee].data.length;P+=te,_+=X,G.length=te,G.dts<R?(G.dts=R,R+=O/4|0||1):R=G.dts,b=Math.min(G.pts,b),x=Math.max(G.pts,x)}y=s[l-1].dts;const D=P+4*_+8;let I;try{I=new Uint8Array(D)}catch(q){this.observer.emit($.ERROR,$.ERROR,{type:We.MUX_ERROR,details:de.REMUX_ALLOC_ERROR,fatal:!1,error:q,bytes:D,reason:`fail allocating video mdat ${D}`});return}const M=new DataView(I.buffer);M.setUint32(0,D),I.set(le.types.mdat,4);let N=!1,k=Number.POSITIVE_INFINITY,F=Number.POSITIVE_INFINITY,U=Number.NEGATIVE_INFINITY,z=Number.NEGATIVE_INFINITY;for(let q=0;q<l;q++){const G=s[q],Y=G.units;let X=0;for(let ue=0,he=Y.length;ue<he;ue++){const ve=Y[ue],Se=ve.data,me=ve.data.byteLength;M.setUint32(f,me),f+=4,I.set(Se,f),f+=me,X+=4+me}let te;if(q<l-1)p=s[q+1].dts-G.dts,te=s[q+1].pts-G.pts;else{const ue=this.config,he=q>0?G.dts-s[q-1].dts:O;if(te=q>0?G.pts-s[q-1].pts:O,ue.stretchShortVideoTrack&&this.nextAudioPts!==null){const ve=Math.floor(ue.maxBufferHole*a),Se=(i?b+i*a:this.nextAudioPts)-G.pts;Se>ve?(p=Se-he,p<0?p=he:N=!0,this.logger.log(`[mp4-remuxer]: It is approximately ${Se/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=he}else p=he}const ee=Math.round(G.pts-G.dts);k=Math.min(k,p),U=Math.max(U,p),F=Math.min(F,te),z=Math.max(z,te),o.push(NF(G.key,p,X,ee))}if(o.length){if(Ju){if(Ju<70){const q=o[0].flags;q.dependsOn=2,q.isNonSync=0}}else if(p1&&z-F<U-k&&O/U<.025&&o[0].cts===0){this.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let q=g;for(let G=0,Y=o.length;G<Y;G++){const X=q+o[G].duration,te=q+o[G].cts;if(G<Y-1){const ee=X+o[G+1].cts;o[G].duration=ee-te}else o[G].duration=G?o[G-1].duration:O;o[G].cts=0,q=X}}}p=N||!p?O:p,this.nextAvcDts=d=y+p,this.videoSampleDuration=p,this.isVideoContiguous=!0;const V={data1:le.moof(e.sequenceNumber++,g,Yt(e,{samples:o})),data2:I,startPTS:b/a,endPTS:(x+p)/a,startDTS:g/a,endDTS:d/a,type:"video",hasAudio:!1,hasVideo:!0,nb:o.length,dropped:e.dropped};return e.samples=[],e.dropped=0,V}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return cSe;case"ac3":return uSe;default:return lSe}}remuxAudio(e,r,n,i,a){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,l=s/o,c=this.getSamplesPerFrame(e),d=c*l,f=this._initPTS,p=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,g=[],y=a!==void 0;let b=e.samples,x=p?0:8,w=this.nextAudioPts||-1;const E=r*s,T=f.baseTime*s/f.timescale;if(this.isAudioContiguous=n=n||b.length&&w>0&&(i&&Math.abs(E-w)<9e3||Math.abs(Ni(b[0].pts-T,E)-w)<20*d),b.forEach(function(j){j.pts=Ni(j.pts-T,E)}),!n||w<0){if(b=b.filter(j=>j.pts>=0),!b.length)return;a===0?w=0:i&&!y?w=Math.max(0,E):w=b[0].pts}if(e.segmentCodec==="aac"){const j=this.config.maxAudioFramesDrift;for(let H=0,V=w;H<b.length;H++){const q=b[H],G=q.pts,Y=G-V,X=Math.abs(1e3*Y/s);if(Y<=-j*d&&y)H===0&&(this.logger.warn(`Audio frame @ ${(G/s).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Y/s)} ms.`),this.nextAudioPts=w=V=G);else if(Y>=j*d&&X<oSe&&y){let te=Math.round(Y/d);V=G-te*d,V<0&&(te--,V+=d),H===0&&(this.nextAudioPts=w=V),this.logger.warn(`[mp4-remuxer]: Injecting ${te} audio frame @ ${(V/s).toFixed(3)}s due to ${Math.round(1e3*Y/s)} ms gap.`);for(let ee=0;ee<te;ee++){const ue=Math.max(V,0);let he=iSe.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);he||(this.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),he=q.unit.subarray()),b.splice(H,0,{unit:he,pts:ue}),V+=d,H++}}q.pts=V,V+=d}}let O=null,_=null,P,R=0,D=b.length;for(;D--;)R+=b[D].unit.byteLength;for(let j=0,H=b.length;j<H;j++){const V=b[j],q=V.unit;let G=V.pts;if(_!==null){const X=g[j-1];X.duration=Math.round((G-_)/l)}else if(n&&e.segmentCodec==="aac"&&(G=w),O=G,R>0){R+=x;try{P=new Uint8Array(R)}catch(X){this.observer.emit($.ERROR,$.ERROR,{type:We.MUX_ERROR,details:de.REMUX_ALLOC_ERROR,fatal:!1,error:X,bytes:R,reason:`fail allocating audio mdat ${R}`});return}p||(new DataView(P.buffer).setUint32(0,R),P.set(le.types.mdat,4))}else return;P.set(q,x);const Y=q.byteLength;x+=Y,g.push(NF(!0,c,Y,0)),_=G}const I=g.length;if(!I)return;const M=g[g.length-1];this.nextAudioPts=w=_+l*M.duration;const N=p?new Uint8Array(0):le.moof(e.sequenceNumber++,O/l,Yt({},e,{samples:g}));e.samples=[];const k=O/s,F=w/s,z={data1:N,data2:P,startPTS:k,endPTS:F,startDTS:k,endDTS:F,type:"audio",hasAudio:!0,hasVideo:!1,nb:I};return this.isAudioContiguous=!0,z}}function Ni(t,e){let r;if(e===null)return t;for(e<t?r=-8589934592:r=8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function dSe(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function OK(t,e,r,n){const i=t.samples.length;if(!i)return;const a=t.inputTimeScale;for(let o=0;o<i;o++){const l=t.samples[o];l.pts=Ni(l.pts-r.baseTime*a/r.timescale,e*a)/a,l.dts=Ni(l.dts-n.baseTime*a/n.timescale,e*a)/a}const s=t.samples;return t.samples=[],{samples:s}}function RK(t,e,r){const n=t.samples.length;if(!n)return;const i=t.inputTimeScale;for(let s=0;s<n;s++){const o=t.samples[s];o.pts=Ni(o.pts-r.baseTime*i/r.timescale,e*i)/i}t.samples.sort((s,o)=>s.pts-o.pts);const a=t.samples;return t.samples=[],{samples:a}}class fSe{constructor(e,r,n,i){this.logger=void 0,this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.logger=i}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,r,n,i){this.audioCodec=r,this.videoCodec=n,this.generateInitSegment(ebe(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:r,videoCodec:n}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=j9(e);i.audio&&(r=kF(i.audio,Wt.AUDIO)),i.video&&(n=kF(i.video,Wt.VIDEO));const a={};i.audio&&i.video?a.audiovideo={container:"video/mp4",codec:r+","+n,supplemental:i.video.supplemental,initSegment:e,id:"main"}:i.audio?a.audio={container:"audio/mp4",codec:r,initSegment:e,id:"audio"}:i.video?a.video={container:"video/mp4",codec:n,supplemental:i.video.supplemental,initSegment:e,id:"main"}:this.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=a}remux(e,r,n,i,a,s){var o,l;let{initPTS:c,lastEndTime:d}=this;const f={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};Fe(d)||(d=this.lastEndTime=a||0);const p=r.samples;if(!(p!=null&&p.length))return f;const g={initPTS:void 0,timescale:1};let y=this.initData;if((o=y)!=null&&o.length||(this.generateInitSegment(p),y=this.initData),!((l=y)!=null&&l.length))return this.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(g.tracks=this.initTracks,this.emitInitSegment=!1);const b=rbe(p,y),x=tbe(y,p),w=x===null?a:x;(s||!c)&&(hSe(c,w,a,b)||g.timescale!==c.timescale)&&(g.initPTS=w-a,c&&c.timescale===1&&this.logger.warn(`Adjusting initPTS @${a} from ${c.baseTime/c.timescale} to ${g.initPTS}`),this.initPTS=c={baseTime:g.initPTS,timescale:1});const E=e?w-c.baseTime/c.timescale:d,T=E+b;ibe(y,p,c.baseTime/c.timescale),b>0?this.lastEndTime=T:(this.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const O=!!y.audio,_=!!y.video;let P="";O&&(P+="audio"),_&&(P+="video");const R={data1:p,startPTS:E,startDTS:E,endPTS:T,endDTS:T,type:P,hasAudio:O,hasVideo:_,nb:1,dropped:0};return f.audio=R.type==="audio"?R:void 0,f.video=R.type!=="audio"?R:void 0,f.initSegment=g,f.id3=OK(n,a,c,c),i.samples.length&&(f.text=RK(i,a,c)),f}}function hSe(t,e,r,n){if(t===null)return!0;const i=Math.max(n,1),a=e-t.baseTime/t.timescale;return Math.abs(a-r)>i}function kF(t,e){const r=t==null?void 0:t.codec;return r&&r.length>4?r:e===Wt.AUDIO?r==="ec-3"||r==="ac-3"||r==="alac"?r:r==="fLaC"||r==="Opus"?x0(r,!1):(Rt.warn(`Unhandled audio codec "${r}" in mp4 MAP`),r||"mp4a"):(Rt.warn(`Unhandled video codec "${r}" in mp4 MAP`),r||"avc1")}let Ms;try{Ms=self.performance.now.bind(self.performance)}catch{Ms=Date.now}const Ry=[{demux:eSe,remux:fSe},{demux:Qo,remux:Oy},{demux:Xxe,remux:Oy},{demux:Zxe,remux:Oy}];Ry.splice(2,0,{demux:Qxe,remux:Oy});class jF{constructor(e,r,n,i,a,s){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=r,this.config=n,this.id=a,this.logger=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,r,n,i){const a=n.transmuxing;a.executeStart=Ms();let s=new Uint8Array(e);const{currentTransmuxState:o,transmuxConfig:l}=this;i&&(this.currentTransmuxState=i);const{contiguous:c,discontinuity:d,trackSwitch:f,accurateTimeOffset:p,timeOffset:g,initSegmentChange:y}=i||o,{audioCodec:b,videoCodec:x,defaultInitPts:w,duration:E,initSegmentData:T}=l,O=pSe(s,r);if(O&&md(O.method)){const D=this.getDecrypter(),I=dL(O.method);if(D.isSync()){let M=D.softwareDecrypt(s,O.key.buffer,O.iv.buffer,I);if(n.part>-1){const k=D.flush();M=k&&k.buffer}if(!M)return a.executeEnd=Ms(),m1(n);s=new Uint8Array(M)}else return this.asyncResult=!0,this.decryptionPromise=D.webCryptoDecrypt(s,O.key.buffer,O.iv.buffer,I).then(M=>{const N=this.push(M,null,n);return this.decryptionPromise=null,N}),this.decryptionPromise}const _=this.needsProbing(d,f);if(_){const D=this.configureTransmuxer(s);if(D)return this.logger.warn(`[transmuxer] ${D.message}`),this.observer.emit($.ERROR,$.ERROR,{type:We.MEDIA_ERROR,details:de.FRAG_PARSING_ERROR,fatal:!1,error:D,reason:D.message}),a.executeEnd=Ms(),m1(n)}(d||f||y||_)&&this.resetInitSegment(T,b,x,E,r),(d||y||_)&&this.resetInitialTimestamp(w),c||this.resetContiguity();const P=this.transmux(s,O,g,p,n);this.asyncResult=Gp(P);const R=this.currentTransmuxState;return R.contiguous=!0,R.discontinuity=!1,R.trackSwitch=!1,a.executeEnd=Ms(),P}flush(e){const r=e.transmuxing;r.executeStart=Ms();const{decrypter:n,currentTransmuxState:i,decryptionPromise:a}=this;if(a)return this.asyncResult=!0,a.then(()=>this.flush(e));const s=[],{timeOffset:o}=i;if(n){const f=n.flush();f&&s.push(this.push(f.buffer,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c){r.executeEnd=Ms();const f=[m1(e)];return this.asyncResult?Promise.resolve(f):f}const d=l.flush(o);return Gp(d)?(this.asyncResult=!0,d.then(f=>(this.flushRemux(s,f,e),s))):(this.flushRemux(s,d,e),this.asyncResult?Promise.resolve(s):s)}flushRemux(e,r,n){const{audioTrack:i,videoTrack:a,id3Track:s,textTrack:o}=r,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${n.sn}${n.part>-1?" part: "+n.part:""} of ${this.id===Ke.MAIN?"level":"track"} ${n.level}`);const d=this.remuxer.remux(i,a,s,o,c,l,!0,this.id);e.push({remuxResult:d,chunkMeta:n}),n.transmuxing.executeEnd=Ms()}resetInitialTimestamp(e){const{demuxer:r,remuxer:n}=this;!r||!n||(r.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:r}=this;!e||!r||(e.resetContiguity(),r.resetNextTimestamp())}resetInitSegment(e,r,n,i,a){const{demuxer:s,remuxer:o}=this;!s||!o||(s.resetInitSegment(e,r,n,i),o.resetInitSegment(e,r,n,a))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,r,n,i,a){let s;return r&&r.method==="SAMPLE-AES"?s=this.transmuxSampleAes(e,r,n,i,a):s=this.transmuxUnencrypted(e,n,i,a),s}transmuxUnencrypted(e,r,n,i){const{audioTrack:a,videoTrack:s,id3Track:o,textTrack:l}=this.demuxer.demux(e,r,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(a,s,o,l,r,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,r,n,i,a){return this.demuxer.demuxSampleAes(e,r,n).then(s=>({remuxResult:this.remuxer.remux(s.audioTrack,s.videoTrack,s.id3Track,s.textTrack,n,i,!1,this.id),chunkMeta:a}))}configureTransmuxer(e){const{config:r,observer:n,typeSupported:i}=this;let a;for(let f=0,p=Ry.length;f<p;f++){var s;if((s=Ry[f].demux)!=null&&s.probe(e,this.logger)){a=Ry[f];break}}if(!a)return new Error("Failed to find demuxer by probing fragment data");const o=this.demuxer,l=this.remuxer,c=a.remux,d=a.demux;(!l||!(l instanceof c))&&(this.remuxer=new c(n,r,i,this.logger)),(!o||!(o instanceof d))&&(this.demuxer=new d(n,r,i,this.logger),this.probe=d.probe)}needsProbing(e,r){return!this.demuxer||!this.remuxer||e||r}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new cL(this.config)),e}}function pSe(t,e){let r=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(r=e),r}const m1=t=>({remuxResult:{},chunkMeta:t});function Gp(t){return"then"in t&&t.then instanceof Function}class mSe{constructor(e,r,n,i,a){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=r,this.initSegmentData=n,this.duration=i,this.defaultInitPts=a||null}}class gSe{constructor(e,r,n,i,a,s){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=r,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=a,this.initSegmentChange=s}}let $F=0;class CK{constructor(e,r,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=$F++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=l=>{const c=l.data,d=this.hls;if(!(!d||!(c!=null&&c.event)||c.instanceNo!==this.instanceNo))switch(c.event){case"init":{var f;const p=(f=this.workerContext)==null?void 0:f.objectURL;p&&self.URL.revokeObjectURL(p);break}case"transmuxComplete":{this.handleTransmuxComplete(c.data);break}case"flush":{this.onFlush(c.data);break}case"workerLog":{d.logger[c.data.logType]&&d.logger[c.data.logType](c.data.message);break}default:{c.data=c.data||{},c.data.frag=this.frag,c.data.part=this.part,c.data.id=this.id,d.trigger(c.event,c.data);break}}},this.onWorkerError=l=>{if(!this.hls)return;const c=new Error(`${l.message}  (${l.filename}:${l.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger($.ERROR,{type:We.OTHER_ERROR,details:de.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:c})};const a=e.config;this.hls=e,this.id=r,this.useWorker=!!a.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const s=(l,c)=>{c=c||{},c.frag=this.frag||void 0,l===$.ERROR&&(c=c,c.parent=this.id,c.part=this.part,this.error=c.error),this.hls.trigger(l,c)};this.observer=new pL,this.observer.on($.FRAG_DECRYPTED,s),this.observer.on($.ERROR,s);const o=eF(a.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const l=this.hls.logger;if(a.workerPath||bxe()){try{a.workerPath?(l.log(`loading Web Worker ${a.workerPath} for "${r}"`),this.workerContext=Sxe(a.workerPath)):(l.log(`injecting Web Worker for "${r}"`),this.workerContext=xxe());const{worker:d}=this.workerContext;d.addEventListener("message",this.onWorkerMessage),d.addEventListener("error",this.onWorkerError),d.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:o,id:r,config:gr(a)})}catch(d){l.warn(`Error setting up "${r}" Web Worker, fallback to inline`,d),this.terminateWorker(),this.error=null,this.transmuxer=new jF(this.observer,o,a,"",r,e.logger)}return}}this.transmuxer=new jF(this.observer,o,a,"",r,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=$F++;const r=this.hls.config,n=eF(r.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:n,id:this.id,config:gr(r)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),wxe(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,r,n,i,a,s,o,l,c,d){var f,p;c.transmuxing.start=self.performance.now();const{instanceNo:g,transmuxer:y}=this,b=s?s.start:a.start,x=a.decryptdata,w=this.frag,E=!(w&&a.cc===w.cc),T=!(w&&c.level===w.level),O=w?c.sn-w.sn:-1,_=this.part?c.part-this.part.index:-1,P=O===0&&c.id>1&&c.id===(w==null?void 0:w.stats.chunkCount),R=!T&&(O===1||O===0&&(_===1||P&&_<=0)),D=self.performance.now();(T||O||a.stats.parsing.start===0)&&(a.stats.parsing.start=D),s&&(_||!R)&&(s.stats.parsing.start=D);const I=!(w&&((f=a.initSegment)==null?void 0:f.url)===((p=w.initSegment)==null?void 0:p.url)),M=new gSe(E,R,l,T,b,I);if(!R||E||I){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${a.type} sn: ${c.sn}${c.part>-1?" part: "+c.part:""} ${this.id===Ke.MAIN?"level":"track"}: ${c.level} id: ${c.id}
        discontinuity: ${E}
        trackSwitch: ${T}
        contiguous: ${R}
        accurateTimeOffset: ${l}
        timeOffset: ${b}
        initSegmentChange: ${I}`);const N=new mSe(n,i,r,o,d);this.configureTransmuxer(N)}if(this.frag=a,this.part=s,this.workerContext)this.workerContext.worker.postMessage({instanceNo:g,cmd:"demux",data:e,decryptdata:x,chunkMeta:c,state:M},e instanceof ArrayBuffer?[e]:[]);else if(y){const N=y.push(e,x,c,M);Gp(N)?N.then(k=>{this.handleTransmuxComplete(k)}).catch(k=>{this.transmuxerError(k,c,"transmuxer-interface push error")}):this.handleTransmuxComplete(N)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:r,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:r,cmd:"flush",chunkMeta:e});else if(n){const i=n.flush(e);Gp(i)?i.then(a=>{this.handleFlushResult(a,e)}).catch(a=>{this.transmuxerError(a,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,r,n){this.hls&&(this.error=e,this.hls.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.FRAG_PARSING_ERROR,chunkMeta:r,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,r){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(r)}configureTransmuxer(e){const{instanceNo:r,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:r,cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const FF=100;class vSe extends hL{constructor(e,r,n){super(e,r,n,"audio-stream-controller",Ke.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on($.BUFFER_RESET,this.onBufferReset,this),e.on($.BUFFER_CREATED,this.onBufferCreated,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on($.FRAG_LOADING,this.onFragLoading,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off($.BUFFER_RESET,this.onBufferReset,this),e.off($.BUFFER_CREATED,this.onBufferCreated,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off($.FRAG_LOADING,this.onFragLoading,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:a}){if(n===Ke.MAIN){const s=r.cc,o=this.fragCurrent;if(this.initPTS[s]={baseTime:i,timescale:a},this.log(`InitPTS for cc: ${s} found from main: ${i}/${a}`),this.mainAnchor=r,this.state===we.WAITING_INIT_PTS){const l=this.waitingData;(!l&&!this.loadingParts||l&&l.frag.cc!==s)&&(this.nextLoadPosition=this.findSyncFrag(r).start),this.tick()}else!this.hls.hasEnoughToStart&&o&&o.cc!==s?(this.startFragRequested=!1,this.nextLoadPosition=this.findSyncFrag(r).start,o.abortRequests(),this.resetLoadingState()):this.state===we.IDLE&&this.tick()}}findSyncFrag(e){const r=this.getLevelDetails(),n=e.cc;return Ibe(r,n,e)||r&&W9(r.fragments,n)||e}startLoad(e,r){if(!this.levels){this.startPosition=e,this.state=we.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(FF),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=we.IDLE):this.state=we.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}doTick(){switch(this.state){case we.IDLE:this.doTickIdle();break;case we.WAITING_TRACK:{const{levels:r,trackId:n}=this,i=r==null?void 0:r[n],a=i==null?void 0:i.details;if(a&&!this.waitForLive(i)){if(this.waitForCdnTuneIn(a))break;this.state=we.WAITING_INIT_PTS}break}case we.FRAG_LOADING_WAITING_RETRY:{var e;const r=performance.now(),n=this.retryDate;if(!n||r>=n||(e=this.media)!=null&&e.seeking){const{levels:i,trackId:a}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((i==null?void 0:i[a])||null),this.state=we.IDLE}break}case we.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:n,part:i,cache:a,complete:s}=r,o=this.mainAnchor;if(this.initPTS[n.cc]!==void 0){this.waitingData=null,this.state=we.FRAG_LOADING;const l=a.flush().buffer,c={frag:n,part:i,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),s&&super._handleFragmentLoadComplete(c)}else o&&o.cc!==r.frag.cc&&(this.log(`Waiting fragment cc (${n.cc}) cancelled because video is at cc ${o.cc}`),this.nextLoadPosition=this.findSyncFrag(o).start,this.clearWaitingFragment())}else this.state=we.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.state!==we.STOPPED&&(this.state=we.IDLE))}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:r,levels:n,media:i,trackId:a}=this,s=r.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!s.startFragPrefetch)||!(n!=null&&n[a]))return;const o=n[a],l=o.details;if(!l||this.waitForLive(o)||this.waitForCdnTuneIn(l)){this.state=we.WAITING_TRACK,this.startFragRequested=!1;return}const c=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&c&&(this.bufferFlushed=!1,this.afterBufferFlushed(c,Wt.AUDIO,Ke.AUDIO));const d=this.getFwdBufferInfo(c,Ke.AUDIO);if(d===null)return;if(!this.switchingTrack&&this._streamEnded(d,l)){r.trigger($.BUFFER_EOS,{type:"audio"}),this.state=we.ENDED;return}const f=d.len,p=r.maxBufferLength,g=l.fragments,y=g[0].start,b=this.getLoadPosition(),x=this.flushing?b:d.end;if(this.switchingTrack&&i){const T=b;l.PTSKnown&&T<y&&(d.end>y||d.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=y+.05)}if(f>=p&&!this.switchingTrack&&x<g[g.length-1].start)return;let w=this.getNextFragment(x,l);if(w&&this.isLoopLoading(w,x)&&(w=this.getNextFragmentLoopLoading(w,l,d,Ke.MAIN,p)),!w){this.bufferFlushed=!0;return}let E=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&E&&an(w)&&!w.endList&&(!l.live||!this.loadingParts&&x<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(E)===Hr.OK&&(this.mainFragLoading=E=null),E&&an(E))){if(w.start>E.end){const O=this.fragmentTracker.getFragAtPos(x,Ke.MAIN);O&&O.end>E.end&&(E=O,this.mainFragLoading={frag:O,targetBufferTime:null})}if(w.start>E.end)return}this.loadFragment(w,o,x)}onMediaDetaching(e,r){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,r)}onAudioTracksUpdated(e,{audioTracks:r}){this.resetTransmuxer(),this.levels=r.map(n=>new jp(n))}onAudioTrackSwitching(e,r){const n=!!r.url;this.trackId=r.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?(this.switchingTrack=r,this.flushAudioIfNeeded(r),this.state!==we.STOPPED&&(this.setInterval(FF),this.state=we.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=r,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,r){this.mainDetails=r.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded($.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(e,r){var n;const{levels:i}=this,{details:a,id:s,groupId:o,track:l}=r;if(!i){this.warn(`Audio tracks reset while loading track ${s} "${l.name}" of "${o}"`);return}const c=this.mainDetails;if(!c||a.endCC>c.endCC||c.expired){this.cachedTrackLoadedData=r,this.state!==we.STOPPED&&(this.state=we.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${s} "${l.name}" of "${o}" loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`);const d=i[s];let f=0;if(a.live||(n=d.details)!=null&&n.live){if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;if(d.details){var p;f=this.alignPlaylists(a,d.details,(p=this.levelLastLoaded)==null?void 0:p.details)}a.alignedSliding||(lK(a,c),a.alignedSliding||_0(a,c),f=a.fragmentStart)}d.details=a,this.levelLastLoaded=d,this.startFragRequested||this.setStartPosition(c,f),this.hls.trigger($.AUDIO_TRACK_UPDATED,{details:a,id:s,groupId:r.groupId}),this.state===we.WAITING_TRACK&&!this.waitForCdnTuneIn(a)&&(this.state=we.IDLE),this.tick()}_handleFragmentLoadProgress(e){var r;const n=e.frag,{part:i,payload:a}=e,{config:s,trackId:o,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const c=l[o];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const d=c.details;if(!d){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const f=s.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let p=this.transmuxer;p||(p=this.transmuxer=new CK(this.hls,Ke.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const g=this.initPTS[n.cc],y=(r=n.initSegment)==null?void 0:r.data;if(g!==void 0){const x=i?i.index:-1,w=x!==-1,E=new uL(n.level,n.sn,n.stats.chunkCount,a.byteLength,x,w);p.push(a,y,f,"",n,i,d.totalduration,!1,E,g)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${d.startSN} ,${d.endSN}],track ${o}`);const{cache:b}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new cK,complete:!1};b.push(new Uint8Array(a)),this.state!==we.STOPPED&&(this.state=we.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,r){this.bufferFlushed=this.flushing=!1;const n=r.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(e,r){!this.audioOnly&&r.frag.type===Ke.MAIN&&an(r.frag)&&(this.mainFragLoading=r,this.state===we.IDLE&&this.tick())}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n.type!==Ke.AUDIO){!this.audioOnly&&n.type===Ke.MAIN&&!n.elementaryStreams.video&&!n.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(an(n)){this.fragPrevious=n;const a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger($.AUDIO_TRACK_SWITCHED,zt({},a)))}this.fragBufferedComplete(n,i),this.media&&this.tick()}onError(e,r){var n;if(r.fatal){this.state=we.ERROR;return}switch(r.details){case de.FRAG_GAP:case de.FRAG_PARSING_ERROR:case de.FRAG_DECRYPT_ERROR:case de.FRAG_LOAD_ERROR:case de.FRAG_LOAD_TIMEOUT:case de.KEY_LOAD_ERROR:case de.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ke.AUDIO,r);break;case de.AUDIO_TRACK_LOAD_ERROR:case de.AUDIO_TRACK_LOAD_TIMEOUT:case de.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===we.WAITING_TRACK&&((n=r.context)==null?void 0:n.type)===bt.AUDIO_TRACK&&(this.state=we.IDLE);break;case de.BUFFER_ADD_CODEC_ERROR:case de.BUFFER_APPEND_ERROR:if(r.parent!=="audio")return;this.resetLoadingState();break;case de.BUFFER_FULL_ERROR:if(r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case de.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onBufferFlushing(e,{type:r}){r!==Wt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:r}){if(r!==Wt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===we.ENDED&&(this.state=we.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,r,Ke.AUDIO),this.tick())}}_handleTransmuxComplete(e){var r;const n="audio",{hls:i}=this,{remuxResult:a,chunkMeta:s}=e,o=this.getCurrentContext(s);if(!o){this.resetWhenMissingContext(s);return}const{frag:l,part:c,level:d}=o,{details:f}=d,{audio:p,text:g,id3:y,initSegment:b}=a;if(this.fragContextChanged(l)||!f){this.fragmentTracker.removeFragment(l);return}if(this.state=we.PARSING,this.switchingTrack&&p&&this.completeAudioSwitch(this.switchingTrack),b!=null&&b.tracks){const x=l.initSegment||l;this._bufferInitSegment(d,b.tracks,x,s),i.trigger($.FRAG_PARSING_INIT_SEGMENT,{frag:x,id:n,tracks:b.tracks})}if(p){const{startPTS:x,endPTS:w,startDTS:E,endDTS:T}=p;c&&(c.elementaryStreams[Wt.AUDIO]={startPTS:x,endPTS:w,startDTS:E,endDTS:T}),l.setElementaryStreamInfo(Wt.AUDIO,x,w,E,T),this.bufferFragmentData(p,l,c,s)}if(y!=null&&(r=y.samples)!=null&&r.length){const x=Yt({id:n,frag:l,details:f},y);i.trigger($.FRAG_PARSING_METADATA,x)}if(g){const x=Yt({id:n,frag:l,details:f},g);i.trigger($.FRAG_PARSING_USERDATA,x)}}_bufferInitSegment(e,r,n,i){if(this.state!==we.PARSING||(r.video&&delete r.video,r.audiovideo&&delete r.audiovideo,!r.audio))return;const a=r.audio;a.id=Ke.AUDIO;const s=e.audioCodec;this.log(`Init audio buffer, container:${a.container}, codecs[level/parsed]=[${s}/${a.codec}]`),s&&s.split(",").length===1&&(a.levelCodec=s),this.hls.trigger($.BUFFER_CODECS,r);const o=a.initSegment;if(o!=null&&o.byteLength){const l={type:"audio",frag:n,part:null,chunkMeta:i,parent:n.type,data:o};this.hls.trigger($.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===Hr.NOT_LOADED||i===Hr.PARTIAL){var a;if(!an(e))this._loadInitSegment(e,r);else if((a=r.details)!=null&&a.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=we.WAITING_INIT_PTS;const s=this.mainDetails;s&&s.fragmentStart!==r.details.fragmentStart&&_0(r.details,s)}else super.loadFragment(e,r,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:r,lang:n,assocLang:i,characteristics:a,audioCodec:s,channels:o}=this.bufferedTrack;Ac({name:r,lang:n,assocLang:i,characteristics:a,audioCodec:s,channels:o},e,uc)||(w0(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:r}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,r.trigger($.AUDIO_TRACK_SWITCHED,zt({},e))}}class SL extends uo{constructor(e,r){super(r,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,r,n){const i=r==null?void 0:r.renditionReports;if(i){let a=-1;for(let s=0;s<i.length;s++){const o=i[s];let l;try{l=new self.URL(o.URI,r.url).href}catch(c){this.warn(`Could not construct new URL for Rendition Report: ${c}`),l=o.URI||""}if(l===e){a=s;break}else l===e.substring(0,l.length)&&(a=s)}if(a!==-1){const s=i[a],o=parseInt(s["LAST-MSN"])||(r==null?void 0:r.lastPartSn);let l=parseInt(s["LAST-PART"])||(r==null?void 0:r.lastPartIndex);if(this.hls.config.lowLatencyMode){const d=Math.min(r.age-r.partTarget,r.targetduration);l>=0&&d>r.partTarget&&(l+=1)}const c=n&&rF(n);return new nF(o,l>=0?l:void 0,c)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,r){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,r){if(r)try{return r.addDirectives(e)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}return e}playlistLoaded(e,r,n){const{details:i,stats:a}=r,s=self.performance.now(),o=a.loading.first?Math.max(0,s-a.loading.first):0;i.advancedDateTime=Date.now()-o;const l=this.hls.config.timelineOffset;if(l!==i.appliedTimelineOffset){const d=Math.max(l||0,0);i.appliedTimelineOffset=d,i.fragments.forEach(f=>{f.start=f.playlistOffset+d})}if(i.live||n!=null&&n.live){const d="levelInfo"in r?r.levelInfo:r.track;if(i.reloaded(n),n&&i.fragments.length>0){cxe(n,i);const E=i.playlistParsingError;if(E){this.warn(E);const T=this.hls;if(!T.config.ignorePlaylistParsingErrors){var c;const{networkDetails:O}=r;T.trigger($.ERROR,{type:We.NETWORK_ERROR,details:de.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:E,reason:E.message,level:r.level||void 0,parent:(c=i.fragments[0])==null?void 0:c.type,networkDetails:O,stats:a});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=a.loading.start);const f=this.hls.mainForwardBufferInfo,p=f?f.end-f.len:0,g=(i.edge-p)*1e3,y=nK(i,g);if(i.requestScheduled+y<s?i.requestScheduled=s:i.requestScheduled+=y,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let b,x,w;if(i.canBlockReload&&i.endSN&&i.advanced){const E=this.hls.config.lowLatencyMode,T=i.lastPartSn,O=i.endSN,_=i.lastPartIndex,P=_!==-1,R=T===O;P?R?(x=O+1,w=E?0:_):(x=T,w=E?_+1:i.maxPartIndex):x=O+1;const D=i.age,I=D+i.ageHeader;let M=Math.min(I-i.partTarget,i.targetduration*1.5);if(M>0){if(I>i.targetduration*3)this.log(`Playlist last advanced ${D.toFixed(2)}s ago. Omitting segment and part directives.`),x=void 0,w=void 0;else if(n!=null&&n.tuneInGoal&&I-i.partTarget>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${M} with playlist age: ${i.age}`),M=0;else{const N=Math.floor(M/i.targetduration);if(x+=N,w!==void 0){const k=Math.round(M%i.targetduration/i.partTarget);w+=k}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${D.toFixed(2)}s goal: ${M} skip sn ${N} to part ${w}`)}i.tuneInGoal=M}if(b=this.getDeliveryDirectives(i,r.deliveryDirectives,x,w),E||!R){i.requestScheduled=s,this.loadingPlaylist(d,b);return}}else(i.canBlockReload||i.canSkipUntil)&&(b=this.getDeliveryDirectives(i,r.deliveryDirectives,x,w));b&&x!==void 0&&i.canBlockReload&&(i.requestScheduled=a.loading.first+Math.max(y-o*2,y/2)),this.scheduleLoading(d,b,i)}else this.clearTimer()}scheduleLoading(e,r,n){const i=n||e.details;if(!i){this.loadingPlaylist(e,r);return}const a=self.performance.now(),s=i.requestScheduled;if(a>=s){this.loadingPlaylist(e,r);return}const o=s-a;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(o)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,r),o)}getDeliveryDirectives(e,r,n,i){let a=rF(e);return r!=null&&r.skip&&e.deltaUpdateFailed&&(n=r.msn,i=r.part,a=_y.No),new nF(n,i,a)}checkRetry(e){const r=e.details,n=E0(e),i=e.errorAction,{action:a,retryCount:s=0,retryConfig:o}=i||{},l=!!i&&!!o&&(a===Tn.RetryRequest||!i.resolved&&a===Tn.SendAlternateToPenaltyBox);if(l){var c;if(s>=o.maxNumRetry)return!1;if(n&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${s+1}/${o.maxNumRetry} after "${r}" without delivery-directives`),this.loadPlaylist();else{const d=lL(o,s);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),d),this.warn(`Retrying playlist loading ${s+1}/${o.maxNumRetry} after "${r}" in ${d}ms`)}e.levelRetry=!0,i.resolved=!0}return l}}function PK(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!zp(t[r].attrs,e[r].attrs))return!1;return!0}function zp(t,e,r){const n=t["STABLE-RENDITION-ID"];return n&&!r?n===e["STABLE-RENDITION-ID"]:!(r||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function UR(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class ySe extends SL{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVEL_LOADING,this.onLevelLoading,this),e.off($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off($.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.audioTracks||[]}onAudioTrackLoaded(e,r){const{id:n,groupId:i,details:a}=r,s=this.tracksInGroup[n];if(!s||s.groupId!==i){this.warn(`Audio track with id:${n} and group:${i} not found in active group ${s==null?void 0:s.groupId}`);return}const o=s.details;s.details=r.details,this.log(`Audio track ${n} "${s.name}" lang:${s.lang} group:${i} loaded [${a.startSN}-${a.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,o)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.audioGroups||null,i=this.groupIds;let a=this.currentTrack;if(!n||(i==null?void 0:i.length)!==(n==null?void 0:n.length)||n!=null&&n.some(o=>(i==null?void 0:i.indexOf(o))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(p=>!n||n.indexOf(p.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(p=>p.default)&&(this.selectDefaultTrack=!1),o.forEach((p,g)=>{p.id=g});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const l=this.hls.config.audioPreference;if(!a&&l){const p=$a(l,o,uc);if(p>-1)a=o[p];else{const g=$a(l,this.tracks);a=this.tracks[g]}}let c=this.findTrackId(a);c===-1&&a&&(c=this.findTrackId(null));const d={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group(s): ${n==null?void 0:n.join(",")}`),this.hls.trigger($.AUDIO_TRACKS_UPDATED,d);const f=this.trackId;if(c!==-1&&f===-1)this.setAudioTrack(c);else if(o.length&&f===-1){var s;const p=new Error(`No audio track selected for current audio group-ID(s): ${(s=this.groupIds)==null?void 0:s.join(",")} track count: ${o.length}`);this.warn(p.message),this.hls.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:p})}}}onError(e,r){r.fatal||!r.context||r.context.type===bt.AUDIO_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const r=this.hls;if(r.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&Ac(e,i,uc))return i;const a=$a(e,this.tracksInGroup,uc);if(a>-1){const s=this.tracksInGroup[a];return this.setAudioTrack(a),s}else if(i){let s=r.loadLevel;s===-1&&(s=r.firstAutoLevel);const o=Rbe(e,r.levels,n,s,uc);if(o===-1)return null;r.nextLoadLevel=o}if(e.channels||e.audioCodec){const s=$a(e,n);if(s>-1)return n[s]}}}return null}setAudioTrack(e){const r=this.tracksInGroup;if(e<0||e>=r.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e],a=i.details&&!i.details.live;if(e===this.trackId&&i===n&&a||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger($.AUDIO_TRACK_SWITCHING,zt({},i)),a))return;const s=this.switchParams(i.url,n==null?void 0:n.details,i.details);this.loadPlaylist(s)}findTrackId(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Ac(e,i,uc)))return n}if(e){const{name:n,lang:i,assocLang:a,characteristics:s,audioCodec:o,channels:l}=e;for(let c=0;c<r.length;c++){const d=r[c];if(Ac({name:n,lang:i,assocLang:a,characteristics:s,audioCodec:o,channels:l},d,uc))return c}for(let c=0;c<r.length;c++){const d=r[c];if(zp(e.attrs,d.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<r.length;c++){const d=r[c];if(zp(e.attrs,d.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){super.loadPlaylist();const r=this.currentTrack;this.shouldLoadPlaylist(r)&&w0(r.url,this.hls)&&this.scheduleLoading(r,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=e.id,i=e.groupId,a=this.getUrlWithDirectives(e.url,r),s=e.details,o=s==null?void 0:s.age;this.log(`Loading audio-track ${n} "${e.name}" lang:${e.lang} group:${i}${(r==null?void 0:r.msn)!==void 0?" at sn "+r.msn+" part "+r.part:""}${o&&s.live?" age "+o.toFixed(1)+(s.type&&" "+s.type||""):""} ${a}`),this.hls.trigger($.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:r||null,track:e})}}class bSe{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,r,n){if(this.queues===null||this.tracks===null)return;const i=this.queues[r];i.push(e),i.length===1&&!n&&this.executeNext(r)}appendBlocker(e){return new Promise(r=>{const n={label:"async-blocker",execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,e)})}prependBlocker(e){return new Promise(r=>{if(this.queues){const n={label:"async-blocker-prepend",execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(n)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var r;const n=(r=e[0])==null?void 0:r.label;(n==="async-blocker"||n==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const r=this.queues[e];if(r.length){const i=r[0];try{i.execute()}catch(a){var n;if(i.onError(a),this.queues===null||this.tracks===null)return;const s=(n=this.tracks[e])==null?void 0:n.buffer;s!=null&&s.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var r;return((r=this.queues)==null?void 0:r[e][0])||null}toString(){const{queues:e,tracks:r}=this;return e===null||r===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var r,n;return(r=this.queues)!=null&&r[e]||(n=this.tracks)!=null&&n[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var r;const n=(r=this.tracks)==null?void 0:r[e],i=n==null?void 0:n.buffer;return i?`SourceBuffer${i.updating?" updating":""}${n.ended?" ended":""}${n.ending?" ending":""}`:"none"}listOps(e){var r;return((r=this.queues)==null?void 0:r[e].map(n=>n.label).join(", "))||""}}const BF=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,DK="HlsJsTrackRemovedError";class xSe extends Error{constructor(e){super(e),this.name=DK}}class SSe extends uo{constructor(e,r){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=n=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=n=>{const{media:i,mediaSource:a}=this;n&&this.log("Media source opened"),!(!i||!a)&&(a.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger($.MEDIA_ATTACHED,{media:i,mediaSource:a}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:i}=this;n!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${n})`)},this.hls=e,this.fragmentTracker=r,this.appendSource=q0e(gl(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.BUFFER_RESET,this.onBufferReset,this),e.on($.BUFFER_APPENDING,this.onBufferAppending,this),e.on($.BUFFER_CODECS,this.onBufferCodecs,this),e.on($.BUFFER_EOS,this.onBufferEos,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on($.LEVEL_UPDATED,this.onLevelUpdated,this),e.on($.FRAG_PARSED,this.onFragParsed,this),e.on($.FRAG_CHANGED,this.onFragChanged,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.BUFFER_RESET,this.onBufferReset,this),e.off($.BUFFER_APPENDING,this.onBufferAppending,this),e.off($.BUFFER_CODECS,this.onBufferCodecs,this),e.off($.BUFFER_EOS,this.onBufferEos,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off($.LEVEL_UPDATED,this.onLevelUpdated,this),e.off($.FRAG_PARSED,this.onFragParsed,this),e.off($.FRAG_CHANGED,this.onFragChanged,this),e.off($.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:r}=this;if(!e)return null;const n={};if(this.operationQueue){const a=this.isUpdating();a||this.operationQueue.removeBlockers();const s=this.isQueued();(a||s)&&this.warn(`Transfering MediaSource with${s?" operations in queue":""}${a?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===r?Yt(n,i.tracks):this.sourceBuffers.forEach(a=>{const[s]=a;s&&(n[s]=Yt({},this.tracks[s]),this.removeBuffer(s)),a[0]=a[1]=null}),{media:e,mediaSource:r,tracks:n}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,r){var n;let i=2;(r.audio&&!r.video||!r.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(n=this.transferData)!=null&&n.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,r){const n=this.media=r.media,i=gl(this.appendSource);if(this.transferData=this.overrides=void 0,n&&i){const a=!!r.mediaSource;(a||r.overrides)&&(this.transferData=r,this.overrides=r.overrides);const s=this.mediaSource=r.mediaSource||new i;if(this.assignMediaSource(s),a)this._objectUrl=n.src,this.attachTransferred();else{const o=this._objectUrl=self.URL.createObjectURL(s);if(this.appendSource)try{n.removeAttribute("src");const l=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||l&&s instanceof l,UF(n),wSe(n,o),n.load()}catch{n.src=o}else n.src=o}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var r,n;this.log(`${((r=this.transferData)==null?void 0:r.mediaSource)===e?"transferred":"created"} media source: ${(n=e.constructor)==null?void 0:n.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,r=this.transferData;if(!r||!e)return;const n=this.tracks,i=r.tracks,a=i?Object.keys(i):null,s=a?a.length:0,o=()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()};if(i&&a&&s){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${gr(n,(l,c)=>l==="initSegment"?void 0:c)};
transfer tracks: ${gr(i,(l,c)=>l==="initSegment"?void 0:c)}}`),!D9(i,n)){r.mediaSource=null,r.tracks=void 0;const l=e.currentTime,c=this.details,d=Math.max(l,(c==null?void 0:c.fragments[0].start)||0);if(d-l>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${l} -> ${d}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(n)}") start time: ${d} currentTime: ${l}`),this.onMediaDetaching($.MEDIA_DETACHING,{}),this.onMediaAttaching($.MEDIA_ATTACHING,r),e.currentTime=d;return}this.transferData=void 0,a.forEach(l=>{const c=l,d=i[c];if(d){const f=d.buffer;if(f){const p=this.fragmentTracker,g=d.id;if(p.hasFragments(g)||p.hasParts(g)){const x=mt.getBuffered(f);p.detectEvictedFragments(c,x,g,null,!0)}const y=g1(c),b=[c,f];this.sourceBuffers[y]=b,f.updating&&this.operationQueue&&this.operationQueue.prependBlocker(c),this.trackSourceBuffer(c,d)}}}),o(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),o()}get mediaSourceOpenOrEnded(){var e;const r=(e=this.mediaSource)==null?void 0:e.readyState;return r==="open"||r==="ended"}onMediaDetaching(e,r){const n=!!r.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:a,_objectUrl:s}=this;if(a){if(this.log(`media source ${n?"transferring":"detaching"}`),n)this.sourceBuffers.forEach(([o])=>{o&&this.removeBuffer(o)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const o=a.readyState==="open";try{const l=a.sourceBuffers;for(let c=l.length;c--;)o&&l[c].abort(),a.removeSourceBuffer(l[c]);o&&a.endOfStream()}catch(l){this.warn(`onMediaDetaching: ${l.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}a.removeEventListener("sourceopen",this._onMediaSourceOpen),a.removeEventListener("sourceended",this._onMediaSourceEnded),a.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(a.removeEventListener("startstreaming",this._onStartStreaming),a.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),n||(s&&self.URL.revokeObjectURL(s),this.mediaSrc===s?(i.removeAttribute("src"),this.appendSource&&UF(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger($.MEDIA_DETACHED,r)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var r;const n=(r=this.tracks[e])==null?void 0:r.buffer;if(this.removeBuffer(e),n)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(a){this.warn(`onBufferReset ${e}`,a)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[g1(e)]=[null,null];const r=this.tracks[e];r&&(r.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new bSe(this.tracks)}onBufferCodecs(e,r){const n=this.tracks,i=Object.keys(r);this.log(`BUFFER_CODECS: "${i}" (current SB count ${this.sourceBufferCount})`);const a="audiovideo"in r&&(n.audio||n.video)||n.audiovideo&&("audio"in r||"video"in r),s=!a&&this.sourceBufferCount&&this.media&&i.some(o=>!n[o]);if(a||s){this.warn(`Unsupported transition between "${Object.keys(n)}" and "${i}" SourceBuffers`);return}i.forEach(o=>{var l,c,d;const f=r[o],{id:p,codec:g,levelCodec:y,container:b,metadata:x,supplemental:w}=f;let E=n[o];const T=(l=this.transferData)==null||(c=l.tracks)==null?void 0:c[o],O=T!=null&&T.buffer?T:E,_=(O==null?void 0:O.pendingCodec)||(O==null?void 0:O.codec),P=O==null?void 0:O.levelCodec;E||(E=n[o]={buffer:void 0,listeners:[],codec:g,supplemental:w,container:b,levelCodec:y,metadata:x,id:p});const R=Ay(_,P),D=R==null?void 0:R.replace(BF,"$1");let I=Ay(g,y);const M=(d=I)==null?void 0:d.replace(BF,"$1");I&&R&&D!==M&&(o.slice(0,5)==="audio"&&(I=x0(I,this.appendSource)),this.log(`switching codec ${_} to ${I}`),I!==(E.pendingCodec||E.codec)&&(E.pendingCodec=I),E.container=b,this.appendChangeType(o,b,I))}),(this.tracksReady||this.sourceBufferCount)&&(r.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&this.mediaSourceOpenOrEnded&&this.checkPendingTracks()}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,r)=>{const n=this.tracks[r];return e[r]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},e},{})}appendChangeType(e,r,n){const i=`${r};codecs=${n}`,a={label:`change-type=${i}`,execute:()=>{const s=this.tracks[e];if(s){const o=s.buffer;o!=null&&o.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),o.changeType(i),s.codec=n,s.container=r)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${e} SourceBuffer type`,s)}};this.append(a,e,this.isPending(this.tracks[e]))}blockAudio(e){var r;const n=e.start,i=n+e.duration*.05;if(((r=this.fragmentTracker.getAppendedFrag(n,Ke.MAIN))==null?void 0:r.gap)===!0)return;const s={label:"block-audio",execute:()=>{var o;const l=this.tracks.video;(this.lastVideoAppendEnd>i||l!=null&&l.buffer&&mt.isBuffered(l.buffer,i)||((o=this.fragmentTracker.getAppendedFrag(i,Ke.MAIN))==null?void 0:o.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:o=>{this.warn("Error executing block-audio operation",o)}};this.blockedAudioAppend={op:s,frag:e},this.append(s,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:r}=this;e&&r&&(this.blockedAudioAppend=null,r.unblockAudio(e.op))}onBufferAppending(e,r){const{tracks:n}=this,{data:i,type:a,parent:s,frag:o,part:l,chunkMeta:c}=r,d=c.buffering[a],f=o.sn,p=self.performance.now();d.start=p;const g=o.stats.buffering,y=l?l.stats.buffering:null;g.start===0&&(g.start=p),y&&y.start===0&&(y.start=p);const b=n.audio;let x=!1;a==="audio"&&(b==null?void 0:b.container)==="audio/mpeg"&&(x=!this.lastMpegAudioChunk||c.id===1||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const w=this.tracks.video,E=w==null?void 0:w.buffer;if(E&&f!=="initSegment"){const _=l||o,P=this.blockedAudioAppend;if(a==="audio"&&s!=="main"&&!this.blockedAudioAppend){const D=_.start+_.duration*.05,I=E.buffered,M=this.currentOp("video");!I.length&&!M?this.blockAudio(_):!M&&!mt.isBuffered(E,D)&&this.lastVideoAppendEnd<D&&this.blockAudio(_)}else if(a==="video"){const R=_.end;if(P){const D=P.frag.start;(R>D||R<this.lastVideoAppendEnd||mt.isBuffered(E,D))&&this.unblockAudio()}this.lastVideoAppendEnd=R}}const T=(l||o).start,O={label:`append-${a}`,execute:()=>{if(d.executeStart=self.performance.now(),x){const _=this.tracks[a];if(_){const P=_.buffer;if(P){const R=T-P.timestampOffset;Math.abs(R)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${T} (delta: ${R}) sn: ${f})`),P.timestampOffset=T)}}}this.appendExecutor(i,a)},onStart:()=>{},onComplete:()=>{const _=self.performance.now();d.executeEnd=d.end=_,g.first===0&&(g.first=_),y&&y.first===0&&(y.first=_);const P={};this.sourceBuffers.forEach(([R,D])=>{R&&(P[R]=mt.getBuffered(D))}),this.appendErrors[a]=0,a==="audio"||a==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger($.BUFFER_APPENDED,{type:a,frag:o,part:l,chunkMeta:c,parent:o.type,timeRanges:P})},onError:_=>{var P;const R={type:We.MEDIA_ERROR,parent:o.type,details:de.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:o,part:l,chunkMeta:c,error:_,err:_,fatal:!1},D=(P=this.media)==null?void 0:P.error;if(_.code===DOMException.QUOTA_EXCEEDED_ERR)R.details=de.BUFFER_FULL_ERROR;else if(_.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!D)R.errorAction=$p(!0);else if(_.name===DK&&this.sourceBufferCount===0)R.errorAction=$p(!0);else{const I=++this.appendErrors[a];this.warn(`Failed ${I}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer (${D||"no media error"})`),(I>=this.hls.config.appendErrorMaxRetry||D)&&(R.fatal=!0)}this.hls.trigger($.ERROR,R)}};this.append(O,a,this.isPending(this.tracks[a]))}getFlushOp(e,r,n){return this.log(`queuing "${e}" remove ${r}-${n}`),{label:"remove",execute:()=>{this.removeExecutor(e,r,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger($.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${r}-${n} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,r){const{type:n,startOffset:i,endOffset:a}=r;n?this.append(this.getFlushOp(n,i,a),n):this.sourceBuffers.forEach(([s])=>{s&&this.append(this.getFlushOp(s,i,a),s)})}onFragParsed(e,r){const{frag:n,part:i}=r,a=[],s=i?i.elementaryStreams:n.elementaryStreams;s[Wt.AUDIOVIDEO]?a.push("audiovideo"):(s[Wt.AUDIO]&&a.push("audio"),s[Wt.VIDEO]&&a.push("video"));const o=()=>{const l=self.performance.now();n.stats.buffering.end=l,i&&(i.stats.buffering.end=l);const c=i?i.stats:n.stats;this.hls.trigger($.FRAG_BUFFERED,{frag:n,part:i,stats:c,id:n.type})};a.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(o,a).catch(l=>{this.warn(`Fragment buffered callback ${l}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,r){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{var r,n;return e&&(!((r=this.tracks[e])!=null&&r.ended)||((n=this.tracks[e])==null?void 0:n.ending))})}onBufferEos(e,r){var n;this.sourceBuffers.forEach(([s])=>{if(s){const o=this.tracks[s];(!r.type||r.type===s)&&(o.ending=!0,o.ended||(o.ended=!0,this.log(`${s} buffer reached EOS`)))}});const i=((n=this.overrides)==null?void 0:n.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([s])=>{var o;return s&&!((o=this.tracks[s])!=null&&o.ended)})&&(i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:s}=this;if(!s||s.readyState!=="open"){s&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${s.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),s.endOfStream(),this.hls.trigger($.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger($.BUFFERED_TO_END,void 0)))}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const r=this.tracks[e];r&&(r.ending=!1)}})}onLevelUpdated(e,{details:r}){r.fragments.length&&(this.details=r,this.updateDuration())}updateDuration(){const e=this.getDurationAndRange();e&&this.blockUntilOpen(()=>this.updateMediaSource(e))}onError(e,r){if(r.details===de.BUFFER_APPEND_ERROR&&r.frag){var n;const i=(n=r.errorAction)==null?void 0:n.nextAutoLevel;Fe(i)&&i!==r.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:r,media:n}=this;if(!n||r===null||!this.sourceBufferCount)return;const i=e.config,a=n.currentTime,s=r.levelTargetDuration,o=r.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(Fe(o)&&o>=0){const l=Math.max(o,s),c=Math.floor(a/s)*s-l;this.flushBackBuffer(a,s,c)}if(Fe(i.frontBufferFlushThreshold)&&i.frontBufferFlushThreshold>0){const l=Math.max(i.maxBufferLength,i.frontBufferFlushThreshold),c=Math.max(l,s),d=Math.floor(a/s)*s+c;this.flushFrontBuffer(a,s,d)}}flushBackBuffer(e,r,n){this.sourceBuffers.forEach(([i,a])=>{if(a){const o=mt.getBuffered(a);if(o.length>0&&n>o.start(0)){var s;this.hls.trigger($.BACK_BUFFER_REACHED,{bufferEnd:n});const l=this.tracks[i];if((s=this.details)!=null&&s.live)this.hls.trigger($.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(l!=null&&l.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger($.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:i})}}})}flushFrontBuffer(e,r,n){this.sourceBuffers.forEach(([i,a])=>{if(a){const s=mt.getBuffered(a),o=s.length;if(o<2)return;const l=s.start(o-1),c=s.end(o-1);if(n>l||e>=l&&e<=c)return;this.hls.trigger($.BUFFER_FLUSHING,{startOffset:l,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:r,mediaSource:n}=this;if(!r||!this.media||(n==null?void 0:n.readyState)!=="open")return null;const i=r.edge;if(r.live&&this.hls.config.liveDurationInfinity){if(r.fragments.length&&r.live&&n.setLiveSeekableRange){const c=Math.max(0,r.fragmentStart),d=Math.max(c,i);return{duration:1/0,start:c,end:d}}return{duration:1/0}}const a=(e=this.overrides)==null?void 0:e.duration;if(a)return Fe(a)?{duration:a}:null;const s=this.media.duration,o=Fe(n.duration)?n.duration:0;return i>o&&i>s||!Fe(s)?{duration:i}:null}updateMediaSource({duration:e,start:r,end:n}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(Fe(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),r!==void 0&&n!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${r}-${n}.`),i.setLiveSeekableRange(r,n)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:r,tracks:n}=this;if(this.log(`checkPendingTracks (pending: ${r} codec events expected: ${e}) ${gr(n)}`),this.tracksReady){var i;const a=(i=this.transferData)==null?void 0:i.tracks;a&&Object.keys(a).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([r,n])=>{if(r){const i=this.tracks[r];e[r]={buffer:n,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger($.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([r])=>{this.executeNext(r)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:r,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const a in e){const s=a,o=e[s];if(this.isPending(o)){const l=this.getTrackCodec(o,s),c=`${o.container};codecs=${l}`;o.codec=l,this.log(`creating sourceBuffer(${c})${this.currentOp(s)?" Queued":""} ${gr(o)}`);try{const d=n.addSourceBuffer(c),f=g1(s),p=[s,d];r[f]=p,o.buffer=d}catch(d){var i;this.error(`error while trying to add sourceBuffer: ${d.message}`),this.shiftAndExecuteNext(s),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[s],this.hls.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:d,sourceBufferName:s,mimeType:c,parent:o.id});return}this.trackSourceBuffer(s,o)}}this.bufferCreated()}getTrackCodec(e,r){const n=e.supplemental;let i=e.codec;n&&(r==="video"||r==="audiovideo")&&IR(n,"video")&&(i=pbe(i,n));const a=Ay(i,e.levelCodec);return a?r.slice(0,5)==="audio"?x0(a,this.appendSource):a:""}trackSourceBuffer(e,r){const n=r.buffer;if(!n)return;const i=this.getTrackCodec(r,e);this.tracks[e]={buffer:n,codec:i,container:r.container,levelCodec:r.levelCodec,supplemental:r.supplemental,metadata:r.metadata,id:r.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(a,s)=>{const o=s.removedRanges;o!=null&&o.length&&this.hls.trigger($.BUFFER_FLUSHED,{type:a})})}get mediaSrc(){var e,r;const n=((e=this.media)==null||(r=e.querySelector)==null?void 0:r.call(e,"source"))||this.media;return n==null?void 0:n.src}onSBUpdateStart(e){const r=this.currentOp(e);r&&r.onStart()}onSBUpdateEnd(e){var r;if(((r=this.mediaSource)==null?void 0:r.readyState)==="closed"){this.resetBuffer(e);return}const n=this.currentOp(e);n&&(n.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,r){var n;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${i}`,r),this.hls.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const a=this.currentOp(e);a&&a.onError(i)}removeExecutor(e,r,n){const{media:i,mediaSource:a}=this,s=this.tracks[e],o=s==null?void 0:s.buffer;if(!i||!a||!o){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const l=Fe(i.duration)?i.duration:1/0,c=Fe(a.duration)?a.duration:1/0,d=Math.max(0,r),f=Math.min(n,l,c);f>d&&(!s.ending||s.ended)?(s.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),o.remove(d,f)):this.shiftAndExecuteNext(e)}appendExecutor(e,r){const n=this.tracks[r],i=n==null?void 0:n.buffer;if(!i)throw new xSe(`Attempting to append to the ${r} SourceBuffer, but it does not exist`);n.ending=!1,n.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(r=>{this.warn(`SourceBuffer blocked callback ${r}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(r){this.warn(`Callback run without blocking ${this.operationQueue} ${r}`)}}isUpdating(){return this.sourceBuffers.some(([e,r])=>e&&r.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,r=this.sourceBufferTypes){if(!r.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:n}=this,i=r.map(s=>this.appendBlocker(s));return r.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(s=>{n===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(r=>{var n;const i=(n=this.tracks[r])==null?void 0:n.buffer;!i||i.updating||this.shiftAndExecuteNext(r)})}append(e,r,n){this.operationQueue&&this.operationQueue.append(e,r,n)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,r)=>e+(this.isPending(this.tracks[r])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[r])=>e+(r?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,r,n){const i=this.tracks[e];if(!i)return;const a=i.buffer;if(!a)return;const s=n.bind(this,e);i.listeners.push({event:r,listener:s}),a.addEventListener(r,s)}removeBufferListeners(e){const r=this.tracks[e];if(!r)return;const n=r.buffer;n&&(r.listeners.forEach(i=>{n.removeEventListener(i.event,i.listener)}),r.listeners.length=0)}}function UF(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(r=>{t.removeChild(r)})}function wSe(t,e){const r=self.document.createElement("source");r.type="video/mp4",r.src=e,t.appendChild(r)}function g1(t){return t==="audio"?1:0}class wL{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on($.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on($.BUFFER_CODECS,this.onBufferCodecs,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off($.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off($.BUFFER_CODECS,this.onBufferCodecs,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,r){const n=this.hls.levels[r.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,r){this.media=r.media instanceof HTMLVideoElement?r.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,r){const n=this.hls;this.restrictedLevels=[],this.firstLevel=r.firstLevel,n.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onLevelsUpdated(e,r){this.timer&&Fe(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,r){this.hls.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const r=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&r.logger.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),r.autoLevelCapping=n,r.autoLevelEnabled&&r.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=r.autoLevelCapping}}}getMaxLevel(e){const r=this.hls.levels;if(!r.length)return-1;const n=r.filter((i,a)=>this.isLevelAllowed(i)&&a<=e);return this.clientRect=null,wL.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,r={width:0,height:0};if(e){const n=e.getBoundingClientRect();r.width=n.width,r.height=n.height,!r.width&&!r.height&&(r.width=n.right-n.left||e.width||0,r.height=n.bottom-n.top||e.height||0)}return this.clientRect=r,r}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,r,n){if(!(e!=null&&e.length))return-1;const i=(o,l)=>l?o.width!==l.width||o.height!==l.height:!0;let a=e.length-1;const s=Math.max(r,n);for(let o=0;o<e.length;o+=1){const l=e[o];if((l.width>=s||l.height>=s)&&i(l,e[o+1])){a=o;break}}return a}}const ESe={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Vn=ESe,TSe={HLS:"h"},ASe=TSe,_Se="CMCD-Object",OSe="CMCD-Request",RSe="CMCD-Session",CSe="CMCD-Status",Jh={OBJECT:_Se,REQUEST:OSe,SESSION:RSe,STATUS:CSe},PSe={[Jh.OBJECT]:["br","d","ot","tb"],[Jh.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[Jh.SESSION]:["cid","pr","sf","sid","st","v"],[Jh.STATUS]:["bs","rtp"]};class Md{constructor(e,r){Array.isArray(e)&&(e=e.map(n=>n instanceof Md?n:new Md(n))),this.value=e,this.params=r}}const DSe="Dict";function LSe(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function ISe(t,e,r,n){return new Error(`failed to ${t} "${LSe(e)}" as ${r}`,{cause:n})}function Xa(t,e,r){return ISe("serialize",t,e,r)}class LK{constructor(e){this.description=e}}const GF="Bare Item",MSe="Boolean";function NSe(t){if(typeof t!="boolean")throw Xa(t,MSe);return t?"?1":"?0"}const kSe="Byte Sequence";function jSe(t){if(ArrayBuffer.isView(t)===!1)throw Xa(t,kSe);return`:${Lxe(t)}:`}const $Se="Integer";function FSe(t){return t<-999999999999999||999999999999999<t}function IK(t){if(FSe(t))throw Xa(t,$Se);return t.toString()}function BSe(t){return`@${IK(t.getTime()/1e3)}`}const USe="Decimal";function GSe(t){const e=gK(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Xa(t,USe);const r=e.toString();return r.includes(".")?r:`${r}.0`}const zSe="String",VSe=/[\x00-\x1f\x7f]+/;function qSe(t){if(VSe.test(t))throw Xa(t,zSe);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function HSe(t){return t.description||t.toString().slice(7,-1)}const KSe="Token";function zF(t){const e=HSe(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Xa(e,KSe);return e}function GR(t){switch(typeof t){case"number":if(!Fe(t))throw Xa(t,GF);return Number.isInteger(t)?IK(t):GSe(t);case"string":return qSe(t);case"symbol":return zF(t);case"boolean":return NSe(t);case"object":if(t instanceof Date)return BSe(t);if(t instanceof Uint8Array)return jSe(t);if(t instanceof LK)return zF(t);default:throw Xa(t,GF)}}const WSe="Key";function zR(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw Xa(t,WSe);return t}function EL(t){return t==null?"":Object.entries(t).map(([e,r])=>r===!0?`;${zR(e)}`:`;${zR(e)}=${GR(r)}`).join("")}function MK(t){return t instanceof Md?`${GR(t.value)}${EL(t.params)}`:GR(t)}function YSe(t){return`(${t.value.map(MK).join(" ")})${EL(t.params)}`}function XSe(t,e={whitespace:!0}){if(typeof t!="object")throw Xa(t,DSe);const r=t instanceof Map?t.entries():Object.entries(t),n=e!=null&&e.whitespace?" ":"";return Array.from(r).map(([i,a])=>{a instanceof Md||(a=new Md(a));let s=zR(i);return a.value===!0?s+=EL(a.params):(s+="=",Array.isArray(a.value)?s+=YSe(a):s+=MK(a)),s}).join(`,${n}`)}function QSe(t,e){return XSe(t,e)}function ZSe(t){return t==="ot"||t==="sf"||t==="st"}function JSe(t){return typeof t=="number"?Fe(t):t!=null&&t!==""&&t!==!1}const Cy=t=>Math.round(t),ewe=(t,e)=>(e!=null&&e.baseUrl&&(t=Ixe(t,e.baseUrl)),encodeURIComponent(t)),Hv=t=>Cy(t/100)*100,twe={br:Cy,d:Cy,bl:Hv,dl:Hv,mtp:Hv,nor:ewe,rtp:Hv,tb:Cy};function rwe(t,e){const r={};if(t==null||typeof t!="object")return r;const n=Object.keys(t).sort(),i=Yt({},twe,e==null?void 0:e.formatters),a=e==null?void 0:e.filter;return n.forEach(s=>{if(a!=null&&a(s))return;let o=t[s];const l=i[s];l&&(o=l(o,e)),!(s==="v"&&o===1)&&(s=="pr"&&o===1||JSe(o)&&(ZSe(s)&&typeof o=="string"&&(o=new LK(o)),r[s]=o))}),r}function NK(t,e={}){return t?QSe(rwe(t,e),Yt({whitespace:!1},e)):""}function nwe(t,e={}){const r={};if(!t)return r;const n=Object.entries(t),i=Object.entries(PSe).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),a=n.reduce((s,o)=>{var l,c;const[d,f]=o,p=((l=i.find(g=>g[1].includes(d)))===null||l===void 0?void 0:l[0])||Jh.REQUEST;return(c=s[p])!==null&&c!==void 0||(s[p]={}),s[p][d]=f,s},{});return Object.entries(a).reduce((s,[o,l])=>(s[o]=NK(l,e),s),r)}function iwe(t,e,r){return Yt(t,nwe(e,r))}const awe="CMCD";function swe(t,e={}){if(!t)return"";const r=NK(t,e);return`${awe}=${encodeURIComponent(r)}`}const VF=/CMCD=[^&#]+/;function owe(t,e,r){const n=swe(e,r);if(!n)return t;if(VF.test(t))return t.replace(VF,n);const i=t.includes("?")?"&":"?";return`${t}${i}${n}`}class lwe{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:Vn.MANIFEST,su:!this.initialized})}catch(a){this.hls.logger.warn("Could not generate manifest CMCD data.",a)}},this.applyFragmentData=i=>{try{const{frag:a,part:s}=i,o=this.hls.levels[a.level],l=this.getObjectType(a),c={d:(s||a).duration*1e3,ot:l};(l===Vn.VIDEO||l===Vn.AUDIO||l==Vn.MUXED)&&(c.br=o.bitrate/1e3,c.tb=this.getTopBandwidth(l)/1e3,c.bl=this.getBufferLength(l));const d=s?this.getNextPart(s):this.getNextFrag(a);d!=null&&d.url&&d.url!==a.url&&(c.nor=d.url),this.apply(i,c)}catch(a){this.hls.logger.warn("Could not generate segment CMCD data.",a)}},this.hls=e;const r=this.config=e.config,{cmcd:n}=r;n!=null&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.sessionId,this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHED,this.onMediaDetached,this),e.on($.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHED,this.onMediaDetached,this),e.off($.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,r){var n,i;this.audioBuffer=(n=r.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(i=r.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:ASe.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,r={}){Yt(r,this.createData());const n=r.ot===Vn.INIT||r.ot===Vn.VIDEO||r.ot===Vn.MUXED;this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),r.su==null&&(r.su=this.buffering);const{includeKeys:i}=this;i&&(r=Object.keys(r).reduce((s,o)=>(i.includes(o)&&(s[o]=r[o]),s),{}));const a={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),iwe(e.headers,r,a)):e.url=owe(e.url,r,a)}getNextFrag(e){var r;const n=(r=this.hls.levels[e.level])==null?void 0:r.details;if(n){const i=e.sn-n.startSN;return n.fragments[i+1]}}getNextPart(e){var r,n;const{index:i,fragment:a}=e,s=(r=this.hls.levels[a.level])==null||(n=r.details)==null?void 0:n.partList;if(s){const{sn:o}=a;for(let l=s.length-1;l>=0;l--){const c=s[l];if(c.index===i&&c.fragment.sn===o)return s[l+1]}}}getObjectType(e){const{type:r}=e;if(r==="subtitle")return Vn.TIMED_TEXT;if(e.sn==="initSegment")return Vn.INIT;if(r==="audio")return Vn.AUDIO;if(r==="main")return this.hls.audioTracks.length?Vn.VIDEO:Vn.MUXED}getTopBandwidth(e){let r=0,n;const i=this.hls;if(e===Vn.AUDIO)n=i.audioTracks;else{const a=i.maxAutoLevel,s=a>-1?a+1:i.levels.length;n=i.levels.slice(0,s)}for(const a of n)a.bitrate>r&&(r=a.bitrate);return r>0?r:NaN}getBufferLength(e){const r=this.media,n=e===Vn.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!r?NaN:mt.bufferInfo(n,r.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,r=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,s,o){r(a),this.loader.load(a,s,o)}}}createFragmentLoader(){const{fLoader:e}=this.config,r=this.applyFragmentData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,s,o){r(a),this.loader.load(a,s,o)}}}}const cwe=3e5;class uwe extends uo{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_LOADED,this.onManifestLoaded,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,r)=>(e.indexOf(r.pathwayId)===-1&&e.push(r.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const r=this.levels;r&&(this.levels=r.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,r){const{contentSteering:n}=r;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,r){this.audioTracks=r.audioTracks,this.subtitleTracks=r.subtitleTracks}onError(e,r){const{errorAction:n}=r;if((n==null?void 0:n.action)===Tn.SendAlternateToPenaltyBox&&n.flags===oa.MoveAllAlternatesMatchingHost){const i=this.levels;let a=this._pathwayPriority,s=this.pathwayId;if(r.context){const{groupId:o,pathwayId:l,type:c}=r.context;o&&i?s=this.getPathwayForGroupId(o,c,s):l&&(s=l)}s in this.penalizedPathways||(this.penalizedPathways[s]=performance.now()),!a&&i&&(a=this.pathways()),a&&a.length>1&&(this.updatePathwayPriority(a),n.resolved=this.pathwayId!==s),n.resolved||this.warn(`Could not resolve ${r.details} ("${r.error.message}") with content-steering for Pathway: ${s} levels: ${i&&i.length} priorities: ${gr(a)} penalized: ${gr(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let r=this.getLevelsForPathway(this.pathwayId);if(r.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),r=this.getLevelsForPathway(n),this.pathwayId=n}return r.length!==e.length&&this.log(`Found ${r.length}/${e.length} levels in Pathway "${this.pathwayId}"`),r}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(r=>e===r.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let r;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(a=>{i-n[a]>cwe&&delete n[a]});for(let a=0;a<e.length;a++){const s=e[a];if(s in n)continue;if(s===this.pathwayId)return;const o=this.hls.nextLoadLevel,l=this.hls.levels[o];if(r=this.getLevelsForPathway(s),r.length>0){this.log(`Setting Pathway to "${s}"`),this.pathwayId=s,sK(r),this.hls.trigger($.LEVELS_UPDATED,{levels:r});const c=this.hls.levels[o];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(e,r,n){const i=this.getLevelsForPathway(n).concat(this.levels||[]);for(let a=0;a<i.length;a++)if(r===bt.AUDIO_TRACK&&i[a].hasAudioGroup(e)||r===bt.SUBTITLE_TRACK&&i[a].hasSubtitleGroup(e))return i[a].pathwayId;return n}clonePathways(e){const r=this.levels;if(!r)return;const n={},i={};e.forEach(a=>{const{ID:s,"BASE-ID":o,"URI-REPLACEMENT":l}=a;if(r.some(d=>d.pathwayId===s))return;const c=this.getLevelsForPathway(o).map(d=>{const f=new xr(d.attrs);f["PATHWAY-ID"]=s;const p=f.AUDIO&&`${f.AUDIO}_clone_${s}`,g=f.SUBTITLES&&`${f.SUBTITLES}_clone_${s}`;p&&(n[f.AUDIO]=p,f.AUDIO=p),g&&(i[f.SUBTITLES]=g,f.SUBTITLES=g);const y=kK(d.uri,f["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),b=new jp({attrs:f,audioCodec:d.audioCodec,bitrate:d.bitrate,height:d.height,name:d.name,url:y,videoCodec:d.videoCodec,width:d.width});if(d.audioGroups)for(let x=1;x<d.audioGroups.length;x++)b.addGroupId("audio",`${d.audioGroups[x]}_clone_${s}`);if(d.subtitleGroups)for(let x=1;x<d.subtitleGroups.length;x++)b.addGroupId("text",`${d.subtitleGroups[x]}_clone_${s}`);return b});r.push(...c),qF(this.audioTracks,n,l,s),qF(this.subtitleTracks,i,l,s)})}loadSteeringManifest(e){const r=this.hls.config,n=r.loader;this.loader&&this.loader.destroy(),this.loader=new n(r);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const d=(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+d)}const a={responseType:"json",url:i.href},s=r.steeringManifestLoadPolicy.default,o=s.errorRetry||s.timeoutRetry||{},l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},c={onSuccess:(d,f,p,g)=>{this.log(`Loaded steering manifest: "${i}"`);const y=d.data;if((y==null?void 0:y.VERSION)!==1){this.log(`Steering VERSION ${y.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=y.TTL;const{"RELOAD-URI":b,"PATHWAY-CLONES":x,"PATHWAY-PRIORITY":w}=y;if(b)try{this.uri=new self.URL(b,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${b}`);return}this.scheduleRefresh(this.uri||p.url),x&&this.clonePathways(x);const E={steeringManifest:y,url:i.toString()};this.hls.trigger($.STEERING_MANIFEST_LOADED,E),w&&this.updatePathwayPriority(w)},onError:(d,f,p,g)=>{if(this.log(`Error loading steering manifest: ${d.code} ${d.text} (${f.url})`),this.stopLoad(),d.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let y=this.timeToLoad*1e3;if(d.code===429){const b=this.loader;if(typeof(b==null?void 0:b.getResponseHeader)=="function"){const x=b.getResponseHeader("Retry-After");x&&(y=parseFloat(x)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,y)},onTimeout:(d,f,p)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(a,l,c)}scheduleRefresh(e,r=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const i=(n=this.hls)==null?void 0:n.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},r)}}function qF(t,e,r,n){t&&Object.keys(e).forEach(i=>{const a=t.filter(s=>s.groupId===i).map(s=>{const o=Yt({},s);return o.details=void 0,o.attrs=new xr(o.attrs),o.url=o.attrs.URI=kK(s.url,s.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),o.groupId=o.attrs["GROUP-ID"]=e[i],o.attrs["PATHWAY-ID"]=n,o});t.push(...a)})}function kK(t,e,r,n){const{HOST:i,PARAMS:a,[r]:s}=n;let o;e&&(o=s==null?void 0:s[e],o&&(t=o));const l=new self.URL(t);return i&&!o&&(l.host=i),a&&Object.keys(a).sort().forEach(c=>{c&&l.searchParams.set(c,a[c])}),l.href}class gd extends uo{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=gd.CDMCleanupPromise?[gd.CDMCleanupPromise]:[],this.onMediaEncrypted=r=>{const{initDataType:n,initData:i}=r,a=`"${r.type}" event: init data type: "${n}"`;if(this.debug(a),i!==null){if(!this.keyFormatPromise){let s=Object.keys(this.keySystemAccessPromises);s.length||(s=Gv(this.config));const o=s.map(l1).filter(l=>!!l);this.keyFormatPromise=this.getKeyFormatPromise(o)}this.keyFormatPromise.then(s=>{const o=s1(s);let l,c;if(n==="sinf"){if(o!==Vt.FAIRPLAY){this.warn(`Ignoring unexpected "${r.type}" event with init data type: "${n}" for selected key-system ${o}`);return}const y=qr(new Uint8Array(i));try{const b=fL(JSON.parse(y).sinf),x=$9(b);if(!x)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");l=new Uint8Array(x.subarray(8,24)),c=Vt.FAIRPLAY}catch(b){this.warn(`${a} Failed to parse sinf: ${b}`);return}}else{if(o!==Vt.WIDEVINE&&o!==Vt.PLAYREADY){this.warn(`Ignoring unexpected "${r.type}" event with init data type: "${n}" for selected key-system ${o}`);return}const y=ube(i),b=y.filter(w=>!!w.systemId&&o1(w.systemId)===o);b.length>1&&this.warn(`${a} Using first of ${b.length} pssh found for selected key-system ${o}`);const x=b[0];if(!x){y.length===0||y.some(w=>!w.systemId)?this.warn(`${a} contains incomplete or invalid pssh data`):this.log(`ignoring ${a} for ${y.map(w=>o1(w.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(c=o1(x.systemId),x.version===0&&x.data)if(c===Vt.WIDEVINE){const w=x.data.length-22;l=new Uint8Array(x.data.subarray(w,w+16))}else c===Vt.PLAYREADY&&(l=J9(x.data))}if(!c||!l)return;const d=Pa.hexDump(l),{keyIdToKeySessionPromise:f,mediaKeySessions:p}=this;let g=f[d];for(let y=0;y<p.length;y++){const b=p[y],x=b.decryptdata;if(!x.keyId)continue;const w=Pa.hexDump(x.keyId);if(d===w||x.uri.replace(/-/g,"").indexOf(d)!==-1){if(g=f[w],x.pssh)break;delete f[w],x.pssh=new Uint8Array(i),x.keyId=l,g=f[d]=g.then(()=>this.generateRequestWithPreferredKeySession(b,n,i,"encrypted-event-key-match")),g.catch(E=>this.handleError(E));break}}if(!g){if(c!==o){this.log(`Ignoring "${r.type}" event with ${c} init data for selected key-system ${o}`);return}g=f[d]=this.getKeySystemSelectionPromise([c]).then(({keySystem:y,mediaKeys:b})=>{var x;this.throwIfDestroyed();const w=new Fp("ISO-23001-7",d,(x=l1(y))!=null?x:"");return w.pssh=new Uint8Array(i),w.keyId=l,this.attemptSetMediaKeys(y,b).then(()=>{this.throwIfDestroyed();const E=this.createMediaKeySessionContext({decryptdata:w,keySystem:y,mediaKeys:b});return this.generateRequestWithPreferredKeySession(E,n,i,"encrypted-event-no-match")})}),g.catch(y=>this.handleError(y))}})}},this.onWaitingForKey=r=>{this.log(`"${r.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){const e=this.media;this.unregisterListeners(),this.onMediaDetached(),this._clear(e);const r=this.config;r.requestMediaKeySystemAccessFunc=null,r.licenseXhrSetup=r.licenseResponseCallback=void 0,r.drmSystems=r.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on($.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on($.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on($.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on($.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off($.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off($.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off($.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off($.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:r,widevineLicenseUrl:n}=this.config,i=r[e];if(i)return i.licenseUrl;if(e===Vt.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const r=this.getLicenseServerUrl(e);if(r===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return r}getServerCertificateUrl(e){const{drmSystems:r}=this.config,n=r[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const r=this.hls.levels,n=(s,o,l)=>!!s&&l.indexOf(s)===o,i=r.map(s=>s.audioCodec).filter(n),a=r.map(s=>s.videoCodec).filter(n);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((s,o)=>{const l=c=>{const d=c.shift();this.getMediaKeysPromise(d,i,a).then(f=>s({keySystem:d,mediaKeys:f})).catch(f=>{c.length?l(c):f instanceof Di?o(f):o(new Di({type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};l(e)})}requestMediaKeySystemAccess(e,r){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${n}`;return Z9===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return n(e,r)}getMediaKeysPromise(e,r,n){const i=txe(e,r,n,this.config.drmSystemOptions),a=this.keySystemAccessPromises[e];let s=a==null?void 0:a.keySystemAccess;if(!s){this.log(`Requesting encrypted media "${e}" key-system access with config: ${gr(i)}`),s=this.requestMediaKeySystemAccess(e,i);const o=this.keySystemAccessPromises[e]={keySystemAccess:s};return s.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),s.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),o.mediaKeys=l.createMediaKeys().then(d=>(this.log(`Media-keys created for "${e}"`),c.then(f=>f?this.setMediaKeysServerCertificate(d,e,f):d))),o.mediaKeys.catch(d=>{this.error(`Failed to create media-keys for "${e}"}: ${d}`)}),o.mediaKeys})}return s.then(()=>a.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:r,mediaKeys:n}){this.log(`Creating key-system session "${r}" keyId: ${Pa.hexDump(e.keyId||[])}`);const i=n.createSession(),a={decryptdata:e,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}renewKeySession(e){const r=e.decryptdata;if(r.pssh){const n=this.createMediaKeySessionContext(e),i=this.getKeyIdString(r),a="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,a,r.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return Pa.hexDump(e.keyId)}updateKeySession(e,r){var n;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${Pa.hexDump(((n=e.decryptdata)==null?void 0:n.keyId)||[])}
      } (data length: ${r&&r.byteLength})`),i.update(r)}selectKeySystemFormat(e){const r=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((r,n)=>{const i=Gv(this.config),a=e.map(s1).filter(s=>!!s&&i.indexOf(s)!==-1);return this.getKeySystemSelectionPromise(a).then(({keySystem:s})=>{const o=l1(s);o?r(o):n(new Error(`Unable to find format for key-system "${s}"`))}).catch(n)})}loadKey(e){const r=e.keyInfo.decryptdata,n=this.getKeyIdString(r),i=`(keyId: ${n} format: "${r.keyFormat}" method: ${r.method} uri: ${r.uri})`;this.log(`Starting session for key ${i}`);let a=this.keyIdToKeySessionPromise[n];return a||(a=this.getKeySystemForKeyPromise(r).then(({keySystem:o,mediaKeys:l})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(o,l).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:o,mediaKeys:l,decryptdata:r}))))),(this.keyIdToKeySessionPromise[n]=a.then(o=>{const l="cenc",c=r.pssh?r.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(o,l,c,"playlist-key")})).catch(o=>this.handleError(o))),a}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Di?this.hls.trigger($.ERROR,e.data):this.hls.trigger($.ERROR,{type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const r=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[r];if(!n){const i=s1(e.keyFormat),a=i?[i]:Gv(this.config);return this.attemptKeySystemAccess(a)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=Gv(this.config)),e.length===0)throw new Di({type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${gr({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,r){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(n).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(r)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(a=>n.indexOf(a)===-1)})}generateRequestWithPreferredKeySession(e,r,n,i){var a,s;const o=(a=this.config.drmSystems)==null||(s=a[e.keySystem])==null?void 0:s.generateRequest;if(o)try{const y=o.call(this.hls,r,n,e);if(!y)throw new Error("Invalid response from configured generateRequest filter");r=y.initDataType,n=y.initData?y.initData:null,e.decryptdata.pssh=n?new Uint8Array(n):null}catch(y){var l;if(this.warn(y.message),(l=this.hls)!=null&&l.config.debug)throw y}if(n===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${c} (init data type: ${r} length: ${n?n.byteLength:null})`);const d=new pL,f=e._onmessage=y=>{const b=e.mediaKeysSession;if(!b){d.emit("error",new Error("invalid state"));return}const{messageType:x,message:w}=y;this.log(`"${x}" message event for session "${b.sessionId}" message size: ${w.byteLength}`),x==="license-request"||x==="license-renewal"?this.renewLicense(e,w).catch(E=>{d.eventNames().length?d.emit("error",E):this.handleError(E)}):x==="license-release"?e.keySystem===Vt.FAIRPLAY&&(this.updateKeySession(e,kR("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${x}"`)},p=e._onkeystatuseschange=y=>{if(!e.mediaKeysSession){d.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const x=e.keyStatus;d.emit("keyStatus",x),x==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",f),e.mediaKeysSession.addEventListener("keystatuseschange",p);const g=new Promise((y,b)=>{d.on("error",b),d.on("keyStatus",x=>{x.startsWith("usable")?y():x==="output-restricted"?b(new Di({type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):x==="internal-error"?b(new Di({type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${x}"`)):x==="expired"?b(new Error("key expired while generating request")):this.warn(`unhandled key status change "${x}"`)})});return e.mediaKeysSession.generateRequest(r,n).then(()=>{var y;this.log(`Request generated for key-session "${(y=e.mediaKeysSession)==null?void 0:y.sessionId}" keyId: ${c}`)}).catch(y=>{throw new Di({type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_NO_SESSION,error:y,fatal:!1},`Error generating key-session request: ${y}`)}).then(()=>g).catch(y=>{throw d.removeAllListeners(),this.removeSession(e),y}).then(()=>(d.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((r,n)=>{if(typeof n=="string"&&typeof r=="object"){const i=n;n=r,r=i}this.log(`key status change "${r}" for keyStatuses keyId: ${Pa.hexDump("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${Pa.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=r})}fetchServerCertificate(e){const r=this.config,n=r.loader,i=new n(r),a=this.getServerCertificateUrl(e);return a?(this.log(`Fetching server certificate for "${e}"`),new Promise((s,o)=>{const l={responseType:"arraybuffer",url:a},c=r.certLoadPolicy.default,d={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(p,g,y,b)=>{s(p.data)},onError:(p,g,y,b)=>{o(new Di({type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:y,response:zt({url:l.url,data:void 0},p)},`"${e}" certificate request failed (${a}). Status: ${p.code} (${p.text})`))},onTimeout:(p,g,y)=>{o(new Di({type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:y,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${a})`))},onAbort:(p,g,y)=>{o(new Error("aborted"))}};i.load(l,d,f)})):Promise.resolve()}setMediaKeysServerCertificate(e,r,n){return new Promise((i,a)=>{e.setServerCertificate(n).then(s=>{this.log(`setServerCertificate ${s?"success":"not supported by CDM"} (${n==null?void 0:n.byteLength}) on "${r}"`),i(e)}).catch(s=>{a(new Di({type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:s,fatal:!0},s.message))})})}renewLicense(e,r){return this.requestLicense(e,new Uint8Array(r)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(i=>{throw new Di({type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,r){const n=String.fromCharCode.apply(null,new Uint16Array(r.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),r;const i=new DOMParser().parseFromString(n,"application/xml"),a=i.querySelectorAll("HttpHeader");if(a.length>0){let d;for(let f=0,p=a.length;f<p;f++){var s,o;d=a[f];const g=(s=d.querySelector("name"))==null?void 0:s.textContent,y=(o=d.querySelector("value"))==null?void 0:o.textContent;g&&y&&e.setRequestHeader(g,y)}}const l=i.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return kR(atob(c))}setupLicenseXHR(e,r,n,i){const a=this.config.licenseXhrSetup;return a?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return a.call(this.hls,e,r,n,i)}).catch(s=>{if(!n.decryptdata)throw s;return e.open("POST",r,!0),a.call(this.hls,e,r,n,i)}).then(s=>(e.readyState||e.open("POST",r,!0),{xhr:e,licenseChallenge:s||i})):(e.open("POST",r,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,r){const n=this.config.keyLoadPolicy.default;return new Promise((i,a)=>{const s=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${s}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(o.readyState===4)if(o.status===200){this._requestLicenseFailureCount=0;let l=o.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,o,s,e)}catch(d){this.error(d)}i(l)}else{const l=n.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||o.status>=400&&o.status<500)a(new Di({type:We.KEY_SYSTEM_ERROR,details:de.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:s,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${s}). Status: ${o.status} (${o.statusText})`));else{const d=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${d} attempts left`),this.requestLicense(e,r).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,this.setupLicenseXHR(o,s,e,r).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==Vt.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,r){if(!this.config.emeEnabled)return;const n=r.media;this.media=n,n.removeEventListener("encrypted",this.onMediaEncrypted),n.removeEventListener("waitingforkey",this.onWaitingForKey),n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null)}_clear(e){var r;const n=this.mediaKeySessions;this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Fp.clearKeyUriToKeyIdMap();const i=n.length;gd.CDMCleanupPromise=Promise.all(n.map(a=>this.removeSession(a)).concat(e==null||(r=e.setMediaKeys(null))==null?void 0:r.catch(a=>{var s;this.log(`Could not clear media keys: ${a}`),(s=this.hls)==null||s.trigger($.ERROR,{type:We.OTHER_ERROR,details:de.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${a}`)})}))).then(()=>{i&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(a=>{var s;this.log(`Could not close sessions and clear media keys: ${a}`),(s=this.hls)==null||s.trigger($.ERROR,{type:We.OTHER_ERROR,details:de.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${a}`)})})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:r}){if(!(!r||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=r.reduce((i,a)=>(i.indexOf(a.keyFormat)===-1&&i.push(a.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:r,licenseXhr:n}=e;if(r){this.log(`Remove licenses and keys and close session ${r.sessionId}`),e._onmessage&&(r.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(r.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);i>-1&&this.mediaKeySessions.splice(i,1);const{drmSystemOptions:a}=this.config;return(nxe(a)?new Promise((o,l)=>{self.setTimeout(()=>l(new Error("MediaKeySession.remove() timeout")),8e3),r.remove().then(o)}):Promise.resolve()).catch(o=>{var l;this.log(`Could not remove session: ${o}`),(l=this.hls)==null||l.trigger($.ERROR,{type:We.OTHER_ERROR,details:de.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${o}`)})}).then(()=>r.close()).catch(o=>{var l;this.log(`Could not close session: ${o}`),(l=this.hls)==null||l.trigger($.ERROR,{type:We.OTHER_ERROR,details:de.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${o}`)})})}}}gd.CDMCleanupPromise=void 0;class Di extends Error{constructor(e,r){super(r),this.data=void 0,e.error||(e.error=new Error(r)),this.data=e,e.err=e.error}}class dwe{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on($.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off($.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,r){const n=this.hls.config;if(n.capLevelOnFPSDrop){const i=r.media instanceof self.HTMLVideoElement?r.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,r,n){const i=performance.now();if(r){if(this.lastTime){const a=i-this.lastTime,s=n-this.lastDroppedFrames,o=r-this.lastDecodedFrames,l=1e3*s/a,c=this.hls;if(c.trigger($.FPS_DROP,{currentDropped:s,currentDecoded:o,totalDroppedFrames:n}),l>0&&s>c.config.fpsDroppedMonitoringThreshold*o){let d=c.currentLevel;c.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=d)&&(d=d-1,c.trigger($.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=r}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const r=e.getVideoPlaybackQuality();this.checkFPS(e,r.totalVideoFrames,r.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function jK(t,e){let r;try{r=new Event("addtrack")}catch{r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function $K(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){Rt.debug(`[texttrack-utils]: ${n}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){Rt.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}r==="disabled"&&(t.mode=r)}function id(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)e&&t.cues[n].removeEventListener("enter",e),t.removeCue(t.cues[n]);r==="disabled"&&(t.mode=r)}function VR(t,e,r,n){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const a=hwe(t.cues,e,r);for(let s=0;s<a.length;s++)(!n||n(a[s]))&&t.removeCue(a[s])}i==="disabled"&&(t.mode=i)}function fwe(t,e){if(e<=t[0].startTime)return 0;const r=t.length-1;if(e>t[r].endTime)return-1;let n=0,i=r,a;for(;n<=i;)if(a=Math.floor((i+n)/2),e<t[a].startTime)i=a-1;else if(e>t[a].startTime&&n<r)n=a+1;else return a;return t[n].startTime-e<e-t[i].startTime?n:i}function hwe(t,e,r){const n=[],i=fwe(t,e);if(i>-1)for(let a=i,s=t.length;a<s;a++){const o=t[a];if(o.startTime>=e&&o.endTime<=r)n.push(o);else if(o.startTime>r)return n}return n}function Py(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(t[r])}return e}class pwe extends SL{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let r=null;const n=Py(this.media.textTracks);for(let a=0;a<n.length;a++)if(n[a].mode==="hidden")r=n[a];else if(n[a].mode==="showing"){r=n[a];break}const i=this.findTrackForTextTrack(r);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVEL_LOADING,this.onLevelLoading,this),e.off($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off($.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,r){const n=this.media;if(!n)return;const i=!!r.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;Py(n.textTracks).forEach(s=>{id(s)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.subtitleTracks}onSubtitleTrackLoaded(e,r){const{id:n,groupId:i,details:a}=r,s=this.tracksInGroup[n];if(!s||s.groupId!==i){this.warn(`Subtitle track with id:${n} and group:${i} not found in active group ${s==null?void 0:s.groupId}`);return}const o=s.details;s.details=r.details,this.log(`Subtitle track ${n} "${s.name}" lang:${s.lang} group:${i} loaded [${a.startSN}-${a.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,o)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.subtitleGroups||null,i=this.groupIds;let a=this.currentTrack;if(!n||(i==null?void 0:i.length)!==(n==null?void 0:n.length)||n!=null&&n.some(s=>(i==null?void 0:i.indexOf(s))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const s=this.tracks.filter(d=>!n||n.indexOf(d.groupId)!==-1);if(s.length)this.selectDefaultTrack&&!s.some(d=>d.default)&&(this.selectDefaultTrack=!1),s.forEach((d,f)=>{d.id=f});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=s;const o=this.hls.config.subtitlePreference;if(!a&&o){this.selectDefaultTrack=!1;const d=$a(o,s);if(d>-1)a=s[d];else{const f=$a(o,this.tracks);a=this.tracks[f]}}let l=this.findTrackId(a);l===-1&&a&&(l=this.findTrackId(null));const c={subtitleTracks:s};this.log(`Updating subtitle tracks, ${s.length} track(s) found in "${n==null?void 0:n.join(",")}" group-id`),this.hls.trigger($.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}}findTrackId(e){const r=this.tracksInGroup,n=this.selectDefaultTrack;for(let i=0;i<r.length;i++){const a=r[i];if(!(n&&!a.default||!n&&!e)&&(!e||Ac(a,e)))return i}if(e){for(let i=0;i<r.length;i++){const a=r[i];if(zp(e.attrs,a.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<r.length;i++){const a=r[i];if(zp(e.attrs,a.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(UR(i,e))return n}}return-1}onError(e,r){r.fatal||!r.context||r.context.type===bt.SUBTITLE_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const r=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,r.length){const n=this.currentTrack;if(n&&Ac(e,n))return n;const i=$a(e,this.tracksInGroup);if(i>-1){const a=this.tracksInGroup[i];return this.setSubtitleTrack(i),a}else{if(n)return null;{const a=$a(e,r);if(a>-1)return r[a]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=e.id,i=e.groupId,a=this.getUrlWithDirectives(e.url,r),s=e.details,o=s==null?void 0:s.age;this.log(`Loading subtitle ${n} "${e.name}" lang:${e.lang} group:${i}${(r==null?void 0:r.msn)!==void 0?" at sn "+r.msn+" part "+r.part:""}${o&&s.live?" age "+o.toFixed(1)+(s.type&&" "+s.type||""):""} ${a}`),this.hls.trigger($.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:r||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const r=Py(e.textTracks),n=this.currentTrack;let i;if(n&&(i=r.filter(a=>UR(n,a))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(r).forEach(a=>{a.mode!=="disabled"&&a!==i&&(a.mode="disabled")}),i){const a=this.subtitleDisplay?"showing":"hidden";i.mode!==a&&(i.mode=a)}}setSubtitleTrack(e){const r=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=r.length||!Fe(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger($.SUBTITLE_TRACK_SWITCH,{id:e});return}const a=!!i.details&&!i.details.live;if(e===this.trackId&&i===n&&a)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:s,groupId:o="",name:l,type:c,url:d}=i;this.hls.trigger($.SUBTITLE_TRACK_SWITCH,{id:s,groupId:o,name:l,type:c,url:d});const f=this.switchParams(i.url,n==null?void 0:n.details,i.details);this.loadPlaylist(f)}}function fp(t){let e=5381,r=t.length;for(;r;)e=e*33^t.charCodeAt(--r);return(e>>>0).toString()}const vd=.025;let R0=function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t}({});function mwe(t,e,r){return`${t.identifier}-${r+1}-${fp(e)}`}class gwe{constructor(e,r){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=r,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){if(e>=this.assetList.length)return!0;const r=this.playoutLimit;return e<=0||isNaN(r)?!1:this.assetList[e].startOffset>r}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const r=this.dateRange.tagAnchor;if(r)return v1(e,r)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const r=this.dateRange.startTime,n=v1(r,e);return r-n<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,r=Fe(e)?e:this.duration;return this.cumulativeDuration+r}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const r=this.resumeAnchor;if(r)return v1(e,r)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<vd))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let r;return this._duration!==null?r=this._duration:this.dateRange.duration?r=this.dateRange.duration:r=this.dateRange.plannedDuration||0,!isNaN(e)&&e<r&&(r=e),r}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?R0.Range:R0.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return vwe(this)}}function v1(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<vd)?e.start:e.start+e.duration}function FK(t,e,r){const n=new self.URL(t,r);return n.protocol!=="data:"&&n.searchParams.set("_HLS_primary_id",e),n}function vwe(t){return`["${t.identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`}function qR(t){const e=t.timelineStart,r=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+r).toFixed(2)}]`}class ywe{constructor(e,r,n,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{const c=this.interstitial.playoutLimit,d=this.currentTime;this.startOffset+d>=c&&this.hls.trigger($.PLAYOUT_LIMIT_REACHED,{})};const a=this.hls=new e(r);this.interstitial=n,this.assetItem=i;let s=i.uri;try{s=FK(s,a.sessionId).href}catch{}a.loadSource(s);const o=()=>{this.hasDetails=!0};a.once($.LEVEL_LOADED,o),a.once($.AUDIO_TRACK_LOADED,o),a.once($.SUBTITLE_TRACK_LOADED,o),a.on($.MEDIA_ATTACHING,(l,{media:c})=>{this.removeMediaListeners(),this.mediaAttached=c,this.interstitial.playoutLimit&&c.addEventListener("timeupdate",this.checkPlayout)})}bufferedInPlaceToEnd(e){var r;if(!this.interstitial.appendInPlace)return!1;if((r=this.hls)!=null&&r.bufferedToEnd)return!0;if(!e||!this._bufferedEosTime)return!1;const n=this.timelineOffset,i=mt.bufferInfo(e,n,0);return this.getAssetTime(i.end)>=this._bufferedEosTime-.02}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const r=mt.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(r.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;return e||0}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const r=this.timelineOffset;if(e!==r){const n=e-r;if(Math.abs(n)>1/9e4){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const r=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,e-r),n)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls.destroy(),this.hls=this.interstitial=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){this.hls.attachMedia(e)}detachMedia(){this.removeMediaListeners(),this.mediaAttached=null,this.hls.detachMedia()}resumeBuffering(){this.hls.resumeBuffering()}pauseBuffering(){this.hls.pauseBuffering()}transferMedia(){return this.bufferSnapShot(),this.hls.transferMedia()}on(e,r,n){this.hls.on(e,r)}once(e,r,n){this.hls.once(e,r)}off(e,r,n){this.hls.off(e,r)}toString(){var e,r;return`HlsAssetPlayer: ${qR(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${(r=this.interstitial)!=null&&r.appendInPlace?"append-in-place":""}`}}const HF=.033;class bwe extends uo{constructor(e,r){super("interstitials-sched",r),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,r){return this.events?this.events.reduce((n,i)=>e<=i.startOffset&&r>i.startOffset?(delete i.error,n+1):n,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,r){if(e.event)return this.findEventIndex(e.event.identifier);let n=-1;e.nextEvent?n=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(n=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[n]||(r===void 0&&(r=e.start),n=this.findItemIndexAtTime(r));n>=0&&(a=i[n])!=null&&a.event;){var a;n--}return n}findItemIndexAtTime(e,r){const n=this.items;if(n)for(let i=0;i<n.length;i++){let a=n[i];if(r&&r!=="primary"&&(a=a[r]),e===a.start||e>a.start&&e<a.end)return i}return-1}findJumpRestrictedIndex(e,r){const n=this.items;if(n)for(let i=e;i<=r&&n[i];i++){const a=n[i].event;if(a!=null&&a.restrictions.jump&&!a.appendInPlace)return i}return-1}findEventIndex(e){const r=this.items;if(r)for(let i=r.length;i--;){var n;if(((n=r[i].event)==null?void 0:n.identifier)===e)return i}return-1}findAssetIndex(e,r){const n=e.assetList,i=n.length;if(i>1)for(let a=0;a<i;a++){const s=n[a];if(!s.error){const o=s.timelineStart;if(r===o||r>o&&r<o+(s.duration||0))return a}}return 0}get assetIdAtEnd(){var e,r;const n=(e=this.items)==null||(r=e[this.length-1])==null?void 0:r.event;if(n){const i=n.assetList,a=i[i.length-1];if(a)return a.identifier}return null}parseInterstitialDateRanges(e,r){const n=e.main.details,{dateRanges:i}=n,a=this.events,s=this.parseDateRanges(i,{url:n.url},r),o=Object.keys(i),l=a?a.filter(c=>!o.includes(c.identifier)):[];s.length&&s.sort((c,d)=>{const f=c.cue.pre,p=c.cue.post,g=d.cue.pre,y=d.cue.post;if(f&&!g)return-1;if(g&&!f||p&&!y)return 1;if(y&&!p)return-1;if(!f&&!g&&!p&&!y){const b=c.startTime,x=d.startTime;if(b!==x)return b-x}return c.dateRange.tagOrder-d.dateRange.tagOrder}),this.events=s,l.forEach(c=>{this.removeEvent(c)}),this.updateSchedule(e,l)}updateSchedule(e,r=[]){const n=this.events||[];if(n.length||r.length||this.length<2){const i=this.items,a=this.parseSchedule(n,e);(r.length||(i==null?void 0:i.length)!==a.length||a.some((o,l)=>Math.abs(o.playout.start-i[l].playout.start)>.005||Math.abs(o.playout.end-i[l].playout.end)>.005))&&(this.items=a,this.onScheduleUpdate(r,i))}}parseDateRanges(e,r,n){const i=[],a=Object.keys(e);for(let s=0;s<a.length;s++){const o=a[s],l=e[o];if(l.isInterstitial){let c=this.eventMap[o];c?c.setDateRange(l):(c=new gwe(l,r),this.eventMap[o]=c,n===!1&&(c.appendInPlace=n)),i.push(c)}}return i}parseSchedule(e,r){const n=[],i=r.main.details,a=i.live?1/0:i.edge;let s=0;if(e=e.filter(l=>!l.error&&!(l.cue.once&&l.hasPlayed)),e.length){this.resolveOffsets(e,r);let l=0,c=0;if(e.forEach((d,f)=>{const p=d.cue.pre,g=d.cue.post,y=e[f-1]||null,b=d.appendInPlace,x=g?a:d.startOffset,w=d.duration,E=d.timelineOccupancy===R0.Range?w:0,T=d.resumptionOffset,O=(y==null?void 0:y.startTime)===x,_=x+d.cumulativeDuration;let P=b?_+w:x+T;if(p||!g&&x<=0){const D=c;c+=E,d.timelineStart=_;const I=s;s+=w,n.push({event:d,start:_,end:P,playout:{start:I,end:s},integrated:{start:D,end:c}})}else if(x<=a){if(!O){const M=x-l;if(M>HF){const N=l,k=c;c+=M;const F=s;s+=M;const U={previousEvent:e[f-1]||null,nextEvent:d,start:N,end:N+M,playout:{start:F,end:s},integrated:{start:k,end:c}};n.push(U)}else M>0&&y&&(y.cumulativeDuration+=M,n[n.length-1].end=x)}g&&(P=_),d.timelineStart=_;const D=c;c+=E;const I=s;s+=w,n.push({event:d,start:_,end:P,playout:{start:I,end:s},integrated:{start:D,end:c}})}else return;const R=d.resumeTime;g||R>a?l=a:l=R}),l<a){var o;const d=l,f=c,p=a-l;c+=p;const g=s;s+=p,n.push({previousEvent:((o=n[n.length-1])==null?void 0:o.event)||null,nextEvent:null,start:l,end:d+p,playout:{start:g,end:s},integrated:{start:f,end:c}})}this.setDurations(a,s,c)}else n.push({previousEvent:null,nextEvent:null,start:0,end:a,playout:{start:0,end:a},integrated:{start:0,end:a}}),this.setDurations(a,a,a);return n}setDurations(e,r,n){this.durations={primary:e,playout:r,integrated:n}}resolveOffsets(e,r){const n=r.main.details,i=n.live?1/0:n.edge;let a=0,s=-1;e.forEach((o,l)=>{const c=o.cue.pre,d=o.cue.post,f=c?0:d?i:o.startTime;this.updateAssetDurations(o),s===f?o.cumulativeDuration=a:(a=0,s=f),!d&&o.snapOptions.in&&(o.resumeAnchor=Bc(null,n.fragments,o.startOffset+o.resumptionOffset,0,0)||void 0),o.appendInPlace&&!o.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(o,r)||(o.appendInPlace=!1)),!o.appendInPlace&&l+1<e.length&&e[l+1].startTime-e[l].resumeTime<HF&&(e[l+1].appendInPlace=!1,e[l+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${o}`));const g=Fe(o.resumeOffset)?o.resumeOffset:o.duration;a+=g})}primaryCanResumeInPlaceAt(e,r){const n=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(n-i)>vd?(this.log(`"${e.identifier}" resumption ${n} not aligned with estimated timeline end ${i}`),!1):r?!Object.keys(r).some(s=>{const o=r[s].details,l=o.edge;if(n>=l)return this.log(`"${e.identifier}" resumption ${n} past ${s} playlist end ${l}`),!1;const c=Bc(null,o.fragments,n);if(!c)return this.log(`"${e.identifier}" resumption ${n} does not align with any fragments in ${s} playlist (${o.fragStart}-${o.fragmentEnd})`),!0;const d=s==="audio"?.175:0;return Math.abs(c.start-n)<vd+d||Math.abs(c.end-n)<vd+d?!1:(this.log(`"${e.identifier}" resumption ${n} not aligned with ${s} fragment bounds (${c.start}-${c.end} sn: ${c.sn} cc: ${c.cc})`),!0)}):(this.log(`"${e.identifier}" resumption ${n} can not be aligned with media (none selected)`),!1)}updateAssetDurations(e){if(!e.assetListLoaded)return;const r=e.timelineStart;let n=0,i=!1,a=!1;e.assetList.forEach((s,o)=>{const l=r+n;s.startOffset=n,s.timelineStart=l,i||(i=s.duration===null),a||(a=!!s.error);const c=s.error?0:s.duration||0;n+=c}),i&&!a?e.duration=Math.max(n,e.duration):e.duration=n}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function zo(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class xwe{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,r){const n=e.assetListUrl;let i;try{i=FK(n,this.hls.sessionId,e.baseUrl)}catch(p){const g=this.assignAssetListError(e,de.ASSET_LIST_LOAD_ERROR,p,n);this.hls.trigger($.ERROR,g);return}r&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+r);const a=this.hls.config,s=a.loader,o=new s(a),l={responseType:"json",url:i.href},c=a.interstitialAssetListLoadPolicy.default,d={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(p,g,y,b)=>{const x=p.data,w=x==null?void 0:x.ASSETS;if(!Array.isArray(w)){const E=this.assignAssetListError(e,de.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),y.url,g,b);this.hls.trigger($.ERROR,E);return}e.assetListResponse=x,this.hls.trigger($.ASSET_LIST_LOADED,{event:e,assetListResponse:x,networkDetails:b})},onError:(p,g,y,b)=>{const x=this.assignAssetListError(e,de.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${p.code} ${p.text} (${g.url})`),g.url,b,y);this.hls.trigger($.ERROR,x)},onTimeout:(p,g,y)=>{const b=this.assignAssetListError(e,de.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${g.url})`),g.url,p,y);this.hls.trigger($.ERROR,b)}};return o.load(l,d,f),this.hls.trigger($.ASSET_LIST_LOADING,{event:e}),o}assignAssetListError(e,r,n,i,a,s){return e.error=n,{type:We.NETWORK_ERROR,details:r,fatal:!1,interstitial:e,url:i,error:n,networkDetails:s,stats:a}}}function $s(t,e,r){Ba(t,e,r),t.addEventListener(e,r)}function Ba(t,e,r){t.removeEventListener(e,r)}function KF(t){t==null||t.play().catch(()=>{})}class Swe extends uo{constructor(e,r){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;const i=n-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const s=i<=-.01;this.timelinePos=n,this.bufferedPos=n;const o=this.playingItem;if(!o){this.checkBuffer();return}if(s&&this.schedule.resetErrorsInRange(n,n-i)&&this.updateSchedule(),this.checkBuffer(),s&&n<o.start||n>=o.end){var l;const p=this.schedule.findItemIndexAtTime(this.timelinePos);if(!this.isInterstitial(o)&&(l=this.media)!=null&&l.paused&&(this.shouldPlay=!1),!s){const g=this.findItemIndex(o);if(p>g){const y=this.schedule.findJumpRestrictedIndex(g+1,p);if(y>g){this.setSchedulePosition(y);return}}}this.setSchedulePosition(p);return}const c=this.playingAsset;if(!c){if(this.playingLastItem&&this.isInterstitial(o)){const p=o.event.assetList[0];p&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(n,p))}return}const d=c.timelineStart,f=c.duration||0;(s&&n<d||n>=d+f)&&this.setScheduleToAssetAtTime(n,c)},this.onTimeupdate=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;if(n>this.timelinePos)this.timelinePos=n,n>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(n>=i.end){this.timelinePos=i.end;const o=this.findItemIndex(i);this.setSchedulePosition(o+1)}const a=this.playingAsset;if(!a)return;const s=a.timelineStart+(a.duration||0);n>=s&&this.setScheduleToAssetAtTime(n,a)},this.onScheduleUpdate=(n,i)=>{const a=this.schedule,s=this.playingItem,o=a.events||[],l=a.items||[],c=a.durations,d=n.map(g=>g.identifier),f=!!(o.length||d.length);if(f&&this.log(`INTERSTITIALS_UPDATED (${o.length}): ${o}
Schedule: ${l.map(g=>zo(g))}`),d.length&&this.log(`Removed events ${d}`),this.playerQueue.forEach(g=>{if(g.interstitial.appendInPlace){const y=g.assetItem.timelineStart,b=g.timelineOffset-y;if(b)try{g.timelineOffset=y}catch(x){Math.abs(b)>vd&&this.warn(`${x} ("${g.assetId}" ${g.timelineOffset}->${y})`)}}}),s){const g=this.updateItem(s,this.timelinePos);this.itemsMatch(s,g)&&(this.playingItem=g,this.waitingItem=this.endedItem=null)}else this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const p=this.bufferingItem;if(p){const g=this.updateItem(p,this.bufferedPos);this.itemsMatch(p,g)?this.bufferingItem=g:p.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(p.event,null))}if(n.forEach(g=>{g.assetList.forEach(y=>{this.clearAssetPlayer(y.identifier,null)})}),f||i){if(this.hls.trigger($.INTERSTITIALS_UPDATED,{events:o.slice(0),schedule:l.slice(0),durations:c,removedIds:d}),this.isInterstitial(s)&&d.includes(s.event.identifier)){this.warn(`Interstitial "${s.event.identifier}" removed while playing`),this.primaryFallback(s.event);return}this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=r,this.assetListLoader=new xwe(e),this.schedule=new bwe(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_UPDATED,this.onLevelUpdated,this),e.on($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on($.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on($.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on($.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on($.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on($.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on($.BUFFER_APPENDED,this.onBufferAppended,this),e.on($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on($.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on($.MEDIA_ENDED,this.onMediaEnded,this),e.on($.ERROR,this.onError,this),e.on($.DESTROYING,this.onDestroying,this)}unregisterListeners(){const e=this.hls;e&&(e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_UPDATED,this.onLevelUpdated,this),e.off($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off($.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off($.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off($.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off($.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off($.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off($.BUFFER_CODECS,this.onBufferCodecs,this),e.off($.BUFFER_APPENDED,this.onBufferAppended,this),e.off($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off($.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off($.MEDIA_ENDED,this.onMediaEnded,this),e.off($.ERROR,this.onError,this),e.off($.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.manager=null,this.hls=this.HlsPlayerClass=this.schedule=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){Ba(e,"play",this.onPlay),Ba(e,"pause",this.onPause),Ba(e,"seeking",this.onSeeking),Ba(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,r){const n=this.media=r.media;$s(n,"seeking",this.onSeeking),$s(n,"timeupdate",this.onTimeupdate),$s(n,"play",this.onPlay),$s(n,"pause",this.onPause)}onMediaAttached(e,r){const n=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,n===null)this.checkStart();else if(!i){this.clearScheduleState();const a=this.findItemIndex(n);this.setSchedulePosition(a)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,r){const n=!!r.transferMedia,i=this.media;if(this.media=null,!n&&(i&&this.removeMediaListeners(i),this.detachedData)){const a=this.getBufferingPlayer();a&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,a.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.manager){if(!this.hls)return null;const e=this,r=()=>e.bufferingItem||e.waitingItem,n=f=>f&&e.getAssetPlayer(f.identifier),i=(f,p,g,y,b)=>{if(f){let x=f[p].start;const w=f.event;if(w){if(p==="playout"||w.timelineOccupancy!==R0.Point){const E=n(g);(E==null?void 0:E.interstitial)===w&&(x+=E.assetItem.startOffset+E[b])}}else{const E=y==="bufferedPos"?s():e[y];x+=E-f.start}return x}return 0},a=(f,p)=>{if(f!==0&&p!=="primary"&&e.schedule.length){var g;const y=e.schedule.findItemIndexAtTime(f),b=(g=e.schedule.items)==null?void 0:g[y];if(b){const x=b[p].start-b.start;return f+x}}return f},s=()=>{const f=e.bufferedPos;return f===Number.MAX_VALUE?o("primary"):Math.max(f,0)},o=f=>{var p;return(p=e.primaryDetails)!=null&&p.live?e.primaryDetails.edge:e.schedule.durations[f]},l=(f,p)=>{var g,y;const b=e.effectivePlayingItem;if(b!=null&&(g=b.event)!=null&&g.restrictions.skip)return;e.log(`seek to ${f} "${p}"`);const x=e.effectivePlayingItem,w=e.schedule.findItemIndexAtTime(f,p),E=(y=e.schedule.items)==null?void 0:y[w],T=e.getBufferingPlayer(),O=T==null?void 0:T.interstitial,_=O==null?void 0:O.appendInPlace,P=x&&e.itemsMatch(x,E);if(x&&(_||P)){const D=n(e.playingAsset),I=(D==null?void 0:D.media)||e.primaryMedia;if(I){const M=p==="primary"?I.currentTime:i(x,p,e.playingAsset,"timelinePos","currentTime"),N=f-M,k=(_?M:I.currentTime)+N;if(k>=0&&(!D||_||k<=D.duration)){I.currentTime=k;return}}}if(E){let D=f;if(p!=="primary"){const M=E[p].start,N=f-M;D=E.start+N}const I=!e.isInterstitial(E);if((!e.isInterstitial(x)||x.event.appendInPlace)&&(I||E.event.appendInPlace)){const M=e.media||(_?T==null?void 0:T.media:null);M&&(M.currentTime=D)}else if(x){const M=e.findItemIndex(x);if(w>M){const k=e.schedule.findJumpRestrictedIndex(M+1,w);if(k>M){e.setSchedulePosition(k);return}}let N=0;if(I)e.timelinePos=D,e.checkBuffer();else{var R;const k=E==null||(R=E.event)==null?void 0:R.assetList;if(k){const F=f-(E[p]||E).start;for(let U=k.length;U--;){const z=k[U];if(z.duration&&F>=z.startOffset&&F<z.startOffset+z.duration){N=U;break}}}}e.setSchedulePosition(w,N)}}},c=()=>{const f=e.effectivePlayingItem;if(e.isInterstitial(f))return f;const p=r();return e.isInterstitial(p)?p:null},d={get currentTime(){const f=c(),p=e.effectivePlayingItem;return p&&p===f?i(p,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-p.playout.start:0},set currentTime(f){const p=c(),g=e.effectivePlayingItem;g&&g===p&&l(f+g.playout.start,"playout")},get duration(){const f=c();return f?f.playout.end-f.playout.start:0},get assetPlayers(){var f;const p=(f=c())==null?void 0:f.event.assetList;return p?p.map(g=>e.getAssetPlayer(g.identifier)):[]},get playingIndex(){var f;const p=(f=c())==null?void 0:f.event;return p&&e.effectivePlayingAsset?p.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return c()}};this.manager={get events(){var f,p;return((f=e.schedule)==null||(p=f.events)==null?void 0:p.slice(0))||[]},get schedule(){var f,p;return((f=e.schedule)==null||(p=f.items)==null?void 0:p.slice(0))||[]},get interstitialPlayer(){return c()?d:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return r()},get bufferingIndex(){const f=r();return e.findItemIndex(f)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const f=e.effectivePlayingItem;return e.findItemIndex(f)},primary:{get bufferedEnd(){return s()},get currentTime(){const f=e.timelinePos;return f>0?f:0},set currentTime(f){l(f,"primary")},get duration(){return o("primary")},get seekableStart(){var f;return((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(r(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(f){l(f,"integrated")},get duration(){return o("integrated")},get seekableStart(){var f;return a(((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0,"integrated")}},skip:()=>{const f=e.effectivePlayingItem,p=f==null?void 0:f.event;if(p&&!p.restrictions.skip){const g=e.findItemIndex(f);if(p.appendInPlace){const y=f.playout.start+f.event.duration;l(y+.001,"playout")}else e.advanceAfterAssetEnded(p,g,1/0)}}}}return this.manager}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const r=this.playingItem,n=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!r||!n?!1:this.findItemIndex(r)===n.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,r,n;if(this.mediaSelection===null)return;const i=this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&!i.event.appendInPlace)return;let a=this.media;!a&&(e=this.bufferingItem)!=null&&(r=e.event)!=null&&r.appendInPlace&&(a=this.primaryMedia);const s=(n=a)==null?void 0:n.currentTime;if(!(s===void 0||!Fe(s)))return s}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,r){const n=this.getAssetPlayer(e);n&&this.transferMediaFromPlayer(n,r)}transferMediaFromPlayer(e,r){const n=e.interstitial.appendInPlace,i=e.media;if(n&&i===this.primaryMedia){if(this.bufferingAsset=null,(!r||this.isInterstitial(r)&&!r.event.appendInPlace)&&r&&i){this.detachedData={media:i};return}const a=e.transferMedia();this.log(`transfer MediaSource from ${e} ${gr(a)}`),this.detachedData=a}else r&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,r){var n,i;if(e.media===r)return;let a=null;const s=this.hls,o=e!==s,l=o&&e.interstitial.appendInPlace,c=(n=this.detachedData)==null?void 0:n.mediaSource;let d;if(s.media)l&&(a=s.transferMedia(),this.detachedData=a),d="Primary";else if(c){const g=this.getBufferingPlayer();g?(a=g.transferMedia(),d=`${g}`):d="detached MediaSource"}else d="detached media";if(!a){if(c)a=this.detachedData,this.log(`using detachedData: MediaSource ${gr(a)}`);else if(!this.detachedData||s.media===r){const g=this.playerQueue;g.length>1&&g.forEach(y=>{if(o&&y.interstitial.appendInPlace!==l){const b=y.interstitial;this.clearInterstitial(y.interstitial,null),b.appendInPlace=!1,b.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${b}`)}}),this.hls.detachMedia(),this.detachedData={media:r}}}const f=a&&"mediaSource"in a&&((i=a.mediaSource)==null?void 0:i.readyState)!=="closed",p=f&&a?a:r;if(this.log(`${f?"transfering MediaSource":"attaching media"} to ${o?e:"Primary"} from ${d}`),p===a){const g=o&&e.assetId===this.schedule.assetIdAtEnd;p.overrides={duration:this.schedule.duration,endOfStream:!o||g,cueRemoval:!o}}e.attachMedia(p)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,r=e.events;if(!r||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const n=this.timelinePos,i=this.effectivePlayingItem;if(n===-1){const a=this.hls.startPosition;if(this.timelinePos=a,r.length&&r[0].cue.pre){const s=e.findEventIndex(r[0].identifier);this.setSchedulePosition(s)}else if(a>=0||!this.primaryLive){const s=this.timelinePos=a>0?a:0,o=e.findItemIndexAtTime(s);this.setSchedulePosition(o)}}else if(i&&!this.playingItem){const a=e.findItemIndex(i);this.setSchedulePosition(a)}}advanceAfterAssetEnded(e,r,n){const i=n+1;if(!e.isAssetPastPlayoutLimit(i)&&!e.assetList[i].error)this.setSchedulePosition(r,i);else{const a=this.schedule.items;if(a){const s=r+1,o=a.length;if(s>=o){this.setSchedulePosition(-1);return}const l=e.resumeTime;this.timelinePos<l&&(this.timelinePos=l,this.checkBuffer()),this.setSchedulePosition(s)}}}setScheduleToAssetAtTime(e,r){const n=this.schedule,i=r.parentIdentifier,a=n.getEvent(i);if(a){const s=n.findEventIndex(i),o=n.findAssetIndex(a,e);this.setSchedulePosition(s,o)}}setSchedulePosition(e,r){const n=this.schedule.items;if(!n||this.playbackDisabled)return;this.log(`setSchedulePosition ${e}, ${r}`);const i=e>=0?n[e]:null,a=this.playingItem,s=this.playingLastItem;if(this.isInterstitial(a)){var o;const c=a.event,d=this.playingAsset,f=d==null?void 0:d.identifier,p=f?this.getAssetPlayer(f):null;if(p&&f&&(!this.eventItemsMatch(a,i)||r!==void 0&&f!==((o=c.assetList)==null?void 0:o[r].identifier))){var l;const g=c.findAssetIndex(d);this.log(`INTERSTITIAL_ASSET_ENDED ${g+1}/${c.assetList.length} ${qR(d)}`),this.endedAsset=d,this.playingAsset=null,this.hls.trigger($.INTERSTITIAL_ASSET_ENDED,{asset:d,assetListIndex:g,event:c,schedule:n.slice(0),scheduleIndex:e,player:p}),this.retreiveMediaSource(f,i),p.media&&!((l=this.detachedData)!=null&&l.mediaSource)&&p.detachMedia()}if(!this.eventItemsMatch(a,i)&&(this.endedItem=a,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${c} ${zo(a)}`),c.hasPlayed=!0,this.hls.trigger($.INTERSTITIAL_ENDED,{event:c,schedule:n.slice(0),scheduleIndex:e}),c.cue.once)){this.updateSchedule();const g=this.schedule.items;if(i&&g){const y=this.schedule.findItemIndex(i);this.advanceSchedule(y,g,r,a,s)}return}}this.advanceSchedule(e,n,r,a,s)}advanceSchedule(e,r,n,i,a){const s=e>=0?r[e]:null,o=this.primaryMedia,l=this.playerQueue;if(l.length&&l.forEach(c=>{const d=c.interstitial,f=this.schedule.findEventIndex(d.identifier);(f<e||f>e+1)&&this.clearInterstitial(d,s)}),this.isInterstitial(s)){this.timelinePos=Math.min(Math.max(this.timelinePos,s.start),s.end);const c=s.event;n===void 0&&(n=this.schedule.findAssetIndex(c,this.timelinePos));const d=this.waitingItem;this.assetsBuffered(s,o)||this.setBufferingItem(s);let f=this.preloadAssets(c,n);if(this.eventItemsMatch(s,d||i)||(this.waitingItem=s,this.log(`INTERSTITIAL_STARTED ${zo(s)} ${c.appendInPlace?"append in place":""}`),this.hls.trigger($.INTERSTITIAL_STARTED,{event:c,schedule:r.slice(0),scheduleIndex:e})),!c.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${c}`);return}if(c.assetListLoader&&(c.assetListLoader.destroy(),c.assetListLoader=void 0),!o){this.log(`Waiting for attachMedia to start Interstitial ${c}`);return}this.waitingItem=this.endedItem=null,this.playingItem=s;const p=c.assetList[n];if(!p){const g=r[e+1],y=this.media;g&&y&&!this.isInterstitial(g)&&y.currentTime<g.start&&(y.currentTime=this.timelinePos=g.start),this.advanceAfterAssetEnded(c,e,n||0);return}if(f||(f=this.getAssetPlayer(p.identifier)),f===null||f.destroyed){const g=c.assetList.length;this.warn(`asset ${n+1}/${g} player destroyed ${c}`),f=this.createAssetPlayer(c,p,n)}if(!this.eventItemsMatch(s,this.bufferingItem)&&c.appendInPlace&&this.isAssetBuffered(p))return;this.startAssetPlayer(f,n,r,e,o),this.shouldPlay&&KF(f.media)}else s!==null?(this.resumePrimary(s,e,i),this.shouldPlay&&KF(this.hls.media)):a&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(this.schedule.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e,r;return(e=this.mediaSelection)==null||(r=e.main)==null?void 0:r.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,r,n){var i;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${zo(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let s=this.timelinePos;(s<e.start||s>=e.end)&&(s=this.getPrimaryResumption(e,r),this.timelinePos=s),this.attachPrimary(s,e)}if(!n)return;const a=this.schedule.items;a&&(this.log(`resumed ${zo(e)}`),this.hls.trigger($.INTERSTITIALS_PRIMARY_RESUMED,{schedule:a.slice(0),scheduleIndex:r}),this.checkBuffer())}getPrimaryResumption(e,r){const n=e.start;if(this.primaryLive){const i=this.primaryDetails;if(r===0)return this.hls.startPosition;if(i&&(n<i.fragmentStart||n>i.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(e){const r=this.getAssetPlayer(e.identifier);return r!=null&&r.hls?r.hls.bufferedToEnd:mt.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,r,n){r?this.setBufferingItem(r):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const a=this.hls;a.media?this.checkBuffer():(this.transferMediaTo(a,i),n&&this.startLoadingPrimaryAt(e,n)),n||(this.timelinePos=e,this.startLoadingPrimaryAt(e,n))}startLoadingPrimaryAt(e,r){var n;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((n=i.mainForwardBufferInfo)==null?void 0:n.start)||i.media.currentTime)-e)>.5?i.startLoad(e,r):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){this.stopLoad(),this.schedule.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off($.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on($.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,r){if(r.level===-1)return;const n=this.hls.levels[r.level],i=zt(zt({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,r){const n=this.hls.audioTracks[r.id],i=this.mediaSelection;if(!i){this.altSelection=zt(zt({},this.altSelection),{},{audio:n});return}const a=zt(zt({},i),{},{audio:n});this.mediaSelection=a}onSubtitleTrackUpdated(e,r){const n=this.hls.subtitleTracks[r.id],i=this.mediaSelection;if(!i){this.altSelection=zt(zt({},this.altSelection),{},{subtitles:n});return}const a=zt(zt({},i),{},{subtitles:n});this.mediaSelection=a}onAudioTrackSwitching(e,r){const n=aF(r);this.playerQueue.forEach(i=>i.hls.setAudioOption(r)||i.hls.setAudioOption(n))}onSubtitleTrackSwitch(e,r){const n=aF(r);this.playerQueue.forEach(i=>i.hls.setSubtitleOption(r)||r.id!==-1&&i.hls.setSubtitleOption(n))}onBufferCodecs(e,r){const n=r.tracks;n&&(this.requiredTracks=n)}onBufferAppended(e,r){this.checkBuffer()}onBufferFlushed(e,r){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){const r=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&r){for(let i=0;i<r.length;i++){const a=r[i];if(a.cue.post){var n;const s=this.schedule.findEventIndex(a.identifier),o=(n=this.schedule.items)==null?void 0:n[s];this.isInterstitial(o)&&this.eventItemsMatch(o,this.bufferingItem)&&this.bufferedToItem(o,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const r=this.playingItem;if(!this.playingLastItem&&r){const n=this.findItemIndex(r);this.setSchedulePosition(n+1)}else this.shouldPlay=!1}updateItem(e,r){const n=this.schedule.items;if(e&&n){const i=this.findItemIndex(e,r);return n[i]||null}return null}itemsMatch(e,r){return!!r&&(e===r||e.event&&r.event&&this.eventItemsMatch(e,r)||!e.event&&!r.event&&this.findItemIndex(e)===this.findItemIndex(r))}eventItemsMatch(e,r){var n;return!!r&&(e===r||e.event.identifier===((n=r.event)==null?void 0:n.identifier))}findItemIndex(e,r){return e?this.schedule.findItemIndex(e,r):-1}updateSchedule(){const e=this.mediaSelection;e&&this.schedule.updateSchedule(e,[])}checkBuffer(e){const r=this.schedule.items;if(!r)return;const n=mt.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=n.len<1),this.updateBufferedPos(n.end,r,e)}updateBufferedPos(e,r,n){const i=this.schedule,a=this.bufferingItem;if(this.bufferedPos>e)return;if(r.length===1&&this.itemsMatch(r[0],a)){this.bufferedPos=e;return}const s=this.playingItem,o=this.findItemIndex(s);let l=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var c,d;const f=this.findItemIndex(a),p=Math.min(f+1,r.length-1),g=r[p];if((l===-1&&a&&e>=a.end||(c=g.event)!=null&&c.appendInPlace&&e+.01>=g.start)&&(l=p),p-o>1&&(a==null||(d=a.event)==null?void 0:d.appendInPlace)===!1)return;if(this.bufferedPos=e,l>f&&l>o)this.bufferedToItem(g);else{const y=this.primaryDetails;this.primaryLive&&y&&e>y.edge-y.targetduration&&g.start<y.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(g)&&this.preloadAssets(g.event,0)}}else n&&s&&!this.itemsMatch(s,a)&&(l===o?this.bufferedToItem(s):l===o+1&&this.bufferedToItem(r[l]))}assetsBuffered(e,r){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const a=this.getAssetPlayer(i.identifier);return!(a!=null&&a.bufferedInPlaceToEnd(r))})}setBufferingItem(e){const r=this.bufferingItem,n=this.schedule;if(this.itemsMatch(e,r))this.bufferingItem!==e&&(this.bufferingItem=e);else{const{items:i,events:a}=n;if(!i||!a)return r;const s=this.isInterstitial(e),o=this.getBufferingPlayer();if(this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos)),!this.playbackDisabled){const l=o?o.remaining:r?r.end-this.timelinePos:0;this.log(`buffered to boundary ${zo(e)}`+(r?` (${l.toFixed(2)} remaining)`:"")),s?e.event.assetList.forEach(c=>{const d=this.getAssetPlayer(c.identifier);d&&d.resumeBuffering()}):(this.hls.resumeBuffering(),this.playerQueue.forEach(c=>c.pauseBuffering()))}this.hls.trigger($.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:a.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}return r}bufferedToItem(e,r=0){const n=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,r);else if(n!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const r=this.findItemIndex(e),n=this.getPrimaryResumption(e,r);this.startLoadingPrimaryAt(n)}bufferedToEvent(e,r){const n=e.event,i=n.assetList.length===0&&!n.assetListLoader,a=n.cue.once;if(i||!a){const s=this.preloadAssets(n,r);if(s!=null&&s.interstitial.appendInPlace){const o=n.assetList[r],l=this.primaryMedia;o&&l&&this.bufferAssetPlayer(s,l)}}}preloadAssets(e,r){const n=e.assetUrl,i=e.assetList.length,a=i===0&&!e.assetListLoader,s=e.cue.once;if(a){const l=e.timelineStart;if(e.appendInPlace){var o;const p=this.playingItem;!this.isInterstitial(p)&&(p==null||(o=p.nextEvent)==null?void 0:o.identifier)===e.identifier&&this.flushFrontBuffer(l+.25)}let c,d=0;if(!this.playingItem&&this.primaryLive&&(d=this.hls.startPosition,d===-1&&(d=this.hls.liveSyncPosition||0)),d&&!(e.cue.pre||e.cue.post)){const p=d-l;p>0&&(c=Math.round(p*1e3)/1e3)}if(this.log(`Load interstitial asset ${r+1}/${n?1:i} ${e}${c?` live-start: ${d} start-offset: ${c}`:""}`),n)return this.createAsset(e,0,0,l,e.duration,n);const f=this.assetListLoader.loadAssetList(e,c);f&&(e.assetListLoader=f)}else if(!s&&i){for(let l=r;l<i;l++){const c=e.assetList[l],d=this.getAssetPlayerQueueIndex(c.identifier);(d===-1||this.playerQueue[d].destroyed)&&!c.error&&this.createAssetPlayer(e,c,l)}return this.getAssetPlayer(e.assetList[r].identifier)}return null}flushFrontBuffer(e){const r=this.requiredTracks;if(!r)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(r).forEach(i=>{this.hls.trigger($.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const r=this.playerQueue;for(let n=0;n<r.length;n++)if(e===r[n].assetId)return n;return-1}getAssetPlayer(e){const r=this.getAssetPlayerQueueIndex(e);return this.playerQueue[r]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:r}=this;if(r){for(let n=0;n<e.length;n++)if(e[n].media===r)return e[n]}return null}createAsset(e,r,n,i,a,s){const o={parentIdentifier:e.identifier,identifier:mwe(e,s,r),duration:a,startOffset:n,timelineStart:i,uri:s};return this.createAssetPlayer(e,o,r)}createAssetPlayer(e,r,n){this.log(`create HLSAssetPlayer for ${qR(r)}`);const i=this.hls,a=i.userConfig;let s=a.videoPreference;const o=i.loadLevelObj||i.levels[i.currentLevel];(s||o)&&(s=Yt({},s),o.videoCodec&&(s.videoCodec=o.videoCodec),o.videoRange&&(s.allowedVideoRanges=[o.videoRange]));const l=i.audioTracks[i.audioTrack],c=i.subtitleTracks[i.subtitleTrack];let d=0;if(this.primaryLive||e.appendInPlace){const T=this.timelinePos-r.timelineStart;if(T>1){const O=r.duration;O&&T<O&&(d=T)}}const f=r.identifier,p=zt(zt({},a),{},{autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:f,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:d,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:s,audioPreference:l||a.audioPreference,subtitlePreference:c||a.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,r.timelineStart&&(p.timelineOffset=r.timelineStart));const g=p.cmcd;g!=null&&g.sessionId&&g.contentId&&(p.cmcd=Yt({},g,{contentId:fp(r.uri)})),this.getAssetPlayer(f)&&this.warn(`Duplicate date range identifier ${e} and asset ${f}`);const y=new ywe(this.HlsPlayerClass,p,e,r);this.playerQueue.push(y),e.assetList[n]=r;const b=T=>{if(T.live){const P=new Error(`Interstitials MUST be VOD assets ${e}`),R={fatal:!0,type:We.OTHER_ERROR,details:de.INTERSTITIAL_ASSET_ITEM_ERROR,error:P};this.handleAssetItemError(R,e,this.schedule.findEventIndex(e.identifier),n,P.message);return}const O=T.edge-T.fragmentStart,_=r.duration;(_===null||O>_)&&(this.log(`Interstitial asset "${f}" duration change ${_} > ${O}`),r.duration=O,this.updateSchedule())};y.on($.LEVEL_UPDATED,(T,{details:O})=>b(O)),y.on($.LEVEL_PTS_UPDATED,(T,{details:O})=>b(O));const x=(T,O)=>{const _=this.getAssetPlayer(f);if(_&&O.tracks){_.off($.BUFFER_CODECS,x),_.tracks=O.tracks;const P=this.primaryMedia;this.bufferingAsset===_.assetItem&&P&&!_.media&&this.bufferAssetPlayer(_,P)}};y.on($.BUFFER_CODECS,x);const w=()=>{var T;const O=this.getAssetPlayer(f);if(this.log(`buffered to end of asset ${O}`),!O)return;const _=this.schedule.findEventIndex(e.identifier),P=e.findAssetIndex(r),R=P+1,D=(T=this.schedule.items)==null?void 0:T[_];if(this.isInterstitial(D))if(P!==-1&&!e.isAssetPastPlayoutLimit(R)&&!e.assetList[R].error)this.bufferedToItem(D,R);else{var I;const M=(I=this.schedule.items)==null?void 0:I[_+1];M&&this.bufferedToItem(M)}};y.on($.BUFFERED_TO_END,w);const E=T=>()=>{if(!this.getAssetPlayer(f))return;this.shouldPlay=!0;const _=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,_,T)};return y.once($.MEDIA_ENDED,E(n)),y.once($.PLAYOUT_LIMIT_REACHED,E(1/0)),y.on($.ERROR,(T,O)=>{const _=this.getAssetPlayer(f);if(O.details===de.BUFFER_STALLED_ERROR){if(_!=null&&_.media){const P=_.currentTime,R=_.duration-P;P&&e.appendInPlace&&R/_.media.playbackRate<.5?(this.log(`Advancing buffer past end of asset ${f} ${e} at ${_.media.currentTime}`),w()):(this.warn(`Stalled at ${P} of ${P+R} in asset ${f} ${e}`),this.onTimeupdate(),this.checkBuffer(!0))}return}this.handleAssetItemError(O,e,this.schedule.findEventIndex(e.identifier),n,`Asset player error ${O.error} ${e}`)}),y.on($.DESTROYING,()=>{if(!this.getAssetPlayer(f))return;const O=new Error(`Asset player destroyed unexpectedly ${f}`),_={fatal:!0,type:We.OTHER_ERROR,details:de.INTERSTITIAL_ASSET_ITEM_ERROR,error:O};this.handleAssetItemError(_,e,this.schedule.findEventIndex(e.identifier),n,O.message)}),this.hls.trigger($.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:r,assetListIndex:n,event:e,player:y}),y}clearInterstitial(e,r){e.assetList.forEach(n=>{this.clearAssetPlayer(n.identifier,r)}),e.reset()}clearAssetPlayer(e,r){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){this.log(`clearAssetPlayer "${e}" toSegment: ${r&&zo(r)}`);const i=this.playerQueue[n];this.transferMediaFromPlayer(i,r),this.playerQueue.splice(n,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,r,n,i,a){const{interstitial:s,assetItem:o,assetId:l}=e,c=s.assetList.length,d=this.playingAsset;this.endedAsset=null,this.playingAsset=o,(!d||d.identifier!==l)&&(d&&(this.clearAssetPlayer(d.identifier,n[i]),delete d.error),this.log(`INTERSTITIAL_ASSET_STARTED ${r+1}/${c} ${e}`),this.hls.trigger($.INTERSTITIAL_ASSET_STARTED,{asset:o,assetListIndex:r,event:s,schedule:n.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,a)}bufferAssetPlayer(e,r){var n,i;const{interstitial:a,assetItem:s,assetId:o}=e,l=this.schedule.findEventIndex(a.identifier),c=(n=this.schedule.items)==null?void 0:n[l];if(!c)return;this.setBufferingItem(c),this.bufferingAsset=s;const d=this.getBufferingPlayer();if(d===e)return;const f=a.appendInPlace;if(f&&(d==null?void 0:d.interstitial.appendInPlace)===!1)return;const p=(d==null?void 0:d.tracks)||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(f&&s!==this.playingAsset){if(!e.tracks)return;if(p&&!D9(p,e.tracks)){const g=new Error(`Asset "${o}" SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(p)}')`),y={fatal:!0,type:We.OTHER_ERROR,details:de.INTERSTITIAL_ASSET_ITEM_ERROR,error:g},b=a.findAssetIndex(s);this.handleAssetItemError(y,a,l,b,g.message);return}}this.transferMediaTo(e,r)}handleAssetItemError(e,r,n,i,a){if(e.details===de.BUFFER_STALLED_ERROR)return;const s=r.assetList[i]||null;let o=null;if(s){const f=this.getAssetPlayerQueueIndex(s.identifier);o=this.playerQueue[f]||null}const l=this.schedule.items,c=Yt({},e,{fatal:!1,errorAction:$p(!0),asset:s,assetListIndex:i,event:r,schedule:l,scheduleIndex:n,player:o});if(this.warn(`Asset item error: ${e.error}`),this.hls.trigger($.INTERSTITIAL_ASSET_ERROR,c),!e.fatal)return;const d=new Error(a);s&&(this.playingAsset!==s&&this.clearAssetPlayer(s.identifier,null),s.error=d),r.assetList.some(f=>!f.error)?r.appendInPlace&&(r.error=d):r.error=d,this.primaryFallback(r)}primaryFallback(e){const r=e.timelineStart,n=this.effectivePlayingItem;if(this.updateSchedule(),n){this.log(`Fallback to primary from event "${e.identifier}" start: ${r} pos: ${this.timelinePos} playing: ${n?zo(n):"<none>"} error: ${e.error}`),e.appendInPlace&&(this.attachPrimary(r,null),this.flushFrontBuffer(r));let i=this.timelinePos;i===-1&&(i=this.hls.startPosition);const a=this.updateItem(n,i);if(this.itemsMatch(n,a))this.clearInterstitial(e,null);else{const s=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(s)}}else this.checkStart()}onAssetListLoaded(e,r){var n;const i=r.event,a=i.identifier,s=r.assetListResponse.ASSETS;if(!this.schedule.hasEvent(a))return;const o=i.timelineStart,l=i.duration;let c=0;s.forEach((y,b)=>{const x=parseFloat(y.DURATION);this.createAsset(i,b,c,o+c,x,y.URI),c+=x}),i.duration=c,this.log(`Loaded asset-list with duration: ${c} (was: ${l}) ${i}`);const d=this.waitingItem,f=(d==null?void 0:d.event.identifier)===a;this.updateSchedule();const p=(n=this.bufferingItem)==null?void 0:n.event;if(f){var g;const y=this.schedule.findEventIndex(a),b=(g=this.schedule.items)==null?void 0:g[y];if(b){if(!this.playingItem&&this.timelinePos>b.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==y){i.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${i}`),this.primaryFallback(i);return}this.setBufferingItem(b)}this.setSchedulePosition(y)}else if((p==null?void 0:p.identifier)===a&&p.appendInPlace){const y=i.assetList[0],b=this.getAssetPlayer(y.identifier),x=this.primaryMedia;y&&b&&x&&this.bufferAssetPlayer(b,x)}}onError(e,r){switch(r.details){case de.ASSET_LIST_PARSING_ERROR:case de.ASSET_LIST_LOAD_ERROR:case de.ASSET_LIST_LOAD_TIMEOUT:{const n=r.interstitial;n&&this.primaryFallback(n);break}case de.BUFFER_STALLED_ERROR:{this.onTimeupdate(),this.checkBuffer(!0);break}}}}const WF=500;class wwe extends hL{constructor(e,r,n){super(e,r,n,"subtitle-stream-controller",Ke.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on($.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on($.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off($.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off($.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,r){this.stopLoad(),this.state=we.IDLE,this.setInterval(WF),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,r){this.tracksBuffered=[],super.onMediaDetaching(e,r)}onLevelLoaded(e,r){this.mainDetails=r.details}onSubtitleFragProcessed(e,r){const{frag:n,success:i}=r;if(an(n)&&(this.fragPrevious=n),this.state=we.IDLE,!i)return;const a=this.tracksBuffered[this.currentTrackId];if(!a)return;let s;const o=n.start;for(let c=0;c<a.length;c++)if(o>=a[c].start&&o<=a[c].end){s=a[c];break}const l=n.start+n.duration;s?s.end=l:(s={start:o,end:l},a.push(s)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(e,r){const{startOffset:n,endOffset:i}=r;if(n===0&&i!==Number.POSITIVE_INFINITY){const a=i-1;if(a<=0)return;r.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach(s=>{for(let o=0;o<s.length;){if(s[o].end<=a){s.shift();continue}else if(s[o].start<a)s[o].start=a;else break;o++}}),this.fragmentTracker.removeFragmentsInRange(n,a,Ke.SUBTITLE)}}onError(e,r){const n=r.frag;(n==null?void 0:n.type)===Ke.SUBTITLE&&(r.details===de.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==we.STOPPED&&(this.state=we.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:r}){if(this.levels&&PK(this.levels,r)){this.levels=r.map(n=>new jp(n));return}this.tracksBuffered=[],this.levels=r.map(n=>{const i=new jp(n);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Ke.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,r){var n;if(this.currentTrackId=r.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==we.STOPPED&&this.setInterval(WF)}onSubtitleTrackLoaded(e,r){var n;const{currentTrackId:i,levels:a}=this,{details:s,id:o}=r;if(!a){this.warn(`Subtitle tracks were reset while loading level ${o}`);return}const l=a[o];if(o>=a.length||!l)return;this.log(`Subtitle track ${o} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(s.live||(n=l.details)!=null&&n.live){const f=this.mainDetails;if(s.deltaUpdateFailed||!f)return;const p=f.fragments[0];if(!l.details)s.hasProgramDateTime&&f.hasProgramDateTime?(_0(s,f),c=s.fragmentStart):p&&(c=p.start,$R(s,c));else{var d;c=this.alignPlaylists(s,l.details,(d=this.levelLastLoaded)==null?void 0:d.details),c===0&&p&&(c=p.start,$R(s,c))}}l.details=s,this.levelLastLoaded=l,o===i&&(this.hls.trigger($.SUBTITLE_TRACK_UPDATED,{details:s,id:o,groupId:r.groupId}),this.tick(),s.live&&!this.fragCurrent&&this.media&&this.state===we.IDLE&&(Bc(null,s.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:r,payload:n}=e,i=r.decryptdata,a=this.hls;if(!this.fragContextChanged(r)&&n&&n.byteLength>0&&i!=null&&i.key&&i.iv&&md(i.method)){const s=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer,dL(i.method)).catch(o=>{throw a.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:r}),o}).then(o=>{const l=performance.now();a.trigger($.FRAG_DECRYPTED,{frag:r,payload:o,stats:{tstart:s,tdecrypt:l}})}).catch(o=>{this.warn(`${o.name}: ${o.message}`),this.state=we.IDLE})}}doTick(){if(!this.media){this.state=we.IDLE;return}if(this.state===we.IDLE){const{currentTrackId:e,levels:r}=this,n=r==null?void 0:r[e];if(!n||!r.length||!n.details||this.waitForLive(n))return;const{config:i}=this,a=this.getLoadPosition(),s=mt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],a,i.maxBufferHole),{end:o,len:l}=s,c=n.details,d=this.hls.maxBufferLength+c.levelTargetDuration;if(l>d)return;const f=c.fragments,p=f.length,g=c.edge;let y=null;const b=this.fragPrevious;if(o<g){const E=i.maxFragLookUpTolerance,T=o>g-E?0:E;y=Bc(b,f,Math.max(f[0].start,o),T),!y&&b&&b.start<f[0].start&&(y=f[0])}else y=f[p-1];if(y=this.filterReplacedPrimary(y,n.details),!y)return;const x=y.sn-c.startSN,w=f[x-1];if(w&&w.cc===y.cc&&this.fragmentTracker.getState(w)===Hr.NOT_LOADED&&(y=w),this.fragmentTracker.getState(y)===Hr.NOT_LOADED){const E=this.mapToInitFragWhenRequired(y);E&&this.loadFragment(E,n,o)}}}loadFragment(e,r,n){an(e)?super.loadFragment(e,r,n):this._loadInitSegment(e,r)}get mediaBufferTimeRanges(){return new Ewe(this.tracksBuffered[this.currentTrackId]||[])}}class Ewe{constructor(e){this.buffered=void 0;const r=(n,i,a)=>{if(i=i>>>0,i>a-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${a})`);return e[i][n]};this.buffered={get length(){return e.length},end(n){return r("end",n,e.length)},start(n){return r("start",n,e.length)}}}}const Twe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},BK=t=>String.fromCharCode(Twe[t]||t),sa=15,Cs=100,Awe={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},_we={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Owe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Rwe={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Cwe=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Pwe{constructor(){this.time=null,this.verboseLevel=0}log(e,r){if(this.verboseLevel>=e){const n=typeof r=="function"?r():r;Rt.log(`${this.time} [${e}] ${n}`)}}}const ic=function(e){const r=[];for(let n=0;n<e.length;n++)r.push(e[n].toString(16));return r};class UK{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const r=["foreground","underline","italics","background","flash"];for(let n=0;n<r.length;n++){const i=r[n];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Dwe{constructor(){this.uchar=" ",this.penState=new UK}reset(){this.uchar=" ",this.penState.reset()}setChar(e,r){this.uchar=e,this.penState.copy(r)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class Lwe{constructor(e){this.chars=[],this.pos=0,this.currPenState=new UK,this.cueStartTime=null,this.logger=void 0;for(let r=0;r<Cs;r++)this.chars.push(new Dwe);this.logger=e}equals(e){for(let r=0;r<Cs;r++)if(!this.chars[r].equals(e.chars[r]))return!1;return!0}copy(e){for(let r=0;r<Cs;r++)this.chars[r].copy(e.chars[r])}isEmpty(){let e=!0;for(let r=0;r<Cs;r++)if(!this.chars[r].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Cs&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Cs)}moveCursor(e){const r=this.pos+e;if(e>1)for(let n=this.pos+1;n<r+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(r)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const r=BK(e);if(this.pos>=Cs){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+r+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1)}clearFromPos(e){let r;for(r=e;r<Cs;r++)this.chars[r].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let r=!0;for(let n=0;n<Cs;n++){const i=this.chars[n].uchar;i!==" "&&(r=!1),e.push(i)}return r?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class y1{constructor(e){this.rows=[],this.currRow=sa-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let r=0;r<sa;r++)this.rows.push(new Lwe(e));this.logger=e}reset(){for(let e=0;e<sa;e++)this.rows[e].clear();this.currRow=sa-1}equals(e){let r=!0;for(let n=0;n<sa;n++)if(!this.rows[n].equals(e.rows[n])){r=!1;break}return r}copy(e){for(let r=0;r<sa;r++)this.rows[r].copy(e.rows[r])}isEmpty(){let e=!0;for(let r=0;r<sa;r++)if(!this.rows[r].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+gr(e));let r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(let o=0;o<sa;o++)this.rows[o].clear();const a=this.currRow+1-this.nrRollUpRows,s=this.lastOutputScreen;if(s){const o=s.rows[a].cueStartTime,l=this.logger.time;if(o!==null&&l!==null&&o<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[r-this.nrRollUpRows+c+1].copy(s.rows[a+c])}}this.currRow=r;const n=this.rows[this.currRow];if(e.indent!==null){const a=e.indent,s=Math.max(a-1,0);n.setCursor(e.indent),e.color=n.chars[s].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+gr(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const r=[];let n="",i=-1;for(let a=0;a<sa;a++){const s=this.rows[a].getTextString();s&&(i=a+1,e?r.push("Row "+i+": '"+s+"'"):r.push(s.trim()))}return r.length>0&&(e?n="["+r.join(" | ")+"]":n=r.join(`
`)),n}getTextAndFormat(){return this.rows}}class YF{constructor(e,r,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new y1(n),this.nonDisplayedMemory=new y1(n),this.lastOutputScreen=new y1(n),this.currRollUpRow=this.displayedMemory.rows[sa-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[sa-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>r+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const r={flash:!1};if(r.underline=e%2===1,r.italics=e>=46,r.italics)r.foreground="white";else{const n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];r.foreground=i[n]}this.logger.log(2,"MIDROW: "+gr(r)),this.writeScreen.setPen(r)}outputDataUpdate(e=!1){const r=this.logger.time;r!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=r:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,r,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:r),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class XF{constructor(e,r,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=Mwe(),this.logger=void 0;const i=this.logger=new Pwe;this.channels=[null,new YF(e,r,i),new YF(e+1,n,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,r){this.channels[e].setHandler(r)}addData(e,r){this.logger.time=e;for(let n=0;n<r.length;n+=2){const i=r[n]&127,a=r[n+1]&127;let s=!1,o=null;if(i===0&&a===0)continue;this.logger.log(3,()=>"["+ic([r[n],r[n+1]])+"] -> ("+ic([i,a])+")");const l=this.cmdHistory;if(i>=16&&i<=31){if(Iwe(i,a,l)){Kv(null,null,l),this.logger.log(3,()=>"Repeated command ("+ic([i,a])+") is dropped");continue}Kv(i,a,this.cmdHistory),s=this.parseCmd(i,a),s||(s=this.parseMidrow(i,a)),s||(s=this.parsePAC(i,a)),s||(s=this.parseBackgroundAttributes(i,a))}else Kv(null,null,l);if(!s&&(o=this.parseChars(i,a),o)){const d=this.currentChannel;d&&d>0?this.channels[d].insertChars(o):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!s&&!o&&this.logger.log(2,()=>"Couldn't parse cleaned data "+ic([i,a])+" orig: "+ic([r[n],r[n+1]]))}}parseCmd(e,r){const n=(e===20||e===28||e===21||e===29)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=33&&r<=35;if(!(n||i))return!1;const a=e===20||e===21||e===23?1:2,s=this.channels[a];return e===20||e===21||e===28||e===29?r===32?s.ccRCL():r===33?s.ccBS():r===34?s.ccAOF():r===35?s.ccAON():r===36?s.ccDER():r===37?s.ccRU(2):r===38?s.ccRU(3):r===39?s.ccRU(4):r===40?s.ccFON():r===41?s.ccRDC():r===42?s.ccTR():r===43?s.ccRTD():r===44?s.ccEDM():r===45?s.ccCR():r===46?s.ccENM():r===47&&s.ccEOC():s.ccTO(r-32),this.currentChannel=a,!0}parseMidrow(e,r){let n=0;if((e===17||e===25)&&r>=32&&r<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return i?(i.ccMIDROW(r),this.logger.log(3,()=>"MIDROW ("+ic([e,r])+")"),!0):!1}return!1}parsePAC(e,r){let n;const i=(e>=17&&e<=23||e>=25&&e<=31)&&r>=64&&r<=127,a=(e===16||e===24)&&r>=64&&r<=95;if(!(i||a))return!1;const s=e<=23?1:2;r>=64&&r<=95?n=s===1?Awe[e]:Owe[e]:n=s===1?_we[e]:Rwe[e];const o=this.channels[s];return o?(o.setPAC(this.interpretPAC(n,r)),this.currentChannel=s,!0):!1}interpretPAC(e,r){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return r>95?n=r-96:n=r-64,i.underline=(n&1)===1,n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((n-16)/2)*4,i}parseChars(e,r){let n,i=null,a=null;if(e>=25?(n=2,a=e-8):(n=1,a=e),a>=17&&a<=19){let s;a===17?s=r+80:a===18?s=r+112:s=r+144,this.logger.log(2,()=>"Special char '"+BK(s)+"' in channel "+n),i=[s]}else e>=32&&e<=127&&(i=r===0?[e]:[e,r]);return i&&this.logger.log(3,()=>"Char codes =  "+ic(i).join(",")),i}parseBackgroundAttributes(e,r){const n=(e===16||e===24)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=45&&r<=47;if(!(n||i))return!1;let a;const s={};e===16||e===24?(a=Math.floor((r-32)/2),s.background=Cwe[a],r%2===1&&(s.background=s.background+"_semi")):r===45?s.background="transparent":(s.foreground="black",r===47&&(s.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(s),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const r=this.channels[e];r&&r.reset()}Kv(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let r=0;r<this.channels.length;r++){const n=this.channels[r];n&&n.cueSplitAtTime(e)}}}function Kv(t,e,r){r.a=t,r.b=e}function Iwe(t,e,r){return r.a===t&&r.b===e}function Mwe(){return{a:null,b:null}}var TL=function(){if(A0!=null&&A0.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function r(o,l){if(typeof l!="string"||!Array.isArray(o))return!1;const c=l.toLowerCase();return~o.indexOf(c)?c:!1}function n(o){return r(t,o)}function i(o){return r(e,o)}function a(o,...l){let c=1;for(;c<arguments.length;c++){const d=arguments[c];for(const f in d)o[f]=d[f]}return o}function s(o,l,c){const d=this,f={enumerable:!0};d.hasBeenReset=!1;let p="",g=!1,y=o,b=l,x=c,w=null,E="",T=!0,O="auto",_="start",P=50,R="middle",D=50,I="middle";Object.defineProperty(d,"id",a({},f,{get:function(){return p},set:function(M){p=""+M}})),Object.defineProperty(d,"pauseOnExit",a({},f,{get:function(){return g},set:function(M){g=!!M}})),Object.defineProperty(d,"startTime",a({},f,{get:function(){return y},set:function(M){if(typeof M!="number")throw new TypeError("Start time must be set to a number.");y=M,this.hasBeenReset=!0}})),Object.defineProperty(d,"endTime",a({},f,{get:function(){return b},set:function(M){if(typeof M!="number")throw new TypeError("End time must be set to a number.");b=M,this.hasBeenReset=!0}})),Object.defineProperty(d,"text",a({},f,{get:function(){return x},set:function(M){x=""+M,this.hasBeenReset=!0}})),Object.defineProperty(d,"region",a({},f,{get:function(){return w},set:function(M){w=M,this.hasBeenReset=!0}})),Object.defineProperty(d,"vertical",a({},f,{get:function(){return E},set:function(M){const N=n(M);if(N===!1)throw new SyntaxError("An invalid or illegal string was specified.");E=N,this.hasBeenReset=!0}})),Object.defineProperty(d,"snapToLines",a({},f,{get:function(){return T},set:function(M){T=!!M,this.hasBeenReset=!0}})),Object.defineProperty(d,"line",a({},f,{get:function(){return O},set:function(M){if(typeof M!="number"&&M!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");O=M,this.hasBeenReset=!0}})),Object.defineProperty(d,"lineAlign",a({},f,{get:function(){return _},set:function(M){const N=i(M);if(!N)throw new SyntaxError("An invalid or illegal string was specified.");_=N,this.hasBeenReset=!0}})),Object.defineProperty(d,"position",a({},f,{get:function(){return P},set:function(M){if(M<0||M>100)throw new Error("Position must be between 0 and 100.");P=M,this.hasBeenReset=!0}})),Object.defineProperty(d,"positionAlign",a({},f,{get:function(){return R},set:function(M){const N=i(M);if(!N)throw new SyntaxError("An invalid or illegal string was specified.");R=N,this.hasBeenReset=!0}})),Object.defineProperty(d,"size",a({},f,{get:function(){return D},set:function(M){if(M<0||M>100)throw new Error("Size must be between 0 and 100.");D=M,this.hasBeenReset=!0}})),Object.defineProperty(d,"align",a({},f,{get:function(){return I},set:function(M){const N=i(M);if(!N)throw new SyntaxError("An invalid or illegal string was specified.");I=N,this.hasBeenReset=!0}})),d.displayState=void 0}return s.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},s}();class Nwe{decode(e,r){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function GK(t){function e(n,i,a,s){return(n|0)*3600+(i|0)*60+(a|0)+parseFloat(s||0)}const r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}class kwe{constructor(){this.values=Object.create(null)}set(e,r){!this.get(e)&&r!==""&&(this.values[e]=r)}get(e,r,n){return n?this.has(e)?this.values[e]:r[n]:this.has(e)?this.values[e]:r}has(e){return e in this.values}alt(e,r,n){for(let i=0;i<n.length;++i)if(r===n[i]){this.set(e,r);break}}integer(e,r){/^-?\d+$/.test(r)&&this.set(e,parseInt(r,10))}percent(e,r){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(r)){const n=parseFloat(r);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function zK(t,e,r,n){const i=n?t.split(n):[t];for(const a in i){if(typeof i[a]!="string")continue;const s=i[a].split(r);if(s.length!==2)continue;const o=s[0],l=s[1];e(o,l)}}const HR=new TL(0,0,""),Wv=HR.align==="middle"?"middle":"center";function jwe(t,e,r){const n=t;function i(){const o=GK(t);if(o===null)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,l){const c=new kwe;zK(o,function(p,g){let y;switch(p){case"region":for(let b=r.length-1;b>=0;b--)if(r[b].id===g){c.set(p,r[b].region);break}break;case"vertical":c.alt(p,g,["rl","lr"]);break;case"line":y=g.split(","),c.integer(p,y[0]),c.percent(p,y[0])&&c.set("snapToLines",!1),c.alt(p,y[0],["auto"]),y.length===2&&c.alt("lineAlign",y[1],["start",Wv,"end"]);break;case"position":y=g.split(","),c.percent(p,y[0]),y.length===2&&c.alt("positionAlign",y[1],["start",Wv,"end","line-left","line-right","auto"]);break;case"size":c.percent(p,g);break;case"align":c.alt(p,g,["start",Wv,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let d=c.get("line","auto");d==="auto"&&HR.line===-1&&(d=-1),l.line=d,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",Wv);let f=c.get("position","auto");f==="auto"&&HR.position===50&&(f=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=f}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=i(),s(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.slice(3),s(),e.endTime=i(),s(),a(t,e)}function VK(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class $we{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Nwe,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));function n(){let a=r.buffer,s=0;for(a=VK(a);s<a.length&&a[s]!=="\r"&&a[s]!==`
`;)++s;const o=a.slice(0,s);return a[s]==="\r"&&++s,a[s]===`
`&&++s,r.buffer=a.slice(s),o}function i(a){zK(a,function(s,o){},/:/)}try{let a="";if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;a=n();const o=a.match(/^()?WEBVTT([ \t].*)?$/);if(!(o!=null&&o[0]))throw new Error("Malformed WebVTT signature.");r.state="HEADER"}let s=!1;for(;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(s?s=!1:a=n(),r.state){case"HEADER":/:/.test(a)?i(a):a||(r.state="ID");continue;case"NOTE":a||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){r.state="NOTE";break}if(!a)continue;if(r.cue=new TL(0,0,""),r.state="CUE",a.indexOf("-->")===-1){r.cue.id=a;continue}case"CUE":if(!r.cue){r.state="BADCUE";continue}try{jwe(a,r.cue,r.regionList)}catch{r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":{const o=a.indexOf("-->")!==-1;if(!a||o&&(s=!0)){r.oncue&&r.cue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}if(r.cue===null)continue;r.cue.text&&(r.cue.text+=`
`),r.cue.text+=a}continue;case"BADCUE":a||(r.state="ID")}}}catch{r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(r){e.onparsingerror&&e.onparsingerror(r)}return e.onflush&&e.onflush(),this}}const Fwe=/\r\n|\n\r|\n|\r/g,b1=function(e,r,n=0){return e.slice(n,n+r.length)===r},Bwe=function(e){let r=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),a=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Fe(r)||!Fe(n)||!Fe(i)||!Fe(a))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return r+=1e3*n,r+=60*1e3*i,r+=60*60*1e3*a,r};function AL(t,e,r){return fp(t.toString())+fp(e.toString())+fp(r)}const Uwe=function(e,r,n){let i=e[r],a=e[i.prevCC];if(!a||!a.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(s=a)!=null&&s.new;){var s;e.ccOffset+=i.start-a.start,i.new=!1,i=a,a=e[i.prevCC]}e.presentationOffset=n};function Gwe(t,e,r,n,i,a,s){const o=new $we,l=pi(new Uint8Array(t)).trim().replace(Fwe,`
`).split(`
`),c=[],d=e?sSe(e.baseTime,e.timescale):0;let f="00:00.000",p=0,g=0,y,b=!0;o.oncue=function(x){const w=r[n];let E=r.ccOffset;const T=(p-d)/9e4;if(w!=null&&w.new&&(g!==void 0?E=r.ccOffset=w.start:Uwe(r,n,T)),T){if(!e){y=new Error("Missing initPTS for VTT MPEGTS");return}E=T-r.presentationOffset}const O=x.endTime-x.startTime,_=Ni((x.startTime+E-g)*9e4,i*9e4)/9e4;x.startTime=Math.max(_,0),x.endTime=Math.max(_+O,0);const P=x.text.trim();x.text=decodeURIComponent(encodeURIComponent(P)),x.id||(x.id=AL(x.startTime,x.endTime,P)),x.endTime>0&&c.push(x)},o.onparsingerror=function(x){y=x},o.onflush=function(){if(y){s(y);return}a(c)},l.forEach(x=>{if(b)if(b1(x,"X-TIMESTAMP-MAP=")){b=!1,x.slice(16).split(",").forEach(w=>{b1(w,"LOCAL:")?f=w.slice(6):b1(w,"MPEGTS:")&&(p=parseInt(w.slice(7)))});try{g=Bwe(f)/1e3}catch(w){y=w}return}else x===""&&(b=!1);o.parse(x+`
`)}),o.flush()}const x1="stpp.ttml.im1t",qK=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,HK=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,zwe={left:"start",center:"center",right:"end",start:"start",end:"end"};function QF(t,e,r,n){const i=ct(new Uint8Array(t),["mdat"]);if(i.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const a=i.map(o=>pi(o)),s=aSe(e.baseTime,1,e.timescale);try{a.forEach(o=>r(Vwe(o,s)))}catch(o){n(o)}}function Vwe(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},s=Object.keys(a).reduce((f,p)=>(f[p]=i.getAttribute(`ttp:${p}`)||a[p],f),{}),o=i.getAttribute("xml:space")!=="preserve",l=ZF(S1(i,"styling","style")),c=ZF(S1(i,"layout","region")),d=S1(i,"body","[begin]");return[].map.call(d,f=>{const p=KK(f,o);if(!p||!f.hasAttribute("begin"))return null;const g=E1(f.getAttribute("begin"),s),y=E1(f.getAttribute("dur"),s);let b=E1(f.getAttribute("end"),s);if(g===null)throw JF(f);if(b===null){if(y===null)throw JF(f);b=g+y}const x=new TL(g-e,b-e,p);x.id=AL(x.startTime,x.endTime,x.text);const w=c[f.getAttribute("region")],E=l[f.getAttribute("style")],T=qwe(w,E,l),{textAlign:O}=T;if(O){const _=zwe[O];_&&(x.lineAlign=_),x.align=O}return Yt(x,T),x}).filter(f=>f!==null)}function S1(t,e,r){const n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function ZF(t){return t.reduce((e,r)=>{const n=r.getAttribute("xml:id");return n&&(e[n]=r),e},{})}function KK(t,e){return[].slice.call(t.childNodes).reduce((r,n,i)=>{var a;return n.nodeName==="br"&&i?r+`
`:(a=n.childNodes)!=null&&a.length?KK(n,e):e?r+n.textContent.trim().replace(/\s+/g," "):r+n.textContent},"")}function qwe(t,e,r){const n="http://www.w3.org/ns/ttml#styling";let i=null;const a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return s&&r.hasOwnProperty(s)&&(i=r[s]),a.reduce((o,l)=>{const c=w1(e,n,l)||w1(t,n,l)||w1(i,n,l);return c&&(o[l]=c),o},{})}function w1(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function JF(t){return new Error(`Could not parse ttml timestamp ${t}`)}function E1(t,e){if(!t)return null;let r=GK(t);return r===null&&(qK.test(t)?r=Hwe(t,e):HK.test(t)&&(r=Kwe(t,e))),r}function Hwe(t,e){const r=qK.exec(t),n=(r[4]|0)+(r[5]|0)/e.subFrameRate;return(r[1]|0)*3600+(r[2]|0)*60+(r[3]|0)+n/e.frameRate}function Kwe(t,e){const r=HK.exec(t),n=Number(r[1]);switch(r[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class Yv{constructor(e,r){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=r}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,r,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=r,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class Wwe{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=tB(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this),e.on($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on($.FRAG_LOADING,this.onFragLoading,this),e.on($.FRAG_LOADED,this.onFragLoaded,this),e.on($.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on($.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on($.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_LOADED,this.onManifestLoaded,this),e.off($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off($.FRAG_LOADING,this.onFragLoading,this),e.off($.FRAG_LOADED,this.onFragLoaded,this),e.off($.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off($.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off($.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new Yv(this,"textTrack1"),r=new Yv(this,"textTrack2"),n=new Yv(this,"textTrack3"),i=new Yv(this,"textTrack4");this.cea608Parser1=new XF(1,e,r),this.cea608Parser2=new XF(3,n,i)}addCues(e,r,n,i,a){let s=!1;for(let o=a.length;o--;){const l=a[o],c=Ywe(l[0],l[1],r,n);if(c>=0&&(l[0]=Math.min(l[0],r),l[1]=Math.max(l[1],n),s=!0,c/(n-r)>.5))return}if(s||a.push([r,n]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,r,n,i)}else{const o=this.Cues.newCue(null,r,n,i);this.hls.trigger($.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:a}){const{unparsedVttFrags:s}=this;n===Ke.MAIN&&(this.initPTS[r.cc]={baseTime:i,timescale:a}),s.length&&(this.unparsedVttFrags=[],s.forEach(o=>{this.onFragLoaded($.FRAG_LOADED,o)}))}getExistingTrack(e,r){const{media:n}=this;if(n)for(let i=0;i<n.textTracks.length;i++){const a=n.textTracks[i];if(eB(a,{name:e,lang:r,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return a}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:r,captionsTracks:n,media:i}=this,{label:a,languageCode:s}=r[e],o=this.getExistingTrack(a,s);if(o)n[e]=o,id(n[e]),jK(n[e],i);else{const l=this.createTextTrack("captions",a,s);l&&(l[e]=!0,n[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const r=this.captionsProperties[e];if(!r)return;const n=r.label,i={_id:e,label:n,kind:"captions",default:r.media?!!r.media.default:!1,closedCaptions:r.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger($.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,r,n){const i=this.media;if(i)return i.addTextTrack(e,r,n)}onMediaAttaching(e,r){this.media=r.media,r.mediaSource||this._cleanTracks()}onMediaDetaching(e,r){const n=!!r.transferMedia;if(this.media=null,n)return;const{captionsTracks:i}=this;Object.keys(i).forEach(a=>{id(i[a]),delete i[a]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=tB(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const r=e.textTracks;if(r)for(let n=0;n<r.length;n++)id(r[n])}onSubtitleTracksUpdated(e,r){const n=r.subtitleTracks||[],i=n.some(a=>a.textCodec===x1);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(PK(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const s=this.media,o=s?Py(s.textTracks):null;if(this.tracks.forEach((l,c)=>{let d;if(o){let f=null;for(let p=0;p<o.length;p++)if(o[p]&&eB(o[p],l)){f=o[p],o[p]=null;break}f&&(d=f)}if(d)id(d);else{const f=WK(l);d=this.createTextTrack(f,l.name,l.lang),d&&(d.mode="disabled")}d&&this.textTracks.push(d)}),o!=null&&o.length){const l=o.filter(c=>c!==null).map(c=>c.label);l.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const s=this.tracks.map(o=>({label:o.name,kind:o.type.toLowerCase(),default:o.default,subtitleTrack:o}));this.hls.trigger($.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}}onManifestLoaded(e,r){this.config.enableCEA708Captions&&r.captions&&r.captions.forEach(n=>{const i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!i)return;const a=`textTrack${i[1]}`,s=this.captionsProperties[a];s&&(s.label=n.name,n.lang&&(s.languageCode=n.lang),s.media=n)})}closedCaptionsForLevel(e){const r=this.hls.levels[e.level];return r==null?void 0:r.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,r){if(this.enabled&&r.frag.type===Ke.MAIN){var n,i;const{cea608Parser1:a,cea608Parser2:s,lastSn:o}=this,{cc:l,sn:c}=r.frag,d=(n=(i=r.part)==null?void 0:i.index)!=null?n:-1;a&&s&&(c!==o+1||c===o&&d!==this.lastPartIndex+1||l!==this.lastCc)&&(a.reset(),s.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=d}}onFragLoaded(e,r){const{frag:n,payload:i}=r;if(n.type===Ke.SUBTITLE)if(i.byteLength){const a=n.decryptdata,s="stats"in r;if(a==null||!a.encrypted||s){const o=this.tracks[n.level],l=this.vttCCs;l[n.cc]||(l[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),o&&o.textCodec===x1?this._parseIMSC1(n,i):this._parseVTTs(r)}}else this.hls.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,r){const n=this.hls;QF(r,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),n.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{n.logger.log(`Failed to parse IMSC1: ${i}`),n.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var r;const{frag:n,payload:i}=e,{initPTS:a,unparsedVttFrags:s}=this,o=a.length-1;if(!a[n.cc]&&o===-1){s.push(e);return}const l=this.hls,c=(r=n.initSegment)!=null&&r.data?qi(n.initSegment.data,new Uint8Array(i)).buffer:i;Gwe(c,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,d=>{this._appendCues(d,n.level),l.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},d=>{const f=d.message==="Missing initPTS for VTT MPEGTS";f?s.push(e):this._fallbackToIMSC1(n,i),l.logger.log(`Failed to parse VTT cue: ${d}`),!(f&&o>n.cc)&&l.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:d})})}_fallbackToIMSC1(e,r){const n=this.tracks[e.level];n.textCodec||QF(r,this.initPTS[e.cc],()=>{n.textCodec=x1,this._parseIMSC1(e,r)},()=>{n.textCodec="wvtt"})}_appendCues(e,r){const n=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[r];if(!i||i.mode==="disabled")return;e.forEach(a=>$K(i,a))}else{const i=this.tracks[r];if(!i)return;const a=i.default?"default":"subtitles"+r;n.trigger($.CUES_PARSED,{type:"subtitles",cues:e,track:a})}}onFragDecrypted(e,r){const{frag:n}=r;n.type===Ke.SUBTITLE&&this.onFragLoaded($.FRAG_LOADED,r)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,r){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:i}=r;if(!(n.type===Ke.MAIN&&this.closedCaptionsForLevel(n)==="NONE"))for(let a=0;a<i.length;a++){const s=i[a].bytes;if(s){this.cea608Parser1||this.initCea608Parsers();const o=this.extractCea608Data(s);this.cea608Parser1.addData(i[a].pts,o[0]),this.cea608Parser2.addData(i[a].pts,o[1])}}}onBufferFlushing(e,{startOffset:r,endOffset:n,endOffsetSubtitles:i,type:a}){const{media:s}=this;if(!(!s||s.currentTime<n)){if(!a||a==="video"){const{captionsTracks:o}=this;Object.keys(o).forEach(l=>VR(o[l],r,n))}if(this.config.renderTextTracksNatively&&r===0&&i!==void 0){const{textTracks:o}=this;Object.keys(o).forEach(l=>VR(o[l],r,i))}}}extractCea608Data(e){const r=[[],[]],n=e[0]&31;let i=2;for(let a=0;a<n;a++){const s=e[i++],o=127&e[i++],l=127&e[i++];if(o===0&&l===0)continue;if((4&s)!==0){const d=3&s;(d===0||d===1)&&(r[d].push(o),r[d].push(l))}}return r}}function WK(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function eB(t,e){return!!t&&t.kind===WK(e)&&UR(e,t)}function Ywe(t,e,r,n){return Math.min(e,n)-Math.max(t,r)}function tB(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const Xwe=/\s/,Qwe={newCue(t,e,r,n){const i=[];let a,s,o,l,c;const d=self.VTTCue||self.TextTrackCue;for(let p=0;p<n.rows.length;p++)if(a=n.rows[p],o=!0,l=0,c="",!a.isEmpty()){var f;for(let b=0;b<a.chars.length;b++)Xwe.test(a.chars[b].uchar)&&o?l++:(c+=a.chars[b].uchar,o=!1);a.cueStartTime=e,e===r&&(r+=1e-4),l>=16?l--:l++;const g=VK(c.trim()),y=AL(e,r,g);t!=null&&(f=t.cues)!=null&&f.getCueById(y)||(s=new d(e,r,g),s.id=y,s.line=p+1,s.align="left",s.position=10+Math.min(80,Math.floor(l*8/32)*10),i.push(s))}return t&&i.length&&(i.sort((p,g)=>p.line==="auto"||g.line==="auto"?0:p.line>8&&g.line>8?g.line-p.line:p.line-g.line),i.forEach(p=>$K(t,p))),i}};function Zwe(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const Jwe=/(\d+)-(\d+)\/(\d+)/;class rB{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||nEe,this.controller=new self.AbortController,this.stats=new aL}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,r,n){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const a=eEe(e,this.controller.signal),s=e.responseType==="arraybuffer",o=s?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:c}=r.loadPolicy;this.context=e,this.config=r,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),r.timeout=l&&Fe(l)?l:c,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},r.timeout),(Gp(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(f=>{var p;this.response=this.loader=f;const g=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),r.timeout=c,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},c-(g-i.loading.start)),!f.ok){const{status:b,statusText:x}=f;throw new iEe(x||"fetch, bad network response",b,f)}i.loading.first=g,i.total=rEe(f.headers)||i.total;const y=(p=this.callbacks)==null?void 0:p.onProgress;return y&&Fe(r.highWaterMark)?this.loadProgressively(f,i,e,r.highWaterMark,y):s?f.arrayBuffer():e.responseType==="json"?f.json():f.text()}).then(f=>{var p,g;const y=this.response;if(!y)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const b=f[o];b&&(i.loaded=i.total=b);const x={url:y.url,data:f,code:y.status},w=(p=this.callbacks)==null?void 0:p.onProgress;w&&!Fe(r.highWaterMark)&&w(i,e,f,y),(g=this.callbacks)==null||g.onSuccess(x,i,e,y)}).catch(f=>{var p;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const g=f&&f.code||0,y=f?f.message:null;(p=this.callbacks)==null||p.onError({code:g,text:y},e,f?f.details:null,i)})}getCacheAge(){let e=null;if(this.response){const r=this.response.headers.get("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,r,n,i=0,a){const s=new cK,o=e.body.getReader(),l=()=>o.read().then(c=>{if(c.done)return s.dataLength&&a(r,n,s.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const d=c.value,f=d.length;return r.loaded+=f,f<i||s.dataLength?(s.push(d),s.dataLength>=i&&a(r,n,s.flush().buffer,e)):a(r,n,d.buffer,e),l()}).catch(()=>Promise.reject());return l()}}function eEe(t,e){const r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Yt({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}function tEe(t){const e=Jwe.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function rEe(t){const e=t.get("Content-Range");if(e){const n=tEe(e);if(Fe(n))return n}const r=t.get("Content-Length");if(r)return parseInt(r)}function nEe(t,e){return new self.Request(t.url,e)}class iEe extends Error{constructor(e,r,n){super(e),this.code=void 0,this.details=void 0,this.code=r,this.details=n}}const aEe=/^age:\s*[\d.]+\s*$/im;class YK{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new aL,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,r,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=r,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:r}=this;if(!e||!r)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const a=this.xhrSetup;a?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return a(n,r.url)}).catch(s=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",r.url,!0),a(n,r.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,r,e)}).catch(s=>{var o;(o=this.callbacks)==null||o.onError({code:n.status,text:s.message},r,n,i)}):this.openAndSendXhr(n,r,e)}openAndSendXhr(e,r,n){e.readyState||e.open("GET",r.url,!0);const i=r.headers,{maxTimeToFirstByteMs:a,maxLoadTimeMs:s}=n.loadPolicy;if(i)for(const o in i)e.setRequestHeader(o,i[o]);r.rangeEnd&&e.setRequestHeader("Range","bytes="+r.rangeStart+"-"+(r.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=r.responseType,self.clearTimeout(this.requestTimeout),n.timeout=a&&Fe(a)?a:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:r,stats:n}=this;if(!e||!r)return;const i=r.readyState,a=this.config;if(!n.aborted&&i>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),a.timeout!==a.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),a.timeout=a.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),r.onreadystatechange=null,r.onprogress=null;const c=r.status,d=r.responseType==="text"?r.responseText:null;if(c>=200&&c<300){const y=d??r.response;if(y!=null){var s,o;n.loading.end=Math.max(self.performance.now(),n.loading.first);const b=r.responseType==="arraybuffer"?y.byteLength:y.length;n.loaded=n.total=b,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first);const x=(s=this.callbacks)==null?void 0:s.onProgress;x&&x(n,e,y,r);const w={url:r.responseURL,data:y,code:c};(o=this.callbacks)==null||o.onSuccess(w,n,e,r);return}}const f=a.loadPolicy.errorRetry,p=n.retry,g={url:e.url,data:void 0,code:c};if(T0(f,p,!1,g))this.retry(f);else{var l;Rt.error(`${c} while loading ${e.url}`),(l=this.callbacks)==null||l.onError({code:c,text:r.statusText},e,r,n)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,r=this.stats.retry;if(T0(e,r,!0))this.retry(e);else{var n;Rt.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:r,stats:n}=this;this.retryDelay=lL(e,n.retry),n.retry++,Rt.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${r==null?void 0:r.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total)}getCacheAge(){let e=null;if(this.loader&&aEe.test(this.loader.getAllResponseHeaders())){const r=this.loader.getResponseHeader("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const sEe={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},oEe=zt(zt({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:YK,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Cbe,bufferController:SSe,capLevelController:wL,errorController:Nbe,fpsController:dwe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Z9,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,certLoadPolicy:{default:sEe},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},lEe()),{},{subtitleStreamController:wwe,subtitleTrackController:pwe,timelineController:Wwe,audioStreamController:vSe,audioTrackController:ySe,emeController:gd,cmcdController:lwe,contentSteeringController:uwe,interstitialsController:Swe});function lEe(){return{cueHandler:Qwe,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function cEe(t,e,r){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=KR(t),i=["manifest","level","frag"],a=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(s=>{const o=`${s==="level"?"playlist":s}LoadPolicy`,l=e[o]===void 0,c=[];a.forEach(d=>{const f=`${s}Loading${d}`,p=e[f];if(p!==void 0&&l){c.push(f);const g=n[o].default;switch(e[o]={default:g},d){case"TimeOut":g.maxLoadTimeMs=p,g.maxTimeToFirstByteMs=p;break;case"MaxRetry":g.errorRetry.maxNumRetry=p,g.timeoutRetry.maxNumRetry=p;break;case"RetryDelay":g.errorRetry.retryDelayMs=p,g.timeoutRetry.retryDelayMs=p;break;case"MaxRetryTimeout":g.errorRetry.maxRetryDelayMs=p,g.timeoutRetry.maxRetryDelayMs=p;break}}}),c.length&&r.warn(`hls.js config: "${c.join('", "')}" setting(s) are deprecated, use "${o}": ${gr(e[o])}`)}),zt(zt({},n),e)}function KR(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(KR):Object.keys(t).reduce((e,r)=>(e[r]=KR(t[r]),e),{}):t}function uEe(t,e){const r=t.loader;r!==rB&&r!==YK?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):Zwe()&&(t.loader=rB,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const Dy=2,dEe=.1,fEe=.05,hEe=100;class pEe extends Y9{constructor(e,r){super("gap-controller",e.logger),this.hls=null,this.fragmentTracker=null,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var n;(n=this.media)!=null&&n.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var n;this.ended=((n=this.media)==null?void 0:n.currentTime)||1,this.hls.trigger($.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=r,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,r){this.setInterval(hEe),this.mediaSource=r.mediaSource;const n=this.media=r.media;$s(n,"playing",this.onMediaPlaying),$s(n,"waiting",this.onMediaWaiting),$s(n,"ended",this.onMediaEnded)}onMediaDetaching(e,r){this.clearInterval();const{media:n}=this;n&&(Ba(n,"playing",this.onMediaPlaying),Ba(n,"waiting",this.onMediaWaiting),Ba(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,r){this.buffered=r.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const r=this.media.currentTime;this.poll(r,this.lastCurrentTime),this.lastCurrentTime=r}poll(e,r){var n,i;const a=(n=this.hls)==null?void 0:n.config;if(!a)return;const{media:s,stalled:o}=this;if(!s)return;const{seeking:l}=s,c=this.seeking&&!l,d=!this.seeking&&l,f=s.paused&&!l||s.ended||s.playbackRate===0;if(this.seeking=l,e!==r){r&&(this.ended=0),this.moved=!0,l||(this.nudgeRetry=0,a.nudgeOnVideoHole&&!f&&e>r&&this.nudgeOnVideoHole(e,r)),this.waiting===0&&this.stallResolved(e);return}if(d||c){c&&this.stallResolved(e);return}if(f){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&s.ended&&this.hls&&(this.ended=e||1,this.hls.trigger($.MEDIA_ENDED,{stalled:!1}));return}if(!mt.getBuffered(s).length){this.nudgeRetry=0;return}const p=mt.bufferInfo(s,e,0),g=p.nextStart||0,y=this.fragmentTracker;if(l&&y&&this.hls){const P=nB(this.hls.inFlightFragments,e),R=p.len>Dy,D=!g||P||g-e>Dy&&!y.getPartialFragment(e);if(R||D)return;this.moved=!1}const b=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&y){if(!(p.len>0)&&!g)return;const R=Math.max(g,p.start||0)-e,I=!!(b!=null&&b.live)?b.targetduration*2:Dy,M=y.getPartialFragment(e);if(R>0&&(R<=I||M)){s.paused||this._trySkipBufferHole(M);return}}const x=a.detectStallWithCurrentTimeMs,w=self.performance.now(),E=this.waiting;if(o===null){E>0&&w-E<x?this.stalled=E:this.stalled=w;return}const T=w-o;if(!l&&(T>=x||E)&&this.hls){var O;if(((O=this.mediaSource)==null?void 0:O.readyState)==="ended"&&!(b!=null&&b.live)&&Math.abs(e-((b==null?void 0:b.edge)||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger($.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(p),!this.media||!this.hls)return}const _=mt.bufferInfo(s,e,a.maxBufferHole);this._tryFixBufferStall(_,T)}stallResolved(e){const r=this.stalled;if(r&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-r;this.log(`playback not stuck anymore @${e}, after ${Math.round(n)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger($.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,r){var n;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(n=this.buffered.audio)!=null&&n.length&&i&&i.length>1&&e>i.end(0)){const a=mt.bufferedInfo(mt.timeRangesToArray(this.buffered.audio),e,0);if(a.len>1&&r>=a.start){const s=mt.timeRangesToArray(i),o=mt.bufferedInfo(s,r,0).bufferedIndex;if(o>-1&&o<s.length-1){const l=mt.bufferedInfo(s,e,0).bufferedIndex,c=s[o].end,d=s[o+1].start;if((l===-1||l>o)&&d-c<1&&e-c<2){const f=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${c} -> ${d} buffered index: ${l}`);this.warn(f.message),this.media.currentTime+=1e-6;const p=this.fragmentTracker.getPartialFragment(e)||void 0,g=mt.bufferInfo(this.media,e,0);this.hls.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:p,buffer:g.len,bufferInfo:g})}}}}}_tryFixBufferStall(e,r){var n,i;const{fragmentTracker:a,media:s}=this,o=(n=this.hls)==null?void 0:n.config;if(!s||!a||!o)return;const l=s.currentTime,c=(i=this.hls)==null?void 0:i.latestLevelDetails,d=a.getPartialFragment(l);if((d||c!=null&&c.live&&l<c.fragmentStart)&&(this._trySkipBufferHole(d)||!this.media))return;const f=e.buffered;(f&&f.length>1&&e.len>o.maxBufferHole||e.nextStart&&e.nextStart-l<o.maxBufferHole)&&(r>o.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}_reportStall(e){const{hls:r,media:n,stallReported:i,stalled:a}=this;if(!i&&a!==null&&n&&r){this.stallReported=!0;const s=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${gr(e)})`);this.warn(s.message),r.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len,bufferInfo:e,stalled:{start:a}})}}_trySkipBufferHole(e){var r;const{fragmentTracker:n,media:i}=this,a=(r=this.hls)==null?void 0:r.config;if(!i||!n||!a)return 0;const s=i.currentTime,o=mt.bufferInfo(i,s,0),l=s<o.start?o.start:o.nextStart;if(l&&this.hls){const d=o.len<=a.maxBufferHole,f=o.len>0&&o.len<1&&i.readyState<3,p=l-s;if(p>0&&(d||f)){if(p>a.maxBufferHole){let y=!1;if(s===0){const b=n.getAppendedFrag(0,Ke.MAIN);b&&l<b.end&&(y=!0)}if(!y){const b=e||n.getAppendedFrag(s,Ke.MAIN);if(b){var c;if(!((c=this.hls.loadLevelObj)!=null&&c.details)||nB(this.hls.inFlightFragments,l))return 0;let w=!1,E=b.end;for(;E<l;){const T=n.getPartialFragment(E);if(T)E+=T.duration;else{w=!0;break}}if(w)return 0}}}const g=Math.max(l+fEe,s+dEe);if(this.warn(`skipping hole, adjusting currentTime from ${s} to ${g}`),this.moved=!0,i.currentTime=g,!(e!=null&&e.gap)){const y=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${g}`);this.hls.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:y,reason:y.message,frag:e||void 0,buffer:o.len,bufferInfo:o})}return g}}return 0}_tryNudgeBuffer(e){const{hls:r,media:n,nudgeRetry:i}=this,a=r==null?void 0:r.config;if(!n||!a)return 0;const s=n.currentTime;if(this.nudgeRetry++,i<a.nudgeMaxRetry){const o=s+(i+1)*a.nudgeOffset,l=new Error(`Nudging 'currentTime' from ${s} to ${o}`);this.warn(l.message),n.currentTime=o,r.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.BUFFER_NUDGE_ON_STALL,error:l,fatal:!1,buffer:e.len,bufferInfo:e})}else{const o=new Error(`Playhead still not moving while enough data buffered @${s} after ${a.nudgeMaxRetry} nudges`);this.error(o.message),r.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.BUFFER_STALLED_ERROR,error:o,fatal:!0,buffer:e.len,bufferInfo:e})}}}function nB(t,e){const r=iB(t.main);if(r&&r.start<=e)return r;const n=iB(t.audio);return n&&n.start<=e?n:null}function iB(t){if(!t)return null;switch(t.state){case we.IDLE:case we.STOPPED:case we.ENDED:case we.ERROR:return null}return t.frag}const mEe=.25;function WR(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function aB(t,e,r,n,i){let a=new t(e,r,"");try{a.value=n,i&&(a.type=i)}catch{a=new t(e,r,gr(i?zt({type:i},n):n))}return a}const Xv=(()=>{const t=WR();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function gEe(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class vEe{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger($.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on($.LEVEL_UPDATED,this.onLevelUpdated,this),e.on($.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off($.LEVEL_UPDATED,this.onLevelUpdated,this),e.off($.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}onMediaAttaching(e,r){var n;this.media=r.media,((n=r.overrides)==null?void 0:n.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){const e=this.hls.latestLevelDetails;e&&this.updateDateRangeCues(e)}onMediaDetaching(e,r){this.media=null,!r.transferMedia&&(this.id3Track&&(this.removeCues&&id(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const r=this.getID3Track(e.textTracks);return r.mode="hidden",r}getID3Track(e){if(this.media){for(let r=0;r<e.length;r++){const n=e[r];if(n.kind==="metadata"&&n.label==="id3")return jK(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,r){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:i}}}=this;if(!n&&!i)return;const{samples:a}=r;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=WR();if(s)for(let o=0;o<a.length;o++){const l=a[o].type;if(l===di.emsg&&!n||!i)continue;const c=vK(a[o].data);if(c){const d=a[o].pts;let f=d+a[o].duration;f>Xv&&(f=Xv),f-d<=0&&(f=d+mEe);for(let g=0;g<c.length;g++){const y=c[g];if(!yK(y)){this.updateId3CueEnds(d,l);const b=aB(s,d,f,y,l);b&&this.id3Track.addCue(b)}}}}}updateId3CueEnds(e,r){var n;const i=(n=this.id3Track)==null?void 0:n.cues;if(i)for(let a=i.length;a--;){const s=i[a];s.type===r&&s.startTime<e&&s.endTime===Xv&&(s.endTime=e)}}onBufferFlushing(e,{startOffset:r,endOffset:n,type:i}){const{id3Track:a,hls:s}=this;if(!s)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:l}}=s;if(a&&(o||l)){let c;i==="audio"?c=d=>d.type===di.audioId3&&l:i==="video"?c=d=>d.type===di.emsg&&o:c=d=>d.type===di.audioId3&&l||d.type===di.emsg&&o,VR(a,r,n,c)}}onLevelUpdated(e,{details:r}){this.updateDateRangeCues(r,!0)}onLevelPtsUpdated(e,r){Math.abs(r.drift)>.01&&this.updateDateRangeCues(r.details)}updateDateRangeCues(e,r){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{id3Track:n}=this,{dateRanges:i}=e,a=Object.keys(i);let s=this.dateRangeCuesAppended;if(n&&r){var o;if((o=n.cues)!=null&&o.length){const d=Object.keys(s).filter(f=>!a.includes(f));for(let f=d.length;f--;){const p=d[f],g=s[p].cues;delete s[p],Object.keys(g).forEach(y=>{try{const b=g[y];b.removeEventListener("enter",this.onEventCueEnter),n.removeCue(b)}catch{}})}}else s=this.dateRangeCuesAppended={}}const l=e.fragments[e.fragments.length-1];if(a.length===0||!Fe(l==null?void 0:l.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const c=WR();for(let d=0;d<a.length;d++){const f=a[d],p=i[f],g=p.startTime,y=s[f],b=(y==null?void 0:y.cues)||{};let x=(y==null?void 0:y.durationKnown)||!1,w=Xv;const{duration:E,endDate:T}=p;if(T&&E!==null)w=g+E,x=!0;else if(p.endOnNext&&!x){const _=a.reduce((P,R)=>{if(R!==p.id){const D=i[R];if(D.class===p.class&&D.startDate>p.startDate&&(!P||p.startDate<P.startDate))return D}return P},null);_&&(w=_.startTime,x=!0)}const O=Object.keys(p.attr);for(let _=0;_<O.length;_++){const P=O[_];if(!Wbe(P))continue;const R=b[P];if(R)x&&!y.durationKnown?R.endTime=w:Math.abs(R.startTime-g)>.01&&(R.startTime=g,R.endTime=w);else if(c){let D=p.attr[P];Ybe(P)&&(D=gEe(D));const M=aB(c,g,w,{key:P,data:D},di.dateRange);M&&(M.id=f,this.id3Track.addCue(M),b[P]=M,this.hls.config.interstitialsController&&(P==="X-ASSET-LIST"||P==="X-ASSET-URL")&&M.addEventListener("enter",this.onEventCueEnter))}}s[f]={cues:b,dateRange:p,durationKnown:x}}}}class yEe{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:r}=this,n=this.levelDetails;if(!r||!n)return;this.currentTime=r.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:a,maxLiveSyncPlaybackRate:s}=this.config;if(!a||s===1||!n.live)return;const o=this.targetLatency;if(o===null)return;const l=i-o,c=Math.min(this.maxLatency,o+n.targetduration);if(l<c&&l>.05&&this.forwardBufferLength>1){const f=Math.min(2,Math.max(1,s)),p=Math.round(2/(1+Math.exp(-.75*l-this.edgeStalled))*20)/20,g=Math.min(f,Math.max(1,p));this.changeMediaPlaybackRate(r,g)}else r.playbackRate!==1&&r.playbackRate!==0&&this.changeMediaPlaybackRate(r,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const r=this.levelDetails;return r?e.liveMaxLatencyDurationCount*r.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:r,partHoldBack:n,targetduration:i}=e,{liveSyncDuration:a,liveSyncDurationCount:s,lowLatencyMode:o}=this.config,l=this.hls.userConfig;let c=o&&n||r;(this._targetLatencyUpdated||l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=a!==void 0?a:s*i);const d=i;return c+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,d)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),r=this.targetLatency;if(e===null||r===null)return null;const n=this.levelDetails;if(n===null)return null;const i=n.edge,a=e-r-this.edgeStalled,s=i-n.totalduration,o=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(s,a),o)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const r=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-r,0)}get forwardBufferLength(){const{media:e}=this,r=this.levelDetails;if(!e||!r)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):r.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_UPDATED,this.onLevelUpdated,this),e.on($.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_UPDATED,this.onLevelUpdated,this),e.off($.ERROR,this.onError,this))}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:r}){r.advanced&&this.onTimeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,r){var n;r.details===de.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(n=this.levelDetails)!=null&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,r){var n,i;e.playbackRate!==r&&((n=this.hls)==null||n.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${r}`),e.playbackRate=r)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class bEe extends SL{constructor(e,r){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=r,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this),e.on($.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_LOADED,this.onManifestLoaded,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this),e.off($.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(r=>{r.loadError=0,r.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,r){this.resetLevels()}onManifestLoaded(e,r){const n=this.hls.config.preferManagedMediaSource,i=[],a={},s={};let o=!1,l=!1,c=!1;r.levels.forEach(d=>{var f;const p=d.attrs;let{audioCodec:g,videoCodec:y}=d;g&&(d.audioCodec=g=x0(g,n)||void 0),((f=y)==null?void 0:f.indexOf("avc1"))===0&&(y=d.videoCodec=mbe(y));const{width:b,height:x,unknownCodecs:w}=d;let E=w?w.length:0;if(w)for(let N=E;N--;){const k=w[N];this.isAudioSupported(k)?(d.audioCodec=g=g?`${g},${k}`:k,E--,Ld.audio[g.substring(0,4)]=2):this.isVideoSupported(k)&&(d.videoCodec=y=y?`${y},${k}`:k,E--,Ld.video[y.substring(0,4)]=2)}if(o||(o=!!(b&&x)),l||(l=!!y),c||(c=!!g),E||g&&!this.isAudioSupported(g)||y&&!this.isVideoSupported(y)){this.log(`Some or all CODECS not supported "${p.CODECS}"`);return}const{CODECS:T,"FRAME-RATE":O,"HDCP-LEVEL":_,"PATHWAY-ID":P,RESOLUTION:R,"VIDEO-RANGE":D}=p,M=`${`${P||"."}-`}${d.bitrate}-${R}-${O}-${T}-${D}-${_}`;if(a[M])if(a[M].uri!==d.url&&!d.attrs["PATHWAY-ID"]){const N=s[M]+=1;d.attrs["PATHWAY-ID"]=new Array(N+1).join(".");const k=this.createLevel(d);a[M]=k,i.push(k)}else a[M].addGroupId("audio",p.AUDIO),a[M].addGroupId("text",p.SUBTITLES);else{const N=this.createLevel(d);a[M]=N,s[M]=1,i.push(N)}}),this.filterAndSortMediaOptions(i,r,o,l,c)}createLevel(e){const r=new jp(e),n=e.supplemental;if(n!=null&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${n.videoCodec}"`);this.log(i.message),r.supportedResult=q9(i,[])}return r}isAudioSupported(e){return IR(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return IR(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,r,n,i,a){let s=[],o=[],l=e;if((n||i)&&a&&(l=l.filter(({videoCodec:x,videoRange:w,width:E,height:T})=>(!!x||!!(E&&T))&&xbe(w))),l.length===0){Promise.resolve().then(()=>{if(this.hls){let x="no level with compatible codecs found in manifest",w=x;r.levels.length&&(w=`one or more CODECS in variant not supported: ${gr(r.levels.map(T=>T.attrs.CODECS).filter((T,O,_)=>_.indexOf(T)===O))}`,this.warn(w),x+=` (${w})`);const E=new Error(x);this.hls.trigger($.ERROR,{type:We.MEDIA_ERROR,details:de.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:r.url,error:E,reason:w})}});return}r.audioTracks&&(s=r.audioTracks.filter(x=>!x.audioCodec||this.isAudioSupported(x.audioCodec)),sB(s)),r.subtitles&&(o=r.subtitles,sB(o));const c=l.slice(0);l.sort((x,w)=>{if(x.attrs["HDCP-LEVEL"]!==w.attrs["HDCP-LEVEL"])return(x.attrs["HDCP-LEVEL"]||"")>(w.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&x.height!==w.height)return x.height-w.height;if(x.frameRate!==w.frameRate)return x.frameRate-w.frameRate;if(x.videoRange!==w.videoRange)return S0.indexOf(x.videoRange)-S0.indexOf(w.videoRange);if(x.videoCodec!==w.videoCodec){const E=J$(x.videoCodec),T=J$(w.videoCodec);if(E!==T)return T-E}if(x.uri===w.uri&&x.codecSet!==w.codecSet){const E=b0(x.codecSet),T=b0(w.codecSet);if(E!==T)return T-E}return x.averageBitrate!==w.averageBitrate?x.averageBitrate-w.averageBitrate:0});let d=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let x=0;x<c.length;x++)if(c[x].pathwayId===l[0].pathwayId){d=c[x];break}}this._levels=l;for(let x=0;x<l.length;x++)if(l[x]===d){var f;this._firstLevel=x;const w=d.bitrate,E=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${w}`),((f=this.hls.userConfig)==null?void 0:f.abrEwmaDefaultEstimate)===void 0){const T=Math.min(w,this.hls.config.abrEwmaDefaultEstimateMax);T>E&&E===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=T)}break}const p=a&&!i,g=this.hls.config,y=!!(g.audioStreamController&&g.audioTrackController),b={levels:l,audioTracks:s,subtitleTracks:o,sessionData:r.sessionData,sessionKeys:r.sessionKeys,firstLevel:this._firstLevel,stats:r.stats,audio:a,video:i,altAudio:y&&!p&&s.some(x=>!!x.url)};this.hls.trigger($.MANIFEST_PARSED,b)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const r=this._levels;if(r.length===0)return;if(e<0||e>=r.length){const d=new Error("invalid level idx"),f=e<0;if(this.hls.trigger($.ERROR,{type:We.OTHER_ERROR,details:de.LEVEL_SWITCH_ERROR,level:e,fatal:f,error:d,reason:d.message}),f)return;e=Math.min(e,r.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,a=i?i.attrs["PATHWAY-ID"]:void 0,s=r[e],o=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=s,n===e&&i&&a===o)return;this.log(`Switching to level ${e} (${s.height?s.height+"p ":""}${s.videoRange?s.videoRange+" ":""}${s.codecSet?s.codecSet+" ":""}@${s.bitrate})${o?" with Pathway "+o:""} from level ${n}${a?" with Pathway "+a:""}`);const l={level:e,attrs:s.attrs,details:s.details,bitrate:s.bitrate,averageBitrate:s.averageBitrate,maxBitrate:s.maxBitrate,realBitrate:s.realBitrate,width:s.width,height:s.height,codecSet:s.codecSet,audioCodec:s.audioCodec,videoCodec:s.videoCodec,audioGroups:s.audioGroups,subtitleGroups:s.subtitleGroups,loaded:s.loaded,loadError:s.loadError,fragmentError:s.fragmentError,name:s.name,id:s.id,uri:s.uri,url:s.url,urlId:0,audioGroupIds:s.audioGroupIds,textGroupIds:s.textGroupIds};this.hls.trigger($.LEVEL_SWITCHING,l);const c=s.details;if(!c||c.live){const d=this.switchParams(s.uri,i==null?void 0:i.details,c);this.loadPlaylist(d)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const r=this.steering.pathways(),n=e.filter(i=>r.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${r}`);return}this.steering.pathwayPriority=n}}onError(e,r){r.fatal||!r.context||r.context.type===bt.LEVEL&&r.context.level===this.level&&this.checkRetry(r)}onFragBuffered(e,{frag:r}){if(r!==void 0&&r.type===Ke.MAIN){const n=r.elementaryStreams;if(!Object.keys(n).some(a=>!!n[a]))return;const i=this._levels[r.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,r){var n;const{level:i,details:a}=r,s=r.levelInfo;if(!s){var o;this.warn(`Invalid level index ${i}`),(o=r.deliveryDirectives)!=null&&o.skip&&(a.deltaUpdateFailed=!0);return}if(s===this.currentLevel||r.withoutMultiVariant){s.fragmentError===0&&(s.loadError=0);let l=s.details;l===r.details&&l.advanced&&(l=void 0),this.playlistLoaded(i,r,l)}else(n=r.deliveryDirectives)!=null&&n.skip&&(a.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=this.getUrlWithDirectives(e.uri,r),i=this.currentLevelIndex,a=e.attrs["PATHWAY-ID"],s=e.details,o=s==null?void 0:s.age;this.log(`Loading level index ${i}${(r==null?void 0:r.msn)!==void 0?" at sn "+r.msn+" part "+r.part:""}${a?" Pathway "+a:""}${o&&s.live?" age "+o.toFixed(1)+(s.type&&" "+s.type||""):""} ${n}`),this.hls.trigger($.LEVEL_LOADING,{url:n,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:r||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var r;if(this._levels.length===1)return;const n=this._levels.filter((a,s)=>s!==e?!0:(this.steering&&this.steering.removeLevel(a),a===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,a.details&&a.details.fragments.forEach(o=>o.level=-1)),!1));sK(n),this._levels=n,this.currentLevelIndex>-1&&(r=this.currentLevel)!=null&&r.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=n.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger($.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:r}){this._levels=r}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:r,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==r&&(this._maxAutoLevel=r,this.hls.trigger($.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:r,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function sB(t){const e={};t.forEach(r=>{const n=r.groupId||"";r.id=e[n]=e[n]||0,e[n]++})}function XK(){return self.SourceBuffer||self.WebKitSourceBuffer}function QK(){if(!gl())return!1;const e=XK();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function xEe(){if(!QK())return!1;const t=gl();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(kp(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(kp(e,"audio"))))}function SEe(){var t;const e=XK();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const wEe=100;class EEe extends hL{constructor(e,r,n){super(e,r,n,"stream-controller",Ke.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,a=i?i.currentTime:null;if(a===null||!Fe(a)||(this.log(`Media seeked to ${a.toFixed(3)}`),!this.getBufferedFrag(a)))return;const s=this.getFwdBufferInfoAtPos(i,a,Ke.MAIN,0);if(s===null||s.len===0){this.warn(`Main forward buffer length at ${a} on "seeked" event ${s?s.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on($.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on($.BUFFER_CREATED,this.onBufferCreated,this),e.on($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off($.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off($.BUFFER_CREATED,this.onBufferCreated,this),e.off($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,r){if(this.levels){const{lastCurrentTime:n,hls:i}=this;if(this.stopLoad(),this.setInterval(wEe),this.level=-1,!this.startFragRequested){let a=i.startLevel;a===-1&&(i.config.testBandwidth&&this.levels.length>1?(a=0,this.bitrateTest=!0):a=i.firstAutoLevel),i.nextLoadLevel=a,this.level=i.loadLevel,this._hasEnoughToStart=!!r}n>0&&e===-1&&!r&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=we.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=we.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case we.WAITING_LEVEL:{const{levels:r,level:n}=this,i=r==null?void 0:r[n],a=i==null?void 0:i.details;if(a&&(!a.live||this.levelLastLoaded===i&&!this.waitForLive(i))){if(this.waitForCdnTuneIn(a))break;this.state=we.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=we.IDLE;break}break}case we.FRAG_LOADING_WAITING_RETRY:{var e;const r=self.performance.now(),n=this.retryDate;if(!n||r>=n||(e=this.media)!=null&&e.seeking){const{levels:i,level:a}=this,s=i==null?void 0:i[a];this.resetStartWhenNotLoaded(s||null),this.state=we.IDLE}}break}this.state===we.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:r,levels:n,media:i}=this;if(r===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const a=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[a]))return;const s=n[a],o=this.getMainFwdBufferInfo();if(o===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(o,l)){const b={};this.altAudio===2&&(b.type="video"),this.hls.trigger($.BUFFER_EOS,b),this.state=we.ENDED;return}if(!this.buffering)return;e.loadLevel!==a&&e.manualLevel===-1&&this.log(`Adapting to level ${a} from level ${this.level}`),this.level=e.nextLoadLevel=a;const c=s.details;if(!c||this.state===we.WAITING_LEVEL||this.waitForLive(s)){this.level=a,this.state=we.WAITING_LEVEL,this.startFragRequested=!1;return}const d=o.len,f=this.getMaxBufferLength(s.maxBitrate);if(d>=f)return;this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);const p=this.backtrackFragment?this.backtrackFragment.start:o.end;let g=this.getNextFragment(p,c);if(this.couldBacktrack&&!this.fragPrevious&&g&&an(g)&&this.fragmentTracker.getState(g)!==Hr.OK){var y;const x=((y=this.backtrackFragment)!=null?y:g).sn-c.startSN,w=c.fragments[x-1];w&&g.cc===w.cc&&(g=w,this.fragmentTracker.removeFragment(w))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(g&&this.isLoopLoading(g,p)){if(!g.gap){const x=this.audioOnly&&!this.altAudio?Wt.AUDIO:Wt.VIDEO,w=(x===Wt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;w&&this.afterBufferFlushed(w,x,Ke.MAIN)}g=this.getNextFragmentLoopLoading(g,c,o,Ke.MAIN,f)}g&&(g.initSegment&&!g.initSegment.data&&!this.bitrateTest&&(g=g.initSegment),this.loadFragment(g,s,p))}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);i===Hr.NOT_LOADED||i===Hr.PARTIAL?an(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,r)):super.loadFragment(e,r,n):this._loadInitSegment(e,r):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Ke.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:r}=this;if(r!=null&&r.readyState){let n;const i=this.getAppendedFrag(r.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const a=this.getLevelDetails();if(a!=null&&a.live){const o=this.getMainFwdBufferInfo();if(!o||o.len<a.targetduration*2)return}if(!r.paused&&e){const o=this.hls.nextLoadLevel,l=e[o],c=this.fragLastKbps;c&&this.fragCurrent?n=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:n=0}else n=0;const s=this.getBufferedFrag(r.currentTime+n);if(s){const o=this.followingBufferedFrag(s);if(o){this.abortCurrentFrag();const l=o.maxStartPTS?o.maxStartPTS:o.start,c=o.duration,d=Math.max(s.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case we.KEY_LOADING:case we.FRAG_LOADING:case we.FRAG_LOADING_WAITING_RETRY:case we.PARSING:case we.PARSED:this.state=we.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,r){super.flushMainBuffer(e,r,this.altAudio===2?"video":null)}onMediaAttached(e,r){super.onMediaAttached(e,r);const n=r.media;$s(n,"playing",this.onMediaPlaying),$s(n,"seeked",this.onMediaSeeked)}onMediaDetaching(e,r){const{media:n}=this;n&&(Ba(n,"playing",this.onMediaPlaying),Ba(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,r),!r.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger($.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,r){let n=!1,i=!1;r.levels.forEach(a=>{const s=a.audioCodec;s&&(n=n||s.indexOf("mp4a.40.2")!==-1,i=i||s.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=n&&i&&!SEe(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=r.levels,this.startFragRequested=!1}onLevelLoading(e,r){const{levels:n}=this;if(!n||this.state!==we.IDLE)return;const i=r.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=we.WAITING_LEVEL)}onLevelLoaded(e,r){var n;const{levels:i,startFragRequested:a}=this,s=r.level,o=r.details,l=o.totalduration;if(!i){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${l}`);const c=r.levelInfo,d=this.fragCurrent;d&&(this.state===we.FRAG_LOADING||this.state===we.FRAG_LOADING_WAITING_RETRY)&&d.level!==r.level&&d.loader&&this.abortCurrentFrag();let f=0;if(o.live||(n=c.details)!=null&&n.live){var p;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;f=this.alignPlaylists(o,c.details,(p=this.levelLastLoaded)==null?void 0:p.details)}if(c.details=o,this.levelLastLoaded=c,a||this.setStartPosition(o,f),this.hls.trigger($.LEVEL_UPDATED,{details:o,level:s}),this.state===we.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=we.IDLE}a&&o.live&&this.synchronizeToLiveEdge(o),this.tick()}synchronizeToLiveEdge(e){const{config:r,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,a=this.getLoadPosition(),s=e.fragmentStart,o=e.edge,l=a>=s-r.maxFragLookUpTolerance&&a<=o;if(i!==null&&n.duration>i&&(a<i||!l)){const c=r.liveMaxLatencyDuration!==void 0?r.liveMaxLatencyDuration:r.liveMaxLatencyDurationCount*e.targetduration;(!l&&n.readyState<4||a<o-c)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),n.readyState&&(this.warn(`Playback: ${a.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${i.toFixed(3)}`),n.currentTime=i))}}_handleFragmentLoadProgress(e){var r;const n=e.frag,{part:i,payload:a}=e,{levels:s}=this;if(!s){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const o=s[n.level];if(!o){this.warn(`Level ${n.level} not found on progress`);return}const l=o.details;if(!l){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const c=o.videoCodec,d=l.PTSKnown||!l.live,f=(r=n.initSegment)==null?void 0:r.data,p=this._getAudioCodec(o),g=this.transmuxer=this.transmuxer||new CK(this.hls,Ke.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),y=i?i.index:-1,b=y!==-1,x=new uL(n.level,n.sn,n.stats.chunkCount,a.byteLength,y,b),w=this.initPTS[n.cc];g.push(a,f,p,c,n,i,l.totalduration,d,x,w)}onAudioTrackSwitching(e,r){const n=this.hls,i=this.altAudio===2;if(w0(r.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const s=this.fragCurrent;s&&(this.log("Switching to main audio track, cancel main fragment load"),s.abortRequests(),this.fragmentTracker.removeFragment(s)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.fragmentTracker.removeAllFragments(),n.once($.BUFFER_FLUSHED,()=>{var s;(s=this.hls)==null||s.trigger($.AUDIO_TRACK_SWITCHED,r)}),n.trigger($.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}n.trigger($.AUDIO_TRACK_SWITCHED,r)}}onAudioTrackSwitched(e,r){const n=w0(r.url,this.hls);if(n){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n?2:0,this.tick()}onBufferCreated(e,r){const n=r.tracks;let i,a,s=!1;for(const o in n){const l=n[o];if(l.id==="main"){if(a=o,i=l,o==="video"){const c=n[o];c&&(this.videoBuffer=c.buffer)}}else s=!0}s&&i?(this.log(`Alternate track found, use ${a}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,r){const{frag:n,part:i}=r,a=n.type===Ke.MAIN;if(a){if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===we.PARSED&&(this.state=we.IDLE);return}const o=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),an(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}const s=this.media;s&&(!this._hasEnoughToStart&&mt.getBuffered(s).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),a&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,r){var n;if(r.fatal){this.state=we.ERROR;return}switch(r.details){case de.FRAG_GAP:case de.FRAG_PARSING_ERROR:case de.FRAG_DECRYPT_ERROR:case de.FRAG_LOAD_ERROR:case de.FRAG_LOAD_TIMEOUT:case de.KEY_LOAD_ERROR:case de.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ke.MAIN,r);break;case de.LEVEL_LOAD_ERROR:case de.LEVEL_LOAD_TIMEOUT:case de.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===we.WAITING_LEVEL&&((n=r.context)==null?void 0:n.type)===bt.LEVEL&&(this.state=we.IDLE);break;case de.BUFFER_ADD_CODEC_ERROR:case de.BUFFER_APPEND_ERROR:if(r.parent!=="main")return;this.resetLoadingState();break;case de.BUFFER_FULL_ERROR:if(r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case de.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onFragLoadEmergencyAborted(){this.state=we.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:r}){if(r!==Wt.AUDIO||!this.altAudio){const n=(r===Wt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;n&&(this.afterBufferFlushed(n,r,Ke.MAIN),this.tick())}}onLevelsUpdated(e,r){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=r.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const r=e.currentTime;let n=this.startPosition;if(n>=0&&r<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${r}`);return}const i=this.timelineOffset;i&&n&&(n+=i);const a=this.getLevelDetails(),s=mt.getBuffered(e),o=s.length?s.start(0):0,l=o-n,c=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);l>0&&(l<c||this.loadingParts&&l<2*((a==null?void 0:a.partTarget)||0))&&(this.log(`adjusting start position by ${l} to match buffer start`),n+=l,this.startPosition=n),r<n&&(this.log(`seek to target start position ${n} from current time ${r} buffer start ${o}`),e.currentTime=n)}}_getAudioCodec(e){let r=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&r&&(this.log("Swapping audio codec"),r.indexOf("mp4a.40.5")!==-1?r="mp4a.40.2":r="mp4a.40.5"),r}_loadBitrateTestFrag(e,r){e.bitrateTest=!0,this._doFragLoad(e,r).then(n=>{const{hls:i}=this,a=n==null?void 0:n.frag;if(!a||this.fragContextChanged(a))return;r.fragmentError=0,this.state=we.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=a.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),i.trigger($.FRAG_LOADED,n),a.bitrateTest=!1})}_handleTransmuxComplete(e){var r;const n=this.playlistType,{hls:i}=this,{remuxResult:a,chunkMeta:s}=e,o=this.getCurrentContext(s);if(!o){this.resetWhenMissingContext(s);return}const{frag:l,part:c,level:d}=o,{video:f,text:p,id3:g,initSegment:y}=a,{details:b}=d,x=this.altAudio?void 0:a.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=we.PARSING,y){if(y!=null&&y.tracks){const T=l.initSegment||l;this._bufferInitSegment(d,y.tracks,T,s),i.trigger($.FRAG_PARSING_INIT_SEGMENT,{frag:T,id:n,tracks:y.tracks})}const w=y.initPTS,E=y.timescale;Fe(w)&&(this.initPTS[l.cc]={baseTime:w,timescale:E},i.trigger($.INIT_PTS_FOUND,{frag:l,id:n,initPTS:w,timescale:E}))}if(f&&b){x&&f.type==="audiovideo"&&this.logMuxedErr(l);const w=b.fragments[l.sn-1-b.startSN],E=l.sn===b.startSN,T=!w||l.cc>w.cc;if(a.independent!==!1){const{startPTS:O,endPTS:_,startDTS:P,endDTS:R}=f;if(c)c.elementaryStreams[f.type]={startPTS:O,endPTS:_,startDTS:P,endDTS:R};else if(f.firstKeyFrame&&f.independent&&s.id===1&&!T&&(this.couldBacktrack=!0),f.dropped&&f.independent){const D=this.getMainFwdBufferInfo(),I=(D?D.end:this.getLoadPosition())+this.config.maxBufferHole,M=f.firstKeyFramePTS?f.firstKeyFramePTS:O;if(!E&&I<M-this.config.maxBufferHole&&!T){this.backtrack(l);return}else T&&(l.gap=!0);l.setElementaryStreamInfo(f.type,l.start,_,l.start,R,!0)}else E&&O-(b.appliedTimelineOffset||0)>Dy&&(l.gap=!0);l.setElementaryStreamInfo(f.type,O,_,P,R),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(f,l,c,s,E||T)}else if(E||T)l.gap=!0;else{this.backtrack(l);return}}if(x){const{startPTS:w,endPTS:E,startDTS:T,endDTS:O}=x;c&&(c.elementaryStreams[Wt.AUDIO]={startPTS:w,endPTS:E,startDTS:T,endDTS:O}),l.setElementaryStreamInfo(Wt.AUDIO,w,E,T,O),this.bufferFragmentData(x,l,c,s)}if(b&&g!=null&&(r=g.samples)!=null&&r.length){const w={id:n,frag:l,details:b,samples:g.samples};i.trigger($.FRAG_PARSING_METADATA,w)}if(b&&p){const w={id:n,frag:l,details:b,samples:p.samples};i.trigger($.FRAG_PARSING_USERDATA,w)}}logMuxedErr(e){this.warn(`${an(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,r,n,i){if(this.state!==we.PARSING)return;this.audioOnly=!!r.audio&&!r.video,this.altAudio&&!this.audioOnly&&(delete r.audio,r.audiovideo&&this.logMuxedErr(n));const{audio:a,video:s,audiovideo:o}=r;if(a){let c=Ay(a.codec,e.audioCodec);c==="mp4a"&&(c="mp4a.40.5");const d=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){c&&(c.indexOf("mp4a.40.5")!==-1?c="mp4a.40.2":c="mp4a.40.5");const f=a.metadata;f&&"channelCount"in f&&(f.channelCount||1)!==1&&d.indexOf("firefox")===-1&&(c="mp4a.40.5")}c&&c.indexOf("mp4a.40.5")!==-1&&d.indexOf("android")!==-1&&a.container!=="audio/mpeg"&&(c="mp4a.40.2",this.log(`Android: force audio codec to ${c}`)),e.audioCodec&&e.audioCodec!==c&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${c}"`),a.levelCodec=c,a.id=Ke.MAIN,this.log(`Init audio buffer, container:${a.container}, codecs[selected/level/parsed]=[${c||""}/${e.audioCodec||""}/${a.codec}]`),delete r.audiovideo}if(s){s.levelCodec=e.videoCodec,s.id=Ke.MAIN;const c=s.codec;if((c==null?void 0:c.length)===4)switch(c){case"hvc1":case"hev1":s.codec="hvc1.1.6.L120.90";break;case"av01":s.codec="av01.0.04M.08";break;case"avc1":s.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${s.container}, codecs[level/parsed]=[${e.videoCodec||""}/${c}]${s.codec!==c?" parsed-corrected="+s.codec:""}${s.supplemental?" supplemental="+s.supplemental:""}`),delete r.audiovideo}o&&(this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${e.codecs}/${o.codec}]`),delete r.video,delete r.audio);const l=Object.keys(r);if(l.length){if(this.hls.trigger($.BUFFER_CODECS,r),!this.hls)return;l.forEach(c=>{const f=r[c].initSegment;f!=null&&f.byteLength&&this.hls.trigger($.BUFFER_APPENDING,{type:c,data:f,frag:n,part:null,chunkMeta:i,parent:n.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Ke.MAIN)}get maxBufferLength(){const{levels:e,level:r}=this,n=e==null?void 0:e[r];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=we.IDLE}checkFragmentChanged(){const e=this.media;let r=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(mt.isBuffered(e,n)?r=this.getAppendedFrag(n):mt.isBuffered(e,n+.1)&&(r=this.getAppendedFrag(n+.1)),r){this.backtrackFragment=null;const i=this.fragPlaying,a=r.level;(!i||r.sn!==i.sn||i.level!==a)&&(this.fragPlaying=r,this.hls.trigger($.FRAG_CHANGED,{frag:r}),(!i||i.level!==a)&&this.hls.trigger($.LEVEL_SWITCHED,{level:a}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const r=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return Fe(r)?this.getAppendedFrag(r):null}get currentProgramDateTime(){var e;const r=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(Fe(r)){const n=this.getLevelDetails(),i=this.currentFrag||(n?Bc(null,n.fragments,r):null);if(i){const a=i.programDateTime;if(a!==null){const s=a+(r-i.start)*1e3;return new Date(s)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class TEe{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[n].loader;if(i){var r;if(e&&e!==((r=i.context)==null?void 0:r.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e];(r.mediaKeySessionContext||r.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e].loader;r&&r.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,r=de.KEY_LOAD_ERROR,n,i,a){return new Is({type:We.NETWORK_ERROR,details:r,fatal:!1,frag:e,response:a,error:n,networkDetails:i})}loadClear(e,r){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:i}=e;for(let a=0;a<r.length;a++){const s=r[a];if(i<=s.cc&&(n==="initSegment"||s.sn==="initSegment"||n<s.sn)){this.emeController.selectKeySystemFormat(s).then(o=>{s.setKeyFormat(o)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(r=>this.loadInternal(e,r)):this.loadInternal(e)}loadInternal(e,r){var n,i;r&&e.setKeyFormat(r);const a=e.decryptdata;if(!a){const c=new Error(r?`Expected frag.decryptdata to be defined after setting format ${r}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,de.KEY_LOAD_ERROR,c))}const s=a.uri;if(!s)return Promise.reject(this.createKeyLoadError(e,de.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${s}"`)));let o=this.keyUriToKeyInfo[s];if((n=o)!=null&&n.decryptdata.key)return a.key=o.decryptdata.key,Promise.resolve({frag:e,keyInfo:o});if((i=o)!=null&&i.keyLoadPromise){var l;switch((l=o.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then(c=>(a.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:o}))}}switch(o=this.keyUriToKeyInfo[s]={decryptdata:a,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},a.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return a.keyFormat==="identity"?this.loadKeyHTTP(o,e):this.loadKeyEME(o,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(o,e);default:return Promise.reject(this.createKeyLoadError(e,de.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${a.method}"`)))}}loadKeyEME(e,r){const n={frag:r,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(n);if(i)return(e.keyLoadPromise=i.then(a=>(e.mediaKeySessionContext=a,n))).catch(a=>{throw e.keyLoadPromise=null,a})}return Promise.resolve(n)}loadKeyHTTP(e,r){const n=this.config,i=n.loader,a=new i(n);return r.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((s,o)=>{const l={keyInfo:e,frag:r,responseType:"arraybuffer",url:e.decryptdata.uri},c=n.keyLoadPolicy.default,d={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(p,g,y,b)=>{const{frag:x,keyInfo:w,url:E}=y;if(!x.decryptdata||w!==this.keyUriToKeyInfo[E])return o(this.createKeyLoadError(x,de.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),b));w.decryptdata.key=x.decryptdata.key=new Uint8Array(p.data),x.keyLoader=null,w.loader=null,s({frag:x,keyInfo:w})},onError:(p,g,y,b)=>{this.resetLoader(g),o(this.createKeyLoadError(r,de.KEY_LOAD_ERROR,new Error(`HTTP Error ${p.code} loading key ${p.text}`),y,zt({url:l.url,data:void 0},p)))},onTimeout:(p,g,y)=>{this.resetLoader(g),o(this.createKeyLoadError(r,de.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),y))},onAbort:(p,g,y)=>{this.resetLoader(g),o(this.createKeyLoadError(r,de.INTERNAL_ABORTED,new Error("key loading aborted"),y))}};a.load(l,d,f)})}resetLoader(e){const{frag:r,keyInfo:n,url:i}=e,a=n.loader;r.keyLoader===a&&(r.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[i],a&&a.destroy()}}function oB(t){const{type:e}=t;switch(e){case bt.AUDIO_TRACK:return Ke.AUDIO;case bt.SUBTITLE_TRACK:return Ke.SUBTITLE;default:return Ke.MAIN}}function T1(t,e){let r=t.url;return(r===void 0||r.indexOf("data:")===0)&&(r=e.url),r}class AEe{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on($.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_LOADING,this.onLevelLoading,this),e.off($.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off($.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const r=this.hls.config,n=r.pLoader,i=r.loader,a=n||i,s=new a(r);return this.loaders[e.type]=s,s}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const r=this.loaders[e];r&&r.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,r){const{url:n}=r;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:bt.MANIFEST,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,r){const{id:n,level:i,pathwayId:a,url:s,deliveryDirectives:o,levelInfo:l}=r;this.load({id:n,level:i,pathwayId:a,responseType:"text",type:bt.LEVEL,url:s,deliveryDirectives:o,levelOrTrack:l})}onAudioTrackLoading(e,r){const{id:n,groupId:i,url:a,deliveryDirectives:s,track:o}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:bt.AUDIO_TRACK,url:a,deliveryDirectives:s,levelOrTrack:o})}onSubtitleTrackLoading(e,r){const{id:n,groupId:i,url:a,deliveryDirectives:s,track:o}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:bt.SUBTITLE_TRACK,url:a,deliveryDirectives:s,levelOrTrack:o})}onLevelsUpdated(e,r){const n=this.loaders[bt.LEVEL];if(n){const i=n.context;i&&!r.levels.some(a=>a===i.levelOrTrack)&&(n.abort(),delete this.loaders[bt.LEVEL])}}load(e){var r;const n=this.hls.config;let i=this.getInternalLoader(e);if(i){const c=this.hls.logger,d=i.context;if(d&&d.levelOrTrack===e.levelOrTrack&&(d.url===e.url||d.deliveryDirectives&&!e.deliveryDirectives)){d.url===e.url?c.log(`[playlist-loader]: ignore ${e.url} ongoing request`):c.log(`[playlist-loader]: ignore ${e.url} in favor of ${d.url}`);return}c.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let a;if(e.type===bt.MANIFEST?a=n.manifestLoadPolicy.default:a=Yt({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),Fe((r=e.deliveryDirectives)==null?void 0:r.part)){let c;if(e.type===bt.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===bt.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===bt.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const d=c.partTarget,f=c.targetduration;if(d&&f){const p=Math.max(d*3,f*.8)*1e3;a=Yt({},a,{maxTimeToFirstByteMs:Math.min(p,a.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(p,a.maxTimeToFirstByteMs)})}}}const s=a.errorRetry||a.timeoutRetry||{},o={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},l={onSuccess:(c,d,f,p)=>{const g=this.getInternalLoader(f);this.resetInternalLoader(f.type);const y=c.data;if(y.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,f,new Error("no EXTM3U delimiter"),p||null,d);return}d.parsing.start=performance.now(),Fa.isMediaPlaylist(y)||f.type!==bt.MANIFEST?this.handleTrackOrLevelPlaylist(c,d,f,p||null,g):this.handleMasterPlaylist(c,d,f,p)},onError:(c,d,f,p)=>{this.handleNetworkError(d,f,!1,c,p)},onTimeout:(c,d,f)=>{this.handleNetworkError(d,f,!0,void 0,c)}};i.load(e,o,l)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:r},forceStartLoad:n}=this.hls;(e||n)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${r}`),this.hls.startLoad(r))}handleMasterPlaylist(e,r,n,i){const a=this.hls,s=e.data,o=T1(e,n),l=Fa.parseMasterPlaylist(s,o);if(l.playlistParsingError){this.handleManifestParsingError(e,n,l.playlistParsingError,i,r);return}const{contentSteering:c,levels:d,sessionData:f,sessionKeys:p,startTimeOffset:g,variableList:y}=l;this.variableList=y;const{AUDIO:b=[],SUBTITLES:x,"CLOSED-CAPTIONS":w}=Fa.parseMasterPlaylistMedia(s,o,l);b.length&&!b.some(T=>!T.url)&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),b.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new xr({}),bitrate:0,url:""})),a.trigger($.MANIFEST_LOADED,{levels:d,audioTracks:b,subtitles:x,captions:w,contentSteering:c,url:o,stats:r,networkDetails:i,sessionData:f,sessionKeys:p,startTimeOffset:g,variableList:y})}handleTrackOrLevelPlaylist(e,r,n,i,a){const s=this.hls,{id:o,level:l,type:c}=n,d=T1(e,n),f=Fe(l)?l:Fe(o)?o:0,p=oB(n),g=Fa.parseLevelPlaylist(e.data,d,f,p,0,this.variableList);if(c===bt.MANIFEST){const y={attrs:new xr({}),bitrate:0,details:g,name:"",url:d};g.requestScheduled=r.loading.start+nK(g,0),s.trigger($.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:d,stats:r,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}r.parsing.end=performance.now(),n.levelDetails=g,this.handlePlaylistLoaded(g,e,r,n,i,a)}handleManifestParsingError(e,r,n,i,a){this.hls.trigger($.ERROR,{type:We.NETWORK_ERROR,details:de.MANIFEST_PARSING_ERROR,fatal:r.type===bt.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:r,networkDetails:i,stats:a})}handleNetworkError(e,r,n=!1,i,a){let s=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===bt.LEVEL?s+=`: ${e.level} id: ${e.id}`:(e.type===bt.AUDIO_TRACK||e.type===bt.SUBTITLE_TRACK)&&(s+=` id: ${e.id} group-id: "${e.groupId}"`);const o=new Error(s);this.hls.logger.warn(`[playlist-loader]: ${s}`);let l=de.UNKNOWN,c=!1;const d=this.getInternalLoader(e);switch(e.type){case bt.MANIFEST:l=n?de.MANIFEST_LOAD_TIMEOUT:de.MANIFEST_LOAD_ERROR,c=!0;break;case bt.LEVEL:l=n?de.LEVEL_LOAD_TIMEOUT:de.LEVEL_LOAD_ERROR,c=!1;break;case bt.AUDIO_TRACK:l=n?de.AUDIO_TRACK_LOAD_TIMEOUT:de.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case bt.SUBTITLE_TRACK:l=n?de.SUBTITLE_TRACK_LOAD_TIMEOUT:de.SUBTITLE_LOAD_ERROR,c=!1;break}d&&this.resetInternalLoader(e.type);const f={type:We.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:d,context:e,error:o,networkDetails:r,stats:a};if(i){const p=(r==null?void 0:r.url)||e.url;f.response=zt({url:p,data:void 0},i)}this.hls.trigger($.ERROR,f)}handlePlaylistLoaded(e,r,n,i,a,s){const o=this.hls,{type:l,level:c,id:d,groupId:f,deliveryDirectives:p}=i,g=T1(r,i),y=oB(i),b=typeof i.level=="number"&&y===Ke.MAIN?c:void 0;if(!e.fragments.length){const w=e.playlistParsingError=new Error("No Segments found in Playlist");o.trigger($.ERROR,{type:We.NETWORK_ERROR,details:de.LEVEL_EMPTY_ERROR,fatal:!1,url:g,error:w,reason:w.message,response:r,context:i,level:b,parent:y,networkDetails:a,stats:n});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const x=e.playlistParsingError;if(x){if(this.hls.logger.warn(x),!o.config.ignorePlaylistParsingErrors){o.trigger($.ERROR,{type:We.NETWORK_ERROR,details:de.LEVEL_PARSING_ERROR,fatal:!1,url:g,error:x,reason:x.message,response:r,context:i,level:b,parent:y,networkDetails:a,stats:n});return}e.playlistParsingError=null}switch(e.live&&s&&(s.getCacheAge&&(e.ageHeader=s.getCacheAge()||0),(!s.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case bt.MANIFEST:case bt.LEVEL:o.trigger($.LEVEL_LOADED,{details:e,levelInfo:i.levelOrTrack||o.levels[0],level:b||0,id:d||0,stats:n,networkDetails:a,deliveryDirectives:p,withoutMultiVariant:l===bt.MANIFEST});break;case bt.AUDIO_TRACK:o.trigger($.AUDIO_TRACK_LOADED,{details:e,track:i.levelOrTrack,id:d||0,groupId:f||"",stats:n,networkDetails:a,deliveryDirectives:p});break;case bt.SUBTITLE_TRACK:o.trigger($.SUBTITLE_TRACK_LOADED,{details:e,track:i.levelOrTrack,id:d||0,groupId:f||"",stats:n,networkDetails:a,deliveryDirectives:p});break}}}class Ma{static get version(){return Bp}static isMSESupported(){return QK()}static isSupported(){return xEe()}static getMediaSource(){return gl()}static get Events(){return $}static get MetadataSchema(){return di}static get ErrorTypes(){return We}static get ErrorDetails(){return de}static get DefaultConfig(){return Ma.defaultConfig?Ma.defaultConfig:oEe}static set DefaultConfig(e){Ma.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new pL,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const r=this.logger=V0e(e.debug||!1,"Hls instance",e.assetPlayerId),n=this.config=cEe(Ma.DefaultConfig,e,r);this.userConfig=e,n.progressive&&uEe(n,r);const{abrController:i,bufferController:a,capLevelController:s,errorController:o,fpsController:l}=n,c=new o(this),d=this.abrController=new i(this),f=new kbe(this),p=n.interstitialsController,g=p?this.interstitialsController=new p(this,Ma):null,y=this.bufferController=new a(this,f),b=this.capLevelController=new s(this),x=new l(this),w=new AEe(this),E=n.contentSteeringController,T=E?new E(this):null,O=this.levelController=new bEe(this,T),_=new vEe(this),P=new TEe(this.config),R=this.streamController=new EEe(this,f,P),D=this.gapController=new pEe(this,f);b.setStreamController(R),x.setStreamController(R);const I=[w,O,R];g&&I.splice(1,0,g),T&&I.splice(1,0,T),this.networkControllers=I;const M=[d,y,D,b,x,_,f];this.audioTrackController=this.createController(n.audioTrackController,I);const N=n.audioStreamController;N&&I.push(this.audioStreamController=new N(this,f,P)),this.subtitleTrackController=this.createController(n.subtitleTrackController,I);const k=n.subtitleStreamController;k&&I.push(this.subtititleStreamController=new k(this,f,P)),this.createController(n.timelineController,M),P.emeController=this.emeController=this.createController(n.emeController,M),this.cmcdController=this.createController(n.cmcdController,M),this.latencyController=this.createController(yEe,M),this.coreComponents=M,I.push(c);const F=c.onErrorOut;typeof F=="function"&&this.on($.ERROR,F,c),this.on($.MANIFEST_LOADED,w.onManifestLoaded,w)}createController(e,r){if(e){const n=new e(this);return r&&r.push(n),n}return null}on(e,r,n=this){this._emitter.on(e,r,n)}once(e,r,n=this){this._emitter.once(e,r,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,r,n=this,i){this._emitter.off(e,r,n,i)}listeners(e){return this._emitter.listeners(e)}emit(e,r,n){return this._emitter.emit(e,r,n)}trigger(e,r){if(this.config.debug)return this.emit(e,e,r);try{return this.emit(e,e,r)}catch(n){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const i=e===$.ERROR;this.trigger($.ERROR,{type:We.OTHER_ERROR,details:de.INTERNAL_EXCEPTION,fatal:i,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger($.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(r=>r.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(r=>r.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const a=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger($.ERROR,{type:We.OTHER_ERROR,details:de.ATTACH_MEDIA_ERROR,fatal:!0,error:a});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const r="media"in e,n=r?e.media:e,i=r?e:{media:n};this._media=n,this.trigger($.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger($.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger($.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const r=this.media,n=this._url,i=this._url=iL.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),r&&n&&(n!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(r)),this.trigger($.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,r){this.logger.log(`startLoad(${e+(r?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e,r),!(!this.started||!this.networkControllers));n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[Ke.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Ke.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[Ke.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,r=e==null?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),r&&this.startLoad(r))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=Mxe()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const r=!!e;r!==this.config.capLevelToPlayerSize&&(r?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=r)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){bbe(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:r}}=this;if(!e)return 0;const n=e.length;for(let i=0;i<n;i++)if(e[i].maxBitrate>=r)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:r,maxHdcpLevel:n}=this;let i;if(r===-1&&e!=null&&e.length?i=e.length-1:i=r,n)for(let a=i;a--;){const s=e[a].attrs["HDCP-LEVEL"];if(s&&s<=n)return a}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var r;return((r=this.audioTrackController)==null?void 0:r.setAudioOption(e))||null}setSubtitleOption(e){var r;return((r=this.subtitleTrackController)==null?void 0:r.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const r=this.audioTrackController;r&&(r.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const r=this.subtitleTrackController;r&&(r.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const r=this.subtitleTrackController;r&&(r.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,r=this.allAudioTracks){const n=K9(r);return H9(e,n,navigator.mediaCapabilities)}}Ma.defaultConfig=void 0;const lB=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],zs=(()=>{if(typeof document>"u")return!1;const t=lB[0],e={};for(const r of lB)if((r==null?void 0:r[1])in document){for(const[i,a]of r.entries())e[t[i]]=a;return e}return!1})(),cB={change:zs.fullscreenchange,error:zs.fullscreenerror};let ai={request(t=document.documentElement,e){return new Promise((r,n)=>{const i=()=>{ai.off("change",i),r()};ai.on("change",i);const a=t[zs.requestFullscreen](e);a instanceof Promise&&a.then(i).catch(n)})},exit(){return new Promise((t,e)=>{if(!ai.isFullscreen){t();return}const r=()=>{ai.off("change",r),t()};ai.on("change",r);const n=document[zs.exitFullscreen]();n instanceof Promise&&n.then(r).catch(e)})},toggle(t,e){return ai.isFullscreen?ai.exit():ai.request(t,e)},onchange(t){ai.on("change",t)},onerror(t){ai.on("error",t)},on(t,e){const r=cB[t];r&&document.addEventListener(r,e,!1)},off(t,e){const r=cB[t];r&&document.removeEventListener(r,e,!1)},raw:zs};Object.defineProperties(ai,{isFullscreen:{get:()=>!!document[zs.fullscreenElement]},element:{enumerable:!0,get:()=>document[zs.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[zs.fullscreenEnabled]}});zs||(ai={isEnabled:!1});const Ps=ai,_Ee=pa.injectEndpoints({endpoints:t=>({getComments:t.query({query:e=>({url:`/videos/comments/${e.id}`,method:"GET"}),providesTags:["comment"]}),addComment:t.mutation({query:e=>({url:"/videos/comments",method:"POST",body:e}),invalidatesTags:["comment"]}),addRating:t.mutation({query:e=>({url:`/videos/ratings/addRating/${e.videoId}`,method:"PATCH",body:e}),invalidatesTags:["singleVideo"]})})}),{useAddCommentMutation:OEe,useGetCommentsQuery:REe,useAddRatingMutation:CEe}=_Ee;var PEe=["second","minute","hour","day","week","month","year"];function DEe(t,e){if(e===0)return["just now","right now"];var r=PEe[Math.floor(e/2)];return t>1&&(r+="s"),[t+" "+r+" ago","in "+t+" "+r]}var LEe=["","","","","","",""];function IEe(t,e){if(e===0)return["",""];var r=LEe[~~(e/2)];return[t+" "+r+"",t+" "+r+""]}var YR={},ZK=function(t,e){YR[t]=e},MEe=function(t){return YR[t]||YR.en_US},A1=[60,60,24,7,365/7/12,12];function NEe(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function kEe(t,e){var r=t<0?1:0;t=Math.abs(t);for(var n=t,i=0;t>=A1[i]&&i<A1.length;i++)t/=A1[i];return t=Math.floor(t),i*=2,t>(i===0?9:1)&&(i+=1),e(t,i,n)[r].replace("%s",t.toString())}function jEe(t,e){var r=new Date;return(+r-+NEe(t))/1e3}var JK=function(t,e,r){var n=jEe(t);return kEe(n,MEe(e))};ZK("en_US",DEe);ZK("zh_CN",IEe);const $Ee=({videoId:t,_id:e})=>{var f,p,g,y;const r=wl(),[n,i]=A.useState(""),[a]=OEe(),s=A.useRef(null),{data:o,isLoading:l}=REe(t),c=async()=>{if(n.trim()!=="")try{const b={videoId:e,comment:n.trim()},x=await a(b).unwrap();(x==null?void 0:x.status)==201?(It.success((x==null?void 0:x.message)||"Comment added successfully"),i("")):It.error("Failed to add comment. Please try again.")}catch(b){console.error("Failed to add comment:",b),It.error("Failed to add comment. Please try again.")}},d=()=>v.jsx("div",{className:"flex justify-center items-center py-12",children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:"w-12 h-12 border-3 border-yellow-400 border-t-transparent rounded-full animate-spin"}),v.jsx("p",{className:"mt-4 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Loading comments..."})]})});return v.jsx(v.Fragment,{children:v.jsx("div",{className:"py-8 px-4 md:px-8 dark:bg-black bg-white",children:v.jsx("div",{className:"max-w-7xl mx-auto",children:v.jsxs("div",{className:"mt-8 bg-gray-100 dark:bg-gray-900 rounded-lg p-6 shadow-md",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[v.jsx(are,{className:"text-yellow-600 dark:text-yellow-400"}),v.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-200",children:["Comments",!l&&`: ${(o==null?void 0:o.length)||0}`]})]}),v.jsx("div",{className:"mb-8",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"flex-shrink-0",children:r?v.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-yellow-600 dark:text-yellow-500 font-bold border border-yellow-400/30 dark:border-yellow-500/30",children:r.name.charAt(0).toUpperCase()}):v.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center",children:v.jsx(TP,{className:"text-gray-600 dark:text-gray-400",size:20})})}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("textarea",{ref:s,value:n,onChange:b=>i(b.target.value),placeholder:r?"Add a comment...":"Sign in to comment",disabled:!r,className:"w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md p-3 text-gray-800 dark:text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 resize-none min-h-[100px]"}),v.jsx("div",{className:"flex justify-end mt-2",children:v.jsxs("button",{onClick:c,disabled:!r||n.trim()==="",className:"flex items-center gap-2 bg-yellow-500 hover:bg-yellow-600 disabled:bg-gray-300 dark:disabled:bg-gray-700 disabled:text-gray-500 text-black px-4 py-2 rounded-md font-medium transition-colors",children:[v.jsx(mre,{size:16}),"Post Comment"]})})]})]})}),l?v.jsx(d,{}):v.jsxs("div",{className:"space-y-6",children:[((p=(f=o==null?void 0:o.data)==null?void 0:f.comments)==null?void 0:p.length)>0?(y=(g=o==null?void 0:o.data)==null?void 0:g.comments)==null?void 0:y.map(b=>{var x,w;return v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-yellow-600 dark:text-yellow-500 font-bold border border-yellow-400/30 dark:border-yellow-500/30",children:(x=b==null?void 0:b.userId)==null?void 0:x.name.charAt(0).toUpperCase()})}),v.jsxs("div",{className:"flex-grow",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("span",{className:"font-medium text-yellow-600 dark:text-yellow-400",children:(w=b==null?void 0:b.userId)==null?void 0:w.name}),v.jsx("span",{className:"text-xs text-gray-500",children:JK(b==null?void 0:b.createdAt)})]}),v.jsx("p",{className:"text-gray-800 dark:text-gray-300",children:b==null?void 0:b.des}),v.jsxs("div",{className:"flex gap-4 mt-2",children:[v.jsxs("button",{className:"text-gray-600 dark:text-gray-500 hover:text-yellow-600 dark:hover:text-yellow-400 text-sm flex items-center gap-1",children:[v.jsx(Ere,{}),"Like"]}),v.jsxs("button",{className:"text-gray-600 dark:text-gray-500 hover:text-yellow-600 dark:hover:text-yellow-400 text-sm flex items-center gap-1",children:[v.jsx(Sre,{}),"Dislike"]}),v.jsx("button",{className:"text-gray-600 dark:text-gray-500 hover:text-yellow-600 dark:hover:text-yellow-400 text-sm flex items-center gap-1",children:"Reply"})]})]})]},b._id)}):v.jsx("div",{className:"text-center py-8",children:v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No comments yet. Be the first to comment!"})}),(o==null?void 0:o.length)>0&&v.jsx("div",{className:"mt-8 flex justify-center",children:v.jsxs("button",{className:"text-yellow-600 dark:text-yellow-500 hover:text-yellow-700 dark:hover:text-yellow-400 font-medium flex items-center gap-2",children:["Show more comments",v.jsx(xP,{})]})})]})]})})})})},FEe=({category:t,videoId:e,videoRating:r,howManyRated:n,className:i=""})=>{const a=wl(),[s,o]=A.useState(null),[l,c]=A.useState(null),[d]=CEe(),f=async p=>{if(!a){It.error("Please login to rate this video");return}try{const g=await d({videoId:e,rating:p}).unwrap();(g==null?void 0:g.status)==200?(o(p),It.success("Rating submitted successfully!")):It.error("Failed to submit rating")}catch{It.error("Failed to submit rating")}};return v.jsxs("div",{className:`-ms-3 flex justify-between ${i}`,children:[v.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-400 px-3 py-1  text-md font-medium",children:"Category:"}),v.jsx("span",{className:" text-black dark:text-white px-3 py-1  text-md font-medium",children:t.charAt(0).toUpperCase()+t.slice(1)})]}),v.jsxs("div",{className:"flex items-center justify-between gap-2",children:[v.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium mr-2",children:"Score:"}),[1,2,3,4,5].map(p=>v.jsx("button",{type:"button",onClick:()=>f(p),onMouseEnter:()=>c(p),onMouseLeave:()=>c(null),className:"focus:outline-none",children:v.jsx(EP,{className:`h-6 w-6 transition-colors ${(l!==null?p<=l:s!==null&&p<=s)||l===null&&s===null&&p<=(r||0)?"fill-yellow-500 text-yellow-500":"fill-none text-gray-400"}`})},p)),v.jsx("span",{className:"ml-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:r?`(${r.toFixed(1)}${n?`  ${n} ${n===1?"rating":"ratings"}`:""})`:"(0)"})]})]})},Nd=jP,BEe=Sz,UEe=$P,eW=A.forwardRef(({className:t,...e},r)=>v.jsx(Lm,{ref:r,className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eW.displayName=Lm.displayName;const Uc=A.forwardRef(({className:t,children:e,...r},n)=>v.jsxs(UEe,{children:[v.jsx(eW,{}),v.jsxs(Im,{ref:n,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,v.jsxs($b,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v.jsx(Pm,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Uc.displayName=Im.displayName;const Gc=({className:t,...e})=>v.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Gc.displayName="DialogHeader";const zc=({className:t,...e})=>v.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});zc.displayName="DialogFooter";const Vc=A.forwardRef(({className:t,...e},r)=>v.jsx(Mm,{ref:r,className:Le("text-lg font-semibold leading-none tracking-tight",t),...e}));Vc.displayName=Mm.displayName;const qc=A.forwardRef(({className:t,...e},r)=>v.jsx(Nm,{ref:r,className:Le("text-sm text-muted-foreground",t),...e}));qc.displayName=Nm.displayName;function Vs(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function uB(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function GEe(...t){return e=>{let r=!1;const n=t.map(i=>{const a=uB(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():uB(t[i],null)}}}}function Hc(...t){return A.useCallback(GEe(...t),t)}function hx(t,e=[]){let r=[];function n(a,s){const o=A.createContext(s),l=r.length;r=[...r,s];const c=f=>{var w;const{scope:p,children:g,...y}=f,b=((w=p==null?void 0:p[t])==null?void 0:w[l])||o,x=A.useMemo(()=>y,Object.values(y));return v.jsx(b.Provider,{value:x,children:g})};c.displayName=a+"Provider";function d(f,p){var b;const g=((b=p==null?void 0:p[t])==null?void 0:b[l])||o,y=A.useContext(g);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(s=>A.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,zEe(i,...e)]}function zEe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}var VEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vf=VEe.reduce((t,e)=>{const r=gi(`Primitive.${e}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function qEe(t){const e=t+"CollectionProvider",[r,n]=hx(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:x,children:w}=b,E=W.useRef(null),T=W.useRef(new Map).current;return v.jsx(i,{scope:x,itemMap:T,collectionRef:E,children:w})};s.displayName=e;const o=t+"CollectionSlot",l=gi(o),c=W.forwardRef((b,x)=>{const{scope:w,children:E}=b,T=a(o,w),O=Hc(x,T.collectionRef);return v.jsx(l,{ref:O,children:E})});c.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=gi(d),g=W.forwardRef((b,x)=>{const{scope:w,children:E,...T}=b,O=W.useRef(null),_=Hc(x,O),P=a(d,w);return W.useEffect(()=>(P.itemMap.set(O,{ref:O,...T}),()=>void P.itemMap.delete(O))),v.jsx(p,{[f]:"",ref:_,children:E})});g.displayName=d;function y(b){const x=a(t+"CollectionConsumer",b);return W.useCallback(()=>{const E=x.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((P,R)=>T.indexOf(P.ref.current)-T.indexOf(R.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},y,n]}var Vp=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},HEe=Ki[" useId ".trim().toString()]||(()=>{}),KEe=0;function WEe(t){const[e,r]=A.useState(HEe());return Vp(()=>{r(n=>n??String(KEe++))},[t]),e?`radix-${e}`:""}function YEe(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var XEe=Ki[" useInsertionEffect ".trim().toString()]||Vp;function tW({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,s]=QEe({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const d=A.useRef(t!==void 0);A.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const c=A.useCallback(d=>{var f;if(o){const p=ZEe(d)?d(t):d;p!==t&&((f=s.current)==null||f.call(s,p))}else a(d)},[o,t,a,s]);return[l,c]}function QEe({defaultProp:t,onChange:e}){const[r,n]=A.useState(t),i=A.useRef(r),a=A.useRef(e);return XEe(()=>{a.current=e},[e]),A.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function ZEe(t){return typeof t=="function"}var JEe=A.createContext(void 0);function rW(t){const e=A.useContext(JEe);return t||e||"ltr"}var _1="rovingFocusGroup.onEntryFocus",e1e={bubbles:!1,cancelable:!0},Qm="RovingFocusGroup",[XR,nW,t1e]=qEe(Qm),[r1e,iW]=hx(Qm,[t1e]),[n1e,i1e]=r1e(Qm),aW=A.forwardRef((t,e)=>v.jsx(XR.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(XR.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(a1e,{...t,ref:e})})}));aW.displayName=Qm;var a1e=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=A.useRef(null),g=Hc(e,p),y=rW(a),[b,x]=tW({prop:s,defaultProp:o??null,onChange:l,caller:Qm}),[w,E]=A.useState(!1),T=YEe(c),O=nW(r),_=A.useRef(!1),[P,R]=A.useState(0);return A.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(_1,T),()=>D.removeEventListener(_1,T)},[T]),v.jsx(n1e,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:b,onItemFocus:A.useCallback(D=>x(D),[x]),onItemShiftTab:A.useCallback(()=>E(!0),[]),onFocusableItemAdd:A.useCallback(()=>R(D=>D+1),[]),onFocusableItemRemove:A.useCallback(()=>R(D=>D-1),[]),children:v.jsx(vf.div,{tabIndex:w||P===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:Vs(t.onMouseDown,()=>{_.current=!0}),onFocus:Vs(t.onFocus,D=>{const I=!_.current;if(D.target===D.currentTarget&&I&&!w){const M=new CustomEvent(_1,e1e);if(D.currentTarget.dispatchEvent(M),!M.defaultPrevented){const N=O().filter(j=>j.focusable),k=N.find(j=>j.active),F=N.find(j=>j.id===b),z=[k,F,...N].filter(Boolean).map(j=>j.ref.current);lW(z,d)}}_.current=!1}),onBlur:Vs(t.onBlur,()=>E(!1))})})}),sW="RovingFocusGroupItem",oW=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...o}=t,l=WEe(),c=a||l,d=i1e(sW,r),f=d.currentTabStopId===c,p=nW(r),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:b}=d;return A.useEffect(()=>{if(n)return g(),()=>y()},[n,g,y]),v.jsx(XR.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:v.jsx(vf.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:Vs(t.onMouseDown,x=>{n?d.onItemFocus(c):x.preventDefault()}),onFocus:Vs(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:Vs(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=l1e(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=p().filter(O=>O.focusable).map(O=>O.ref.current);if(w==="last")T.reverse();else if(w==="prev"||w==="next"){w==="prev"&&T.reverse();const O=T.indexOf(x.currentTarget);T=d.loop?c1e(T,O+1):T.slice(O+1)}setTimeout(()=>lW(T))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:b!=null}):s})})});oW.displayName=sW;var s1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function o1e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function l1e(t,e,r){const n=o1e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return s1e[n]}function lW(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function c1e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var u1e=aW,d1e=oW;function f1e(t){const[e,r]=A.useState(void 0);return Vp(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,o=c.blockSize}else s=t.offsetWidth,o=t.offsetHeight;r({width:s,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}function h1e(t,e){return A.useReducer((r,n)=>e[r][n]??r,t)}var cW=t=>{const{present:e,children:r}=t,n=p1e(e),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),a=Hc(n.ref,m1e(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:a}):null};cW.displayName="Presence";function p1e(t){const[e,r]=A.useState(),n=A.useRef(null),i=A.useRef(t),a=A.useRef("none"),s=t?"mounted":"unmounted",[o,l]=h1e(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=Qv(n.current);a.current=o==="mounted"?c:"none"},[o]),Vp(()=>{const c=n.current,d=i.current;if(d!==t){const p=a.current,g=Qv(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Vp(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const b=Qv(n.current).includes(g.animationName);if(g.target===e&&b&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(a.current=Qv(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Qv(t){return(t==null?void 0:t.animationName)||"none"}function m1e(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var _L="Radio",[g1e,uW]=hx(_L),[v1e,y1e]=g1e(_L),dW=A.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:s,value:o="on",onCheck:l,form:c,...d}=t,[f,p]=A.useState(null),g=Hc(e,x=>p(x)),y=A.useRef(!1),b=f?c||!!f.closest("form"):!0;return v.jsxs(v1e,{scope:r,checked:i,disabled:s,children:[v.jsx(vf.button,{type:"button",role:"radio","aria-checked":i,"data-state":mW(i),"data-disabled":s?"":void 0,disabled:s,value:o,...d,ref:g,onClick:Vs(t.onClick,x=>{i||l==null||l(),b&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),b&&v.jsx(pW,{control:f,bubbles:!y.current,name:n,value:o,checked:i,required:a,disabled:s,form:c,style:{transform:"translateX(-100%)"}})]})});dW.displayName=_L;var fW="RadioIndicator",hW=A.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,a=y1e(fW,r);return v.jsx(cW,{present:n||a.checked,children:v.jsx(vf.span,{"data-state":mW(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});hW.displayName=fW;var b1e="RadioBubbleInput",pW=A.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const s=A.useRef(null),o=Hc(s,a),l=L7(r),c=f1e(e);return A.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&g){const y=new Event("click",{bubbles:n});g.call(d,r),d.dispatchEvent(y)}},[l,r,n]),v.jsx(vf.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pW.displayName=b1e;function mW(t){return t?"checked":"unchecked"}var x1e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],px="RadioGroup",[S1e,b4e]=hx(px,[iW,uW]),gW=iW(),vW=uW(),[w1e,E1e]=S1e(px),yW=A.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:s=!1,disabled:o=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...p}=t,g=gW(r),y=rW(c),[b,x]=tW({prop:a,defaultProp:i??null,onChange:f,caller:px});return v.jsx(w1e,{scope:r,name:n,required:s,disabled:o,value:b,onValueChange:x,children:v.jsx(u1e,{asChild:!0,...g,orientation:l,dir:y,loop:d,children:v.jsx(vf.div,{role:"radiogroup","aria-required":s,"aria-orientation":l,"data-disabled":o?"":void 0,dir:y,...p,ref:e})})})});yW.displayName=px;var bW="RadioGroupItem",xW=A.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,a=E1e(bW,r),s=a.disabled||n,o=gW(r),l=vW(r),c=A.useRef(null),d=Hc(e,c),f=a.value===i.value,p=A.useRef(!1);return A.useEffect(()=>{const g=b=>{x1e.includes(b.key)&&(p.current=!0)},y=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",y)}},[]),v.jsx(d1e,{asChild:!0,...o,focusable:!s,active:f,children:v.jsx(dW,{disabled:s,required:a.required,checked:f,...l,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:Vs(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Vs(i.onFocus,()=>{var g;p.current&&((g=c.current)==null||g.click())})})})});xW.displayName=bW;var T1e="RadioGroupIndicator",SW=A.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=vW(r);return v.jsx(hW,{...i,...n,ref:e})});SW.displayName=T1e;var wW=yW,EW=xW,A1e=SW;const OL=A.forwardRef(({className:t,...e},r)=>v.jsx(wW,{className:Le("grid gap-2",t),...e,ref:r}));OL.displayName=wW.displayName;const Na=A.forwardRef(({className:t,...e},r)=>v.jsx(EW,{ref:r,className:Le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:v.jsx(A1e,{className:"flex items-center justify-center",children:v.jsx("div",{className:"h-2 w-2 rounded-full bg-current"})})}));Na.displayName=EW.displayName;const _1e=pa.injectEndpoints({endpoints:t=>({reportVideo:t.mutation({query:e=>({url:"/reports",method:"POST",body:e}),invalidatesTags:["adminVideos"]}),getAllReports:t.query({query:()=>({url:"/reports/all",method:"GET"}),providesTags:["adminVideos"]}),getReportDetails:t.query({query:e=>({url:`/reports/${e}`,method:"GET"}),providesTags:["adminVideos"]}),updateReportStatus:t.mutation({query:({reportId:e,status:r})=>({url:`/reports/${e}/status`,method:"PATCH",body:{status:r}}),invalidatesTags:["adminVideos"]})})}),{useReportVideoMutation:O1e,useGetAllReportsQuery:R1e,useUpdateReportStatusMutation:C1e}=_1e,P1e=({videoId:t})=>{const[e,r]=A.useState(!1),[n,i]=A.useState("Content"),[a,s]=A.useState(""),[o,l]=A.useState(""),[c,{isLoading:d}]=O1e(),f=async p=>{if(p.preventDefault(),!a.trim()){It.error("Please provide a reason for your report");return}try{await c({videoId:t,type:n,reason:a,description:o}).unwrap(),It.success("Video reported successfully. Our team will review it."),r(!1),i("Content"),s(""),l("")}catch{It.error("Failed to report video. Please try again later.")}};return v.jsxs(Nd,{open:e,onOpenChange:r,children:[v.jsx(BEe,{asChild:!0,children:v.jsxs(dt,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-100/20",children:[v.jsx(AH,{className:"mr-1 h-4 w-4"}),"Report"]})}),v.jsx(Uc,{className:"sm:max-w-[425px]",children:v.jsxs("form",{onSubmit:f,children:[v.jsxs(Gc,{children:[v.jsx(Vc,{children:"Report Video"}),v.jsx(qc,{children:"Please provide details about the issue with this video. Our team will review your report as soon as possible."})]}),v.jsxs("div",{className:"grid gap-4 py-4",children:[v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"report-type",children:"Report Type"}),v.jsxs(OL,{value:n,onValueChange:i,className:"flex flex-col space-y-1",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Na,{value:"Content",id:"content"}),v.jsx(_t,{htmlFor:"content",children:"Inappropriate Content"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Na,{value:"Copyright",id:"copyright"}),v.jsx(_t,{htmlFor:"copyright",children:"Copyright Violation"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Na,{value:"Harassment",id:"harassment"}),v.jsx(_t,{htmlFor:"harassment",children:"Harassment or Bullying"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Na,{value:"Spam",id:"spam"}),v.jsx(_t,{htmlFor:"spam",children:"Spam or Misleading"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Na,{value:"Other",id:"other"}),v.jsx(_t,{htmlFor:"other",children:"Other"})]})]})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"reason",children:"Reason"}),v.jsx(jr,{id:"reason",placeholder:"Brief reason for reporting",value:a,onChange:p=>s(p.target.value),required:!0})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"description",children:"Additional Details (Optional)"}),v.jsx(Ym,{id:"description",placeholder:"Provide any additional details that might help us understand the issue",value:o,onChange:p=>l(p.target.value)})]})]}),v.jsxs(zc,{children:[v.jsx(dt,{variant:"outline",onClick:()=>r(!1),type:"button",children:"Cancel"}),v.jsx(dt,{type:"submit",disabled:d,className:"bg-red-500 hover:bg-red-600 text-white",children:d?"Submitting...":"Submit Report"})]})]})})]})},D1e=()=>{var nt,Z,ae;const t=qle(),[e,r]=A.useState(!1),[n,i]=A.useState(!1),a=A.useRef(null),s=A.useRef(null),[o,l]=A.useState(!0),[c]=ppe(),[d]=mpe(),{data:f,isLoading:p}=hpe(t),{data:g,isLoading:y}=gpe(t),[b,x]=A.useState(!1),[w,E]=A.useState(null),[T]=vpe(),[O,_]=A.useState(!1),[P,R]=A.useState(!1),[D,I]=A.useState(1),[M,N]=A.useState(1),[k,F]=A.useState(0),[U,z]=A.useState(0);A.useEffect(()=>{window.scrollTo(0,0)},[]);const j=((nt=f==null?void 0:f.data)==null?void 0:nt.video)||{},{title:H="",imgUrl:V="",des:q="",videoUrl:G="",views:Y=0,_id:X="",createdAt:te="",ratings:ee=0}=j;A.useEffect(()=>{if(a.current&&G)if(G.includes(".m3u8")&&Ma.isSupported()){const ne=new Ma;ne.loadSource(G),ne.attachMedia(a.current),ne.on(Ma.Events.MANIFEST_PARSED,()=>{a.current&&(a.current.addEventListener("play",he),a.current.addEventListener("pause",he))})}else a.current.src=G},[G]),A.useEffect(()=>{const ne=JSON.parse(localStorage.getItem("viewedVideos")||"{}");t&&t.id&&ne[t.id]&&x(!0)},[t]);const ue=async()=>{if(a.current&&(a.current.play(),r(!0),o&&(await c(t),l(!1)),!b)){w&&clearTimeout(w);const ne=setTimeout(async()=>{try{await T(t.id);const Ae=JSON.parse(localStorage.getItem("viewedVideos")||"{}");Ae[t.id]=Date.now(),localStorage.setItem("viewedVideos",JSON.stringify(Ae)),x(!0)}catch(Ae){console.error("Failed to record view",Ae)}},1e4);E(ne)}},he=()=>{if(a.current){const ne=!a.current.paused;r(ne),!ne&&w&&(clearTimeout(w),E(null))}},ve=()=>{a.current&&(a.current.muted=!a.current.muted,i(a.current.muted))},Se=()=>{a.current&&F(a.current.currentTime)},me=()=>{a.current&&z(a.current.duration)},Ee=ne=>{const Ae=parseFloat(ne.target.value);N(Ae),a.current&&(a.current.volume=Ae,i(Ae===0))},Ce=ne=>{const Ae=parseFloat(ne.target.value);F(Ae),a.current&&(a.current.currentTime=Ae)},ce=ne=>{const Ae=Math.floor(ne/60),_e=Math.floor(ne%60);return`${Ae}:${_e<10?"0":""}${_e}`},ke=()=>{a.current&&(a.current.paused?a.current.play():a.current.pause())};A.useEffect(()=>()=>{w&&clearTimeout(w)},[w]),A.useEffect(()=>{const ne=()=>{var _e;if(Ps.isEnabled&&(_(Ps.isFullscreen),Ps.isFullscreen&&window.screen.orientation))try{window.innerWidth<768&&((_e=window.screen.orientation)==null||_e.lock("landscape").catch(()=>{console.log("Orientation lock not supported")}))}catch(Pe){console.error("Failed to lock orientation",Pe)}};Ps.isEnabled&&Ps.on("change",ne);const Ae=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];return Ae.forEach(_e=>{document.addEventListener(_e,ne)}),()=>{Ps.isEnabled&&Ps.off("change",ne),Ae.forEach(_e=>{document.removeEventListener(_e,ne)})}},[]);const Ue=()=>{s.current&&Ps.isEnabled&&Ps.toggle(s.current)},ut=()=>v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:"w-16 h-16 border-4 border-yellow-400 border-t-transparent rounded-full animate-spin"}),v.jsx("p",{className:"mt-4 text-lg font-medium text-gray-200",children:"Loading video..."})]})});if(p||y)return v.jsx(ut,{});const Ie=async()=>{const ne=await d(t).unwrap();(ne==null?void 0:ne.status)==200?It.success(ne!=null&&ne.message?ne.message:"Video Added to watch later"):It.success(ne!=null&&ne.message?ne.message:"Video failed to add in watch later")};return v.jsx(v.Fragment,{children:v.jsxs(es,{children:[v.jsx(oo,{}),v.jsxs(rs,{children:[v.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b border-gray-800/10 dark:border-gray-100/10 pe-4 justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4",children:[v.jsx(ts,{className:" flex md:hidden -ml-1"}),v.jsx(ns,{children:v.jsxs(is,{children:[v.jsx(Cr,{className:"hidden md:block",children:v.jsxs(zi,{href:"/",children:[v.jsx("span",{className:"text-yellow-500 font-bold",children:"N"}),"Movies"]})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsx(Cr,{children:v.jsx(lo,{children:"Video"})})]})})]}),v.jsx(co,{on:!0})]}),v.jsxs("div",{className:"py-8 px-4 md:px-8",children:[v.jsx("div",{className:"min-hscreen bg-black text-gray-200",children:v.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-900",children:v.jsxs("div",{ref:s,className:"relative w-full aspect-video max-h-[80vh] video-container",children:[v.jsx("video",{ref:a,className:"w-full h-full object-contain",poster:V,onPlay:he,onPause:he,onTimeUpdate:Se,onLoadedMetadata:me,onVolumeChange:()=>{a.current&&(i(a.current.muted),N(a.current.muted?0:a.current.volume))},playsInline:!0,controls:!1}),v.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent opacity-0 transition-opacity duration-300 hover:opacity-100 p-2 flex flex-col",children:[v.jsxs("div",{className:"w-full flex items-center gap-2 mb-1",children:[v.jsx("span",{className:"text-white text-xs",children:ce(k)}),v.jsx("input",{type:"range",min:"0",max:U||100,value:k,onChange:Ce,className:"flex-grow h-1 bg-gray-500 rounded-full appearance-none [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-yellow-500"}),v.jsx("span",{className:"text-white text-xs",children:ce(U)})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:ke,className:"text-white p-1.5",children:e?v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),v.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}):v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:ve,className:"text-white p-1.5",children:n?v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),v.jsx("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),v.jsx("line",{x1:"17",y1:"9",x2:"23",y2:"15"})]}):v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),v.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"})]})}),v.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:M,onChange:Ee,className:"w-16 h-1 bg-gray-500 rounded-full appearance-none [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-yellow-500"})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:Ue,className:"text-white p-1.5",children:O?v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("path",{d:"M4 14h6m0 0v6m0-6l-7 7m17-11h-6m0 0V4m0 6l7-7"})}):v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})})}),v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>R(!P),className:"text-white p-1.5","aria-label":"Options",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("circle",{cx:"12",cy:"12",r:"1"}),v.jsx("circle",{cx:"19",cy:"12",r:"1"}),v.jsx("circle",{cx:"5",cy:"12",r:"1"})]})}),P&&v.jsxs("div",{className:"absolute right-0 bottom-12 bg-black bg-opacity-90 rounded-md shadow-lg p-3 w-56 z-20",children:[v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-white text-sm font-medium mb-1",children:"Playback Speed"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:[.5,.75,1,1.25,1.5,2].map(ne=>v.jsx("button",{onClick:()=>{a.current&&(a.current.playbackRate=ne,I(ne),R(!1))},className:`text-xs px-2 py-1 rounded ${D===ne?"bg-yellow-500 text-black font-medium":"bg-gray-700 text-white"}`,children:ne===1?"Normal":`${ne}x`},ne))})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("p",{className:"text-white text-sm font-medium mb-1",children:"Quality"}),v.jsxs("select",{className:"w-full bg-gray-700 text-white px-2 py-1 rounded text-sm",onChange:()=>{R(!1)},children:[v.jsx("option",{value:"auto",children:"Auto"}),v.jsx("option",{value:"1080p",children:"1080p"}),v.jsx("option",{value:"720p",children:"720p"}),v.jsx("option",{value:"480p",children:"480p"}),v.jsx("option",{value:"360p",children:"360p"})]})]}),v.jsxs("button",{onClick:()=>{a.current&&document.pictureInPictureEnabled&&(document.pictureInPictureElement?document.exitPictureInPicture():a.current.requestPictureInPicture(),R(!1))},className:"w-full text-left text-sm bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded flex items-center gap-2",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),v.jsx("rect",{x:"12",y:"12",width:"10",height:"5",rx:"2",ry:"2"})]}),v.jsx("span",{children:"Picture-in-Picture"})]})]})]})]})]})]}),!e&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center cursor-pointer bg-black bg-opacity-30 transition-opacity hover:bg-opacity-20",onClick:ue,children:v.jsx("div",{className:"bg-yellow-500 bg-opacity-80 rounded-full p-5 shadow-lg transform transition-transform hover:scale-110",children:v.jsx(ure,{className:"h-12 w-12 text-black fill-black"})})})]})})}),v.jsx("div",{className:"max-w-7xl mx-auto p-4 md:p-8 bg-white dark:bg-black",children:v.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8",children:[v.jsx("div",{className:"flex-shrink-0 w-full md:w-64 lg:w-72 md:h-auto",children:v.jsx("div",{className:"relative rounded-lg overflow-hidden w-full md:w-64 lg:w-72 h-[400px] md:h-full shadow-md",children:v.jsx("img",{src:V,alt:H||"Video Poster",className:"absolute inset-0 w-full h-full object-cover object-center"})})}),v.jsx("div",{className:"flex-1 flex flex-col",children:v.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[v.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-semibold text-gray-800 dark:text-gray-300",children:H}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"flex items-center gap-4",children:v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("span",{className:"text-xl md:text-2xl font-bold text-gray-800 dark:text-gray-300",children:["Views:"," ",v.jsx("span",{className:"text-yellow-600 dark:text-yellow-500",children:Y})]})})}),v.jsxs("div",{className:"flex items-center gap-4",children:[(Z=g==null?void 0:g.data)!=null&&Z.bookmarked?v.jsx(N0e,{className:"text-2xl md:text-3xl text-yellow-600 dark:text-yellow-500 cursor-pointer",onClick:Ie}):v.jsx(M0e,{className:"text-2xl md:text-3xl text-gray-700 dark:text-gray-400 hover:text-yellow-600 dark:hover:text-yellow-500 cursor-pointer",onClick:Ie}),v.jsx(P1e,{videoId:X})]})]})]}),v.jsx(FEe,{category:j.category,videoId:X,videoRating:j.ratings||0,howManyRated:j.howManyRated||0}),v.jsxs("div",{className:"flex justify-between flex-wrap items-center gap-3",children:[v.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[v.jsx("span",{className:"bg-yellow-400 text-black px-3 py-1 rounded-full text-sm font-medium",children:"HD"}),v.jsxs("div",{className:"flex items-center gap-1 text-yellow-600 dark:text-yellow-500",children:[v.jsx(EP,{className:"fill-yellow-600 dark:fill-yellow-500 h-5 w-5"}),v.jsx("span",{className:"font-medium",children:ee})]}),v.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"24 min"})]}),v.jsx("div",{className:"space-y-2",children:v.jsx("div",{className:"flex flex-wrap gap-2",children:j.tags&&j.tags.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("span",{className:" text-gray-600 dark:text-gray-400 px-3 py-1  text-md font-medium",children:"Tags:"}),j.tags.map((ne,Ae)=>v.jsx("span",{className:"bg-gray-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:ne},Ae))]})})})]}),v.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-base md:text-lg",children:q}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 mt-2",children:[v.jsxs("div",{className:"flex",children:[v.jsx("span",{className:"w-28 text-gray-600 dark:text-gray-400",children:"Uploaded by:"}),v.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:((ae=j==null?void 0:j.userId)==null?void 0:ae.name)||"Unknown"})]}),v.jsxs("div",{className:"flex",children:[v.jsx("span",{className:"w-28 text-gray-600 dark:text-gray-400",children:"Released:"}),v.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:(te==null?void 0:te.split("T")[0])||"Unknown"})]}),v.jsxs("div",{className:"flex col-span-1 md:col-span-2",children:[v.jsx("span",{className:"w-28 text-gray-600 dark:text-gray-400",children:"Production:"}),v.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"N Movies, Limited"})]}),v.jsxs("div",{className:"flex col-span-1 md:col-span-2",children:[v.jsx("span",{className:"w-28 text-gray-600 dark:text-gray-400",children:"Casts:"}),v.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Unknown"})]})]})]})})]})}),v.jsx($Ee,{videoId:t,_id:X})]})]})]})})};var RL="Progress",CL=100,[L1e,x4e]=yl(RL),[I1e,M1e]=L1e(RL),TW=A.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=N1e,...s}=t;(i||i===0)&&!dB(i)&&console.error(k1e(`${i}`,"Progress"));const o=dB(i)?i:CL;n!==null&&!fB(n,o)&&console.error(j1e(`${n}`,"Progress"));const l=fB(n,o)?n:null,c=C0(l)?a(l,o):void 0;return v.jsx(I1e,{scope:r,value:l,max:o,children:v.jsx(hr.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":C0(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":OW(l,o),"data-value":l??void 0,"data-max":o,...s,ref:e})})});TW.displayName=RL;var AW="ProgressIndicator",_W=A.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=M1e(AW,r);return v.jsx(hr.div,{"data-state":OW(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});_W.displayName=AW;function N1e(t,e){return`${Math.round(t/e*100)}%`}function OW(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function C0(t){return typeof t=="number"}function dB(t){return C0(t)&&!isNaN(t)&&t>0}function fB(t,e){return C0(t)&&!isNaN(t)&&t<=e&&t>=0}function k1e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${CL}\`.`}function j1e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${CL} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var RW=TW,$1e=_W;const Ly=A.forwardRef(({className:t,value:e,...r},n)=>v.jsx(RW,{ref:n,className:Le("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...r,children:v.jsx($1e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Ly.displayName=RW.displayName;const F1e=pa.injectEndpoints({endpoints:t=>({getUserDashboardStats:t.query({query:()=>({url:"/dashboard/user/stats",method:"GET"}),providesTags:["myVideosUser"]}),getUserRecentUploads:t.query({query:()=>({url:"/dashboard/user/recent-uploads",method:"GET"}),providesTags:["myVideosUser"]})})}),{useGetUserDashboardStatsQuery:B1e,useGetUserRecentUploadsQuery:U1e}=F1e,CW=6048e5,G1e=864e5,Zv=43200,hB=1440,pB=Symbol.for("constructDateFrom");function eo(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&pB in t?t[pB](e):t instanceof Date?new t.constructor(e):new Date(e)}function on(t,e){return eo(e||t,t)}let z1e={};function Zm(){return z1e}function qp(t,e){var o,l,c,d;const r=Zm(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=on(t,e==null?void 0:e.in),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function P0(t,e){return qp(t,{...e,weekStartsOn:1})}function PW(t,e){const r=on(t,e==null?void 0:e.in),n=r.getFullYear(),i=eo(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=P0(i),s=eo(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=P0(s);return r.getTime()>=a.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function D0(t){const e=on(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function mx(t,...e){const r=eo.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function mB(t,e){const r=on(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function V1e(t,e,r){const[n,i]=mx(r==null?void 0:r.in,t,e),a=mB(n),s=mB(i),o=+a-D0(a),l=+s-D0(s);return Math.round((o-l)/G1e)}function q1e(t,e){const r=PW(t,e),n=eo(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),P0(n)}function Iy(t,e){const r=+on(t)-+on(e);return r<0?-1:r>0?1:r}function H1e(t){return eo(t,Date.now())}function K1e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function W1e(t){return!(!K1e(t)&&typeof t!="number"||isNaN(+on(t)))}function Y1e(t,e,r){const[n,i]=mx(r==null?void 0:r.in,t,e),a=n.getFullYear()-i.getFullYear(),s=n.getMonth()-i.getMonth();return a*12+s}function X1e(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Q1e(t,e){return+on(t)-+on(e)}function Z1e(t,e){const r=on(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function J1e(t,e){const r=on(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function eTe(t,e){const r=on(t,e==null?void 0:e.in);return+Z1e(r,e)==+J1e(r,e)}function tTe(t,e,r){const[n,i,a]=mx(r==null?void 0:r.in,t,t,e),s=Iy(i,a),o=Math.abs(Y1e(i,a));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*o);let l=Iy(i,a)===-s;eTe(n)&&o===1&&Iy(n,a)===1&&(l=!1);const c=s*(o-+l);return c===0?0:c}function rTe(t,e,r){const n=Q1e(t,e)/1e3;return X1e(r==null?void 0:r.roundingMethod)(n)}function nTe(t,e){const r=on(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const iTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aTe=(t,e,r)=>{let n;const i=iTe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function O1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const sTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cTe={date:O1({formats:sTe,defaultWidth:"full"}),time:O1({formats:oTe,defaultWidth:"full"}),dateTime:O1({formats:lTe,defaultWidth:"full"})},uTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dTe=(t,e,r,n)=>uTe[t];function jh(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const fTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yTe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bTe={ordinalNumber:yTe,era:jh({values:fTe,defaultWidth:"wide"}),quarter:jh({values:hTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jh({values:pTe,defaultWidth:"wide"}),day:jh({values:mTe,defaultWidth:"wide"}),dayPeriod:jh({values:gTe,defaultWidth:"wide",formattingValues:vTe,defaultFormattingWidth:"wide"})};function $h(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?STe(o,f=>f.test(s)):xTe(o,f=>f.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function xTe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function STe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function wTe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const ETe=/^(\d+)(th|st|nd|rd)?/i,TTe=/\d+/i,ATe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_Te={any:[/^b/i,/^(a|c)/i]},OTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RTe={any:[/1/i,/2/i,/3/i,/4/i]},CTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ITe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NTe={ordinalNumber:wTe({matchPattern:ETe,parsePattern:TTe,valueCallback:t=>parseInt(t,10)}),era:$h({matchPatterns:ATe,defaultMatchWidth:"wide",parsePatterns:_Te,defaultParseWidth:"any"}),quarter:$h({matchPatterns:OTe,defaultMatchWidth:"wide",parsePatterns:RTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$h({matchPatterns:CTe,defaultMatchWidth:"wide",parsePatterns:PTe,defaultParseWidth:"any"}),day:$h({matchPatterns:DTe,defaultMatchWidth:"wide",parsePatterns:LTe,defaultParseWidth:"any"}),dayPeriod:$h({matchPatterns:ITe,defaultMatchWidth:"any",parsePatterns:MTe,defaultParseWidth:"any"})},DW={code:"en-US",formatDistance:aTe,formatLong:cTe,formatRelative:dTe,localize:bTe,match:NTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kTe(t,e){const r=on(t,e==null?void 0:e.in);return V1e(r,nTe(r))+1}function jTe(t,e){const r=on(t,e==null?void 0:e.in),n=+P0(r)-+q1e(r);return Math.round(n/CW)+1}function LW(t,e){var d,f,p,g;const r=on(t,e==null?void 0:e.in),n=r.getFullYear(),i=Zm(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(p=i.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,s=eo((e==null?void 0:e.in)||t,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=qp(s,e),l=eo((e==null?void 0:e.in)||t,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=qp(l,e);return+r>=+o?n+1:+r>=+c?n:n-1}function $Te(t,e){var o,l,c,d;const r=Zm(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=LW(t,e),a=eo((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),qp(a,e)}function FTe(t,e){const r=on(t,e==null?void 0:e.in),n=+qp(r,e)-+$Te(r,e);return Math.round(n/CW)+1}function Ht(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Vo={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ht(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ht(r+1,2)},d(t,e){return Ht(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ht(t.getHours()%12||12,e.length)},H(t,e){return Ht(t.getHours(),e.length)},m(t,e){return Ht(t.getMinutes(),e.length)},s(t,e){return Ht(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ht(i,e.length)}},ed={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gB={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Vo.y(t,e)},Y:function(t,e,r,n){const i=LW(t,n),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Ht(s,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ht(a,e.length)},R:function(t,e){const r=PW(t);return Ht(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ht(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ht(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ht(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Vo.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ht(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=FTe(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Ht(i,e.length)},I:function(t,e,r){const n=jTe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ht(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Vo.d(t,e)},D:function(t,e,r){const n=kTe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ht(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ht(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ht(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Ht(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=ed.noon:n===0?i=ed.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=ed.evening:n>=12?i=ed.afternoon:n>=4?i=ed.morning:i=ed.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Vo.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Vo.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ht(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ht(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vo.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Vo.s(t,e)},S:function(t,e){return Vo.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return yB(n);case"XXXX":case"XX":return dc(n);case"XXXXX":case"XXX":default:return dc(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return yB(n);case"xxxx":case"xx":return dc(n);case"xxxxx":case"xxx":default:return dc(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vB(n,":");case"OOOO":default:return"GMT"+dc(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vB(n,":");case"zzzz":default:return"GMT"+dc(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Ht(n,e.length)},T:function(t,e,r){return Ht(+t,e.length)}};function vB(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+Ht(a,2)}function yB(t,e){return t%60===0?(t>0?"-":"+")+Ht(Math.abs(t)/60,2):dc(t,e)}function dc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Ht(Math.trunc(n/60),2),a=Ht(n%60,2);return r+i+e+a}const bB=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},IW=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},BTe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return bB(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",bB(n,e)).replace("{{time}}",IW(i,e))},UTe={p:IW,P:BTe},GTe=/^D+$/,zTe=/^Y+$/,VTe=["D","DD","YY","YYYY"];function qTe(t){return GTe.test(t)}function HTe(t){return zTe.test(t)}function KTe(t,e,r){const n=WTe(t,e,r);if(console.warn(n),VTe.includes(t))throw new RangeError(n)}function WTe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QTe=/^'([^]*?)'?$/,ZTe=/''/g,JTe=/[a-zA-Z]/;function My(t,e,r){var d,f,p,g;const n=Zm(),i=n.locale??DW,a=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,o=on(t,r==null?void 0:r.in);if(!W1e(o))throw new RangeError("Invalid time value");let l=e.match(XTe).map(y=>{const b=y[0];if(b==="p"||b==="P"){const x=UTe[b];return x(y,i.formatLong)}return y}).join("").match(YTe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:eAe(y)};if(gB[b])return{isToken:!0,value:y};if(b.match(JTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(HTe(b)||qTe(b))&&KTe(b,e,String(t));const x=gB[b[0]];return x(o,b,i.localize,c)}).join("")}function eAe(t){const e=t.match(QTe);return e?e[1].replace(ZTe,"'"):t}function tAe(t,e,r){const n=Zm(),i=(r==null?void 0:r.locale)??n.locale??DW,a=2520,s=Iy(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s}),[l,c]=mx(r==null?void 0:r.in,...s>0?[e,t]:[t,e]),d=rTe(c,l),f=(D0(c)-D0(l))/1e3,p=Math.round((d-f)/60);let g;if(p<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):p===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",p,o);if(p<45)return i.formatDistance("xMinutes",p,o);if(p<90)return i.formatDistance("aboutXHours",1,o);if(p<hB){const y=Math.round(p/60);return i.formatDistance("aboutXHours",y,o)}else{if(p<a)return i.formatDistance("xDays",1,o);if(p<Zv){const y=Math.round(p/hB);return i.formatDistance("xDays",y,o)}else if(p<Zv*2)return g=Math.round(p/Zv),i.formatDistance("aboutXMonths",g,o)}if(g=tTe(c,l),g<12){const y=Math.round(p/Zv);return i.formatDistance("xMonths",y,o)}else{const y=g%12,b=Math.trunc(g/12);return y<3?i.formatDistance("aboutXYears",b,o):y<9?i.formatDistance("overXYears",b,o):i.formatDistance("almostXYears",b+1,o)}}function rAe(t,e){return tAe(t,H1e(t),e)}function nAe(){var o,l;const[t,e]=A.useState(!1),r=wl(),{data:n}=B1e({}),{data:i}=U1e({}),a=((o=n==null?void 0:n.data)==null?void 0:o.stats)||{overview:{totalViews:0,totalSubscribers:0,contentCount:0,totalWatchTime:0},performance:{viewsProgress:0,engagementProgress:0,retentionProgress:0}},s=((l=i==null?void 0:i.data)==null?void 0:l.recentVideos)||[];return v.jsxs(es,{children:[v.jsx(oo,{}),v.jsxs(rs,{children:[v.jsxs("header",{className:"flex justify-between h-16 shrink-0 items-center gap-2 border-b border-gray-800/10 dark:border-gray-100/10 pe-4",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4",children:[v.jsx(ts,{className:"flex md:hidden -ml-1"}),v.jsx(ns,{children:v.jsxs(is,{children:[v.jsx(Cr,{className:"hidden md:block",children:v.jsxs(zi,{href:"/",children:[v.jsx("span",{className:"text-yellow-500 font-bold",children:"N"}),"Movies"]})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsx(Cr,{children:v.jsx(lo,{children:"Dashboard"})})]})})]}),v.jsx(co,{on:!0})]}),v.jsx(w9,{isOpen:t,setIsOpens:e}),v.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6 overflow-auto",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Welcome back, ",r==null?void 0:r.name]}),v.jsx("p",{className:"text-muted-foreground",children:"Here's an overview of your content performance"})]}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 bg-yellow-500 text-black",children:[v.jsx(OH,{className:"mr-2 h-4 w-4"}),"Upload Video"]})})]}),v.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(wr,{className:"text-sm font-medium",children:"Total Views"}),v.jsx(ky,{className:"h-4 w-4 text-muted-foreground"})]}),v.jsx(fr,{children:v.jsx("div",{className:"text-2xl font-bold",children:a.overview.totalViews.toLocaleString()})})]}),v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(wr,{className:"text-sm font-medium",children:"Subscribers"}),v.jsx(Dre,{className:"h-4 w-4 text-muted-foreground"})]}),v.jsx(fr,{children:v.jsx("div",{className:"text-2xl font-bold",children:a.overview.totalSubscribers})})]}),v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(wr,{className:"text-sm font-medium",children:"Content Count"}),v.jsx(jy,{className:"h-4 w-4 text-muted-foreground"})]}),v.jsx(fr,{children:v.jsx("div",{className:"text-2xl font-bold",children:a.overview.contentCount})})]}),v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(wr,{className:"text-sm font-medium",children:"Watch Time"}),v.jsx(wP,{className:"h-4 w-4 text-muted-foreground"})]}),v.jsx(fr,{children:v.jsxs("div",{className:"text-2xl font-bold",children:[a.overview.totalWatchTime," hrs"]})})]})]}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-7",children:[v.jsxs(sr,{className:"col-span-7 md:col-span-4 border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{children:[v.jsx(wr,{children:"Performance Overview"}),v.jsx(Nn,{children:"View metrics across all your content"})]}),v.jsx(fr,{children:v.jsx("div",{className:"h-[300px] w-full bg-muted/20 rounded-md flex items-center justify-center",children:v.jsxs("div",{className:"space-y-8 w-full px-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"text-sm",children:"Views"}),v.jsxs("div",{className:"text-sm font-medium",children:[a.performance.viewsProgress,"%"]})]}),v.jsx(Ly,{value:a.performance.viewsProgress,className:"h-1.5 bg-gray-300 dark:bg-gray-700"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"text-sm",children:"Engagement"}),v.jsxs("div",{className:"text-sm font-medium",children:[a.performance.engagementProgress,"%"]})]}),v.jsx(Ly,{value:a.performance.engagementProgress,className:"h-1.5 bg-gray-300 dark:bg-gray-700"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"text-sm",children:"Retention"}),v.jsxs("div",{className:"text-sm font-medium",children:[a.performance.retentionProgress,"%"]})]}),v.jsx(Ly,{value:a.performance.retentionProgress,className:"h-1.5 bg-gray-300 dark:bg-gray-700"})]})]})})})]}),v.jsxs(sr,{className:"col-span-7 md:col-span-3 border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{children:[v.jsx(wr,{children:"Recent Uploads"}),v.jsx(Nn,{children:"Your latest content performance"})]}),v.jsx(fr,{children:v.jsx("div",{className:"space-y-4",children:s.map(c=>{var d,f;return v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"relative w-16 h-16 rounded overflow-hidden flex-shrink-0",children:[v.jsx("img",{src:c.imgUrl,alt:c.title,className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:v.jsx(nx,{className:"text-white text-sm"})})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"text-sm font-semibold truncate",children:c.title}),v.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(ky,{className:"h-3 w-3 mr-1"}),((d=c.views)==null?void 0:d.toLocaleString())||0]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx(DO,{className:"h-3 w-3 mr-1"}),((f=c.ratings)==null?void 0:f.toLocaleString())||0]})]})]})]},c._id)})})})]}),v.jsxs(sr,{className:"col-span-7 border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{children:[v.jsx(wr,{children:"Content Schedule"}),v.jsx(Nn,{children:"Upcoming releases and events"})]}),v.jsx(fr,{children:v.jsx("div",{className:"rounded-md border border-gray-800/20 dark:border-gray-100/10 p-4",children:v.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:[{date:My(new Date,"MMMM d"),title:"Content Goal",description:"Upload 2 new videos"},{date:My(new Date().setDate(new Date().getDate()+3),"MMMM d"),title:"Engagement Target",description:"Aim for 1000 views"},{date:My(new Date().setDate(new Date().getDate()+7),"MMMM d"),title:"Weekly Review",description:"Analyze performance"}].map(c=>v.jsxs("div",{className:"flex items-start gap-4 p-2 rounded-md hover:bg-muted/20 transition-colors",children:[v.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-yellow-500/10 text-yellow-500",children:v.jsx(vte,{className:"h-5 w-5"})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-sm font-semibold",children:c.title}),v.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:c.date}),v.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:c.description})]})]},c.date))})})})]})]})]})]})]})}const iAe=pa.injectEndpoints({endpoints:t=>({getMyVideos:t.query({query:e=>({url:"/dashboard/user/my-videos",method:"GET",body:e}),providesTags:["myVideosUser"]}),updateMyVideos:t.mutation({query:e=>({url:`/dashboard/user/my-videos/${e.videoId}`,method:"PATCH",body:e}),invalidatesTags:["myVideosUser"]}),deleteMyVideos:t.mutation({query:e=>({url:`/dashboard/user/my-videos/${e.videoId}`,method:"DELETE",body:e}),invalidatesTags:["myVideosUser"]}),editProfile:t.mutation({query:e=>({url:"/dashboard/user/edit-profile",method:"PATCH",body:e})})})}),{useGetMyVideosQuery:aAe,useUpdateMyVideosMutation:sAe,useDeleteMyVideosMutation:oAe,useEditProfileMutation:lAe}=iAe;function cAe(){var D,I,M,N,k,F;const[t,e]=A.useState(""),[r,n]=A.useState(!1),[i,a]=A.useState(!1),[s,o]=A.useState(null),[l,c]=A.useState(""),[d,f]=A.useState(""),{data:p,refetch:g}=aAe(void 0),[y,{isLoading:b}]=sAe(),[x,{isLoading:w}]=oAe(),E=((D=p==null?void 0:p.data)==null?void 0:D.myVideos)||[],T=E==null?void 0:E.filter(U=>(U==null?void 0:U.title.toLowerCase().includes(t==null?void 0:t.toLowerCase()))||(U==null?void 0:U.des.toLowerCase().includes(t==null?void 0:t.toLowerCase()))),O=async U=>{o(U),c(U.title),f(U.des),a(!0)},_=async()=>{try{(await y({videoId:s._id,title:l,des:d}).unwrap()).status===200?(Lt.success("Video updated successfully"),a(!1),g()):Lt.error("Failed to update video")}catch{Lt.error("An error occurred while updating the video")}},P=U=>{o(U),n(!0)},R=async()=>{try{if(!s)return;(await x({videoId:s._id}).unwrap()).status===200?(Lt.success("Video deleted successfully"),n(!1),g()):Lt.error("Failed to delete video")}catch{Lt.error("An error occurred while deleting the video")}};return v.jsxs(es,{children:[v.jsx(oo,{}),v.jsxs(rs,{children:[v.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b border-gray-800/10 dark:border-gray-100/10 pe-4 justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4",children:[v.jsx(ts,{className:" flex md:hidden -ml-1"}),v.jsx(ns,{children:v.jsxs(is,{children:[v.jsx(Cr,{className:"hidden md:block",children:v.jsxs(zi,{href:"/",children:[v.jsx("span",{className:"text-yellow-500 font-bold",children:"N"}),"Movies"]})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsx(Cr,{children:v.jsx(zi,{href:"/dashboard/my-dashboard",children:"Dashboard"})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsx(Cr,{children:v.jsx(lo,{children:"My Videos"})})]})})]}),v.jsx(co,{on:!0})]}),v.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6 overflow-auto",children:[v.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"My Videos"}),v.jsx("p",{className:"text-muted-foreground",children:"Manage your uploaded content"})]})}),v.jsx(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:v.jsx(fr,{className:"p-4",children:v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(Lb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),v.jsx(jr,{placeholder:"Search videos...",className:"pl-10",value:t,onChange:U=>e(U.target.value)})]}),v.jsxs(Qy,{children:[v.jsx(eR,{asChild:!0,children:v.jsxs(dt,{variant:"outline",className:"flex items-center gap-2",children:[v.jsx(EG,{className:"h-4 w-4"}),v.jsx("span",{children:"Filter"})]})}),v.jsxs(ED,{align:"end",children:[v.jsx(il,{children:"All Videos"}),v.jsx(il,{children:"Most Viewed"}),v.jsx(il,{children:"Most Recent"}),v.jsx(il,{children:"Oldest"})]})]})]})})}),v.jsx("div",{className:"space-y-4",children:(T==null?void 0:T.length)===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("h3",{className:"text-xl font-medium",children:"No videos found"}),v.jsx("p",{className:"text-muted-foreground mt-2",children:"Try adjusting your search query"})]}):T==null?void 0:T.map(U=>{var z,j,H,V,q;return v.jsx(sr,{className:"border border-gray-800/20 dark:border-gray-100/10 overflow-hidden hover:border-yellow-500/30 transition-colors",children:v.jsxs("div",{className:"flex flex-col sm:flex-row",children:[v.jsxs("div",{className:"relative sm:w-48 h-40 max-h-48 sm:h-auto",children:[v.jsx("img",{src:U.imgUrl,alt:U.title,className:"w-full h-full obejct-cover"}),v.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded",children:U.duration})]}),v.jsxs("div",{className:"flex-1 p-4",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-lg",children:U.title}),v.jsx("p",{className:"text-muted-foreground text-sm mt-1 line-clamp-2",children:U.des})]}),v.jsx(Qy,{children:v.jsx(eR,{asChild:!0,children:v.jsxs(dt,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[v.jsx(wG,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"More"})]})})})]}),v.jsxs("div",{className:"mt-4 flex items-center text-sm text-muted-foreground gap-4",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(ky,{className:"h-3.5 w-3.5"}),v.jsx("span",{children:(z=U==null?void 0:U.views)==null?void 0:z.toLocaleString()})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(EP,{className:"h-3.5 w-3.5"}),v.jsx("span",{children:(j=U==null?void 0:U.ratings)==null?void 0:j.toLocaleString()})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(vhe,{className:"h-3.5 w-3.5"}),v.jsx("span",{children:(H=U==null?void 0:U.createdAt)==null?void 0:H.split("T")[0]}),v.jsx(wP,{className:"ms-2 h-3.5 w-3.5"}),v.jsx("span",{children:((V=U==null?void 0:U.createdAt)==null?void 0:V.split("T")[1]).split(".")[0]})]}),v.jsx(oV,{children:v.jsxs(lV,{children:[v.jsx(cV,{children:v.jsx("div",{className:`px-2 py-0.5 text-xs rounded-full ${U.status==="Published"?"bg-green-500/20 text-green-500":U.status==="Pending"?"bg-yellow-500/20 text-yellow-500":U.status==="Rejected"?"bg-red-500/20 text-red-500":"bg-blue-500/20 text-blue-500"}`,children:U.status})}),v.jsx(iD,{children:U.status==="Published"?"This video is available to all users":U.status==="Pending"?"This video is awaiting approval from administrators":U.status==="Rejected"?"This video was rejected by administrators":"This video is under review"})]})})]}),v.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[v.jsx("div",{children:(q=U==null?void 0:U.tags)==null?void 0:q.map((G,Y)=>v.jsx("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20 mr-1",children:G},Y))}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(dt,{size:"sm",variant:"outline",onClick:()=>O(U),className:"h-8",children:[v.jsx(TG,{className:"mr-2 h-3.5 w-3.5"}),"Edit"]}),v.jsxs(dt,{size:"sm",variant:"destructive",onClick:()=>P(U),className:"h-8",children:[v.jsx($y,{className:"mr-2 h-3.5 w-3.5"}),"Delete"]})]})]})]})]})},U._id)})})]})]}),v.jsx(Nd,{open:i,onOpenChange:a,children:v.jsxs(Uc,{className:"sm:max-w-[525px]",children:[v.jsxs(Gc,{children:[v.jsx(Vc,{children:"Edit Video"}),v.jsx(qc,{children:"Make changes to your video details below."})]}),s&&v.jsxs("div",{className:"grid gap-4 py-4",children:[v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"title",children:"Title"}),v.jsx(jr,{id:"title",value:l,onChange:U=>c(U.target.value)})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"description",children:"Description"}),v.jsx(Ym,{className:"max-h-60",id:"description",value:d,onChange:U=>f(U.target.value)})]}),v.jsxs("div",{className:"",children:[v.jsx("p",{className:"mb-1",children:"Tags:"}),(I=s==null?void 0:s.tags)==null?void 0:I.map((U,z)=>v.jsx("span",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20 mr-1",children:U},z+"13"))]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[v.jsxs("div",{className:"grid gap-2",children:[v.jsx(_t,{htmlFor:"thumbnail",children:"Thumbnail"}),v.jsxs("div",{className:"relative w-full h-32 bg-muted rounded-md overflow-hidden",children:[v.jsx("img",{src:s==null?void 0:s.imgUrl,alt:s==null?void 0:s.title,className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity"})]})]}),v.jsxs("div",{children:[v.jsx(_t,{className:"mb-2 block",children:"Video Info"}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),v.jsx("span",{children:s==null?void 0:s.duration})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Views:"}),v.jsx("span",{children:(M=s==null?void 0:s.views)==null?void 0:M.toLocaleString()})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Ratings:"}),v.jsx("span",{children:(N=s==null?void 0:s.ratings)==null?void 0:N.toLocaleString()})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Video Uploaded:"}),v.jsx("span",{children:(F=(k=s==null?void 0:s.createdAt)==null?void 0:k.split("T")[0])==null?void 0:F.toLocaleString()})]})]})]})]})]}),v.jsxs(zc,{children:[v.jsx(dt,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),v.jsx(dt,{className:"bg-yellow-500 hover:bg-yellow-600 text-black",onClick:_,disabled:b,children:b?"Saving...":"Save Changes"})]})]})}),v.jsx(Nd,{open:r,onOpenChange:n,children:v.jsxs(Uc,{className:"sm:max-w-[425px]",children:[v.jsxs(Gc,{children:[v.jsx(Vc,{children:"Delete Video"}),v.jsx(qc,{children:"Are you sure you want to delete this video? This action cannot be undone."})]}),s&&v.jsx("div",{className:"py-4",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-20 h-16 rounded overflow-hidden flex-shrink-0",children:v.jsx("img",{src:s.imgUrl,alt:s.title,className:"w-full h-full object-cover"})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium",children:s.title}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.views.toLocaleString()," views"]})]})]})}),v.jsxs(zc,{children:[v.jsx(dt,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),v.jsx(dt,{variant:"destructive",onClick:R,disabled:w,children:w?"Deleting...":"Delete Permanently"})]})]})})]})}const uAe="/assets/profile_banner-DnLaDndK.png";function dAe(){const t=wl(),[e,r]=A.useState(!1),[n]=A.useState(null),[i,a]=A.useState((t==null?void 0:t.name)||""),[s,o]=A.useState((t==null?void 0:t.bio)||"Film enthusiast and content creator. I love sharing my passion for cinema with everyone!"),l=()=>t!=null&&t.name?t.name.charAt(0).toUpperCase():i.charAt(0).toUpperCase()||"U",[c]=lAe(),d=Zb(),f=async p=>{var g,y,b;p.preventDefault(),r(!0);try{const x=await c({name:i,bio:s}).unwrap();if(x.success){const w=ID((g=x==null?void 0:x.data)==null?void 0:g.token);d(xH({user:w,token:(y=x==null?void 0:x.data)==null?void 0:y.token})),It.success(x.message||"Profile updated successfully")}else It.error(x.message||"Failed to update profile")}catch(x){It.error(((b=x==null?void 0:x.data)==null?void 0:b.message)||"Something went wrong")}finally{r(!1)}};return v.jsxs(es,{children:[v.jsx(oo,{}),v.jsxs(rs,{children:[v.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b border-gray-800/10 dark:border-gray-100/10 justify-between pe-4",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4",children:[v.jsx(ts,{className:" flex md:hidden -ml-1"}),v.jsx(ns,{children:v.jsxs(is,{children:[v.jsx(Cr,{className:"hidden md:block",children:v.jsxs(zi,{href:"/",children:[v.jsx("span",{className:"text-yellow-500 font-bold",children:"N"}),"Movies"]})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsx(Cr,{children:v.jsx(zi,{href:"/dashboard/my-dashboard",children:"Dashboard"})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsx(Cr,{children:v.jsx(lo,{children:"Edit Profile"})})]})})]}),v.jsx(co,{on:!0})]}),v.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6 overflow-auto",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Profile"}),v.jsx("p",{className:"text-muted-foreground",children:"Update your profile information and preferences"})]}),v.jsxs("form",{onSubmit:f,className:"space-y-6",children:[v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10 overflow-hidden",children:[v.jsxs("div",{className:"relative h-48 md:h-64 w-full bg-muted",children:[v.jsx("img",{src:uAe,alt:"Cover",className:"w-full h-full object-cover"}),v.jsxs("div",{className:"absolute bottom-4 right-4 opacity-60 cursor-not-allowed",children:[v.jsx("div",{className:"bg-black/70 text-white rounded-full p-2.5 transition-colors",children:v.jsx(Sk,{className:"h-5 w-5"})}),v.jsx("span",{className:"sr-only",children:"Cover image upload disabled"})]})]}),v.jsxs(fr,{className:"relative pt-12 md:pt-16",children:[v.jsx("div",{className:"absolute -top-12 left-6 md:-top-16 md:left-8",children:v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full overflow-hidden border-4 border-background bg-muted",children:n?v.jsx("img",{src:n,alt:"Avatar",className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-yellow-500 to-yellow-700",children:v.jsx("span",{className:"text-3xl md:text-5xl font-bold text-white",children:l()})})}),v.jsxs("div",{className:"absolute bottom-0 right-0 opacity-60 cursor-not-allowed",children:[v.jsx("div",{className:"bg-black/70 text-white rounded-full p-1.5 transition-colors",children:v.jsx(Sk,{className:"h-4 w-4"})}),v.jsx("span",{className:"sr-only",children:"Avatar upload disabled"})]})]})}),v.jsxs("div",{className:"pt-4 md:pt-6",children:[v.jsx("h2",{className:"text-xl font-semibold",children:(t==null?void 0:t.name)||"Your Name"}),v.jsxs("p",{className:"text-muted-foreground text-sm",children:["@",t!=null&&t.username?t.username:"username"]})]})]})]}),v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{children:[v.jsx(wr,{children:"Basic Information"}),v.jsx(Nn,{children:"Update your personal information"})]}),v.jsxs(fr,{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs(_t,{htmlFor:"name",children:["Full Name ",v.jsx("span",{className:"text-xs text-yellow-500",children:"(Editable)"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(TP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx(jr,{id:"name",className:"pl-9 border-yellow-500/30 focus-visible:ring-yellow-500/30",value:i,onChange:p=>a(p.target.value),placeholder:"Your full name"})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs(_t,{htmlFor:"username",children:["Username ",v.jsx("span",{className:"text-xs text-muted-foreground",children:"(Read-only)"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(hte,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx(jr,{id:"username",className:"pl-9 bg-muted/30",value:t&&"username"in t?t.username:"",disabled:!0,readOnly:!0,placeholder:"Your username"})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs(_t,{htmlFor:"email",children:["Email Address ",v.jsx("span",{className:"text-xs text-muted-foreground",children:"(Read-only)"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(tre,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx(jr,{id:"email",type:"email",className:"pl-9 bg-muted/30",value:(t==null?void 0:t.email)||"",disabled:!0,readOnly:!0,placeholder:"Your email address"})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs(_t,{htmlFor:"location",children:["Location ",v.jsx("span",{className:"text-xs text-muted-foreground",children:"(Read-only)"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(nre,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx(jr,{id:"location",className:"pl-9 bg-muted/30",defaultValue:"New York, USA",disabled:!0,readOnly:!0,placeholder:"Your location"})]})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs(_t,{htmlFor:"bio",children:["Bio ",v.jsx("span",{className:"text-xs text-yellow-500",children:"(Editable)"})]}),v.jsx(Ym,{id:"bio",placeholder:"Tell others about yourself",className:"min-h-[120px] resize-none border-yellow-500/30 focus-visible:ring-yellow-500/30",value:s,onChange:p=>o(p.target.value)})]})]})]}),v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{children:[v.jsx(wr,{children:"Social Links"}),v.jsxs(Nn,{children:["Social media accounts ",v.jsx("span",{className:"text-xs text-muted-foreground",children:"(Read-only)"})]})]}),v.jsx(fr,{className:"space-y-4",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsx(_t,{htmlFor:"website",children:"Personal Website"}),v.jsxs("div",{className:"relative",children:[v.jsx(Zte,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx(jr,{id:"website",className:"pl-9 bg-muted/30",placeholder:"https://yourwebsite.com",disabled:!0,readOnly:!0})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx(_t,{htmlFor:"twitter",children:"X (Twitter)"}),v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm font-bold",children:""}),v.jsx(jr,{id:"twitter",className:"pl-9 bg-muted/30",placeholder:"@username",disabled:!0,readOnly:!0})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx(_t,{htmlFor:"instagram",children:"Instagram"}),v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg",children:"IG"}),v.jsx(jr,{id:"instagram",className:"pl-9 bg-muted/30",placeholder:"username",disabled:!0,readOnly:!0})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx(_t,{htmlFor:"youtube",children:"YouTube"}),v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:"YT"}),v.jsx(jr,{id:"youtube",className:"pl-9 bg-muted/30",placeholder:"channel name",disabled:!0,readOnly:!0})]})]})]})})]}),v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{children:[v.jsx(wr,{children:"Email Preferences"}),v.jsxs(Nn,{children:["Email notification settings ",v.jsx("span",{className:"text-xs text-muted-foreground",children:"(Read-only)"})]})]}),v.jsx(fr,{children:v.jsx("div",{className:"space-y-3 opacity-80",children:["comments","subscribers","videos","newsletter"].map(p=>v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium capitalize",children:p==="videos"?"New Video Alerts":p==="newsletter"?"Monthly Newsletter":`${p.charAt(0).toUpperCase()+p.slice(1)} Notifications`}),v.jsxs("p",{className:"text-muted-foreground text-sm",children:[p==="comments"&&"Receive emails when someone comments on your videos",p==="subscribers"&&"Get notified when someone subscribes to your channel",p==="videos"&&"Be alerted about trending videos in your category",p==="newsletter"&&"Receive our monthly newsletter with tips and updates"]})]}),v.jsx("div",{className:"flex items-center h-6 w-11 rounded-full bg-muted p-1 cursor-not-allowed",role:"checkbox","aria-checked":"true","aria-disabled":"true",children:v.jsx("div",{className:"h-4 w-4 rounded-full bg-yellow-500/70 transition-all duration-200"})})]},p))})})]}),v.jsx("div",{className:"flex justify-end",children:v.jsxs(dt,{type:"submit",className:"bg-yellow-500 hover:bg-yellow-600 text-black",disabled:e,children:[v.jsx(fre,{className:"mr-2 h-4 w-4"}),e?"Saving Changes...":"Save Changes"]})})]})]})]})]})}function qs(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function PL(t,e=[]){let r=[];function n(a,s){const o=A.createContext(s),l=r.length;r=[...r,s];const c=f=>{var w;const{scope:p,children:g,...y}=f,b=((w=p==null?void 0:p[t])==null?void 0:w[l])||o,x=A.useMemo(()=>y,Object.values(y));return v.jsx(b.Provider,{value:x,children:g})};c.displayName=a+"Provider";function d(f,p){var b;const g=((b=p==null?void 0:p[t])==null?void 0:b[l])||o,y=A.useContext(g);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(s=>A.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,fAe(i,...e)]}function fAe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function xB(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hAe(...t){return e=>{let r=!1;const n=t.map(i=>{const a=xB(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():xB(t[i],null)}}}}function L0(...t){return A.useCallback(hAe(...t),t)}function pAe(t){const e=t+"CollectionProvider",[r,n]=PL(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:x,children:w}=b,E=W.useRef(null),T=W.useRef(new Map).current;return v.jsx(i,{scope:x,itemMap:T,collectionRef:E,children:w})};s.displayName=e;const o=t+"CollectionSlot",l=gi(o),c=W.forwardRef((b,x)=>{const{scope:w,children:E}=b,T=a(o,w),O=L0(x,T.collectionRef);return v.jsx(l,{ref:O,children:E})});c.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=gi(d),g=W.forwardRef((b,x)=>{const{scope:w,children:E,...T}=b,O=W.useRef(null),_=L0(x,O),P=a(d,w);return W.useEffect(()=>(P.itemMap.set(O,{ref:O,...T}),()=>void P.itemMap.delete(O))),v.jsx(p,{[f]:"",ref:_,children:E})});g.displayName=d;function y(b){const x=a(t+"CollectionConsumer",b);return W.useCallback(()=>{const E=x.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((P,R)=>T.indexOf(P.ref.current)-T.indexOf(R.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},y,n]}var I0=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},mAe=Ki[" useId ".trim().toString()]||(()=>{}),gAe=0;function MW(t){const[e,r]=A.useState(mAe());return I0(()=>{r(n=>n??String(gAe++))},[t]),e?`radix-${e}`:""}var vAe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yf=vAe.reduce((t,e)=>{const r=gi(`Primitive.${e}`),n=A.forwardRef((i,a)=>{const{asChild:s,...o}=i,l=s?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function yAe(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var bAe=Ki[" useInsertionEffect ".trim().toString()]||I0;function NW({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,s]=xAe({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const d=A.useRef(t!==void 0);A.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const c=A.useCallback(d=>{var f;if(o){const p=SAe(d)?d(t):d;p!==t&&((f=s.current)==null||f.call(s,p))}else a(d)},[o,t,a,s]);return[l,c]}function xAe({defaultProp:t,onChange:e}){const[r,n]=A.useState(t),i=A.useRef(r),a=A.useRef(e);return bAe(()=>{a.current=e},[e]),A.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function SAe(t){return typeof t=="function"}var wAe=A.createContext(void 0);function kW(t){const e=A.useContext(wAe);return t||e||"ltr"}var R1="rovingFocusGroup.onEntryFocus",EAe={bubbles:!1,cancelable:!0},Jm="RovingFocusGroup",[QR,jW,TAe]=pAe(Jm),[AAe,$W]=PL(Jm,[TAe]),[_Ae,OAe]=AAe(Jm),FW=A.forwardRef((t,e)=>v.jsx(QR.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(QR.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(RAe,{...t,ref:e})})}));FW.displayName=Jm;var RAe=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=A.useRef(null),g=L0(e,p),y=kW(a),[b,x]=NW({prop:s,defaultProp:o??null,onChange:l,caller:Jm}),[w,E]=A.useState(!1),T=yAe(c),O=jW(r),_=A.useRef(!1),[P,R]=A.useState(0);return A.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(R1,T),()=>D.removeEventListener(R1,T)},[T]),v.jsx(_Ae,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:b,onItemFocus:A.useCallback(D=>x(D),[x]),onItemShiftTab:A.useCallback(()=>E(!0),[]),onFocusableItemAdd:A.useCallback(()=>R(D=>D+1),[]),onFocusableItemRemove:A.useCallback(()=>R(D=>D-1),[]),children:v.jsx(yf.div,{tabIndex:w||P===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:qs(t.onMouseDown,()=>{_.current=!0}),onFocus:qs(t.onFocus,D=>{const I=!_.current;if(D.target===D.currentTarget&&I&&!w){const M=new CustomEvent(R1,EAe);if(D.currentTarget.dispatchEvent(M),!M.defaultPrevented){const N=O().filter(j=>j.focusable),k=N.find(j=>j.active),F=N.find(j=>j.id===b),z=[k,F,...N].filter(Boolean).map(j=>j.ref.current);GW(z,d)}}_.current=!1}),onBlur:qs(t.onBlur,()=>E(!1))})})}),BW="RovingFocusGroupItem",UW=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...o}=t,l=MW(),c=a||l,d=OAe(BW,r),f=d.currentTabStopId===c,p=jW(r),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:b}=d;return A.useEffect(()=>{if(n)return g(),()=>y()},[n,g,y]),v.jsx(QR.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:v.jsx(yf.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:qs(t.onMouseDown,x=>{n?d.onItemFocus(c):x.preventDefault()}),onFocus:qs(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:qs(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=DAe(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=p().filter(O=>O.focusable).map(O=>O.ref.current);if(w==="last")T.reverse();else if(w==="prev"||w==="next"){w==="prev"&&T.reverse();const O=T.indexOf(x.currentTarget);T=d.loop?LAe(T,O+1):T.slice(O+1)}setTimeout(()=>GW(T))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:b!=null}):s})})});UW.displayName=BW;var CAe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PAe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function DAe(t,e,r){const n=PAe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return CAe[n]}function GW(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function LAe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var IAe=FW,MAe=UW;function NAe(t,e){return A.useReducer((r,n)=>e[r][n]??r,t)}var zW=t=>{const{present:e,children:r}=t,n=kAe(e),i=typeof r=="function"?r({present:n.isPresent}):A.Children.only(r),a=L0(n.ref,jAe(i));return typeof r=="function"||n.isPresent?A.cloneElement(i,{ref:a}):null};zW.displayName="Presence";function kAe(t){const[e,r]=A.useState(),n=A.useRef(null),i=A.useRef(t),a=A.useRef("none"),s=t?"mounted":"unmounted",[o,l]=NAe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=Jv(n.current);a.current=o==="mounted"?c:"none"},[o]),I0(()=>{const c=n.current,d=i.current;if(d!==t){const p=a.current,g=Jv(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),I0(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const b=Jv(n.current).includes(g.animationName);if(g.target===e&&b&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=g=>{g.target===e&&(a.current=Jv(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:A.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Jv(t){return(t==null?void 0:t.animationName)||"none"}function jAe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var gx="Tabs",[$Ae,S4e]=PL(gx,[$W]),VW=$W(),[FAe,DL]=$Ae(gx),qW=A.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=t,d=kW(o),[f,p]=NW({prop:n,onChange:i,defaultProp:a??"",caller:gx});return v.jsx(FAe,{scope:r,baseId:MW(),value:f,onValueChange:p,orientation:s,dir:d,activationMode:l,children:v.jsx(yf.div,{dir:d,"data-orientation":s,...c,ref:e})})});qW.displayName=gx;var HW="TabsList",KW=A.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=DL(HW,r),s=VW(r);return v.jsx(IAe,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:v.jsx(yf.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});KW.displayName=HW;var WW="TabsTrigger",YW=A.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,s=DL(WW,r),o=VW(r),l=ZW(s.baseId,n),c=JW(s.baseId,n),d=n===s.value;return v.jsx(MAe,{asChild:!0,...o,focusable:!i,active:d,children:v.jsx(yf.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:qs(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:qs(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:qs(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(n)})})})});YW.displayName=WW;var XW="TabsContent",QW=A.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=t,o=DL(XW,r),l=ZW(o.baseId,n),c=JW(o.baseId,n),d=n===o.value,f=A.useRef(d);return A.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),v.jsx(zW,{present:i||d,children:({present:p})=>v.jsx(yf.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&a})})});QW.displayName=XW;function ZW(t,e){return`${t}-trigger-${e}`}function JW(t,e){return`${t}-content-${e}`}var BAe=qW,eY=KW,tY=YW,rY=QW;const nY=BAe,LL=A.forwardRef(({className:t,...e},r)=>v.jsx(eY,{ref:r,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));LL.displayName=eY.displayName;const yd=A.forwardRef(({className:t,...e},r)=>v.jsx(tY,{ref:r,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));yd.displayName=tY.displayName;const bd=A.forwardRef(({className:t,...e},r)=>v.jsx(rY,{ref:r,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));bd.displayName=rY.displayName;const UAe=pa.injectEndpoints({endpoints:t=>({getDashboardStats:t.query({query:()=>({url:"/dashboard/admin/stats",method:"GET"}),providesTags:["adminVideos"]}),getAllVideos:t.query({query:()=>({url:"/dashboard/admin/all-videos",method:"GET"}),providesTags:["adminVideos"]}),getContentDistribution:t.query({query:()=>({url:"/dashboard/admin/content-distribution",method:"GET"}),providesTags:["adminVideos"]}),getPendingVideos:t.query({query:()=>({url:"/dashboard/admin/pending-videos",method:"GET"}),providesTags:["adminVideos"]}),changeVideoStatus:t.mutation({query:({videoId:e,status:r})=>({url:`/dashboard/admin/change-video-status/${e}`,method:"PATCH",body:{status:r}}),invalidatesTags:["adminVideos"]}),deleteVideo:t.mutation({query:e=>({url:`/dashboard/admin/delete-video/${e}`,method:"DELETE"}),invalidatesTags:["adminVideos"]}),approveVideo:t.mutation({query:e=>({url:`/dashboard/admin/approve-video/${e}`,method:"PATCH"}),invalidatesTags:["adminVideos","video","myVideosUser"]}),rejectVideo:t.mutation({query:e=>({url:`/dashboard/admin/reject-video/${e}`,method:"PATCH"}),invalidatesTags:["adminVideos","video","myVideosUser"]})})}),{useGetDashboardStatsQuery:GAe,useGetAllVideosQuery:zAe,useGetContentDistributionQuery:VAe,useChangeVideoStatusMutation:qAe,useGetPendingVideosQuery:HAe,useApproveVideoMutation:KAe,useRejectVideoMutation:WAe}=UAe,YAe=()=>{var i;const{data:t,isLoading:e,isError:r}=GAe(void 0);if(e)return v.jsx("div",{className:"flex justify-center items-center w-full py-10",children:v.jsx(Jo,{className:"h-8 w-8 animate-spin text-yellow-500"})});if(r)return v.jsx("div",{className:"flex justify-center items-center w-full py-6",children:v.jsxs("p",{className:"text-red-500 flex items-center",children:[v.jsx(cE,{className:"h-4 w-4 mr-2"})," Failed to load dashboard statistics"]})});const n=(i=t==null?void 0:t.data)==null?void 0:i.stats;return v.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(wr,{className:"text-sm font-medium",children:"Total Users"}),v.jsx(TP,{className:"h-4 w-4 text-muted-foreground"})]}),v.jsxs(fr,{children:[v.jsx("div",{className:"text-2xl font-bold",children:n==null?void 0:n.users.total.toLocaleString()}),v.jsxs("p",{className:`text-xs flex items-center mt-1 ${(n==null?void 0:n.users.growthPercent)>0?"text-green-500":"text-red-500"}`,children:[v.jsx(DO,{className:"h-3 w-3 mr-1"}),(n==null?void 0:n.users.growthPercent)>0?"+":"",n==null?void 0:n.users.growthPercent,"% from last month"]})]})]}),v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(wr,{className:"text-sm font-medium",children:"Total Content"}),v.jsx(jy,{className:"h-4 w-4 text-muted-foreground"})]}),v.jsxs(fr,{children:[v.jsx("div",{className:"text-2xl font-bold",children:n==null?void 0:n.videos.total.toLocaleString()}),v.jsxs("p",{className:`text-xs flex items-center mt-1 ${(n==null?void 0:n.videos.growthPercent)>0?"text-green-500":"text-red-500"}`,children:[v.jsx(DO,{className:"h-3 w-3 mr-1"}),(n==null?void 0:n.videos.growthPercent)>0?"+":"",n==null?void 0:n.videos.growthPercent,"% from last month"]})]})]}),v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(wr,{className:"text-sm font-medium",children:"Pending Approval"}),v.jsx(cE,{className:"h-4 w-4 text-muted-foreground"})]}),v.jsxs(fr,{children:[v.jsx("div",{className:"text-2xl font-bold",children:n==null?void 0:n.pending.total}),v.jsxs("p",{className:"text-xs text-yellow-500 flex items-center mt-1",children:[v.jsx(wP,{className:"h-3 w-3 mr-1"}),n==null?void 0:n.pending.urgent," need urgent review"]})]})]}),v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(wr,{className:"text-sm font-medium",children:"Reported Content"}),v.jsx(Gte,{className:"h-4 w-4 text-muted-foreground"})]}),v.jsxs(fr,{children:[v.jsx("div",{className:"text-2xl font-bold",children:n==null?void 0:n.reported.total}),v.jsxs("p",{className:"text-xs text-red-500 flex items-center mt-1",children:[v.jsx(cE,{className:"h-3 w-3 mr-1"}),n==null?void 0:n.reported.highPriority," high priority"]})]})]})]})};function XAe(t,e=[]){let r=[];function n(a,s){const o=A.createContext(s),l=r.length;r=[...r,s];const c=f=>{var w;const{scope:p,children:g,...y}=f,b=((w=p==null?void 0:p[t])==null?void 0:w[l])||o,x=A.useMemo(()=>y,Object.values(y));return v.jsx(b.Provider,{value:x,children:g})};c.displayName=a+"Provider";function d(f,p){var b;const g=((b=p==null?void 0:p[t])==null?void 0:b[l])||o,y=A.useContext(g);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(s=>A.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return A.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,QAe(i,...e)]}function QAe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...o,...f}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function SB(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ZAe(...t){return e=>{let r=!1;const n=t.map(i=>{const a=SB(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():SB(t[i],null)}}}}function iY(...t){return A.useCallback(ZAe(...t),t)}function JAe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var aY="AlertDialog",[e_e,w4e]=XAe(aY,[az]),fo=az(),sY=t=>{const{__scopeAlertDialog:e,...r}=t,n=fo(e);return v.jsx(jP,{...n,...r,modal:!0})};sY.displayName=aY;var t_e="AlertDialogTrigger",r_e=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=fo(r);return v.jsx(Sz,{...i,...n,ref:e})});r_e.displayName=t_e;var n_e="AlertDialogPortal",oY=t=>{const{__scopeAlertDialog:e,...r}=t,n=fo(e);return v.jsx($P,{...n,...r})};oY.displayName=n_e;var i_e="AlertDialogOverlay",lY=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=fo(r);return v.jsx(Lm,{...i,...n,ref:e})});lY.displayName=i_e;var xd="AlertDialogContent",[a_e,s_e]=e_e(xd),o_e=rne("AlertDialogContent"),cY=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=fo(r),s=A.useRef(null),o=iY(e,s),l=A.useRef(null);return v.jsx(xae,{contentName:xd,titleName:uY,docsSlug:"alert-dialog",children:v.jsx(a_e,{scope:r,cancelRef:l,children:v.jsxs(Im,{role:"alertdialog",...a,...i,ref:o,onOpenAutoFocus:JAe(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[v.jsx(o_e,{children:n}),v.jsx(c_e,{contentRef:s})]})})})});cY.displayName=xd;var uY="AlertDialogTitle",dY=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=fo(r);return v.jsx(Mm,{...i,...n,ref:e})});dY.displayName=uY;var fY="AlertDialogDescription",hY=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=fo(r);return v.jsx(Nm,{...i,...n,ref:e})});hY.displayName=fY;var l_e="AlertDialogAction",pY=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=fo(r);return v.jsx($b,{...i,...n,ref:e})});pY.displayName=l_e;var mY="AlertDialogCancel",gY=A.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=s_e(mY,r),a=fo(r),s=iY(e,i);return v.jsx($b,{...a,...n,ref:s})});gY.displayName=mY;var c_e=({contentRef:t})=>{const e=`\`${xd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xd}\` by passing a \`${fY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},u_e=sY,d_e=oY,vY=lY,yY=cY,bY=pY,xY=gY,SY=dY,wY=hY;const EY=u_e,f_e=d_e,TY=A.forwardRef(({className:t,...e},r)=>v.jsx(vY,{className:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));TY.displayName=vY.displayName;const IL=A.forwardRef(({className:t,...e},r)=>v.jsxs(f_e,{children:[v.jsx(TY,{}),v.jsx(yY,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));IL.displayName=yY.displayName;const ML=({className:t,...e})=>v.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",t),...e});ML.displayName="AlertDialogHeader";const NL=({className:t,...e})=>v.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});NL.displayName="AlertDialogFooter";const kL=A.forwardRef(({className:t,...e},r)=>v.jsx(SY,{ref:r,className:Le("text-lg font-semibold",t),...e}));kL.displayName=SY.displayName;const jL=A.forwardRef(({className:t,...e},r)=>v.jsx(wY,{ref:r,className:Le("text-sm text-muted-foreground",t),...e}));jL.displayName=wY.displayName;const $L=A.forwardRef(({className:t,...e},r)=>v.jsx(bY,{ref:r,className:Le(LP(),t),...e}));$L.displayName=bY.displayName;const FL=A.forwardRef(({className:t,...e},r)=>v.jsx(xY,{ref:r,className:Le(LP({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));FL.displayName=xY.displayName;const h_e=()=>{var w;const{data:t,isLoading:e}=zAe(void 0),r=((w=t==null?void 0:t.data)==null?void 0:w.videos)||[],[n,{isLoading:i}]=qAe(),[a,s]=A.useState(!1),[o,l]=A.useState(!1),[c,d]=A.useState(null),[f,p]=A.useState(""),g=E=>{d(E),p(E.status),s(!0)},y=E=>{d(E),l(!0)},b=async()=>{try{await n({videoId:c._id,status:f}).unwrap(),Lt.success(`Video status changed to ${f}`),s(!1)}catch(E){console.error("Failed to change status:",E),Lt.error("Failed to change video status")}},x=async()=>{try{Lt.success("Video deleted funtion disabled"),l(!1)}catch(E){console.error("Failed to delete video:",E),Lt.error("Failed to delete video")}};return e?v.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading videos..."}):v.jsxs(v.Fragment,{children:[v.jsx(bd,{value:"videos",className:"space-y-4",children:v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsx(Sr,{children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx(wr,{children:"Video Management"}),v.jsx(Nn,{children:"View and manage all platform videos"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx(Lb,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),v.jsx(jr,{type:"search",placeholder:"Search videos...",className:"w-[200px] pl-8"})]}),v.jsxs(dt,{size:"sm",variant:"outline",className:"gap-1",children:[v.jsx(EG,{className:"h-4 w-4"}),"Filter"]}),v.jsxs(dt,{size:"sm",variant:"outline",children:[v.jsx(Mte,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})}),v.jsx(fr,{children:v.jsx("div",{className:"rounded-md border",children:v.jsxs("table",{className:"w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b bg-muted/50 text-muted-foreground",children:[v.jsx("th",{className:"py-3 px-4 text-left font-medium w-1/4",children:"Title"}),v.jsx("th",{className:"py-3 px-4 text-left font-medium hidden md:table-cell w-1/6",children:"Uploader"}),v.jsx("th",{className:"py-3 px-4 text-left font-medium hidden lg:table-cell w-1/8",children:"Category"}),v.jsx("th",{className:"py-3 px-4 text-center font-medium hidden md:table-cell w-1/12",children:"Views"}),v.jsx("th",{className:"py-3 px-4 text-center font-medium hidden lg:table-cell w-1/12",children:"Ratings"}),v.jsx("th",{className:"py-3 px-4 text-left font-medium hidden md:table-cell w-1/8",children:"Status"}),v.jsx("th",{className:"py-3 px-4 text-center font-medium w-1/12",children:"Delete"})]})}),v.jsx("tbody",{children:r==null?void 0:r.map(E=>{var T,O,_;return v.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[v.jsxs("td",{className:"py-3 px-4",children:[v.jsx("div",{className:"font-medium",children:E==null?void 0:E.title}),v.jsx("div",{className:"text-muted-foreground text-xs md:hidden",children:E==null?void 0:E.duration})]}),v.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:(T=E==null?void 0:E.userId)==null?void 0:T.name}),v.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:E==null?void 0:E.category}),v.jsx("td",{className:"py-3 px-4 text-center hidden md:table-cell",children:(O=E==null?void 0:E.views)==null?void 0:O.toLocaleString()}),v.jsx("td",{className:"py-3 px-4 text-center hidden lg:table-cell",children:(_=E==null?void 0:E.ratings)==null?void 0:_.toLocaleString()}),v.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:v.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium cursor-pointer ${(E==null?void 0:E.status)==="Published"?"bg-green-400 text-black":(E==null?void 0:E.status)==="Pending"?"bg-yellow-400 text-black":(E==null?void 0:E.status)==="Under Review"?"bg-blue-400 text-black":(E==null?void 0:E.status)==="Rejected"?"bg-red-400 text-black":"bg-gray-500/10 text-gray-500"}`,onClick:()=>g(E),children:E==null?void 0:E.status})}),v.jsx("td",{className:"py-3 px-4 text-center",children:v.jsxs(dt,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-100/30",onClick:()=>y(E),children:[v.jsx($y,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Delete"})]})})]},E._id)})})]})})})]})}),v.jsx(Nd,{open:a,onOpenChange:s,children:v.jsxs(Uc,{className:"sm:max-w-[425px]",children:[v.jsxs(Gc,{children:[v.jsx(Vc,{children:"Change Video Status"}),v.jsxs(qc,{children:['Select a new status for "',c==null?void 0:c.title,'"']})]}),v.jsx("div",{className:"py-4",children:v.jsxs(OL,{value:f,onValueChange:p,className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Na,{value:"Published",id:"published"}),v.jsxs(_t,{htmlFor:"published",className:"flex items-center",children:[v.jsx("span",{className:"h-2 w-2 rounded-full bg-green-400 mr-2"}),"Published"]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Na,{value:"Pending",id:"pending"}),v.jsxs(_t,{htmlFor:"pending",className:"flex items-center",children:[v.jsx("span",{className:"h-2 w-2 rounded-full bg-yellow-400 mr-2"}),"Pending"]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Na,{value:"Under Review",id:"under-review"}),v.jsxs(_t,{htmlFor:"under-review",className:"flex items-center",children:[v.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-400 mr-2"}),"Under Review"]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(Na,{value:"Rejected",id:"rejected"}),v.jsxs(_t,{htmlFor:"rejected",className:"flex items-center",children:[v.jsx("span",{className:"h-2 w-2 rounded-full bg-red-400 mr-2"}),"Rejected"]})]})]})}),v.jsxs(zc,{children:[v.jsx(dt,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),v.jsx(dt,{onClick:b,disabled:i||f===(c==null?void 0:c.status),children:i?"Saving...":"Save Changes"})]})]})}),v.jsx(EY,{open:o,onOpenChange:l,children:v.jsxs(IL,{children:[v.jsxs(ML,{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(kL,{children:"Are you absolutely sure?"}),v.jsx(Ate,{className:"text-yellow-500"})]}),v.jsx(jL,{children:"This is a portfolio project, so the delete function of admin part is disabled. Other edits, changes, and features are functional for admin. Because admin password is open to everyone for testing purposes."})]}),v.jsxs(NL,{children:[v.jsx(FL,{children:"Cancel"}),v.jsx($L,{className:"text-white bg-red-500 hover:bg-red-600",onClick:x,children:"Delete Video"})]})]})})]})},p_e=pa.injectEndpoints({endpoints:t=>({getAllUsers:t.query({query:(e={})=>{const r=new URLSearchParams;e.page&&r.append("page",e.page),e.limit&&r.append("limit",e.limit),e.search&&r.append("search",e.search);const n=r.toString();return{url:`/dashboard/admin/users/all-users${n?`?${n}`:""}`,method:"GET"}},providesTags:["user"]}),updateUserStatus:t.mutation({query:({userId:e,status:r})=>({url:`/dashboard/admin/users/update-user-status/${e}`,method:"PATCH",body:{status:r}}),invalidatesTags:["user"]}),updateUserRole:t.mutation({query:({userId:e,role:r})=>({url:`/dashboard/admin/users/update-user-role/${e}`,method:"PATCH",body:{role:r}}),invalidatesTags:["user"]}),deleteUser:t.mutation({query:e=>({url:`/dashboard/admin/users/delete-user/${e}`,method:"DELETE"}),invalidatesTags:["user"]})})}),{useGetAllUsersQuery:m_e,useUpdateUserStatusMutation:g_e,useUpdateUserRoleMutation:v_e,useDeleteUserMutation:y_e}=p_e,b_e=()=>{var F,U,z;const[t,e]=A.useState(""),[r,n]=A.useState(1),[i,a]=A.useState(10),[s,o]=A.useState(""),[l,c]=A.useState(null),[d,f]=A.useState({isOpen:!1,userId:"",currentRole:""}),[p,g]=A.useState(null),y=j=>{e(j),clearTimeout(Number(localStorage.getItem("searchTimeout")));const H=setTimeout(()=>{o(j),n(1)},500);localStorage.setItem("searchTimeout",H.toString())},{data:b,isLoading:x,isFetching:w,error:E}=m_e({page:r,limit:i,search:s}),[T,{isLoading:O}]=g_e(),[_,{isLoading:P}]=v_e(),[,{isLoading:R}]=y_e(),D=(j,H)=>{const V=H==="active"?"inactive":"active";try{T({userId:j,status:V}).unwrap().then(()=>{Lt.success(`User ${V==="active"?"activated":"deactivated"} successfully`)}).catch(()=>{Lt.error("Failed to update user status")})}catch{Lt.error("Failed to update user status")}},I=(j,H)=>{try{_({userId:j,role:H}).unwrap().then(()=>{Lt.success(`User role updated to ${H}`),f({isOpen:!1,userId:"",currentRole:""})}).catch(()=>{Lt.error("Failed to update user role")})}catch{Lt.error("Failed to update user role"),f({isOpen:!1,userId:"",currentRole:""})}},M=async()=>{if(l)try{Lt.success("User deleted funtion disabled"),c(null)}catch{Lt.error("Failed to delete user")}},N=()=>{r>1&&n(r-1)},k=()=>{b&&r<b.pagination.pages&&n(r+1)};return v.jsxs(bd,{value:"users",className:"space-y-4",children:[v.jsxs(sr,{className:"border border-gray-800/20 dark:border-gray-100/10",children:[v.jsx(Sr,{children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx(wr,{children:"User Management"}),v.jsx(Nn,{children:"View and manage user accounts"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx(Lb,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),v.jsx(jr,{type:"search",placeholder:"Search users...",className:"w-[200px] pl-8",value:t,onChange:j=>y(j.target.value)})]}),v.jsxs(m0,{value:i.toString(),onValueChange:j=>{a(Number(j)),n(1)},children:[v.jsx(Mp,{className:"w-[100px]",children:v.jsx(g0,{placeholder:"10 per page"})}),v.jsx(Np,{children:v.jsxs(ER,{children:[v.jsx(TR,{children:"Per Page"}),v.jsx(ji,{value:"5",children:"5"}),v.jsx(ji,{value:"10",children:"10"}),v.jsx(ji,{value:"20",children:"20"}),v.jsx(ji,{value:"50",children:"50"})]})})]})]})]})}),v.jsx(fr,{children:x?v.jsx("div",{className:"flex justify-center items-center py-10",children:v.jsx(Jo,{className:"h-8 w-8 animate-spin text-yellow-500"})}):E?v.jsx("div",{className:"text-center py-10 text-red-500",children:"Failed to load users. Please try again."}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"rounded-md border",children:v.jsxs("table",{className:"w-full text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b bg-muted/50 text-muted-foreground",children:[v.jsx("th",{className:"py-3 px-4 text-left font-medium",children:"Name"}),v.jsx("th",{className:"py-3 px-4 text-left font-medium hidden md:table-cell",children:"Email"}),v.jsx("th",{className:"py-3 px-4 text-left font-medium hidden lg:table-cell",children:"Role"}),v.jsx("th",{className:"py-3 px-4 text-left font-medium hidden md:table-cell",children:"Status"}),v.jsx("th",{className:"py-3 px-4 text-left font-medium hidden lg:table-cell",children:"Joined"}),v.jsx("th",{className:"py-3 px-4 text-right font-medium",children:"Actions"})]})}),v.jsxs("tbody",{children:[(U=(F=b==null?void 0:b.data)==null?void 0:F.users)==null?void 0:U.map(j=>v.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[v.jsxs("td",{className:"py-3 px-4",children:[v.jsx("div",{className:"font-medium",children:j.name}),v.jsx("div",{className:"text-muted-foreground text-xs md:hidden",children:j.email})]}),v.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:j.email}),v.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:v.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium ${j.role==="admin"?"bg-yellow-500/10 text-yellow-500":j.role==="premium"?"bg-blue-500/10 text-blue-500":"bg-gray-500/10 text-gray-500"}`,children:j.role.charAt(0).toUpperCase()+j.role.slice(1)})}),v.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:v.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium ${j.status==="active"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)})}),v.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:My(new Date(j.createdAt),"MMM dd, yyyy")}),v.jsx("td",{className:"py-3 px-4 text-right",children:v.jsxs(Qy,{open:p===j._id,onOpenChange:H=>{g(H?j._id:null)},children:[v.jsx(eR,{asChild:!0,children:v.jsx(dt,{variant:"ghost",className:"h-8 w-8 p-0",children:v.jsx(wG,{className:"h-4 w-4"})})}),v.jsxs(ED,{align:"end",className:"w-[160px]",children:[v.jsx(tH,{children:"Actions"}),v.jsx(rH,{}),v.jsxs(il,{onClick:()=>{g(null),setTimeout(()=>{f({isOpen:!0,userId:j._id,currentRole:j.role})},100)},children:[v.jsx(TG,{className:"h-4 w-4 mr-2"}),"Change Role"]}),v.jsx(il,{onClick:()=>{g(null),setTimeout(()=>{D(j._id,j.status)},100)},disabled:O,children:j.status==="active"?v.jsxs(v.Fragment,{children:[v.jsx(Pm,{className:"h-4 w-4 mr-2"}),"Deactivate"]}):v.jsxs(v.Fragment,{children:[v.jsx(Db,{className:"h-4 w-4 mr-2"}),"Activate"]})}),v.jsxs(il,{className:"text-red-500",onClick:()=>{g(null),setTimeout(()=>{c(j._id)},100)},children:[v.jsx($y,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},j._id)),((z=b==null?void 0:b.users)==null?void 0:z.length)===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:6,className:"py-10 text-center text-muted-foreground",children:"No users found"})})]})]})}),v.jsxs("div",{className:"flex items-center justify-between mt-4",children:[v.jsx("div",{className:"text-sm text-muted-foreground",children:(b==null?void 0:b.pagination)&&`Showing ${(r-1)*i+1}-${Math.min(r*i,b.pagination.total)} of ${b.pagination.total} users`}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(dt,{variant:"outline",size:"sm",disabled:r<=1||w,onClick:N,children:w?v.jsx(Jo,{className:"h-4 w-4 animate-spin"}):"Previous"}),v.jsx(dt,{variant:"outline",size:"sm",disabled:!(b!=null&&b.pagination)||r>=b.pagination.pages||w,onClick:k,children:w?v.jsx(Jo,{className:"h-4 w-4 animate-spin"}):"Next"})]})]})]})})]}),v.jsx(EY,{open:!!l,onOpenChange:j=>!j&&c(null),children:v.jsxs(IL,{children:[v.jsxs(ML,{children:[v.jsx(kL,{children:"Are you sure?"}),v.jsx(jL,{children:"This is a portfolio project, so the delete function of admin part is disabled. Other edits, changes, and features are functional for admin. Because admin password is open to everyone for testing purposes."})]}),v.jsxs(NL,{children:[v.jsx(FL,{children:"Cancel"}),v.jsxs($L,{onClick:M,disabled:R,className:"bg-red-500 hover:bg-red-600",children:[R?v.jsx(Jo,{className:"h-4 w-4 animate-spin mr-2"}):v.jsx($y,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})}),v.jsx(Nd,{open:d.isOpen,onOpenChange:j=>!j&&f({...d,isOpen:!1}),children:v.jsxs(Uc,{children:[v.jsxs(Gc,{children:[v.jsx(Vc,{children:"Change User Role"}),v.jsx(qc,{children:"Select a new role for this user. This will change their permissions."})]}),v.jsx("div",{className:"py-4",children:v.jsxs(m0,{value:d.currentRole,onValueChange:j=>f({...d,currentRole:j}),children:[v.jsx(Mp,{className:"w-full",children:v.jsx(g0,{placeholder:"Select role"})}),v.jsx(Np,{children:v.jsxs(ER,{children:[v.jsx(TR,{children:"Roles"}),v.jsx(ji,{value:"user",children:"User"}),v.jsx(ji,{value:"admin",children:"Admin"})]})})]})}),v.jsxs(zc,{children:[v.jsx(dt,{variant:"outline",onClick:()=>f({isOpen:!1,userId:"",currentRole:""}),children:"Cancel"}),v.jsxs(dt,{onClick:()=>I(d.userId,d.currentRole),disabled:P,className:"bg-yellow-500 hover:bg-yellow-600 text-black",children:[P?v.jsx(Jo,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Changes"]})]})]})})]})},x_e=()=>{var f;const[t,e]=A.useState(""),{data:r,isLoading:n,error:i}=HAe(void 0),[a]=KAe(),[s]=WAe(),l=(((f=r==null?void 0:r.data)==null?void 0:f.pendingVideos)||[]).filter(p=>p.title.toLowerCase().includes(t.toLowerCase())),c=async p=>{try{await a(p).unwrap(),It.success("Video approved successfully. The video is now publicly available.")}catch{It.error("Failed to approve video")}},d=async p=>{try{await s(p).unwrap(),It.success("Video rejected successfully. The creator will be notified.")}catch{It.error("Failed to reject video")}};return v.jsxs(sr,{className:"col-span-7 md:col-span-4 border border-gray-800/20 dark:border-gray-100/10",children:[v.jsx(Sr,{children:v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("div",{children:[v.jsx(wr,{children:"Pending Approval"}),v.jsx(Nn,{children:"Videos awaiting review before they become public"})]}),v.jsx("div",{className:"flex items-center",children:v.jsxs("div",{className:"relative",children:[v.jsx(Lb,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),v.jsx(jr,{type:"search",placeholder:"Search...",className:"w-[180px] pl-8",value:t,onChange:p=>e(p.target.value)})]})})]})}),v.jsxs(fr,{children:[n?v.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>v.jsxs("div",{className:"flex animate-pulse items-center gap-4 p-3 rounded-md border border-gray-800/10 dark:border-gray-100/10",children:[v.jsx("div",{className:"bg-muted w-16 h-16 rounded"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),v.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("div",{className:"bg-muted w-20 h-8 rounded"}),v.jsx("div",{className:"bg-muted w-20 h-8 rounded"})]})]},p))}):i?v.jsx("div",{className:"text-center py-4 text-red-500",children:"Failed to load pending videos"}):l.length===0?v.jsx("div",{className:"text-center py-4 text-muted-foreground",children:t?"No videos matching your search":"No pending videos found"}):v.jsx("div",{className:"space-y-4",children:l.map(p=>{var g;return v.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-md border border-gray-800/10 dark:border-gray-100/10 hover:bg-muted/20",children:[v.jsx("div",{className:"relative w-16 h-16 rounded overflow-hidden flex-shrink-0",children:v.jsx("img",{src:p.imgUrl,alt:p.title,className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"text-sm font-semibold truncate",children:p.title}),v.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-muted-foreground",children:[v.jsxs("div",{children:["By ",((g=p.userId)==null?void 0:g.name)||"Unknown"]}),v.jsx("div",{children:rAe(new Date(p.createdAt),{addSuffix:!0})})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(dt,{size:"sm",variant:"outline",className:"border-green-500 text-green-500 hover:bg-green-500/10",onClick:()=>c(p._id),children:[v.jsx(Db,{className:"h-4 w-4 mr-1"}),"Approve"]}),v.jsxs(dt,{size:"sm",variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-500/10",onClick:()=>d(p._id),children:[v.jsx(Pm,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},p._id)})}),l.length>5&&v.jsx("div",{className:"mt-4 text-center",children:v.jsx(dt,{variant:"link",className:"text-yellow-500",children:"View All Pending Content"})})]})]})},S_e=Dm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function C1({className:t,variant:e,...r}){return v.jsx("div",{className:Le(S_e({variant:e}),t),...r})}const w_e=()=>{var x,w,E,T,O;const[t,e]=A.useState(!1),[r,n]=A.useState(null),[i,a]=A.useState(""),{data:s,isLoading:o,refetch:l}=R1e(void 0),[c,{isLoading:d}]=C1e(),p=(((x=s==null?void 0:s.data)==null?void 0:x.reports)||[]).slice(0,4),g=_=>{n(_),a(_.status),e(!0)},y=async()=>{try{await c({reportId:r._id,status:i}).unwrap(),It.success(`Report status updated to ${i}`),e(!1),l()}catch{It.error("Failed to update report status")}},b=_=>{switch(_){case"Pending":return"bg-yellow-500 text-black";case"Reviewed":return"bg-blue-500 text-white";case"Resolved":return"bg-green-500 text-white";case"Dismissed":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}};return v.jsxs(v.Fragment,{children:[v.jsxs(sr,{className:"col-span-7 md:col-span-3 border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{children:[v.jsx(wr,{children:"Recent Reports"}),v.jsx(Nn,{children:"Flagged content and user complaints"})]}),v.jsxs(fr,{children:[o?v.jsx("div",{className:"flex justify-center items-center py-8",children:v.jsx(Jo,{className:"h-6 w-6 animate-spin text-yellow-500"})}):p.length===0?v.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No reports found"}):v.jsx("div",{className:"space-y-3",children:p.map(_=>{var P;return v.jsxs("div",{className:"flex items-start justify-between p-3 rounded-md border border-gray-800/10 dark:border-gray-100/10 hover:bg-muted/20",children:[v.jsxs("div",{className:"flex gap-3",children:[v.jsx("div",{className:"rounded-full bg-red-500/10 p-2",children:v.jsx(AH,{className:"h-4 w-4 text-red-500"})}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("h4",{className:"text-sm font-semibold",children:[_.type," Report"]}),v.jsx(C1,{className:b(_.status),children:_.status})]}),v.jsxs("p",{className:"text-xs mt-1",children:["Reason: ",_.reason]}),v.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Reported by ",((P=_.userId)==null?void 0:P.name)||"Unknown","  ",JK(_.createdAt)]})]})]}),v.jsx(dt,{size:"sm",variant:"ghost",className:"h-8",onClick:()=>g(_),children:v.jsx(ky,{className:"h-4 w-4"})})]},_._id)})}),v.jsx("div",{className:"mt-4 text-center",children:v.jsx(dt,{variant:"link",className:"text-yellow-500",onClick:()=>{},children:"View All Reports"})})]})]}),v.jsx(Nd,{open:t,onOpenChange:e,children:v.jsxs(Uc,{className:"max-w-md",children:[v.jsxs(Gc,{children:[v.jsx(Vc,{children:"Report Details"}),v.jsx(qc,{children:"Review the report and take appropriate action"})]}),r&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid gap-2",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"font-medium",children:"Report Type:"}),v.jsx(C1,{variant:"outline",className:"font-normal",children:r.type})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"font-medium",children:"Reason:"}),v.jsx("span",{children:r.reason})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"font-medium",children:"Status:"}),v.jsx(C1,{className:b(r.status),children:r.status})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"font-medium",children:"Reported by:"}),v.jsx("span",{children:((w=r.userId)==null?void 0:w.name)||"Unknown"})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"font-medium",children:"Date:"}),v.jsx("span",{children:new Date(r.createdAt).toLocaleString()})]})]}),r.description&&v.jsxs("div",{className:"mt-2",children:[v.jsx("span",{className:"font-medium",children:"Additional Details:"}),v.jsx("p",{className:"mt-1 text-sm border rounded p-2 bg-muted/20",children:r.description})]}),v.jsxs("div",{className:"border rounded p-3 bg-muted/10",children:[v.jsx("div",{className:"text-sm font-medium mb-2",children:"Reported Video:"}),v.jsxs("div",{className:"flex gap-3",children:[((E=r.videoId)==null?void 0:E.imgUrl)&&v.jsx("div",{className:"w-16 h-12 rounded overflow-hidden flex-shrink-0",children:v.jsx("img",{src:r.videoId.imgUrl,alt:r.videoId.title,className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"text-sm font-medium",children:((T=r.videoId)==null?void 0:T.title)||"Unknown Video"}),v.jsx("div",{className:"flex items-center gap-2 mt-1",children:v.jsxs(dt,{size:"sm",variant:"outline",className:"h-7 text-xs px-2",children:[v.jsx(jte,{className:"h-3 w-3 mr-1"}),v.jsx(Pd,{to:`/video/${(O=r.videoId)==null?void 0:O._id}`,target:"_blank",children:"View Video"})]})})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Update Status:"}),v.jsxs(m0,{value:i,onValueChange:a,children:[v.jsx(Mp,{className:"w-full",children:v.jsx(g0,{placeholder:"Select status"})}),v.jsx(Np,{children:v.jsxs(ER,{children:[v.jsx(ji,{value:"Pending",children:"Pending"}),v.jsx(ji,{value:"Reviewed",children:"Reviewed"}),v.jsx(ji,{value:"Resolved",children:"Resolved"}),v.jsx(ji,{value:"Dismissed",children:"Dismissed"})]})})]})]})]}),v.jsxs(zc,{children:[v.jsx(dt,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),v.jsx(dt,{variant:"default",onClick:y,disabled:d||(r==null?void 0:r.status)===i,children:d?"Updating...":"Update Status"})]})]})})]})};var P1,wB;function Zn(){if(wB)return P1;wB=1;var t=Array.isArray;return P1=t,P1}var D1,EB;function AY(){if(EB)return D1;EB=1;var t=typeof mv=="object"&&mv&&mv.Object===Object&&mv;return D1=t,D1}var L1,TB;function as(){if(TB)return L1;TB=1;var t=AY(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return L1=r,L1}var I1,AB;function eg(){if(AB)return I1;AB=1;var t=as(),e=t.Symbol;return I1=e,I1}var M1,_B;function E_e(){if(_B)return M1;_B=1;var t=eg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=r.call(s,i),l=s[i];try{s[i]=void 0;var c=!0}catch{}var d=n.call(s);return c&&(o?s[i]=l:delete s[i]),d}return M1=a,M1}var N1,OB;function T_e(){if(OB)return N1;OB=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return N1=r,N1}var k1,RB;function ho(){if(RB)return k1;RB=1;var t=eg(),e=E_e(),r=T_e(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?e(o):r(o)}return k1=s,k1}var j1,CB;function po(){if(CB)return j1;CB=1;function t(e){return e!=null&&typeof e=="object"}return j1=t,j1}var $1,PB;function bf(){if(PB)return $1;PB=1;var t=ho(),e=po(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return $1=n,$1}var F1,DB;function BL(){if(DB)return F1;DB=1;var t=Zn(),e=bf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return F1=i,F1}var B1,LB;function _l(){if(LB)return B1;LB=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return B1=t,B1}var U1,IB;function UL(){if(IB)return U1;IB=1;var t=ho(),e=_l(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==n||l==i||l==r||l==a}return U1=s,U1}var G1,MB;function A_e(){if(MB)return G1;MB=1;var t=as(),e=t["__core-js_shared__"];return G1=e,G1}var z1,NB;function __e(){if(NB)return z1;NB=1;var t=A_e(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return z1=r,z1}var V1,kB;function _Y(){if(kB)return V1;kB=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return V1=r,V1}var q1,jB;function O_e(){if(jB)return q1;jB=1;var t=UL(),e=__e(),r=_l(),n=_Y(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,c=o.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||e(p))return!1;var g=t(p)?d:a;return g.test(n(p))}return q1=f,q1}var H1,$B;function R_e(){if($B)return H1;$B=1;function t(e,r){return e==null?void 0:e[r]}return H1=t,H1}var K1,FB;function au(){if(FB)return K1;FB=1;var t=O_e(),e=R_e();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return K1=r,K1}var W1,BB;function vx(){if(BB)return W1;BB=1;var t=au(),e=t(Object,"create");return W1=e,W1}var Y1,UB;function C_e(){if(UB)return Y1;UB=1;var t=vx();function e(){this.__data__=t?t(null):{},this.size=0}return Y1=e,Y1}var X1,GB;function P_e(){if(GB)return X1;GB=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return X1=t,X1}var Q1,zB;function D_e(){if(zB)return Q1;zB=1;var t=vx(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return n.call(s,a)?s[a]:void 0}return Q1=i,Q1}var Z1,VB;function L_e(){if(VB)return Z1;VB=1;var t=vx(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Z1=n,Z1}var J1,qB;function I_e(){if(qB)return J1;qB=1;var t=vx(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return J1=r,J1}var eT,HB;function M_e(){if(HB)return eT;HB=1;var t=C_e(),e=P_e(),r=D_e(),n=L_e(),i=I_e();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,eT=a,eT}var tT,KB;function N_e(){if(KB)return tT;KB=1;function t(){this.__data__=[],this.size=0}return tT=t,tT}var rT,WB;function GL(){if(WB)return rT;WB=1;function t(e,r){return e===r||e!==e&&r!==r}return rT=t,rT}var nT,YB;function yx(){if(YB)return nT;YB=1;var t=GL();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return nT=e,nT}var iT,XB;function k_e(){if(XB)return iT;XB=1;var t=yx(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return iT=n,iT}var aT,QB;function j_e(){if(QB)return aT;QB=1;var t=yx();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return aT=e,aT}var sT,ZB;function $_e(){if(ZB)return sT;ZB=1;var t=yx();function e(r){return t(this.__data__,r)>-1}return sT=e,sT}var oT,JB;function F_e(){if(JB)return oT;JB=1;var t=yx();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return oT=e,oT}var lT,eU;function bx(){if(eU)return lT;eU=1;var t=N_e(),e=k_e(),r=j_e(),n=$_e(),i=F_e();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,lT=a,lT}var cT,tU;function zL(){if(tU)return cT;tU=1;var t=au(),e=as(),r=t(e,"Map");return cT=r,cT}var uT,rU;function B_e(){if(rU)return uT;rU=1;var t=M_e(),e=bx(),r=zL();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return uT=n,uT}var dT,nU;function U_e(){if(nU)return dT;nU=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return dT=t,dT}var fT,iU;function xx(){if(iU)return fT;iU=1;var t=U_e();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return fT=e,fT}var hT,aU;function G_e(){if(aU)return hT;aU=1;var t=xx();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return hT=e,hT}var pT,sU;function z_e(){if(sU)return pT;sU=1;var t=xx();function e(r){return t(this,r).get(r)}return pT=e,pT}var mT,oU;function V_e(){if(oU)return mT;oU=1;var t=xx();function e(r){return t(this,r).has(r)}return mT=e,mT}var gT,lU;function q_e(){if(lU)return gT;lU=1;var t=xx();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return gT=e,gT}var vT,cU;function VL(){if(cU)return vT;cU=1;var t=B_e(),e=G_e(),r=z_e(),n=V_e(),i=q_e();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,vT=a,vT}var yT,uU;function OY(){if(uU)return yT;uU=1;var t=VL(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var c=n.apply(this,s);return a.cache=l.set(o,c)||l,c};return a.cache=new(r.Cache||t),a}return r.Cache=t,yT=r,yT}var bT,dU;function H_e(){if(dU)return bT;dU=1;var t=OY(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return bT=r,bT}var xT,fU;function K_e(){if(fU)return xT;fU=1;var t=H_e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,l,c){a.push(l?c.replace(r,"$1"):o||s)}),a});return xT=n,xT}var ST,hU;function qL(){if(hU)return ST;hU=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return ST=t,ST}var wT,pU;function W_e(){if(pU)return wT;pU=1;var t=eg(),e=qL(),r=Zn(),n=bf(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return a?a.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return wT=s,wT}var ET,mU;function RY(){if(mU)return ET;mU=1;var t=W_e();function e(r){return r==null?"":t(r)}return ET=e,ET}var TT,gU;function CY(){if(gU)return TT;gU=1;var t=Zn(),e=BL(),r=K_e(),n=RY();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return TT=i,TT}var AT,vU;function Sx(){if(vU)return AT;vU=1;var t=bf();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return AT=e,AT}var _T,yU;function HL(){if(yU)return _T;yU=1;var t=CY(),e=Sx();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return _T=r,_T}var OT,bU;function PY(){if(bU)return OT;bU=1;var t=HL();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return OT=e,OT}var Y_e=PY();const mi=$t(Y_e);var RT,xU;function X_e(){if(xU)return RT;xU=1;function t(e){return e==null}return RT=t,RT}var Q_e=X_e();const ft=$t(Q_e);var CT,SU;function Z_e(){if(SU)return CT;SU=1;var t=ho(),e=Zn(),r=po(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return CT=i,CT}var J_e=Z_e();const Kc=$t(J_e);var eOe=UL();const st=$t(eOe);var tOe=_l();const xf=$t(tOe);var PT={exports:{}},Ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wU;function rOe(){if(wU)return Ut;wU=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function b(x){if(typeof x=="object"&&x!==null){var w=x.$$typeof;switch(w){case t:switch(x=x.type,x){case r:case i:case n:case c:case d:return x;default:switch(x=x&&x.$$typeof,x){case o:case s:case l:case p:case f:case a:return x;default:return w}}case e:return w}}}return Ut.ContextConsumer=s,Ut.ContextProvider=a,Ut.Element=t,Ut.ForwardRef=l,Ut.Fragment=r,Ut.Lazy=p,Ut.Memo=f,Ut.Portal=e,Ut.Profiler=i,Ut.StrictMode=n,Ut.Suspense=c,Ut.SuspenseList=d,Ut.isAsyncMode=function(){return!1},Ut.isConcurrentMode=function(){return!1},Ut.isContextConsumer=function(x){return b(x)===s},Ut.isContextProvider=function(x){return b(x)===a},Ut.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Ut.isForwardRef=function(x){return b(x)===l},Ut.isFragment=function(x){return b(x)===r},Ut.isLazy=function(x){return b(x)===p},Ut.isMemo=function(x){return b(x)===f},Ut.isPortal=function(x){return b(x)===e},Ut.isProfiler=function(x){return b(x)===i},Ut.isStrictMode=function(x){return b(x)===n},Ut.isSuspense=function(x){return b(x)===c},Ut.isSuspenseList=function(x){return b(x)===d},Ut.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===c||x===d||x===g||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===f||x.$$typeof===a||x.$$typeof===s||x.$$typeof===l||x.$$typeof===y||x.getModuleId!==void 0)},Ut.typeOf=b,Ut}var EU;function nOe(){return EU||(EU=1,PT.exports=rOe()),PT.exports}var iOe=nOe(),DT,TU;function DY(){if(TU)return DT;TU=1;var t=ho(),e=po(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return DT=n,DT}var LT,AU;function aOe(){if(AU)return LT;AU=1;var t=DY();function e(r){return t(r)&&r!=+r}return LT=e,LT}var sOe=aOe();const Sf=$t(sOe);var oOe=DY();const lOe=$t(oOe);var Ln=function(e){return e===0?0:e>0?1:-1},xc=function(e){return Kc(e)&&e.indexOf("%")===e.length-1},De=function(e){return lOe(e)&&!Sf(e)},Wr=function(e){return De(e)||Kc(e)},cOe=0,wf=function(e){var r=++cOe;return"".concat(e||"").concat(r)},In=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&!Kc(e))return n;var a;if(xc(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Sf(a)&&(a=n),i&&a>r&&(a=r),a},rl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},uOe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Wn=function(e,r){return De(e)&&De(r)?function(n){return e+n*(r-e)}:function(){return r}};function M0(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):mi(n,e))===r})}var dOe=function(e,r){return De(e)&&De(r)?e-r:Kc(e)&&Kc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Sd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ZR(t){"@babel/helpers - typeof";return ZR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZR(t)}var fOe=["viewBox","children"],hOe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_U=["points","pathLength"],IT={svg:fOe,polygon:_U,polyline:_U},KL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],N0=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),!xf(n))return null;var i={};return Object.keys(n).forEach(function(a){KL.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},pOe=function(e,r,n){return function(i){return e(r,n,i),null}},Wc=function(e,r,n){if(!xf(e)||ZR(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];KL.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=pOe(s,r,n))}),i},mOe=["children"],gOe=["children"];function OU(t,e){if(t==null)return{};var r=vOe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JR(t){"@babel/helpers - typeof";return JR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JR(t)}var RU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},CU=null,MT=null,WL=function t(e){if(e===CU&&Array.isArray(MT))return MT;var r=[];return A.Children.forEach(e,function(n){ft(n)||(iOe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),MT=r,CU=e,r};function Ui(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Hs(i)}):n=[Hs(e)],WL(t).forEach(function(i){var a=mi(i,"type.displayName")||mi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function oi(t,e){var r=Ui(t,e);return r&&r[0]}var PU=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!De(n)||n<=0||!De(i)||i<=0)},yOe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bOe=function(e){return e&&e.type&&Kc(e.type)&&yOe.indexOf(e.type)>=0},xOe=function(e){return e&&JR(e)==="object"&&"clipDot"in e},SOe=function(e,r,n,i){var a,s=(a=IT==null?void 0:IT[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!st(e)&&(i&&s.includes(r)||hOe.includes(r))||n&&KL.includes(r)},Je=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(A.isValidElement(e)&&(i=e.props),!xf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;SOe((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},eC=function t(e,r){if(e===r)return!0;var n=A.Children.count(e);if(n!==A.Children.count(r))return!1;if(n===0)return!0;if(n===1)return DU(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!DU(a,s))return!1}return!0},DU=function(e,r){if(ft(e)&&ft(r))return!0;if(!ft(e)&&!ft(r)){var n=e.props||{},i=n.children,a=OU(n,mOe),s=r.props||{},o=s.children,l=OU(s,gOe);return i&&o?Sd(a,l)&&eC(i,o):!i&&!o?Sd(a,l):!1}return!1},LU=function(e,r){var n=[],i={};return WL(e).forEach(function(a,s){if(bOe(a))n.push(a);else if(a){var o=Hs(a.type),l=r[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var f=c(a,o,s);n.push(f),i[o]=!0}}}),n},wOe=function(e){var r=e&&e.type;return r&&RU[r]?RU[r]:null},EOe=function(e,r){return WL(r).indexOf(e)},TOe=["children","width","height","viewBox","className","style","title","desc"];function tC(){return tC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tC.apply(this,arguments)}function AOe(t,e){if(t==null)return{};var r=_Oe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Oe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rC(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=AOe(t,TOe),d=i||{width:r,height:n,x:0,y:0},f=ht("recharts-surface",a);return W.createElement("svg",tC({},Je(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,o),W.createElement("desc",null,l),e)}var OOe=["children","className"];function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nC.apply(this,arguments)}function ROe(t,e){if(t==null)return{};var r=COe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function COe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Dt=W.forwardRef(function(t,e){var r=t.children,n=t.className,i=ROe(t,OOe),a=ht("recharts-layer",n);return W.createElement("g",nC({className:a},Je(i,!0),{ref:e}),r)}),ma=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},NT,IU;function POe(){if(IU)return NT;IU=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return NT=t,NT}var kT,MU;function DOe(){if(MU)return kT;MU=1;var t=POe();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return kT=e,kT}var jT,NU;function LY(){if(NU)return jT;NU=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+i+a+"]");function l(c){return o.test(c)}return jT=l,jT}var $T,kU;function LOe(){if(kU)return $T;kU=1;function t(e){return e.split("")}return $T=t,$T}var FT,jU;function IOe(){if(jU)return FT;jU=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+l+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",y=c+"?",b="["+a+"]?",x="(?:"+g+"(?:"+[d,f,p].join("|")+")"+b+y+")*",w=b+y+x,E="(?:"+[d+o+"?",o,f,p,s].join("|")+")",T=RegExp(l+"(?="+l+")|"+E+w,"g");function O(_){return _.match(T)||[]}return FT=O,FT}var BT,$U;function MOe(){if($U)return BT;$U=1;var t=LOe(),e=LY(),r=IOe();function n(i){return e(i)?r(i):t(i)}return BT=n,BT}var UT,FU;function NOe(){if(FU)return UT;FU=1;var t=DOe(),e=LY(),r=MOe(),n=RY();function i(a){return function(s){s=n(s);var o=e(s)?r(s):void 0,l=o?o[0]:s.charAt(0),c=o?t(o,1).join(""):s.slice(1);return l[a]()+c}}return UT=i,UT}var GT,BU;function kOe(){if(BU)return GT;BU=1;var t=NOe(),e=t("toUpperCase");return GT=e,GT}var jOe=kOe();const wx=$t(jOe);function ar(t){return function(){return t}}const IY=Math.cos,k0=Math.sin,Sa=Math.sqrt,j0=Math.PI,Ex=2*j0,iC=Math.PI,aC=2*iC,fc=1e-6,$Oe=aC-fc;function MY(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function FOe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return MY;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class BOe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MY:FOe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,c=i-r,d=s-e,f=o-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>fc)if(!(Math.abs(f*l-c*d)>fc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-s,y=i-o,b=l*l+c*c,x=g*g+y*y,w=Math.sqrt(b),E=Math.sqrt(p),T=a*Math.tan((iC-Math.acos((b+p-x)/(2*w*E)))/2),O=T/E,_=T/w;Math.abs(O-1)>fc&&this._append`L${e+O*d},${r+O*f}`,this._append`A${a},${a},0,0,${+(f*g>d*y)},${this._x1=e+_*l},${this._y1=r+_*c}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,d=r+l,f=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>fc||Math.abs(this._y1-d)>fc)&&this._append`L${c},${d}`,n&&(p<0&&(p=p%aC+aC),p>$Oe?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:p>fc&&this._append`A${n},${n},0,${+(p>=iC)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function YL(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new BOe(e)}function XL(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function NY(t){this._context=t}NY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Tx(t){return new NY(t)}function kY(t){return t[0]}function jY(t){return t[1]}function $Y(t,e){var r=ar(!0),n=null,i=Tx,a=null,s=YL(o);t=typeof t=="function"?t:t===void 0?kY:ar(t),e=typeof e=="function"?e:e===void 0?jY:ar(e);function o(l){var c,d=(l=XL(l)).length,f,p=!1,g;for(n==null&&(a=i(g=s())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,c,l),+e(f,c,l));if(g)return a=null,g+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:ar(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:ar(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ar(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function ey(t,e,r){var n=null,i=ar(!0),a=null,s=Tx,o=null,l=YL(c);t=typeof t=="function"?t:t===void 0?kY:ar(+t),e=typeof e=="function"?e:ar(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jY:ar(+r);function c(f){var p,g,y,b=(f=XL(f)).length,x,w=!1,E,T=new Array(b),O=new Array(b);for(a==null&&(o=s(E=l())),p=0;p<=b;++p){if(!(p<b&&i(x=f[p],p,f))===w)if(w=!w)g=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=g;--y)o.point(T[y],O[y]);o.lineEnd(),o.areaEnd()}w&&(T[p]=+t(x,p,f),O[p]=+e(x,p,f),o.point(n?+n(x,p,f):T[p],r?+r(x,p,f):O[p]))}if(E)return o=null,E+""||null}function d(){return $Y().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ar(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ar(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(r)},c.lineX1=function(){return d().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ar(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class FY{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function UOe(t){return new FY(t,!0)}function GOe(t){return new FY(t,!1)}const QL={draw(t,e){const r=Sa(e/j0);t.moveTo(r,0),t.arc(0,0,r,0,Ex)}},zOe={draw(t,e){const r=Sa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},BY=Sa(1/3),VOe=BY*2,qOe={draw(t,e){const r=Sa(e/VOe),n=r*BY;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},HOe={draw(t,e){const r=Sa(e),n=-r/2;t.rect(n,n,r,r)}},KOe=.8908130915292852,UY=k0(j0/10)/k0(7*j0/10),WOe=k0(Ex/10)*UY,YOe=-IY(Ex/10)*UY,XOe={draw(t,e){const r=Sa(e*KOe),n=WOe*r,i=YOe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Ex*a/5,o=IY(s),l=k0(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},zT=Sa(3),QOe={draw(t,e){const r=-Sa(e/(zT*3));t.moveTo(0,r*2),t.lineTo(-zT*r,-r),t.lineTo(zT*r,-r),t.closePath()}},Li=-.5,Ii=Sa(3)/2,sC=1/Sa(12),ZOe=(sC/2+1)*3,JOe={draw(t,e){const r=Sa(e/ZOe),n=r/2,i=r*sC,a=n,s=r*sC+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Li*n-Ii*i,Ii*n+Li*i),t.lineTo(Li*a-Ii*s,Ii*a+Li*s),t.lineTo(Li*o-Ii*l,Ii*o+Li*l),t.lineTo(Li*n+Ii*i,Li*i-Ii*n),t.lineTo(Li*a+Ii*s,Li*s-Ii*a),t.lineTo(Li*o+Ii*l,Li*l-Ii*o),t.closePath()}};function eRe(t,e){let r=null,n=YL(i);t=typeof t=="function"?t:ar(t||QL),e=typeof e=="function"?e:ar(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ar(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ar(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function $0(){}function F0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function GY(t){this._context=t}GY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:F0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:F0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tRe(t){return new GY(t)}function zY(t){this._context=t}zY.prototype={areaStart:$0,areaEnd:$0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:F0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rRe(t){return new zY(t)}function VY(t){this._context=t}VY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:F0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nRe(t){return new VY(t)}function qY(t){this._context=t}qY.prototype={areaStart:$0,areaEnd:$0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iRe(t){return new qY(t)}function UU(t){return t<0?-1:1}function GU(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(UU(a)+UU(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function zU(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function VT(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function B0(t){this._context=t}B0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:VT(this,this._t0,zU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,VT(this,zU(this,r=GU(this,t,e)),r);break;default:VT(this,this._t0,r=GU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function HY(t){this._context=new KY(t)}(HY.prototype=Object.create(B0.prototype)).point=function(t,e){B0.prototype.point.call(this,e,t)};function KY(t){this._context=t}KY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function aRe(t){return new B0(t)}function sRe(t){return new HY(t)}function WY(t){this._context=t}WY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=VU(t),i=VU(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function VU(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function oRe(t){return new WY(t)}function Ax(t,e){this._context=t,this._t=e}Ax.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function lRe(t){return new Ax(t,.5)}function cRe(t){return new Ax(t,0)}function uRe(t){return new Ax(t,1)}function kd(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function oC(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function dRe(t,e){return t[e]}function fRe(t){const e=[];return e.key=t,e}function hRe(){var t=ar([]),e=oC,r=kd,n=dRe;function i(a){var s=Array.from(t.apply(this,arguments),fRe),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,d=XL(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ar(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ar(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?oC:typeof a=="function"?a:ar(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??kd,i):r},i}function pRe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}kd(t,e)}}function mRe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}kd(t,e)}}function gRe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,p=d[n-1][1]||0,g=(f-p)/2,y=0;y<o;++y){var b=t[e[y]],x=b[n][1]||0,w=b[n-1][1]||0;g+=x-w}l+=f,c+=g*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,kd(t,e)}}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}var vRe=["type","size","sizeType"];function lC(){return lC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lC.apply(this,arguments)}function qU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qU(Object(r),!0).forEach(function(n){yRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yRe(t,e,r){return e=bRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bRe(t){var e=xRe(t,"string");return Hp(e)=="symbol"?e:e+""}function xRe(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SRe(t,e){if(t==null)return{};var r=wRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var YY={symbolCircle:QL,symbolCross:zOe,symbolDiamond:qOe,symbolSquare:HOe,symbolStar:XOe,symbolTriangle:QOe,symbolWye:JOe},ERe=Math.PI/180,TRe=function(e){var r="symbol".concat(wx(e));return YY[r]||QL},ARe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ERe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_Re=function(e,r){YY["symbol".concat(wx(e))]=r},ZL=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=SRe(e,vRe),c=HU(HU({},l),{},{type:n,size:a,sizeType:o}),d=function(){var x=TRe(n),w=eRe().type(x).size(ARe(a,o,n));return w()},f=c.className,p=c.cx,g=c.cy,y=Je(c,!0);return p===+p&&g===+g&&a===+a?W.createElement("path",lC({},y,{className:ht("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(g,")"),d:d()})):null};ZL.registerSymbol=_Re;function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cC.apply(this,arguments)}function KU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ORe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KU(Object(r),!0).forEach(function(n){Kp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QY(n.key),n)}}function PRe(t,e,r){return e&&CRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DRe(t,e,r){return e=U0(e),LRe(t,XY()?Reflect.construct(e,r||[],U0(t).constructor):e.apply(t,r))}function LRe(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IRe(t)}function IRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XY=function(){return!!t})()}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U0(t)}function MRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uC(t,e)}function uC(t,e){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uC(t,e)}function Kp(t,e,r){return e=QY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QY(t){var e=NRe(t,"string");return jd(e)=="symbol"?e:e+""}function NRe(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var na=32,JL=function(t){function e(){return RRe(this,e),DRe(this,e,arguments)}return MRe(e,t),PRe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=na/2,s=na/6,o=na/3,l=n.inactive?i:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:na,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(na,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(na/8,"h").concat(na,"v").concat(na*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var c=ORe({},n);return delete c.legendIcon,W.cloneElement(n.legendIcon,c)}return W.createElement(ZL,{fill:l,cx:a,cy:a,size:na,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:na,height:na},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,y){var b=g.formatter||l,x=ht(Kp(Kp({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=st(g.value)?null:g.value;ma(!st(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=g.inactive?c:g.color;return W.createElement("li",cC({className:x,style:f,key:"legend-item-".concat(y)},Wc(n.props,g,y)),W.createElement(rC,{width:s,height:s,viewBox:d,style:p},n.renderIcon(g)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},b?b(w,g,y):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(A.PureComponent);Kp(JL,"displayName","Legend");Kp(JL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qT,WU;function kRe(){if(WU)return qT;WU=1;var t=bx();function e(){this.__data__=new t,this.size=0}return qT=e,qT}var HT,YU;function jRe(){if(YU)return HT;YU=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return HT=t,HT}var KT,XU;function $Re(){if(XU)return KT;XU=1;function t(e){return this.__data__.get(e)}return KT=t,KT}var WT,QU;function FRe(){if(QU)return WT;QU=1;function t(e){return this.__data__.has(e)}return WT=t,WT}var YT,ZU;function BRe(){if(ZU)return YT;ZU=1;var t=bx(),e=zL(),r=VL(),n=200;function i(a,s){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<n-1)return l.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(l)}return o.set(a,s),this.size=o.size,this}return YT=i,YT}var XT,JU;function ZY(){if(JU)return XT;JU=1;var t=bx(),e=kRe(),r=jRe(),n=$Re(),i=FRe(),a=BRe();function s(o){var l=this.__data__=new t(o);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,XT=s,XT}var QT,e3;function URe(){if(e3)return QT;e3=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return QT=e,QT}var ZT,t3;function GRe(){if(t3)return ZT;t3=1;function t(e){return this.__data__.has(e)}return ZT=t,ZT}var JT,r3;function JY(){if(r3)return JT;r3=1;var t=VL(),e=URe(),r=GRe();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,JT=n,JT}var eA,n3;function eX(){if(n3)return eA;n3=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return eA=t,eA}var tA,i3;function tX(){if(i3)return tA;i3=1;function t(e,r){return e.has(r)}return tA=t,tA}var rA,a3;function rX(){if(a3)return rA;a3=1;var t=JY(),e=eX(),r=tX(),n=1,i=2;function a(s,o,l,c,d,f){var p=l&n,g=s.length,y=o.length;if(g!=y&&!(p&&y>g))return!1;var b=f.get(s),x=f.get(o);if(b&&x)return b==o&&x==s;var w=-1,E=!0,T=l&i?new t:void 0;for(f.set(s,o),f.set(o,s);++w<g;){var O=s[w],_=o[w];if(c)var P=p?c(_,O,w,o,s,f):c(O,_,w,s,o,f);if(P!==void 0){if(P)continue;E=!1;break}if(T){if(!e(o,function(R,D){if(!r(T,D)&&(O===R||d(O,R,l,c,f)))return T.push(D)})){E=!1;break}}else if(!(O===_||d(O,_,l,c,f))){E=!1;break}}return f.delete(s),f.delete(o),E}return rA=a,rA}var nA,s3;function zRe(){if(s3)return nA;s3=1;var t=as(),e=t.Uint8Array;return nA=e,nA}var iA,o3;function VRe(){if(o3)return iA;o3=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return iA=t,iA}var aA,l3;function eI(){if(l3)return aA;l3=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return aA=t,aA}var sA,c3;function qRe(){if(c3)return sA;c3=1;var t=eg(),e=zRe(),r=GL(),n=rX(),i=VRe(),a=eI(),s=1,o=2,l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",g="[object RegExp]",y="[object Set]",b="[object String]",x="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",T=t?t.prototype:void 0,O=T?T.valueOf:void 0;function _(P,R,D,I,M,N,k){switch(D){case E:if(P.byteLength!=R.byteLength||P.byteOffset!=R.byteOffset)return!1;P=P.buffer,R=R.buffer;case w:return!(P.byteLength!=R.byteLength||!N(new e(P),new e(R)));case l:case c:case p:return r(+P,+R);case d:return P.name==R.name&&P.message==R.message;case g:case b:return P==R+"";case f:var F=i;case y:var U=I&s;if(F||(F=a),P.size!=R.size&&!U)return!1;var z=k.get(P);if(z)return z==R;I|=o,k.set(P,R);var j=n(F(P),F(R),I,M,N,k);return k.delete(P),j;case x:if(O)return O.call(P)==O.call(R)}return!1}return sA=_,sA}var oA,u3;function nX(){if(u3)return oA;u3=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return oA=t,oA}var lA,d3;function HRe(){if(d3)return lA;d3=1;var t=nX(),e=Zn();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return lA=r,lA}var cA,f3;function KRe(){if(f3)return cA;f3=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var o=e[n];r(o,n,e)&&(s[a++]=o)}return s}return cA=t,cA}var uA,h3;function WRe(){if(h3)return uA;h3=1;function t(){return[]}return uA=t,uA}var dA,p3;function YRe(){if(p3)return dA;p3=1;var t=KRe(),e=WRe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return n.call(s,o)}))}:e;return dA=a,dA}var fA,m3;function XRe(){if(m3)return fA;m3=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return fA=t,fA}var hA,g3;function QRe(){if(g3)return hA;g3=1;var t=ho(),e=po(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return hA=n,hA}var pA,v3;function tI(){if(v3)return pA;v3=1;var t=QRe(),e=po(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return pA=a,pA}var ep={exports:{}},mA,y3;function ZRe(){if(y3)return mA;y3=1;function t(){return!1}return mA=t,mA}ep.exports;var b3;function iX(){return b3||(b3=1,function(t,e){var r=as(),n=ZRe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c}(ep,ep.exports)),ep.exports}var gA,x3;function rI(){if(x3)return gA;x3=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return gA=r,gA}var vA,S3;function nI(){if(S3)return vA;S3=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return vA=e,vA}var yA,w3;function JRe(){if(w3)return yA;w3=1;var t=ho(),e=nI(),r=po(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",g="[object Set]",y="[object String]",b="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",T="[object Float64Array]",O="[object Int8Array]",_="[object Int16Array]",P="[object Int32Array]",R="[object Uint8Array]",D="[object Uint8ClampedArray]",I="[object Uint16Array]",M="[object Uint32Array]",N={};N[E]=N[T]=N[O]=N[_]=N[P]=N[R]=N[D]=N[I]=N[M]=!0,N[n]=N[i]=N[x]=N[a]=N[w]=N[s]=N[o]=N[l]=N[c]=N[d]=N[f]=N[p]=N[g]=N[y]=N[b]=!1;function k(F){return r(F)&&e(F.length)&&!!N[t(F)]}return yA=k,yA}var bA,E3;function aX(){if(E3)return bA;E3=1;function t(e){return function(r){return e(r)}}return bA=t,bA}var tp={exports:{}};tp.exports;var T3;function eCe(){return T3||(T3=1,function(t,e){var r=AY(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(tp,tp.exports)),tp.exports}var xA,A3;function sX(){if(A3)return xA;A3=1;var t=JRe(),e=aX(),r=eCe(),n=r&&r.isTypedArray,i=n?e(n):t;return xA=i,xA}var SA,_3;function tCe(){if(_3)return SA;_3=1;var t=XRe(),e=tI(),r=Zn(),n=iX(),i=rI(),a=sX(),s=Object.prototype,o=s.hasOwnProperty;function l(c,d){var f=r(c),p=!f&&e(c),g=!f&&!p&&n(c),y=!f&&!p&&!g&&a(c),b=f||p||g||y,x=b?t(c.length,String):[],w=x.length;for(var E in c)(d||o.call(c,E))&&!(b&&(E=="length"||g&&(E=="offset"||E=="parent")||y&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,w)))&&x.push(E);return x}return SA=l,SA}var wA,O3;function rCe(){if(O3)return wA;O3=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return wA=e,wA}var EA,R3;function oX(){if(R3)return EA;R3=1;function t(e,r){return function(n){return e(r(n))}}return EA=t,EA}var TA,C3;function nCe(){if(C3)return TA;C3=1;var t=oX(),e=t(Object.keys,Object);return TA=e,TA}var AA,P3;function iCe(){if(P3)return AA;P3=1;var t=rCe(),e=nCe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return AA=i,AA}var _A,D3;function tg(){if(D3)return _A;D3=1;var t=UL(),e=nI();function r(n){return n!=null&&e(n.length)&&!t(n)}return _A=r,_A}var OA,L3;function _x(){if(L3)return OA;L3=1;var t=tCe(),e=iCe(),r=tg();function n(i){return r(i)?t(i):e(i)}return OA=n,OA}var RA,I3;function aCe(){if(I3)return RA;I3=1;var t=HRe(),e=YRe(),r=_x();function n(i){return t(i,r,e)}return RA=n,RA}var CA,M3;function sCe(){if(M3)return CA;M3=1;var t=aCe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,l,c,d){var f=o&e,p=t(a),g=p.length,y=t(s),b=y.length;if(g!=b&&!f)return!1;for(var x=g;x--;){var w=p[x];if(!(f?w in s:n.call(s,w)))return!1}var E=d.get(a),T=d.get(s);if(E&&T)return E==s&&T==a;var O=!0;d.set(a,s),d.set(s,a);for(var _=f;++x<g;){w=p[x];var P=a[w],R=s[w];if(l)var D=f?l(R,P,w,s,a,d):l(P,R,w,a,s,d);if(!(D===void 0?P===R||c(P,R,o,l,d):D)){O=!1;break}_||(_=w=="constructor")}if(O&&!_){var I=a.constructor,M=s.constructor;I!=M&&"constructor"in a&&"constructor"in s&&!(typeof I=="function"&&I instanceof I&&typeof M=="function"&&M instanceof M)&&(O=!1)}return d.delete(a),d.delete(s),O}return CA=i,CA}var PA,N3;function oCe(){if(N3)return PA;N3=1;var t=au(),e=as(),r=t(e,"DataView");return PA=r,PA}var DA,k3;function lCe(){if(k3)return DA;k3=1;var t=au(),e=as(),r=t(e,"Promise");return DA=r,DA}var LA,j3;function lX(){if(j3)return LA;j3=1;var t=au(),e=as(),r=t(e,"Set");return LA=r,LA}var IA,$3;function cCe(){if($3)return IA;$3=1;var t=au(),e=as(),r=t(e,"WeakMap");return IA=r,IA}var MA,F3;function uCe(){if(F3)return MA;F3=1;var t=oCe(),e=zL(),r=lCe(),n=lX(),i=cCe(),a=ho(),s=_Y(),o="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=s(t),y=s(e),b=s(r),x=s(n),w=s(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=p||e&&E(new e)!=o||r&&E(r.resolve())!=c||n&&E(new n)!=d||i&&E(new i)!=f)&&(E=function(T){var O=a(T),_=O==l?T.constructor:void 0,P=_?s(_):"";if(P)switch(P){case g:return p;case y:return o;case b:return c;case x:return d;case w:return f}return O}),MA=E,MA}var NA,B3;function dCe(){if(B3)return NA;B3=1;var t=ZY(),e=rX(),r=qRe(),n=sCe(),i=uCe(),a=Zn(),s=iX(),o=sX(),l=1,c="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function y(b,x,w,E,T,O){var _=a(b),P=a(x),R=_?d:i(b),D=P?d:i(x);R=R==c?f:R,D=D==c?f:D;var I=R==f,M=D==f,N=R==D;if(N&&s(b)){if(!s(x))return!1;_=!0,I=!1}if(N&&!I)return O||(O=new t),_||o(b)?e(b,x,w,E,T,O):r(b,x,R,w,E,T,O);if(!(w&l)){var k=I&&g.call(b,"__wrapped__"),F=M&&g.call(x,"__wrapped__");if(k||F){var U=k?b.value():b,z=F?x.value():x;return O||(O=new t),T(U,z,w,E,O)}}return N?(O||(O=new t),n(b,x,w,E,T,O)):!1}return NA=y,NA}var kA,U3;function iI(){if(U3)return kA;U3=1;var t=dCe(),e=po();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,o)}return kA=r,kA}var jA,G3;function fCe(){if(G3)return jA;G3=1;var t=ZY(),e=iI(),r=1,n=2;function i(a,s,o,l){var c=o.length,d=c,f=!l;if(a==null)return!d;for(a=Object(a);c--;){var p=o[c];if(f&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++c<d;){p=o[c];var g=p[0],y=a[g],b=p[1];if(f&&p[2]){if(y===void 0&&!(g in a))return!1}else{var x=new t;if(l)var w=l(y,b,g,a,s,x);if(!(w===void 0?e(b,y,r|n,l,x):w))return!1}}return!0}return jA=i,jA}var $A,z3;function cX(){if(z3)return $A;z3=1;var t=_l();function e(r){return r===r&&!t(r)}return $A=e,$A}var FA,V3;function hCe(){if(V3)return FA;V3=1;var t=cX(),e=_x();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],o=n[s];i[a]=[s,o,t(o)]}return i}return FA=r,FA}var BA,q3;function uX(){if(q3)return BA;q3=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return BA=t,BA}var UA,H3;function pCe(){if(H3)return UA;H3=1;var t=fCe(),e=hCe(),r=uX();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return UA=n,UA}var GA,K3;function mCe(){if(K3)return GA;K3=1;function t(e,r){return e!=null&&r in Object(e)}return GA=t,GA}var zA,W3;function gCe(){if(W3)return zA;W3=1;var t=CY(),e=tI(),r=Zn(),n=rI(),i=nI(),a=Sx();function s(o,l,c){l=t(l,o);for(var d=-1,f=l.length,p=!1;++d<f;){var g=a(l[d]);if(!(p=o!=null&&c(o,g)))break;o=o[g]}return p||++d!=f?p:(f=o==null?0:o.length,!!f&&i(f)&&n(g,f)&&(r(o)||e(o)))}return zA=s,zA}var VA,Y3;function vCe(){if(Y3)return VA;Y3=1;var t=mCe(),e=gCe();function r(n,i){return n!=null&&e(n,i,t)}return VA=r,VA}var qA,X3;function yCe(){if(X3)return qA;X3=1;var t=iI(),e=PY(),r=vCe(),n=BL(),i=cX(),a=uX(),s=Sx(),o=1,l=2;function c(d,f){return n(d)&&i(f)?a(s(d),f):function(p){var g=e(p,d);return g===void 0&&g===f?r(p,d):t(f,g,o|l)}}return qA=c,qA}var HA,Q3;function Ef(){if(Q3)return HA;Q3=1;function t(e){return e}return HA=t,HA}var KA,Z3;function bCe(){if(Z3)return KA;Z3=1;function t(e){return function(r){return r==null?void 0:r[e]}}return KA=t,KA}var WA,J3;function xCe(){if(J3)return WA;J3=1;var t=HL();function e(r){return function(n){return t(n,r)}}return WA=e,WA}var YA,e4;function SCe(){if(e4)return YA;e4=1;var t=bCe(),e=xCe(),r=BL(),n=Sx();function i(a){return r(a)?t(n(a)):e(a)}return YA=i,YA}var XA,t4;function ss(){if(t4)return XA;t4=1;var t=pCe(),e=yCe(),r=Ef(),n=Zn(),i=SCe();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return XA=a,XA}var QA,r4;function dX(){if(r4)return QA;r4=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return QA=t,QA}var ZA,n4;function wCe(){if(n4)return ZA;n4=1;function t(e){return e!==e}return ZA=t,ZA}var JA,i4;function ECe(){if(i4)return JA;i4=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return JA=t,JA}var e_,a4;function TCe(){if(a4)return e_;a4=1;var t=dX(),e=wCe(),r=ECe();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return e_=n,e_}var t_,s4;function ACe(){if(s4)return t_;s4=1;var t=TCe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return t_=e,t_}var r_,o4;function _Ce(){if(o4)return r_;o4=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return r_=t,r_}var n_,l4;function OCe(){if(l4)return n_;l4=1;function t(){}return n_=t,n_}var i_,c4;function RCe(){if(c4)return i_;c4=1;var t=lX(),e=OCe(),r=eI(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return i_=i,i_}var a_,u4;function CCe(){if(u4)return a_;u4=1;var t=JY(),e=ACe(),r=_Ce(),n=tX(),i=RCe(),a=eI(),s=200;function o(l,c,d){var f=-1,p=e,g=l.length,y=!0,b=[],x=b;if(d)y=!1,p=r;else if(g>=s){var w=c?null:i(l);if(w)return a(w);y=!1,p=n,x=new t}else x=c?[]:b;e:for(;++f<g;){var E=l[f],T=c?c(E):E;if(E=d||E!==0?E:0,y&&T===T){for(var O=x.length;O--;)if(x[O]===T)continue e;c&&x.push(T),b.push(E)}else p(x,T,d)||(x!==b&&x.push(T),b.push(E))}return b}return a_=o,a_}var s_,d4;function PCe(){if(d4)return s_;d4=1;var t=ss(),e=CCe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return s_=r,s_}var DCe=PCe();const f4=$t(DCe);function fX(t,e,r){return e===!0?f4(t,r):st(e)?f4(t,e):t}function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}var LCe=["ref"];function h4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(r),!0).forEach(function(n){Ox(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ICe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pX(n.key),n)}}function MCe(t,e,r){return e&&p4(t.prototype,e),r&&p4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NCe(t,e,r){return e=G0(e),kCe(t,hX()?Reflect.construct(e,r||[],G0(t).constructor):e.apply(t,r))}function kCe(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jCe(t)}function jCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hX=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G0(t)}function $Ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}function dC(t,e){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dC(t,e)}function Ox(t,e,r){return e=pX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pX(t){var e=FCe(t,"string");return $d(e)=="symbol"?e:e+""}function FCe(t,e){if($d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BCe(t,e){if(t==null)return{};var r=UCe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GCe(t){return t.value}function zCe(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=BCe(e,LCe);return W.createElement(JL,r)}var m4=1,_c=function(t){function e(){var r;ICe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=NCe(this,e,[].concat(i)),Ox(r,"lastBoundingBox",{width:-1,height:-1}),r}return $Ce(e,t),MCe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>m4||Math.abs(i.height-this.lastBoundingBox.height)>m4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ds({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((c||0)-g.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var y=this.getBBoxSnapshot();p={top:((d||0)-y.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ds(Ds({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=Ds(Ds({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return W.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},zCe(a,Ds(Ds({},this.props),{},{payload:fX(d,c,GCe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ds(Ds({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&De(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(A.PureComponent);Ox(_c,"displayName","Legend");Ox(_c,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var o_,g4;function VCe(){if(g4)return o_;g4=1;var t=eg(),e=tI(),r=Zn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return o_=i,o_}var l_,v4;function mX(){if(v4)return l_;v4=1;var t=nX(),e=VCe();function r(n,i,a,s,o){var l=-1,c=n.length;for(a||(a=e),o||(o=[]);++l<c;){var d=n[l];i>0&&a(d)?i>1?r(d,i-1,a,s,o):t(o,d):s||(o[o.length]=d)}return o}return l_=r,l_}var c_,y4;function qCe(){if(y4)return c_;y4=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),l=o.length;l--;){var c=o[e?l:++a];if(n(s[c],c,s)===!1)break}return r}}return c_=t,c_}var u_,b4;function HCe(){if(b4)return u_;b4=1;var t=qCe(),e=t();return u_=e,u_}var d_,x4;function gX(){if(x4)return d_;x4=1;var t=HCe(),e=_x();function r(n,i){return n&&t(n,i,e)}return d_=r,d_}var f_,S4;function KCe(){if(S4)return f_;S4=1;var t=tg();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,o=n?s:-1,l=Object(i);(n?o--:++o<s)&&a(l[o],o,l)!==!1;);return i}}return f_=e,f_}var h_,w4;function aI(){if(w4)return h_;w4=1;var t=gX(),e=KCe(),r=e(t);return h_=r,h_}var p_,E4;function vX(){if(E4)return p_;E4=1;var t=aI(),e=tg();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(o,l,c){s[++a]=i(o,l,c)}),s}return p_=r,p_}var m_,T4;function WCe(){if(T4)return m_;T4=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return m_=t,m_}var g_,A4;function YCe(){if(A4)return g_;A4=1;var t=bf();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,o=t(r),l=n!==void 0,c=n===null,d=n===n,f=t(n);if(!c&&!f&&!o&&r>n||o&&l&&d&&!c&&!f||a&&l&&d||!i&&d||!s)return 1;if(!a&&!o&&!f&&r<n||f&&i&&s&&!a&&!o||c&&i&&s||!l&&s||!d)return-1}return 0}return g_=e,g_}var v_,_4;function XCe(){if(_4)return v_;_4=1;var t=YCe();function e(r,n,i){for(var a=-1,s=r.criteria,o=n.criteria,l=s.length,c=i.length;++a<l;){var d=t(s[a],o[a]);if(d){if(a>=c)return d;var f=i[a];return d*(f=="desc"?-1:1)}}return r.index-n.index}return v_=e,v_}var y_,O4;function QCe(){if(O4)return y_;O4=1;var t=qL(),e=HL(),r=ss(),n=vX(),i=WCe(),a=aX(),s=XCe(),o=Ef(),l=Zn();function c(d,f,p){f.length?f=t(f,function(b){return l(b)?function(x){return e(x,b.length===1?b[0]:b)}:b}):f=[o];var g=-1;f=t(f,a(r));var y=n(d,function(b,x,w){var E=t(f,function(T){return T(b)});return{criteria:E,index:++g,value:b}});return i(y,function(b,x){return s(b,x,p)})}return y_=c,y_}var b_,R4;function ZCe(){if(R4)return b_;R4=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return b_=t,b_}var x_,C4;function JCe(){if(C4)return x_;C4=1;var t=ZCe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,l=e(s.length-i,0),c=Array(l);++o<l;)c[o]=s[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=s[o];return d[i]=a(c),t(n,this,d)}}return x_=r,x_}var S_,P4;function ePe(){if(P4)return S_;P4=1;function t(e){return function(){return e}}return S_=t,S_}var w_,D4;function yX(){if(D4)return w_;D4=1;var t=au(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return w_=e,w_}var E_,L4;function tPe(){if(L4)return E_;L4=1;var t=ePe(),e=yX(),r=Ef(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return E_=n,E_}var T_,I4;function rPe(){if(I4)return T_;I4=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),l=e-(o-s);if(s=o,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return T_=n,T_}var A_,M4;function nPe(){if(M4)return A_;M4=1;var t=tPe(),e=rPe(),r=e(t);return A_=r,A_}var __,N4;function iPe(){if(N4)return __;N4=1;var t=Ef(),e=JCe(),r=nPe();function n(i,a){return r(e(i,a,t),i+"")}return __=n,__}var O_,k4;function Rx(){if(k4)return O_;k4=1;var t=GL(),e=tg(),r=rI(),n=_l();function i(a,s,o){if(!n(o))return!1;var l=typeof s;return(l=="number"?e(o)&&r(s,o.length):l=="string"&&s in o)?t(o[s],a):!1}return O_=i,O_}var R_,j4;function aPe(){if(j4)return R_;j4=1;var t=mX(),e=QCe(),r=iPe(),n=Rx(),i=r(function(a,s){if(a==null)return[];var o=s.length;return o>1&&n(a,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return R_=i,R_}var sPe=aPe();const sI=$t(sPe);function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function fC(){return fC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fC.apply(this,arguments)}function oPe(t,e){return dPe(t)||uPe(t,e)||cPe(t,e)||lPe()}function lPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cPe(t,e){if(t){if(typeof t=="string")return $4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $4(t,e)}}function $4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function dPe(t){if(Array.isArray(t))return t}function F4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(r),!0).forEach(function(n){fPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fPe(t,e,r){return e=hPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hPe(t){var e=pPe(t,"string");return Wp(e)=="symbol"?e:e+""}function pPe(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mPe(t){return Array.isArray(t)&&Wr(t[0])&&Wr(t[1])?t.join(" ~ "):t}var gPe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,p=e.itemSorter,g=e.wrapperClassName,y=e.labelClassName,b=e.label,x=e.labelFormatter,w=e.accessibilityLayer,E=w===void 0?!1:w,T=function(){if(d&&d.length){var k={padding:0,margin:0},F=(p?sI(d,p):d).map(function(U,z){if(U.type==="none")return null;var j=C_({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},o),H=U.formatter||f||mPe,V=U.value,q=U.name,G=V,Y=q;if(H&&G!=null&&Y!=null){var X=H(V,q,U,z,d);if(Array.isArray(X)){var te=oPe(X,2);G=te[0],Y=te[1]}else G=X}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:j},Wr(Y)?W.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Wr(Y)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},G),W.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:k},F)}return null},O=C_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=C_({margin:0},c),P=!ft(b),R=P?b:"",D=ht("recharts-default-tooltip",g),I=ht("recharts-tooltip-label",y);P&&x&&d!==void 0&&d!==null&&(R=x(b,d));var M=E?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",fC({className:D,style:O},M),W.createElement("p",{className:I,style:_},W.isValidElement(R)?R:"".concat(R)),T())};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function ty(t,e,r){return e=vPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vPe(t){var e=yPe(t,"string");return Yp(e)=="symbol"?e:e+""}function yPe(t,e){if(Yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fh="recharts-tooltip-wrapper",bPe={visibility:"hidden"};function xPe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ht(Fh,ty(ty(ty(ty({},"".concat(Fh,"-right"),De(r)&&e&&De(e.x)&&r>=e.x),"".concat(Fh,"-left"),De(r)&&e&&De(e.x)&&r<e.x),"".concat(Fh,"-bottom"),De(n)&&e&&De(e.y)&&n>=e.y),"".concat(Fh,"-top"),De(n)&&e&&De(e.y)&&n<e.y))}function B4(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&De(a[n]))return a[n];var d=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?d:f;if(s[n]){var p=d,g=l[n];return p<g?Math.max(f,l[n]):Math.max(d,l[n])}var y=f+o,b=l[n]+c;return y>b?Math.max(d,l[n]):Math.max(f,l[n])}function SPe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function wPe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,f;return s.height>0&&s.width>0&&r?(d=B4({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=B4({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=SPe({translateX:d,translateY:f,useTranslate3d:o})):c=bPe,{cssProperties:c,cssClasses:xPe({translateX:d,translateY:f,coordinate:r})}}function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function U4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(r),!0).forEach(function(n){pC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xX(n.key),n)}}function APe(t,e,r){return e&&TPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Pe(t,e,r){return e=z0(e),OPe(t,bX()?Reflect.construct(e,r||[],z0(t).constructor):e.apply(t,r))}function OPe(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RPe(t)}function RPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bX=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z0(t)}function CPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hC(t,e)}function hC(t,e){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hC(t,e)}function pC(t,e,r){return e=xX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xX(t){var e=PPe(t,"string");return Fd(e)=="symbol"?e:e+""}function PPe(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z4=1,DPe=function(t){function e(){var r;EPe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_Pe(this,e,[].concat(i)),pC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pC(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return CPe(e,t),APe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>z4||Math.abs(n.height-this.state.lastBoundingBox.height)>z4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,g=i.offset,y=i.position,b=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,E=i.wrapperStyle,T=wPe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:g,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),O=T.cssClasses,_=T.cssProperties,P=G4(G4({transition:p&&a?"transform ".concat(o,"ms ").concat(l):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},E);return W.createElement("div",{tabIndex:-1,className:O,style:P,ref:function(D){n.wrapperNode=D}},c)}}])}(A.PureComponent),LPe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},su={isSsr:LPe()};function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function V4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(r),!0).forEach(function(n){oI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wX(n.key),n)}}function NPe(t,e,r){return e&&MPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kPe(t,e,r){return e=V0(e),jPe(t,SX()?Reflect.construct(e,r||[],V0(t).constructor):e.apply(t,r))}function jPe(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Pe(t)}function $Pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SX=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V0(t)}function FPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mC(t,e)}function mC(t,e){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mC(t,e)}function oI(t,e,r){return e=wX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wX(t){var e=BPe(t,"string");return Bd(e)=="symbol"?e:e+""}function BPe(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UPe(t){return t.dataKey}function GPe(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(gPe,e)}var ki=function(t){function e(){return IPe(this,e),kPe(this,e,arguments)}return FPe(e,t),NPe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,p=i.isAnimationActive,g=i.offset,y=i.payload,b=i.payloadUniqBy,x=i.position,w=i.reverseDirection,E=i.useTranslate3d,T=i.viewBox,O=i.wrapperStyle,_=y??[];f&&_.length&&(_=fX(y.filter(function(R){return R.value!=null&&(R.hide!==!0||n.props.includeHidden)}),b,UPe));var P=_.length>0;return W.createElement(DPe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:a,coordinate:d,hasPayload:P,offset:g,position:x,reverseDirection:w,useTranslate3d:E,viewBox:T,wrapperStyle:O},GPe(c,q4(q4({},this.props),{},{payload:_})))}}])}(A.PureComponent);oI(ki,"displayName","Tooltip");oI(ki,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!su.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var P_,H4;function zPe(){if(H4)return P_;H4=1;var t=as(),e=function(){return t.Date.now()};return P_=e,P_}var D_,K4;function VPe(){if(K4)return D_;K4=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return D_=e,D_}var L_,W4;function qPe(){if(W4)return L_;W4=1;var t=VPe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return L_=r,L_}var I_,Y4;function EX(){if(Y4)return I_;Y4=1;var t=qPe(),e=_l(),r=bf(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var f=a.test(c);return f||s.test(c)?o(c.slice(2),f?2:8):i.test(c)?n:+c}return I_=l,I_}var M_,X4;function HPe(){if(X4)return M_;X4=1;var t=_l(),e=zPe(),r=EX(),n="Expected a function",i=Math.max,a=Math.min;function s(o,l,c){var d,f,p,g,y,b,x=0,w=!1,E=!1,T=!0;if(typeof o!="function")throw new TypeError(n);l=r(l)||0,t(c)&&(w=!!c.leading,E="maxWait"in c,p=E?i(r(c.maxWait)||0,l):p,T="trailing"in c?!!c.trailing:T);function O(F){var U=d,z=f;return d=f=void 0,x=F,g=o.apply(z,U),g}function _(F){return x=F,y=setTimeout(D,l),w?O(F):g}function P(F){var U=F-b,z=F-x,j=l-U;return E?a(j,p-z):j}function R(F){var U=F-b,z=F-x;return b===void 0||U>=l||U<0||E&&z>=p}function D(){var F=e();if(R(F))return I(F);y=setTimeout(D,P(F))}function I(F){return y=void 0,T&&d?O(F):(d=f=void 0,g)}function M(){y!==void 0&&clearTimeout(y),x=0,d=b=f=y=void 0}function N(){return y===void 0?g:I(e())}function k(){var F=e(),U=R(F);if(d=arguments,f=this,b=F,U){if(y===void 0)return _(b);if(E)return clearTimeout(y),y=setTimeout(D,l),O(b)}return y===void 0&&(y=setTimeout(D,l)),g}return k.cancel=M,k.flush=N,k}return M_=s,M_}var N_,Q4;function KPe(){if(Q4)return N_;Q4=1;var t=HPe(),e=_l(),r="Expected a function";function n(i,a,s){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(o="leading"in s?!!s.leading:o,l="trailing"in s?!!s.trailing:l),t(i,a,{leading:o,maxWait:a,trailing:l})}return N_=n,N_}var WPe=KPe();const TX=$t(WPe);function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Z4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ry(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(r),!0).forEach(function(n){YPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YPe(t,e,r){return e=XPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XPe(t){var e=QPe(t,"string");return Xp(e)=="symbol"?e:e+""}function QPe(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZPe(t,e){return rDe(t)||tDe(t,e)||eDe(t,e)||JPe()}function JPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eDe(t,e){if(t){if(typeof t=="string")return J4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J4(t,e)}}function J4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function rDe(t){if(Array.isArray(t))return t}var gC=A.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,p=t.maxHeight,g=t.children,y=t.debounce,b=y===void 0?0:y,x=t.id,w=t.className,E=t.onResize,T=t.style,O=T===void 0?{}:T,_=A.useRef(null),P=A.useRef();P.current=E,A.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var R=A.useState({containerWidth:i.width,containerHeight:i.height}),D=ZPe(R,2),I=D[0],M=D[1],N=A.useCallback(function(F,U){M(function(z){var j=Math.round(F),H=Math.round(U);return z.containerWidth===j&&z.containerHeight===H?z:{containerWidth:j,containerHeight:H}})},[]);A.useEffect(function(){var F=function(q){var G,Y=q[0].contentRect,X=Y.width,te=Y.height;N(X,te),(G=P.current)===null||G===void 0||G.call(P,X,te)};b>0&&(F=TX(F,b,{trailing:!0,leading:!1}));var U=new ResizeObserver(F),z=_.current.getBoundingClientRect(),j=z.width,H=z.height;return N(j,H),U.observe(_.current),function(){U.disconnect()}},[N,b]);var k=A.useMemo(function(){var F=I.containerWidth,U=I.containerHeight;if(F<0||U<0)return null;ma(xc(s)||xc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ma(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=xc(s)?F:s,j=xc(l)?U:l;r&&r>0&&(z?j=z/r:j&&(z=j*r),p&&j>p&&(j=p)),ma(z>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,j,s,l,d,f,r);var H=!Array.isArray(g)&&Hs(g.type).endsWith("Chart");return W.Children.map(g,function(V){return W.isValidElement(V)?A.cloneElement(V,ry({width:z,height:j},H?{style:ry({height:"100%",width:"100%",maxHeight:j,maxWidth:z},V.props.style)}:{})):V})},[r,g,l,p,f,d,I,s]);return W.createElement("div",{id:x?"".concat(x):void 0,className:ht("recharts-responsive-container",w),style:ry(ry({},O),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:p}),ref:_},k)}),Cx=function(e){return null};Cx.displayName="Cell";function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function e5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(r),!0).forEach(function(n){nDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nDe(t,e,r){return e=iDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iDe(t){var e=aDe(t,"string");return Qp(e)=="symbol"?e:e+""}function aDe(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var td={widthCache:{},cacheCount:0},sDe=2e3,oDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},t5="recharts_measurement_span";function lDe(t){var e=vC({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var hp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||su.isSsr)return{width:0,height:0};var n=lDe(r),i=JSON.stringify({text:e,copyStyle:n});if(td.widthCache[i])return td.widthCache[i];try{var a=document.getElementById(t5);a||(a=document.createElement("span"),a.setAttribute("id",t5),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=vC(vC({},oDe),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return td.widthCache[i]=l,++td.cacheCount>sDe&&(td.cacheCount=0,td.widthCache={}),l}catch{return{width:0,height:0}}},cDe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function q0(t,e){return hDe(t)||fDe(t,e)||dDe(t,e)||uDe()}function uDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dDe(t,e){if(t){if(typeof t=="string")return r5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r5(t,e)}}function r5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function hDe(t){if(Array.isArray(t))return t}function pDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gDe(n.key),n)}}function mDe(t,e,r){return e&&n5(t.prototype,e),r&&n5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gDe(t){var e=vDe(t,"string");return Zp(e)=="symbol"?e:e+""}function vDe(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xDe=Object.keys(AX),ad="NaN";function SDe(t,e){return t*AX[e]}var ny=function(){function t(e,r){pDe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!yDe.test(r)&&(this.num=NaN,this.unit=""),xDe.includes(r)&&(this.num=SDe(e,r),this.unit="px")}return mDe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=bDe.exec(r))!==null&&n!==void 0?n:[],a=q0(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function _X(t){if(t.includes(ad))return ad;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=i5.exec(e))!==null&&r!==void 0?r:[],i=q0(n,4),a=i[1],s=i[2],o=i[3],l=ny.parse(a??""),c=ny.parse(o??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return ad;e=e.replace(i5,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=a5.exec(e))!==null&&f!==void 0?f:[],g=q0(p,4),y=g[1],b=g[2],x=g[3],w=ny.parse(y??""),E=ny.parse(x??""),T=b==="+"?w.add(E):w.subtract(E);if(T.isNaN())return ad;e=e.replace(a5,T.toString())}return e}var s5=/\(([^()]*)\)/;function wDe(t){for(var e=t;e.includes("(");){var r=s5.exec(e),n=q0(r,2),i=n[1];e=e.replace(s5,_X(i))}return e}function EDe(t){var e=t.replace(/\s+/g,"");return e=wDe(e),e=_X(e),e}function TDe(t){try{return EDe(t)}catch{return ad}}function k_(t){var e=TDe(t.slice(5,-1));return e===ad?"":e}var ADe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_De=["dx","dy","angle","className","breakAll"];function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yC.apply(this,arguments)}function o5(t,e){if(t==null)return{};var r=ODe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ODe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l5(t,e){return DDe(t)||PDe(t,e)||CDe(t,e)||RDe()}function RDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CDe(t,e){if(t){if(typeof t=="string")return c5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c5(t,e)}}function c5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function DDe(t){if(Array.isArray(t))return t}var OX=/[ \f\n\r\t\v\u2028\u2029]+/,RX=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ft(r)||(n?a=r.toString().split(""):a=r.toString().split(OX));var s=a.map(function(l){return{word:l,width:hp(l,i).width}}),o=n?0:hp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},LDe=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=De(s),f=o,p=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(j,H){var V=H.word,q=H.width,G=j[j.length-1];if(G&&(i==null||a||G.width+q+n<Number(i)))G.words.push(V),G.width+=q+n;else{var Y={words:[V],width:q};j.push(Y)}return j},[])},g=p(r),y=function(z){return z.reduce(function(j,H){return j.width>H.width?j:H})};if(!d)return g;for(var b="",x=function(z){var j=f.slice(0,z),H=RX({breakAll:c,style:l,children:j+b}).wordsWithComputedWidth,V=p(H),q=V.length>s||y(V).width>Number(i);return[q,V]},w=0,E=f.length-1,T=0,O;w<=E&&T<=f.length-1;){var _=Math.floor((w+E)/2),P=_-1,R=x(P),D=l5(R,2),I=D[0],M=D[1],N=x(_),k=l5(N,1),F=k[0];if(!I&&!F&&(w=_+1),I&&F&&(E=_-1),!I&&F){O=M;break}T++}return O||g},u5=function(e){var r=ft(e)?[]:e.toString().split(OX);return[{words:r}]},IDe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!su.isSsr){var l,c,d=RX({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;l=f,c=p}else return u5(i);return LDe({breakAll:s,children:i,maxLines:o,style:a},l,c,r,n)}return u5(i)},d5="#808080",Yc=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,p=e.textAnchor,g=p===void 0?"start":p,y=e.verticalAnchor,b=y===void 0?"end":y,x=e.fill,w=x===void 0?d5:x,E=o5(e,ADe),T=A.useMemo(function(){return IDe({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:f,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,f,E.style,E.width]),O=E.dx,_=E.dy,P=E.angle,R=E.className,D=E.breakAll,I=o5(E,_De);if(!Wr(n)||!Wr(a))return null;var M=n+(De(O)?O:0),N=a+(De(_)?_:0),k;switch(b){case"start":k=k_("calc(".concat(c,")"));break;case"middle":k=k_("calc(".concat((T.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:k=k_("calc(".concat(T.length-1," * -").concat(o,")"));break}var F=[];if(f){var U=T[0].width,z=E.width;F.push("scale(".concat((De(z)?z/U:1)/U,")"))}return P&&F.push("rotate(".concat(P,", ").concat(M,", ").concat(N,")")),F.length&&(I.transform=F.join(" ")),W.createElement("text",yC({},Je(I,!0),{x:M,y:N,className:ht("recharts-text",R),textAnchor:g,fill:w.includes("url")?d5:w}),T.map(function(j,H){var V=j.words.join(D?"":" ");return W.createElement("tspan",{x:M,dy:H===0?k:o,key:"".concat(V,"-").concat(H)},V)}))};function cl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MDe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lI(t){let e,r,n;t.length!==2?(e=cl,r=(o,l)=>cl(t(o),l),n=(o,l)=>t(o)-l):(e=t===cl||t===MDe?t:NDe,r=t,n=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function NDe(){return 0}function CX(t){return t===null?NaN:+t}function*kDe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const jDe=lI(cl),rg=jDe.right;lI(CX).center;class f5 extends Map{constructor(e,r=BDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(h5(this,e))}has(e){return super.has(h5(this,e))}set(e,r){return super.set($De(this,e),r)}delete(e){return super.delete(FDe(this,e))}}function h5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function $De({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function FDe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function BDe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function UDe(t=cl){if(t===cl)return PX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function PX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const GDe=Math.sqrt(50),zDe=Math.sqrt(10),VDe=Math.sqrt(2);function H0(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=GDe?10:a>=zDe?5:a>=VDe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?H0(t,e,r*2):[o,l,c]}function bC(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?H0(e,t,r):H0(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function xC(t,e,r){return e=+e,t=+t,r=+r,H0(t,e,r)[2]}function SC(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?xC(e,t,r):xC(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function p5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function m5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function DX(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?PX:UDe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),g=Math.max(r,Math.floor(e-c*f/l+p)),y=Math.min(n,Math.floor(e+(l-c)*f/l+p));DX(t,e,g,y,i)}const a=t[e];let s=r,o=n;for(Bh(t,r,e),i(t[n],a)>0&&Bh(t,r,n);s<o;){for(Bh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Bh(t,r,o):(++o,Bh(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Bh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function qDe(t,e,r){if(t=Float64Array.from(kDe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return m5(t);if(e>=1)return p5(t);var n,i=(n-1)*e,a=Math.floor(i),s=p5(DX(t,a).subarray(0,a+1)),o=m5(t.subarray(a+1));return s+(o-s)*(i-a)}}function HDe(t,e,r=CX){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function KDe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Wi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wC=Symbol("implicit");function cI(){var t=new f5,e=[],r=[],n=wC;function i(a){let s=t.get(a);if(s===void 0){if(n!==wC)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new f5;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return cI(e,r).unknown(n)},Wi.apply(i,arguments),i}function Jp(){var t=cI().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var p=e().length,g=i<n,y=g?i:n,b=g?n:i;a=(b-y)/Math.max(1,p-l+c*2),o&&(a=Math.floor(a)),y+=(b-y-a*(p-l))*d,s=a*(1-l),o&&(y=Math.round(y),s=Math.round(s));var x=KDe(p).map(function(w){return y+a*w});return r(g?x.reverse():x)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,f()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return Jp(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Wi.apply(f(),arguments)}function LX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return LX(e())},t}function pp(){return LX(Jp.apply(null,arguments).paddingInner(1))}function uI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function IX(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ng(){}var em=.7,K0=1/em,wd="\\s*([+-]?\\d+)\\s*",tm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WDe=/^#([0-9a-f]{3,8})$/,YDe=new RegExp(`^rgb\\(${wd},${wd},${wd}\\)$`),XDe=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),QDe=new RegExp(`^rgba\\(${wd},${wd},${wd},${tm}\\)$`),ZDe=new RegExp(`^rgba\\(${qa},${qa},${qa},${tm}\\)$`),JDe=new RegExp(`^hsl\\(${tm},${qa},${qa}\\)$`),eLe=new RegExp(`^hsla\\(${tm},${qa},${qa},${tm}\\)$`),g5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uI(ng,rm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:v5,formatHex:v5,formatHex8:tLe,formatHsl:rLe,formatRgb:y5,toString:y5});function v5(){return this.rgb().formatHex()}function tLe(){return this.rgb().formatHex8()}function rLe(){return MX(this).formatHsl()}function y5(){return this.rgb().formatRgb()}function rm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=WDe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?b5(e):r===3?new Yn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?iy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?iy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=YDe.exec(t))?new Yn(e[1],e[2],e[3],1):(e=XDe.exec(t))?new Yn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=QDe.exec(t))?iy(e[1],e[2],e[3],e[4]):(e=ZDe.exec(t))?iy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JDe.exec(t))?w5(e[1],e[2]/100,e[3]/100,1):(e=eLe.exec(t))?w5(e[1],e[2]/100,e[3]/100,e[4]):g5.hasOwnProperty(t)?b5(g5[t]):t==="transparent"?new Yn(NaN,NaN,NaN,0):null}function b5(t){return new Yn(t>>16&255,t>>8&255,t&255,1)}function iy(t,e,r,n){return n<=0&&(t=e=r=NaN),new Yn(t,e,r,n)}function nLe(t){return t instanceof ng||(t=rm(t)),t?(t=t.rgb(),new Yn(t.r,t.g,t.b,t.opacity)):new Yn}function EC(t,e,r,n){return arguments.length===1?nLe(t):new Yn(t,e,r,n??1)}function Yn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}uI(Yn,EC,IX(ng,{brighter(t){return t=t==null?K0:Math.pow(K0,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?em:Math.pow(em,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yn(Oc(this.r),Oc(this.g),Oc(this.b),W0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:x5,formatHex:x5,formatHex8:iLe,formatRgb:S5,toString:S5}));function x5(){return`#${Sc(this.r)}${Sc(this.g)}${Sc(this.b)}`}function iLe(){return`#${Sc(this.r)}${Sc(this.g)}${Sc(this.b)}${Sc((isNaN(this.opacity)?1:this.opacity)*255)}`}function S5(){const t=W0(this.opacity);return`${t===1?"rgb(":"rgba("}${Oc(this.r)}, ${Oc(this.g)}, ${Oc(this.b)}${t===1?")":`, ${t})`}`}function W0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Oc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sc(t){return t=Oc(t),(t<16?"0":"")+t.toString(16)}function w5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new da(t,e,r,n)}function MX(t){if(t instanceof da)return new da(t.h,t.s,t.l,t.opacity);if(t instanceof ng||(t=rm(t)),!t)return new da;if(t instanceof da)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new da(s,o,l,t.opacity)}function aLe(t,e,r,n){return arguments.length===1?MX(t):new da(t,e,r,n??1)}function da(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}uI(da,aLe,IX(ng,{brighter(t){return t=t==null?K0:Math.pow(K0,t),new da(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?em:Math.pow(em,t),new da(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Yn(j_(t>=240?t-240:t+120,i,n),j_(t,i,n),j_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new da(E5(this.h),ay(this.s),ay(this.l),W0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=W0(this.opacity);return`${t===1?"hsl(":"hsla("}${E5(this.h)}, ${ay(this.s)*100}%, ${ay(this.l)*100}%${t===1?")":`, ${t})`}`}}));function E5(t){return t=(t||0)%360,t<0?t+360:t}function ay(t){return Math.max(0,Math.min(1,t||0))}function j_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const dI=t=>()=>t;function sLe(t,e){return function(r){return t+r*e}}function oLe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function lLe(t){return(t=+t)==1?NX:function(e,r){return r-e?oLe(e,r,t):dI(isNaN(e)?r:e)}}function NX(t,e){var r=e-t;return r?sLe(t,r):dI(isNaN(t)?e:t)}const T5=function t(e){var r=lLe(e);function n(i,a){var s=r((i=EC(i)).r,(a=EC(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=NX(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=t,n}(1);function cLe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function uLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dLe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Tf(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function fLe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Y0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function hLe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Tf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var TC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$_=new RegExp(TC.source,"g");function pLe(t){return function(){return t}}function mLe(t){return function(e){return t(e)+""}}function gLe(t,e){var r=TC.lastIndex=$_.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=TC.exec(t))&&(i=$_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Y0(n,i)})),r=$_.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?mLe(l[0].x):pLe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function Tf(t,e){var r=typeof e,n;return e==null||r==="boolean"?dI(e):(r==="number"?Y0:r==="string"?(n=rm(e))?(e=n,T5):gLe:e instanceof rm?T5:e instanceof Date?fLe:uLe(e)?cLe:Array.isArray(e)?dLe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hLe:Y0)(t,e)}function fI(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function vLe(t,e){e===void 0&&(e=t,t=Tf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function yLe(t){return function(){return t}}function X0(t){return+t}var A5=[0,1];function Mn(t){return t}function AC(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:yLe(isNaN(e)?NaN:.5)}function bLe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function xLe(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=AC(i,n),a=r(s,a)):(n=AC(n,i),a=r(a,s)),function(o){return a(n(o))}}function SLe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=AC(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=rg(t,o,1,n)-1;return a[l](i[l](o))}}function ig(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Px(){var t=A5,e=A5,r=Tf,n,i,a,s=Mn,o,l,c;function d(){var p=Math.min(t.length,e.length);return s!==Mn&&(s=bLe(t[0],t[p-1])),o=p>2?SLe:xLe,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=o(t.map(n),e,r)))(n(s(p)))}return f.invert=function(p){return s(i((c||(c=o(e,t.map(n),Y0)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,X0),d()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),r=fI,d()},f.clamp=function(p){return arguments.length?(s=p?!0:Mn,d()):s!==Mn},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,g){return n=p,i=g,d()}}function hI(){return Px()(Mn,Mn)}function wLe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Q0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ud(t){return t=Q0(Math.abs(t)),t?t[1]:NaN}function ELe(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function TLe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ALe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nm(t){if(!(e=ALe.exec(t)))throw new Error("invalid format: "+t);var e;return new pI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nm.prototype=pI.prototype;function pI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _Le(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var kX;function OLe(t,e){var r=Q0(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(kX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Q0(t,Math.max(0,e+a-1))[0]}function _5(t,e){var r=Q0(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const O5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wLe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>_5(t*100,e),r:_5,s:OLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function R5(t){return t}var C5=Array.prototype.map,P5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function RLe(t){var e=t.grouping===void 0||t.thousands===void 0?R5:ELe(C5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?R5:TLe(C5.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=nm(f);var p=f.fill,g=f.align,y=f.sign,b=f.symbol,x=f.zero,w=f.width,E=f.comma,T=f.precision,O=f.trim,_=f.type;_==="n"?(E=!0,_="g"):O5[_]||(T===void 0&&(T=12),O=!0,_="g"),(x||p==="0"&&g==="=")&&(x=!0,p="0",g="=");var P=b==="$"?r:b==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",R=b==="$"?n:/[%p]/.test(_)?s:"",D=O5[_],I=/[defgprs%]/.test(_);T=T===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function M(N){var k=P,F=R,U,z,j;if(_==="c")F=D(N)+F,N="";else{N=+N;var H=N<0||1/N<0;if(N=isNaN(N)?l:D(Math.abs(N),T),O&&(N=_Le(N)),H&&+N==0&&y!=="+"&&(H=!1),k=(H?y==="("?y:o:y==="-"||y==="("?"":y)+k,F=(_==="s"?P5[8+kX/3]:"")+F+(H&&y==="("?")":""),I){for(U=-1,z=N.length;++U<z;)if(j=N.charCodeAt(U),48>j||j>57){F=(j===46?i+N.slice(U+1):N.slice(U))+F,N=N.slice(0,U);break}}}E&&!x&&(N=e(N,1/0));var V=k.length+N.length+F.length,q=V<w?new Array(w-V+1).join(p):"";switch(E&&x&&(N=e(q+N,q.length?w-F.length:1/0),q=""),g){case"<":N=k+N+F+q;break;case"=":N=k+q+N+F;break;case"^":N=q.slice(0,V=q.length>>1)+k+N+F+q.slice(V);break;default:N=q+k+N+F;break}return a(N)}return M.toString=function(){return f+""},M}function d(f,p){var g=c((f=nm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Ud(p)/3)))*3,b=Math.pow(10,-y),x=P5[8+y/3];return function(w){return g(b*w)+x}}return{format:c,formatPrefix:d}}var sy,mI,jX;CLe({thousands:",",grouping:[3],currency:["$",""]});function CLe(t){return sy=RLe(t),mI=sy.format,jX=sy.formatPrefix,sy}function PLe(t){return Math.max(0,-Ud(Math.abs(t)))}function DLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ud(e)/3)))*3-Ud(Math.abs(t)))}function LLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ud(e)-Ud(t))+1}function $X(t,e,r,n){var i=SC(t,e,r),a;switch(n=nm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=DLe(i,s))&&(n.precision=a),jX(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=LLe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=PLe(i))&&(n.precision=a-(n.type==="%")*2);break}}return mI(n)}function Ol(t){var e=t.domain;return t.ticks=function(r){var n=e();return bC(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return $X(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=xC(s,o,r),c===l)return n[i]=s,n[a]=o,e(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Z0(){var t=hI();return t.copy=function(){return ig(t,Z0())},Wi.apply(t,arguments),Ol(t)}function FX(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,X0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return FX(t).unknown(e)},t=arguments.length?Array.from(t,X0):[0,1],Ol(r)}function BX(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function D5(t){return Math.log(t)}function L5(t){return Math.exp(t)}function ILe(t){return-Math.log(-t)}function MLe(t){return-Math.exp(-t)}function NLe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kLe(t){return t===10?NLe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jLe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function I5(t){return(e,r)=>-t(-e,r)}function gI(t){const e=t(D5,L5),r=e.domain;let n=10,i,a;function s(){return i=jLe(n),a=kLe(n),r()[0]<0?(i=I5(i),a=I5(a),t(ILe,MLe)):t(D5,L5),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=i(c),g=i(d),y,b;const x=o==null?10:+o;let w=[];if(!(n%1)&&g-p<x){if(p=Math.floor(p),g=Math.ceil(g),c>0){for(;p<=g;++p)for(y=1;y<n;++y)if(b=p<0?y/a(-p):y*a(p),!(b<c)){if(b>d)break;w.push(b)}}else for(;p<=g;++p)for(y=n-1;y>=1;--y)if(b=p>0?y/a(-p):y*a(p),!(b<c)){if(b>d)break;w.push(b)}w.length*2<x&&(w=bC(c,d,x))}else w=bC(p,g,Math.min(g-p,x)).map(a);return f?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=nm(l)).precision==null&&(l.trim=!0),l=mI(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},e.nice=()=>r(BX(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function UX(){const t=gI(Px()).domain([1,10]);return t.copy=()=>ig(t,UX()).base(t.base()),Wi.apply(t,arguments),t}function M5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function N5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vI(t){var e=1,r=t(M5(e),N5(e));return r.constant=function(n){return arguments.length?t(M5(e=+n),N5(e)):e},Ol(r)}function GX(){var t=vI(Px());return t.copy=function(){return ig(t,GX()).constant(t.constant())},Wi.apply(t,arguments)}function k5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $Le(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function FLe(t){return t<0?-t*t:t*t}function yI(t){var e=t(Mn,Mn),r=1;function n(){return r===1?t(Mn,Mn):r===.5?t($Le,FLe):t(k5(r),k5(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ol(e)}function bI(){var t=yI(Px());return t.copy=function(){return ig(t,bI()).exponent(t.exponent())},Wi.apply(t,arguments),t}function BLe(){return bI.apply(null,arguments).exponent(.5)}function j5(t){return Math.sign(t)*t*t}function ULe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function zX(){var t=hI(),e=[0,1],r=!1,n;function i(a){var s=ULe(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(j5(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,X0)).map(j5)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return zX(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Wi.apply(i,arguments),Ol(i)}function VX(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=HDe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[rg(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(cl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return VX().domain(t).range(e).unknown(n)},Wi.apply(a,arguments)}function qX(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[rg(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return qX().domain([t,e]).range(i).unknown(a)},Wi.apply(Ol(s),arguments)}function HX(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[rg(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return HX().domain(t).range(e).unknown(r)},Wi.apply(i,arguments)}const F_=new Date,B_=new Date;function Yr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Yr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(F_.setTime(+a),B_.setTime(+s),t(F_),t(B_),Math.floor(r(F_,B_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const J0=Yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);J0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):J0);J0.range;const Fs=1e3,Fi=Fs*60,Bs=Fi*60,to=Bs*24,xI=to*7,$5=to*30,U_=to*365,wc=Yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Fs)},(t,e)=>(e-t)/Fs,t=>t.getUTCSeconds());wc.range;const SI=Yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fs)},(t,e)=>{t.setTime(+t+e*Fi)},(t,e)=>(e-t)/Fi,t=>t.getMinutes());SI.range;const wI=Yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Fi)},(t,e)=>(e-t)/Fi,t=>t.getUTCMinutes());wI.range;const EI=Yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fs-t.getMinutes()*Fi)},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getHours());EI.range;const TI=Yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getUTCHours());TI.range;const ag=Yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fi)/to,t=>t.getDate()-1);ag.range;const Dx=Yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/to,t=>t.getUTCDate()-1);Dx.range;const KX=Yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/to,t=>Math.floor(t/to));KX.range;function ou(t){return Yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Fi)/xI)}const Lx=ou(0),eb=ou(1),GLe=ou(2),zLe=ou(3),Gd=ou(4),VLe=ou(5),qLe=ou(6);Lx.range;eb.range;GLe.range;zLe.range;Gd.range;VLe.range;qLe.range;function lu(t){return Yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/xI)}const Ix=lu(0),tb=lu(1),HLe=lu(2),KLe=lu(3),zd=lu(4),WLe=lu(5),YLe=lu(6);Ix.range;tb.range;HLe.range;KLe.range;zd.range;WLe.range;YLe.range;const AI=Yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());AI.range;const _I=Yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_I.range;const ro=Yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ro.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ro.range;const no=Yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());no.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});no.range;function WX(t,e,r,n,i,a){const s=[[wc,1,Fs],[wc,5,5*Fs],[wc,15,15*Fs],[wc,30,30*Fs],[a,1,Fi],[a,5,5*Fi],[a,15,15*Fi],[a,30,30*Fi],[i,1,Bs],[i,3,3*Bs],[i,6,6*Bs],[i,12,12*Bs],[n,1,to],[n,2,2*to],[r,1,xI],[e,1,$5],[e,3,3*$5],[t,1,U_]];function o(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const g=f&&typeof f.range=="function"?f:l(c,d,f),y=g?g.range(c,+d+1):[];return p?y.reverse():y}function l(c,d,f){const p=Math.abs(d-c)/f,g=lI(([,,x])=>x).right(s,p);if(g===s.length)return t.every(SC(c/U_,d/U_,f));if(g===0)return J0.every(Math.max(SC(c,d,f),1));const[y,b]=s[p/s[g-1][2]<s[g][2]/p?g-1:g];return y.every(b)}return[o,l]}const[XLe,QLe]=WX(no,_I,Ix,KX,TI,wI),[ZLe,JLe]=WX(ro,AI,Lx,ag,EI,SI);function G_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function z_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function eIe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Gh(i),d=zh(i),f=Gh(a),p=zh(a),g=Gh(s),y=zh(s),b=Gh(o),x=zh(o),w=Gh(l),E=zh(l),T={a:H,A:V,b:q,B:G,c:null,d:V5,e:V5,f:EIe,g:IIe,G:NIe,H:xIe,I:SIe,j:wIe,L:YX,m:TIe,M:AIe,p:Y,q:X,Q:K5,s:W5,S:_Ie,u:OIe,U:RIe,V:CIe,w:PIe,W:DIe,x:null,X:null,y:LIe,Y:MIe,Z:kIe,"%":H5},O={a:te,A:ee,b:ue,B:he,c:null,d:q5,e:q5,f:BIe,g:XIe,G:ZIe,H:jIe,I:$Ie,j:FIe,L:QX,m:UIe,M:GIe,p:ve,q:Se,Q:K5,s:W5,S:zIe,u:VIe,U:qIe,V:HIe,w:KIe,W:WIe,x:null,X:null,y:YIe,Y:QIe,Z:JIe,"%":H5},_={a:M,A:N,b:k,B:F,c:U,d:G5,e:G5,f:gIe,g:U5,G:B5,H:z5,I:z5,j:fIe,L:mIe,m:dIe,M:hIe,p:I,q:uIe,Q:yIe,s:bIe,S:pIe,u:aIe,U:sIe,V:oIe,w:iIe,W:lIe,x:z,X:j,y:U5,Y:B5,Z:cIe,"%":vIe};T.x=P(r,T),T.X=P(n,T),T.c=P(e,T),O.x=P(r,O),O.X=P(n,O),O.c=P(e,O);function P(me,Ee){return function(Ce){var ce=[],ke=-1,Ue=0,ut=me.length,Ie,nt,Z;for(Ce instanceof Date||(Ce=new Date(+Ce));++ke<ut;)me.charCodeAt(ke)===37&&(ce.push(me.slice(Ue,ke)),(nt=F5[Ie=me.charAt(++ke)])!=null?Ie=me.charAt(++ke):nt=Ie==="e"?" ":"0",(Z=Ee[Ie])&&(Ie=Z(Ce,nt)),ce.push(Ie),Ue=ke+1);return ce.push(me.slice(Ue,ke)),ce.join("")}}function R(me,Ee){return function(Ce){var ce=Uh(1900,void 0,1),ke=D(ce,me,Ce+="",0),Ue,ut;if(ke!=Ce.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Ee&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ue=z_(Uh(ce.y,0,1)),ut=Ue.getUTCDay(),Ue=ut>4||ut===0?tb.ceil(Ue):tb(Ue),Ue=Dx.offset(Ue,(ce.V-1)*7),ce.y=Ue.getUTCFullYear(),ce.m=Ue.getUTCMonth(),ce.d=Ue.getUTCDate()+(ce.w+6)%7):(Ue=G_(Uh(ce.y,0,1)),ut=Ue.getDay(),Ue=ut>4||ut===0?eb.ceil(Ue):eb(Ue),Ue=ag.offset(Ue,(ce.V-1)*7),ce.y=Ue.getFullYear(),ce.m=Ue.getMonth(),ce.d=Ue.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),ut="Z"in ce?z_(Uh(ce.y,0,1)).getUTCDay():G_(Uh(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(ut+5)%7:ce.w+ce.U*7-(ut+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,z_(ce)):G_(ce)}}function D(me,Ee,Ce,ce){for(var ke=0,Ue=Ee.length,ut=Ce.length,Ie,nt;ke<Ue;){if(ce>=ut)return-1;if(Ie=Ee.charCodeAt(ke++),Ie===37){if(Ie=Ee.charAt(ke++),nt=_[Ie in F5?Ee.charAt(ke++):Ie],!nt||(ce=nt(me,Ce,ce))<0)return-1}else if(Ie!=Ce.charCodeAt(ce++))return-1}return ce}function I(me,Ee,Ce){var ce=c.exec(Ee.slice(Ce));return ce?(me.p=d.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function M(me,Ee,Ce){var ce=g.exec(Ee.slice(Ce));return ce?(me.w=y.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function N(me,Ee,Ce){var ce=f.exec(Ee.slice(Ce));return ce?(me.w=p.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function k(me,Ee,Ce){var ce=w.exec(Ee.slice(Ce));return ce?(me.m=E.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function F(me,Ee,Ce){var ce=b.exec(Ee.slice(Ce));return ce?(me.m=x.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function U(me,Ee,Ce){return D(me,e,Ee,Ce)}function z(me,Ee,Ce){return D(me,r,Ee,Ce)}function j(me,Ee,Ce){return D(me,n,Ee,Ce)}function H(me){return s[me.getDay()]}function V(me){return a[me.getDay()]}function q(me){return l[me.getMonth()]}function G(me){return o[me.getMonth()]}function Y(me){return i[+(me.getHours()>=12)]}function X(me){return 1+~~(me.getMonth()/3)}function te(me){return s[me.getUTCDay()]}function ee(me){return a[me.getUTCDay()]}function ue(me){return l[me.getUTCMonth()]}function he(me){return o[me.getUTCMonth()]}function ve(me){return i[+(me.getUTCHours()>=12)]}function Se(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Ee=P(me+="",T);return Ee.toString=function(){return me},Ee},parse:function(me){var Ee=R(me+="",!1);return Ee.toString=function(){return me},Ee},utcFormat:function(me){var Ee=P(me+="",O);return Ee.toString=function(){return me},Ee},utcParse:function(me){var Ee=R(me+="",!0);return Ee.toString=function(){return me},Ee}}}var F5={"-":"",_:" ",0:"0"},ln=/^\s*\d+/,tIe=/^%/,rIe=/[\\^$*+?|[\]().{}]/g;function jt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function nIe(t){return t.replace(rIe,"\\$&")}function Gh(t){return new RegExp("^(?:"+t.map(nIe).join("|")+")","i")}function zh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function iIe(t,e,r){var n=ln.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function aIe(t,e,r){var n=ln.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function sIe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function oIe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function lIe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function B5(t,e,r){var n=ln.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function U5(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function cIe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function uIe(t,e,r){var n=ln.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function dIe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function G5(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function fIe(t,e,r){var n=ln.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function z5(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function hIe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function pIe(t,e,r){var n=ln.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function mIe(t,e,r){var n=ln.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function gIe(t,e,r){var n=ln.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function vIe(t,e,r){var n=tIe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function yIe(t,e,r){var n=ln.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function bIe(t,e,r){var n=ln.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function V5(t,e){return jt(t.getDate(),e,2)}function xIe(t,e){return jt(t.getHours(),e,2)}function SIe(t,e){return jt(t.getHours()%12||12,e,2)}function wIe(t,e){return jt(1+ag.count(ro(t),t),e,3)}function YX(t,e){return jt(t.getMilliseconds(),e,3)}function EIe(t,e){return YX(t,e)+"000"}function TIe(t,e){return jt(t.getMonth()+1,e,2)}function AIe(t,e){return jt(t.getMinutes(),e,2)}function _Ie(t,e){return jt(t.getSeconds(),e,2)}function OIe(t){var e=t.getDay();return e===0?7:e}function RIe(t,e){return jt(Lx.count(ro(t)-1,t),e,2)}function XX(t){var e=t.getDay();return e>=4||e===0?Gd(t):Gd.ceil(t)}function CIe(t,e){return t=XX(t),jt(Gd.count(ro(t),t)+(ro(t).getDay()===4),e,2)}function PIe(t){return t.getDay()}function DIe(t,e){return jt(eb.count(ro(t)-1,t),e,2)}function LIe(t,e){return jt(t.getFullYear()%100,e,2)}function IIe(t,e){return t=XX(t),jt(t.getFullYear()%100,e,2)}function MIe(t,e){return jt(t.getFullYear()%1e4,e,4)}function NIe(t,e){var r=t.getDay();return t=r>=4||r===0?Gd(t):Gd.ceil(t),jt(t.getFullYear()%1e4,e,4)}function kIe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jt(e/60|0,"0",2)+jt(e%60,"0",2)}function q5(t,e){return jt(t.getUTCDate(),e,2)}function jIe(t,e){return jt(t.getUTCHours(),e,2)}function $Ie(t,e){return jt(t.getUTCHours()%12||12,e,2)}function FIe(t,e){return jt(1+Dx.count(no(t),t),e,3)}function QX(t,e){return jt(t.getUTCMilliseconds(),e,3)}function BIe(t,e){return QX(t,e)+"000"}function UIe(t,e){return jt(t.getUTCMonth()+1,e,2)}function GIe(t,e){return jt(t.getUTCMinutes(),e,2)}function zIe(t,e){return jt(t.getUTCSeconds(),e,2)}function VIe(t){var e=t.getUTCDay();return e===0?7:e}function qIe(t,e){return jt(Ix.count(no(t)-1,t),e,2)}function ZX(t){var e=t.getUTCDay();return e>=4||e===0?zd(t):zd.ceil(t)}function HIe(t,e){return t=ZX(t),jt(zd.count(no(t),t)+(no(t).getUTCDay()===4),e,2)}function KIe(t){return t.getUTCDay()}function WIe(t,e){return jt(tb.count(no(t)-1,t),e,2)}function YIe(t,e){return jt(t.getUTCFullYear()%100,e,2)}function XIe(t,e){return t=ZX(t),jt(t.getUTCFullYear()%100,e,2)}function QIe(t,e){return jt(t.getUTCFullYear()%1e4,e,4)}function ZIe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?zd(t):zd.ceil(t),jt(t.getUTCFullYear()%1e4,e,4)}function JIe(){return"+0000"}function H5(){return"%"}function K5(t){return+t}function W5(t){return Math.floor(+t/1e3)}var rd,JX,eQ;eMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eMe(t){return rd=eIe(t),JX=rd.format,rd.parse,eQ=rd.utcFormat,rd.utcParse,rd}function tMe(t){return new Date(t)}function rMe(t){return t instanceof Date?+t:+new Date(+t)}function OI(t,e,r,n,i,a,s,o,l,c){var d=hI(),f=d.invert,p=d.domain,g=c(".%L"),y=c(":%S"),b=c("%I:%M"),x=c("%I %p"),w=c("%a %d"),E=c("%b %d"),T=c("%B"),O=c("%Y");function _(P){return(l(P)<P?g:o(P)<P?y:s(P)<P?b:a(P)<P?x:n(P)<P?i(P)<P?w:E:r(P)<P?T:O)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?p(Array.from(P,rMe)):p().map(tMe)},d.ticks=function(P){var R=p();return t(R[0],R[R.length-1],P??10)},d.tickFormat=function(P,R){return R==null?_:c(R)},d.nice=function(P){var R=p();return(!P||typeof P.range!="function")&&(P=e(R[0],R[R.length-1],P??10)),P?p(BX(R,P)):d},d.copy=function(){return ig(d,OI(t,e,r,n,i,a,s,o,l,c))},d}function nMe(){return Wi.apply(OI(ZLe,JLe,ro,AI,Lx,ag,EI,SI,wc,JX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iMe(){return Wi.apply(OI(XLe,QLe,no,_I,Ix,Dx,TI,wI,wc,eQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mx(){var t=0,e=1,r,n,i,a,s=Mn,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(p){var g,y;return arguments.length?([g,y]=p,s=f(g,y),c):[s(0),s(1)]}}return c.range=d(Tf),c.rangeRound=d(fI),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Rl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tQ(){var t=Ol(Mx()(Mn));return t.copy=function(){return Rl(t,tQ())},mo.apply(t,arguments)}function rQ(){var t=gI(Mx()).domain([1,10]);return t.copy=function(){return Rl(t,rQ()).base(t.base())},mo.apply(t,arguments)}function nQ(){var t=vI(Mx());return t.copy=function(){return Rl(t,nQ()).constant(t.constant())},mo.apply(t,arguments)}function RI(){var t=yI(Mx());return t.copy=function(){return Rl(t,RI()).exponent(t.exponent())},mo.apply(t,arguments)}function aMe(){return RI.apply(null,arguments).exponent(.5)}function iQ(){var t=[],e=Mn;function r(n){if(n!=null&&!isNaN(n=+n))return e((rg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(cl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>qDe(t,a/n))},r.copy=function(){return iQ(e).domain(t)},mo.apply(r,arguments)}function Nx(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,c=Mn,d,f=!1,p;function g(b){return isNaN(b=+b)?p:(b=.5+((b=+d(b))-a)*(n*b<n*a?o:l),c(f?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([t,e,r]=b,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,g):[t,e,r]},g.clamp=function(b){return arguments.length?(f=!!b,g):f},g.interpolator=function(b){return arguments.length?(c=b,g):c};function y(b){return function(x){var w,E,T;return arguments.length?([w,E,T]=x,c=vLe(b,[w,E,T]),g):[c(0),c(.5),c(1)]}}return g.range=y(Tf),g.rangeRound=y(fI),g.unknown=function(b){return arguments.length?(p=b,g):p},function(b){return d=b,i=b(t),a=b(e),s=b(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,g}}function aQ(){var t=Ol(Nx()(Mn));return t.copy=function(){return Rl(t,aQ())},mo.apply(t,arguments)}function sQ(){var t=gI(Nx()).domain([.1,1,10]);return t.copy=function(){return Rl(t,sQ()).base(t.base())},mo.apply(t,arguments)}function oQ(){var t=vI(Nx());return t.copy=function(){return Rl(t,oQ()).constant(t.constant())},mo.apply(t,arguments)}function CI(){var t=yI(Nx());return t.copy=function(){return Rl(t,CI()).exponent(t.exponent())},mo.apply(t,arguments)}function sMe(){return CI.apply(null,arguments).exponent(.5)}const Y5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jp,scaleDiverging:aQ,scaleDivergingLog:sQ,scaleDivergingPow:CI,scaleDivergingSqrt:sMe,scaleDivergingSymlog:oQ,scaleIdentity:FX,scaleImplicit:wC,scaleLinear:Z0,scaleLog:UX,scaleOrdinal:cI,scalePoint:pp,scalePow:bI,scaleQuantile:VX,scaleQuantize:qX,scaleRadial:zX,scaleSequential:tQ,scaleSequentialLog:rQ,scaleSequentialPow:RI,scaleSequentialQuantile:iQ,scaleSequentialSqrt:aMe,scaleSequentialSymlog:nQ,scaleSqrt:BLe,scaleSymlog:GX,scaleThreshold:HX,scaleTime:nMe,scaleUtc:iMe,tickFormat:$X},Symbol.toStringTag,{value:"Module"}));var V_,X5;function kx(){if(X5)return V_;X5=1;var t=bf();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var o=r[a],l=n(o);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,d=o}return d}return V_=e,V_}var q_,Q5;function lQ(){if(Q5)return q_;Q5=1;function t(e,r){return e>r}return q_=t,q_}var H_,Z5;function oMe(){if(Z5)return H_;Z5=1;var t=kx(),e=lQ(),r=Ef();function n(i){return i&&i.length?t(i,r,e):void 0}return H_=n,H_}var lMe=oMe();const sl=$t(lMe);var K_,J5;function cQ(){if(J5)return K_;J5=1;function t(e,r){return e<r}return K_=t,K_}var W_,e8;function cMe(){if(e8)return W_;e8=1;var t=kx(),e=cQ(),r=Ef();function n(i){return i&&i.length?t(i,r,e):void 0}return W_=n,W_}var uMe=cMe();const jx=$t(uMe);var Y_,t8;function dMe(){if(t8)return Y_;t8=1;var t=qL(),e=ss(),r=vX(),n=Zn();function i(a,s){var o=n(a)?t:r;return o(a,e(s,3))}return Y_=i,Y_}var X_,r8;function fMe(){if(r8)return X_;r8=1;var t=mX(),e=dMe();function r(n,i){return t(e(n,i),1)}return X_=r,X_}var hMe=fMe();const pMe=$t(hMe);var Q_,n8;function mMe(){if(n8)return Q_;n8=1;var t=iI();function e(r,n){return t(r,n)}return Q_=e,Q_}var gMe=mMe();const Vd=$t(gMe);var Af=1e9,vMe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},DI,vr=!0,Hi="[DecimalError] ",Rc=Hi+"Invalid argument: ",PI=Hi+"Exponent out of range: ",_f=Math.floor,hc=Math.pow,yMe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,nn=1e7,dr=7,uQ=9007199254740991,rb=_f(uQ/dr),Ge={};Ge.absoluteValue=Ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ge.comparedTo=Ge.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*dr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ge.dividedBy=Ge.div=function(t){return Ks(this,new this.constructor(t))};Ge.dividedToIntegerBy=Ge.idiv=function(t){var e=this,r=e.constructor;return tr(Ks(e,new r(t),0,1),r.precision)};Ge.equals=Ge.eq=function(t){return!this.cmp(t)};Ge.exponent=function(){return Br(this)};Ge.greaterThan=Ge.gt=function(t){return this.cmp(t)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(t){return this.cmp(t)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(t){return this.cmp(t)<0};Ge.lessThanOrEqualTo=Ge.lte=function(t){return this.cmp(t)<1};Ge.logarithm=Ge.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(fi))throw Error(Hi+"NaN");if(r.s<1)throw Error(Hi+(r.s?"NaN":"-Infinity"));return r.eq(fi)?new n(0):(vr=!1,e=Ks(im(r,a),im(t,a),a),vr=!0,tr(e,i))};Ge.minus=Ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hQ(e,t):dQ(e,(t.s=-t.s,t))};Ge.modulo=Ge.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Hi+"NaN");return r.s?(vr=!1,e=Ks(r,t,0,1).times(t),vr=!0,r.minus(e)):tr(new n(r),i)};Ge.naturalExponential=Ge.exp=function(){return fQ(this)};Ge.naturalLogarithm=Ge.ln=function(){return im(this)};Ge.negated=Ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ge.plus=Ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dQ(e,t):hQ(e,(t.s=-t.s,t))};Ge.precision=Ge.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rc+t);if(e=Br(i)+1,n=i.d.length-1,r=n*dr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ge.squareRoot=Ge.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Hi+"NaN")}for(t=Br(o),vr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ua(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_f((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(Ks(o,a,s+2)).times(.5),Ua(a.d).slice(0,s)===(e=Ua(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(tr(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return vr=!0,tr(n,r)};Ge.times=Ge.mul=function(t){var e,r,n,i,a,s,o,l,c,d=this,f=d.constructor,p=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=p.length,c=g.length,l<c&&(a=p,p=g,g=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+g[n]*p[i-n-1]+e,a[i--]=o%nn|0,e=o/nn|0;a[i]=(a[i]+e)%nn|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,vr?tr(t,f.precision):t};Ge.toDecimalPlaces=Ge.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Qa(t,0,Af),e===void 0?e=n.rounding:Qa(e,0,8),tr(r,t+Br(r)+1,e))};Ge.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Xc(n,!0):(Qa(t,0,Af),e===void 0?e=i.rounding:Qa(e,0,8),n=tr(new i(n),t+1,e),r=Xc(n,!0,t+1)),r};Ge.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Xc(i):(Qa(t,0,Af),e===void 0?e=a.rounding:Qa(e,0,8),n=tr(new a(i),t+Br(i)+1,e),r=Xc(n.abs(),!1,t+Br(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ge.toInteger=Ge.toint=function(){var t=this,e=t.constructor;return tr(new e(t),Br(t)+1,e.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(fi);if(o=new l(o),!o.s){if(t.s<1)throw Error(Hi+"Infinity");return o}if(o.eq(fi))return o;if(n=l.precision,t.eq(fi))return tr(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=uQ){for(i=new l(fi),e=Math.ceil(n/dr+4),vr=!1;r%2&&(i=i.times(o),a8(i.d,e)),r=_f(r/2),r!==0;)o=o.times(o),a8(o.d,e);return vr=!0,t.s<0?new l(fi).div(i):tr(i,n)}}else if(a<0)throw Error(Hi+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,vr=!1,i=t.times(im(o,n+c)),vr=!0,i=fQ(i),i.s=a,i};Ge.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Br(i),n=Xc(i,r<=a.toExpNeg||r>=a.toExpPos)):(Qa(t,1,Af),e===void 0?e=a.rounding:Qa(e,0,8),i=tr(new a(i),t,e),r=Br(i),n=Xc(i,t<=r||r<=a.toExpNeg,t)),n};Ge.toSignificantDigits=Ge.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Qa(t,1,Af),e===void 0?e=n.rounding:Qa(e,0,8)),tr(new n(r),t,e)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Br(t),r=t.constructor;return Xc(t,e<=r.toExpNeg||e>=r.toExpPos)};function dQ(t,e){var r,n,i,a,s,o,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),vr?tr(e,f):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/dr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/nn|0,l[a]%=nn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,vr?tr(e,f):e}function Qa(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Rc+t)}function Ua(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=dr-n.length,r&&(a+=Zo(r)),a+=n;s=t[e],n=s+"",r=dr-n.length,r&&(a+=Zo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ks=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%nn|0,s=a/nn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*nn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,d,f,p,g,y,b,x,w,E,T,O,_,P,R,D,I=n.constructor,M=n.s==i.s?1:-1,N=n.d,k=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(Hi+"Division by zero");for(l=n.e-i.e,R=k.length,_=N.length,g=new I(M),y=g.d=[],c=0;k[c]==(N[c]||0);)++c;if(k[c]>(N[c]||0)&&--l,a==null?E=a=I.precision:s?E=a+(Br(n)-Br(i))+1:E=a,E<0)return new I(0);if(E=E/dr+2|0,c=0,R==1)for(d=0,k=k[0],E++;(c<_||d)&&E--;c++)T=d*nn+(N[c]||0),y[c]=T/k|0,d=T%k|0;else{for(d=nn/(k[0]+1)|0,d>1&&(k=t(k,d),N=t(N,d),R=k.length,_=N.length),O=R,b=N.slice(0,R),x=b.length;x<R;)b[x++]=0;D=k.slice(),D.unshift(0),P=k[0],k[1]>=nn/2&&++P;do d=0,o=e(k,b,R,x),o<0?(w=b[0],R!=x&&(w=w*nn+(b[1]||0)),d=w/P|0,d>1?(d>=nn&&(d=nn-1),f=t(k,d),p=f.length,x=b.length,o=e(f,b,p,x),o==1&&(d--,r(f,R<p?D:k,p))):(d==0&&(o=d=1),f=k.slice()),p=f.length,p<x&&f.unshift(0),r(b,f,x),o==-1&&(x=b.length,o=e(k,b,R,x),o<1&&(d++,r(b,R<x?D:k,x))),x=b.length):o===0&&(d++,b=[0]),y[c++]=d,o&&b[0]?b[x++]=N[O]||0:(b=[N[O]],x=1);while((O++<_||b[0]!==void 0)&&E--)}return y[0]||y.shift(),g.e=l,tr(g,s?a+Br(g)+1:a)}}();function fQ(t,e){var r,n,i,a,s,o,l=0,c=0,d=t.constructor,f=d.precision;if(Br(t)>16)throw Error(PI+Br(t));if(!t.s)return new d(fi);for(vr=!1,o=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(hc(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new d(fi),d.precision=o;;){if(i=tr(i.times(t),o),r=r.times(++l),s=a.plus(Ks(i,r,o)),Ua(s.d).slice(0,o)===Ua(a.d).slice(0,o)){for(;c--;)a=tr(a.times(a),o);return d.precision=f,e==null?(vr=!0,tr(a,f)):a}a=s}}function Br(t){for(var e=t.e*dr,r=t.d[0];r>=10;r/=10)e++;return e}function Z_(t,e,r){if(e>t.LN10.sd())throw vr=!0,r&&(t.precision=r),Error(Hi+"LN10 precision limit exceeded");return tr(new t(t.LN10),e)}function Zo(t){for(var e="";t--;)e+="0";return e}function im(t,e){var r,n,i,a,s,o,l,c,d,f=1,p=10,g=t,y=g.d,b=g.constructor,x=b.precision;if(g.s<1)throw Error(Hi+(g.s?"NaN":"-Infinity"));if(g.eq(fi))return new b(0);if(e==null?(vr=!1,c=x):c=e,g.eq(10))return e==null&&(vr=!0),Z_(b,c);if(c+=p,b.precision=c,r=Ua(y),n=r.charAt(0),a=Br(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Ua(g.d),n=r.charAt(0),f++;a=Br(g),n>1?(g=new b("0."+r),a++):g=new b(n+"."+r.slice(1))}else return l=Z_(b,c+2,x).times(a+""),g=im(new b(n+"."+r.slice(1)),c-p).plus(l),b.precision=x,e==null?(vr=!0,tr(g,x)):g;for(o=s=g=Ks(g.minus(fi),g.plus(fi),c),d=tr(g.times(g),c),i=3;;){if(s=tr(s.times(d),c),l=o.plus(Ks(s,new b(i),c)),Ua(l.d).slice(0,c)===Ua(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(Z_(b,c+2,x).times(a+""))),o=Ks(o,new b(f),c),b.precision=x,e==null?(vr=!0,tr(o,x)):o;o=l,i+=2}}function i8(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=_f(r/dr),t.d=[],n=(r+1)%dr,r<0&&(n+=dr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=dr;n<i;)t.d.push(+e.slice(n,n+=dr));e=e.slice(n),n=dr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),vr&&(t.e>rb||t.e<-rb))throw Error(PI+r)}else t.s=0,t.e=0,t.d=[0];return t}function tr(t,e,r){var n,i,a,s,o,l,c,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=dr,i=e,c=f[d=0];else{if(d=Math.ceil((n+1)/dr),a=f.length,d>=a)return t;for(c=a=f[d],s=1;a>=10;a/=10)s++;n%=dr,i=n-dr+s}if(r!==void 0&&(a=hc(10,s-i-1),o=c/a%10|0,l=e<0||f[d+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/hc(10,s-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Br(t),f.length=1,e=e-a-1,f[0]=hc(10,(dr-e%dr)%dr),t.e=_f(-e/dr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=hc(10,dr-n),f[d]=i>0?(c/hc(10,s-i)%hc(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==nn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=nn)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(vr&&(t.e>rb||t.e<-rb))throw Error(PI+Br(t));return t}function hQ(t,e){var r,n,i,a,s,o,l,c,d,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),vr?tr(e,g):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(g/dr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=nn-1;--l[a],l[i]+=nn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,vr?tr(e,g):e):new p(0)}function Xc(t,e,r){var n,i=Br(t),a=Ua(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Zo(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Zo(-i-1)+a,r&&(n=r-s)>0&&(a+=Zo(n))):i>=s?(a+=Zo(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Zo(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Zo(n))),t.s<0?"-"+a:a}function a8(t,e){if(t.length>e)return t.length=e,!0}function pQ(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Rc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return i8(s,a.toString())}else if(typeof a!="string")throw Error(Rc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,yMe.test(a))i8(s,a);else throw Error(Rc+a)}if(i.prototype=Ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pQ,i.config=i.set=bMe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function bMe(t){if(!t||typeof t!="object")throw Error(Hi+"Object expected");var e,r,n,i=["precision",1,Af,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(_f(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Rc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rc+r+": "+n);return this}var DI=pQ(vMe);fi=new DI(1);const Jt=DI;function xMe(t){return TMe(t)||EMe(t)||wMe(t)||SMe()}function SMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wMe(t,e){if(t){if(typeof t=="string")return _C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(t,e)}}function EMe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function TMe(t){if(Array.isArray(t))return _C(t)}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var AMe=function(e){return e},mQ={},gQ=function(e){return e===mQ},s8=function(e){return function r(){return arguments.length===0||arguments.length===1&&gQ(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},_Me=function t(e,r){return e===1?r:s8(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==mQ}).length;return s>=e?r.apply(void 0,i):t(e-s,s8(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(f){return gQ(f)?l.shift():f});return r.apply(void 0,xMe(d).concat(l))}))})},$x=function(e){return _Me(e.length,e)},OC=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},OMe=$x(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),RMe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return AMe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},RC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},vQ=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function CMe(t){var e;return t===0?e=1:e=Math.floor(new Jt(t).abs().log(10).toNumber())+1,e}function PMe(t,e,r){for(var n=new Jt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var DMe=$x(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),LMe=$x(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),IMe=$x(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Fx={rangeStep:PMe,getDigitCount:CMe,interpolateNumber:DMe,uninterpolateNumber:LMe,uninterpolateTruncation:IMe};function CC(t){return kMe(t)||NMe(t)||yQ(t)||MMe()}function MMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NMe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kMe(t){if(Array.isArray(t))return PC(t)}function am(t,e){return FMe(t)||$Me(t,e)||yQ(t,e)||jMe()}function jMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t,e){if(t){if(typeof t=="string")return PC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PC(t,e)}}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Me(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function FMe(t){if(Array.isArray(t))return t}function bQ(t){var e=am(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function xQ(t,e,r){if(t.lte(0))return new Jt(0);var n=Fx.getDigitCount(t.toNumber()),i=new Jt(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Jt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new Jt(Math.ceil(l))}function BMe(t,e,r){var n=1,i=new Jt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Jt(10).pow(Fx.getDigitCount(t)-1),i=new Jt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Jt(Math.floor(t)))}else t===0?i=new Jt(Math.floor((e-1)/2)):r||(i=new Jt(Math.floor(t)));var s=Math.floor((e-1)/2),o=RMe(OMe(function(l){return i.add(new Jt(l-s).mul(n)).toNumber()}),OC);return o(0,e)}function SQ(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Jt(0),tickMin:new Jt(0),tickMax:new Jt(0)};var a=xQ(new Jt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Jt(0):(s=new Jt(t).add(e).div(2),s=s.sub(new Jt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Jt(e).sub(s).div(a).toNumber()),c=o+l+1;return c>r?SQ(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:a,tickMin:s.sub(new Jt(o).mul(a)),tickMax:s.add(new Jt(l).mul(a))})}function UMe(t){var e=am(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=bQ([r,n]),l=am(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(CC(OC(0,i-1).map(function(){return 1/0}))):[].concat(CC(OC(0,i-1).map(function(){return-1/0})),[d]);return r>n?RC(f):f}if(c===d)return BMe(c,i,a);var p=SQ(c,d,s,a),g=p.step,y=p.tickMin,b=p.tickMax,x=Fx.rangeStep(y,b.add(new Jt(.1).mul(g)),g);return r>n?RC(x):x}function GMe(t,e){var r=am(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=bQ([n,i]),o=am(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var d=Math.max(e,2),f=xQ(new Jt(c).sub(l).div(d-1),a,0),p=[].concat(CC(Fx.rangeStep(new Jt(l),new Jt(c).sub(new Jt(.99).mul(f)),f)),[c]);return n>i?RC(p):p}var zMe=vQ(UMe),VMe=vQ(GMe),qMe="Invariant failed";function Qc(t,e){throw new Error(qMe)}var HMe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nb.apply(this,arguments)}function KMe(t,e){return QMe(t)||XMe(t,e)||YMe(t,e)||WMe()}function WMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YMe(t,e){if(t){if(typeof t=="string")return o8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o8(t,e)}}function o8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function QMe(t){if(Array.isArray(t))return t}function ZMe(t,e){if(t==null)return{};var r=JMe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TQ(n.key),n)}}function rNe(t,e,r){return e&&tNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nNe(t,e,r){return e=ib(e),iNe(t,wQ()?Reflect.construct(e,r||[],ib(t).constructor):e.apply(t,r))}function iNe(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aNe(t)}function aNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wQ=function(){return!!t})()}function ib(t){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(t)}function sNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DC(t,e)}function DC(t,e){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DC(t,e)}function EQ(t,e,r){return e=TQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TQ(t){var e=oNe(t,"string");return qd(e)=="symbol"?e:e+""}function oNe(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bx=function(t){function e(){return eNe(this,e),nNe(this,e,arguments)}return sNe(e,t),rNe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=ZMe(n,HMe),g=Je(p,!1);this.props.direction==="x"&&d.type!=="number"&&Qc();var y=l.map(function(b){var x=c(b,o),w=x.x,E=x.y,T=x.value,O=x.errorVal;if(!O)return null;var _=[],P,R;if(Array.isArray(O)){var D=KMe(O,2);P=D[0],R=D[1]}else P=R=O;if(a==="vertical"){var I=d.scale,M=E+i,N=M+s,k=M-s,F=I(T-P),U=I(T+R);_.push({x1:U,y1:N,x2:U,y2:k}),_.push({x1:F,y1:M,x2:U,y2:M}),_.push({x1:F,y1:N,x2:F,y2:k})}else if(a==="horizontal"){var z=f.scale,j=w+i,H=j-s,V=j+s,q=z(T-P),G=z(T+R);_.push({x1:H,y1:G,x2:V,y2:G}),_.push({x1:j,y1:q,x2:j,y2:G}),_.push({x1:H,y1:q,x2:V,y2:q})}return W.createElement(Dt,nb({className:"recharts-errorBar",key:"bar-".concat(_.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},g),_.map(function(Y){return W.createElement("line",nb({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return W.createElement(Dt,{className:"recharts-errorBars"},y)}}])}(W.Component);EQ(Bx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});EQ(Bx,"displayName","ErrorBar");function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function l8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ac(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(r),!0).forEach(function(n){lNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lNe(t,e,r){return e=cNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cNe(t){var e=uNe(t,"string");return sm(e)=="symbol"?e:e+""}function uNe(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AQ=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=oi(r,_c);if(!s)return null;var o=_c.defaultProps,l=o!==void 0?ac(ac({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(n||[]).reduce(function(d,f){var p=f.item,g=f.props,y=g.sectors||g.data||[];return d.concat(y.map(function(b){return{type:s.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):c=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,g=p!==void 0?ac(ac({},p),f.props):{},y=g.dataKey,b=g.name,x=g.legendType,w=g.hide;return{inactive:w,dataKey:y,type:l.iconType||x||"square",color:LI(f),value:b||y,payload:g}}),ac(ac(ac({},l),_c.getWithHeight(s,i)),{},{payload:c,item:s})};function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function c8(t){return pNe(t)||hNe(t)||fNe(t)||dNe()}function dNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fNe(t,e){if(t){if(typeof t=="string")return LC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LC(t,e)}}function hNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pNe(t){if(Array.isArray(t))return LC(t)}function LC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(r),!0).forEach(function(n){Ed(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ed(t,e,r){return e=mNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mNe(t){var e=gNe(t,"string");return om(e)=="symbol"?e:e+""}function gNe(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kr(t,e,r){return ft(t)||ft(e)?r:Wr(e)?mi(t,e,r):st(e)?e(t):r}function mp(t,e,r,n){var i=pMe(t,function(o){return Kr(o,e)});if(r==="number"){var a=i.filter(function(o){return De(o)||parseFloat(o)});return a.length?[jx(a),sl(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!ft(o)}):i;return s.map(function(o){return Wr(o)||o instanceof Date?o:""})}var vNe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,p=c>=o-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(Ln(f-d)!==Ln(p-f)){var y=[];if(Ln(p-f)===Ln(l[1]-l[0])){g=p;var b=f+l[1]-l[0];y[0]=Math.min(b,(b+d)/2),y[1]=Math.max(b,(b+d)/2)}else{g=d;var x=p+l[1]-l[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var w=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){s=i[c].index;break}}else{var E=Math.min(d,p),T=Math.max(d,p);if(e>(E+f)/2&&e<=(T+f)/2){s=i[c].index;break}}}else for(var O=0;O<o;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<o-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===o-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){s=n[O].index;break}return s},LI=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},yNe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),p=0,g=f.length;p<g;p++){var y=d[f[p]],b=y.items,x=y.cateAxisId,w=b.filter(function(R){return Hs(R.type).indexOf("Bar")>=0});if(w&&w.length){var E=w[0].type.defaultProps,T=E!==void 0?_r(_r({},E),w[0].props):w[0].props,O=T.barSize,_=T[x];s[_]||(s[_]=[]);var P=ft(O)?r:O;s[_].push({item:w[0],stackList:w.slice(1),barSize:ft(P)?void 0:In(P,n,0)})}}return s},bNe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=In(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var p=!1,g=i/l,y=s.reduce(function(O,_){return O+_.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&g>0&&(p=!0,g*=.9,y=l*g);var b=(i-y)/2>>0,x={offset:b-c,size:0};d=s.reduce(function(O,_){var P={item:_.item,position:{offset:x.offset+x.size+c,size:p?g:_.barSize}},R=[].concat(c8(O),[P]);return x=R[R.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(D){R.push({item:D,position:x})}),R},f)}else{var w=In(n,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var E=(i-2*w-(l-1)*c)/l;E>1&&(E>>=0);var T=o===+o?Math.min(E,o):E;d=s.reduce(function(O,_,P){var R=[].concat(c8(O),[{item:_.item,position:{offset:w+(E+c)*P+(E-T)/2,size:T}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(D){R.push({item:D,position:R[R.length-1].position})}),R},f)}return d},xNe=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=AQ({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,p=d.height,g=c.align,y=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&g!=="center"&&De(e[g]))return _r(_r({},e),{},Ed({},g,e[g]+(f||0)));if((b==="horizontal"||b==="vertical"&&g==="center")&&y!=="middle"&&De(e[y]))return _r(_r({},e),{},Ed({},y,e[y]+(p||0)))}return e},SNe=function(e,r,n){return ft(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},_Q=function(e,r,n,i,a){var s=r.props.children,o=Ui(s,Bx).filter(function(c){return SNe(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=Kr(d,n);if(ft(f))return c;var p=Array.isArray(f)?[jx(f),sl(f)]:[f,f],g=l.reduce(function(y,b){var x=Kr(d,b,0),w=p[0]-Math.abs(Array.isArray(x)?x[0]:x),E=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,y[0]),Math.max(E,y[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},wNe=function(e,r,n,i,a){var s=r.map(function(o){return _Q(e,o,n,a,i)}).filter(function(o){return!ft(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},OQ=function(e,r,n,i,a){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&_Q(e,l,c,i)||mp(e,c,n,a)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},RQ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},CQ=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},Us=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ln(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+c,value:f,offset:c}});return d.filter(function(f){return!Sf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+c,value:f,index:p,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,p){return{coordinate:i(f)+c,value:a?a[f]:f,index:p,offset:c}})},J_=new WeakMap,oy=function(e,r){if(typeof r!="function")return e;J_.has(e)||J_.set(e,new WeakMap);var n=J_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},PQ=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Jp(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Z0(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pp(),realScaleType:"point"}:a==="category"?{scale:Jp(),realScaleType:"band"}:{scale:Z0(),realScaleType:"linear"};if(Kc(i)){var l="scale".concat(wx(i));return{scale:(Y5[l]||pp)(),realScaleType:Y5[l]?l:"point"}}return st(i)?{scale:i}:{scale:pp(),realScaleType:"point"}},d8=1e-4,DQ=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-d8,s=Math.max(i[0],i[1])+d8,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},ENe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},TNe=function(e,r){if(!r||r.length!==2||!De(r[0])||!De(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!De(e[0])||e[0]<n)&&(a[0]=n),(!De(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},ANe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=Sf(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},_Ne=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Sf(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},ONe={sign:ANe,expand:pRe,none:kd,silhouette:mRe,wiggle:gRe,positive:_Ne},RNe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=ONe[n],s=hRe().keys(i).value(function(o,l){return+Kr(o,l,0)}).order(oC).offset(a);return s(e)},CNe=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,p){var g,y=(g=p.type)!==null&&g!==void 0&&g.defaultProps?_r(_r({},p.type.defaultProps),p.props):p.props,b=y.stackId,x=y.hide;if(x)return f;var w=y[n],E=f[w]||{hasStack:!1,stackGroups:{}};if(Wr(b)){var T=E.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};T.items.push(p),E.hasStack=!0,E.stackGroups[b]=T}else E.stackGroups[wf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return _r(_r({},f),{},Ed({},w,E))},l),d={};return Object.keys(c).reduce(function(f,p){var g=c[p];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(b,x){var w=g.stackGroups[x];return _r(_r({},b),{},Ed({},x,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:RNe(e,w.items,a)}))},y)}return _r(_r({},f),{},Ed({},p,g))},d)},LQ=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=zMe(c,a,o);return e.domain([jx(d),sl(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),p=VMe(f,a,o);return{niceTicks:p}}return null};function f8(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ft(i[e.dataKey])){var o=M0(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Kr(i,ft(s)?e.dataKey:s);return ft(l)?null:e.scale(l)}var h8=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=Kr(s,r.dataKey,r.domain[o]);return ft(l)?null:r.scale(l)-a/2+i},PNe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},DNe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Wr(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},LNe=function(e){return e.reduce(function(r,n){return[jx(n.concat([r[0]]).filter(De)),sl(n.concat([r[1]]).filter(De))]},[1/0,-1/0])},IQ=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,d){var f=LNe(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},p8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IC=function(e,r,n){if(st(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(De(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(p8.test(e[0])){var a=+p8.exec(e[0])[1];i[0]=r[0]-a}else st(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(De(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(m8.test(e[1])){var s=+m8.exec(e[1])[1];i[1]=r[1]+s}else st(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ab=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=sI(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];s=Math.min((c.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},g8=function(e,r,n){return!e||!e.length||Vd(e,mi(n,"type.defaultProps.domain"))?r:e},MQ=function(e,r){var n=e.type.defaultProps?_r(_r({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return _r(_r({},Je(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:LI(e),value:Kr(r,i),type:l,payload:r,chartType:c,hide:d})};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function v8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(r),!0).forEach(function(n){NQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NQ(t,e,r){return e=INe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function INe(t){var e=MNe(t,"string");return lm(e)=="symbol"?e:e+""}function MNe(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NNe(t,e){return FNe(t)||$Ne(t,e)||jNe(t,e)||kNe()}function kNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jNe(t,e){if(t){if(typeof t=="string")return y8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y8(t,e)}}function y8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Ne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function FNe(t){if(Array.isArray(t))return t}var sb=Math.PI/180,BNe=function(e){return e*180/Math.PI},or=function(e,r,n,i){return{x:e+Math.cos(-sb*i)*n,y:r+Math.sin(-sb*i)*n}},kQ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},UNe=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.startAngle,c=e.endAngle,d=In(e.cx,s,s/2),f=In(e.cy,o,o/2),p=kQ(s,o,n),g=In(e.innerRadius,p,0),y=In(e.outerRadius,p,p*.8),b=Object.keys(r);return b.reduce(function(x,w){var E=r[w],T=E.domain,O=E.reversed,_;if(ft(E.range))i==="angleAxis"?_=[l,c]:i==="radiusAxis"&&(_=[g,y]),O&&(_=[_[1],_[0]]);else{_=E.range;var P=_,R=NNe(P,2);l=R[0],c=R[1]}var D=PQ(E,a),I=D.realScaleType,M=D.scale;M.domain(T).range(_),DQ(M);var N=LQ(M,Ns(Ns({},E),{},{realScaleType:I})),k=Ns(Ns(Ns({},E),N),{},{range:_,radius:y,realScaleType:I,scale:M,cx:d,cy:f,innerRadius:g,outerRadius:y,startAngle:l,endAngle:c});return Ns(Ns({},x),{},NQ({},w,k))},{})},GNe=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},zNe=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=GNe({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:BNe(c),angleInRadian:c}},VNe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},qNe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},b8=function(e,r){var n=e.x,i=e.y,a=zNe({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var d=VNe(r),f=d.startAngle,p=d.endAngle,g=o,y;if(f<=p){for(;g>p;)g-=360;for(;g<f;)g+=360;y=g>=f&&g<=p}else{for(;g>f;)g-=360;for(;g<p;)g+=360;y=g>=p&&g<=f}return y?Ns(Ns({},r),{},{radius:s,angle:qNe(g,r)}):null},jQ=function(e){return!A.isValidElement(e)&&!st(e)&&typeof e!="boolean"?e.className:""};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}var HNe=["offset"];function KNe(t){return QNe(t)||XNe(t)||YNe(t)||WNe()}function WNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YNe(t,e){if(t){if(typeof t=="string")return MC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MC(t,e)}}function XNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QNe(t){if(Array.isArray(t))return MC(t)}function MC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZNe(t,e){if(t==null)return{};var r=JNe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(r),!0).forEach(function(n){e2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e2e(t,e,r){return e=t2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t2e(t){var e=r2e(t,"string");return cm(e)=="symbol"?e:e+""}function r2e(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},um.apply(this,arguments)}var n2e=function(e){var r=e.value,n=e.formatter,i=ft(e.children)?r:e.children;return st(n)?n(i):i},i2e=function(e,r){var n=Ln(r-e),i=Math.min(Math.abs(r-e),360);return n*i},a2e=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,p=l.outerRadius,g=l.startAngle,y=l.endAngle,b=l.clockWise,x=(f+p)/2,w=i2e(g,y),E=w>=0?1:-1,T,O;i==="insideStart"?(T=g+E*s,O=b):i==="insideEnd"?(T=y-E*s,O=!b):i==="end"&&(T=y+E*s,O=b),O=w<=0?O:!O;var _=or(c,d,x,T),P=or(c,d,x,T+(O?1:-1)*359),R="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),D=ft(e.id)?wf("recharts-radial-line-"):e.id;return W.createElement("text",um({},n,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",o)}),W.createElement("defs",null,W.createElement("path",{id:D,d:R})),W.createElement("textPath",{xlinkHref:"#".concat(D)},r))},s2e=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,p=(d+f)/2;if(i==="outside"){var g=or(s,o,c+n,p),y=g.x,b=g.y;return{x:y,y:b,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,w=or(s,o,x,p),E=w.x,T=w.y;return{x:E,y:T,textAnchor:"middle",verticalAnchor:"middle"}},o2e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,c=s.width,d=s.height,f=d>=0?1:-1,p=f*i,g=f>0?"end":"start",y=f>0?"start":"end",b=c>=0?1:-1,x=b*i,w=b>0?"end":"start",E=b>0?"start":"end";if(a==="top"){var T={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return zr(zr({},T),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var O={x:o+c/2,y:l+d+p,textAnchor:"middle",verticalAnchor:y};return zr(zr({},O),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(a==="left"){var _={x:o-x,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return zr(zr({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(a==="right"){var P={x:o+c+x,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return zr(zr({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var R=n?{width:c,height:d}:{};return a==="insideLeft"?zr({x:o+x,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},R):a==="insideRight"?zr({x:o+c-x,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},R):a==="insideTop"?zr({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:y},R):a==="insideBottom"?zr({x:o+c/2,y:l+d-p,textAnchor:"middle",verticalAnchor:g},R):a==="insideTopLeft"?zr({x:o+x,y:l+p,textAnchor:E,verticalAnchor:y},R):a==="insideTopRight"?zr({x:o+c-x,y:l+p,textAnchor:w,verticalAnchor:y},R):a==="insideBottomLeft"?zr({x:o+x,y:l+d-p,textAnchor:E,verticalAnchor:g},R):a==="insideBottomRight"?zr({x:o+c-x,y:l+d-p,textAnchor:w,verticalAnchor:g},R):xf(a)&&(De(a.x)||xc(a.x))&&(De(a.y)||xc(a.y))?zr({x:o+In(a.x,c),y:l+In(a.y,d),textAnchor:"end",verticalAnchor:"end"},R):zr({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},R)},l2e=function(e){return"cx"in e&&De(e.cx)};function sn(t){var e=t.offset,r=e===void 0?5:e,n=ZNe(t,HNe),i=zr({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,p=i.textBreakAll;if(!a||ft(o)&&ft(l)&&!A.isValidElement(c)&&!st(c))return null;if(A.isValidElement(c))return A.cloneElement(c,i);var g;if(st(c)){if(g=A.createElement(c,i),A.isValidElement(g))return g}else g=n2e(i);var y=l2e(a),b=Je(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return a2e(i,g,b);var x=y?s2e(i):o2e(i);return W.createElement(Yc,um({className:ht("recharts-label",f)},b,x,{breakAll:p}),g)}sn.displayName="Label";var $Q=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,p=e.y,g=e.top,y=e.left,b=e.width,x=e.height,w=e.clockWise,E=e.labelViewBox;if(E)return E;if(De(b)&&De(x)){if(De(f)&&De(p))return{x:f,y:p,width:b,height:x};if(De(g)&&De(y))return{x:g,y,width:b,height:x}}return De(f)&&De(p)?{x:f,y:p,width:0,height:0}:De(r)&&De(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},c2e=function(e,r){return e?e===!0?W.createElement(sn,{key:"label-implicit",viewBox:r}):Wr(e)?W.createElement(sn,{key:"label-implicit",viewBox:r,value:e}):A.isValidElement(e)?e.type===sn?A.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(sn,{key:"label-implicit",content:e,viewBox:r}):st(e)?W.createElement(sn,{key:"label-implicit",content:e,viewBox:r}):xf(e)?W.createElement(sn,um({viewBox:r},e,{key:"label-implicit"})):null:null},u2e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=$Q(e),s=Ui(i,sn).map(function(l,c){return A.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return s;var o=c2e(e.label,r||a);return[o].concat(KNe(s))};sn.parseViewBox=$Q;sn.renderCallByParent=u2e;var eO,S8;function d2e(){if(S8)return eO;S8=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return eO=t,eO}var f2e=d2e();const h2e=$t(f2e);function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}var p2e=["valueAccessor"],m2e=["data","dataKey","clockWise","id","textBreakAll"];function g2e(t){return x2e(t)||b2e(t)||y2e(t)||v2e()}function v2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y2e(t,e){if(t){if(typeof t=="string")return NC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(t,e)}}function b2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x2e(t){if(Array.isArray(t))return NC(t)}function NC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ob.apply(this,arguments)}function w8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(r),!0).forEach(function(n){S2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S2e(t,e,r){return e=w2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w2e(t){var e=E2e(t,"string");return dm(e)=="symbol"?e:e+""}function E2e(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T8(t,e){if(t==null)return{};var r=T2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var A2e=function(e){return Array.isArray(e.value)?h2e(e.value):e.value};function Ws(t){var e=t.valueAccessor,r=e===void 0?A2e:e,n=T8(t,p2e),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=T8(n,m2e);return!i||!i.length?null:W.createElement(Dt,{className:"recharts-label-list"},i.map(function(d,f){var p=ft(a)?r(d,f):Kr(d&&d.payload,a),g=ft(o)?{}:{id:"".concat(o,"-").concat(f)};return W.createElement(sn,ob({},Je(d,!0),c,g,{parentViewBox:d.parentViewBox,value:p,textBreakAll:l,viewBox:sn.parseViewBox(ft(s)?d:E8(E8({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ws.displayName="LabelList";function _2e(t,e){return t?t===!0?W.createElement(Ws,{key:"labelList-implicit",data:e}):W.isValidElement(t)||st(t)?W.createElement(Ws,{key:"labelList-implicit",data:e,content:t}):xf(t)?W.createElement(Ws,ob({data:e},t,{key:"labelList-implicit"})):null:null}function O2e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ui(n,Ws).map(function(s,o){return A.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=_2e(t.label,e);return[a].concat(g2e(i))}Ws.renderCallByParent=O2e;function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function kC(){return kC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kC.apply(this,arguments)}function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){R2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R2e(t,e,r){return e=C2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C2e(t){var e=P2e(t,"string");return fm(e)=="symbol"?e:e+""}function P2e(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D2e=function(e,r){var n=Ln(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},ly=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/sb,p=c?a:a+s*f,g=or(r,n,d,p),y=or(r,n,i,p),b=c?a-s*f:a,x=or(r,n,d*Math.cos(f*sb),b);return{center:g,circleTangency:y,lineTangency:x,theta:f}},FQ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=D2e(s,o),c=s+l,d=or(r,n,a,s),f=or(r,n,a,c),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=or(r,n,i,s),y=or(r,n,i,c);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},L2e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=Ln(d-c),p=ly({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),g=p.circleTangency,y=p.lineTangency,b=p.theta,x=ly({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),w=x.circleTangency,E=x.lineTangency,T=x.theta,O=l?Math.abs(c-d):Math.abs(c-d)-b-T;if(O<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):FQ({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var _="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var P=ly({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),R=P.circleTangency,D=P.lineTangency,I=P.theta,M=ly({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),N=M.circleTangency,k=M.lineTangency,F=M.theta,U=l?Math.abs(c-d):Math.abs(c-d)-I-F;if(U<0&&s===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},I2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BQ=function(e){var r=_8(_8({},I2e),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(s<a||d===f)return null;var g=ht("recharts-sector",p),y=s-a,b=In(o,y,0,!0),x;return b>0&&Math.abs(d-f)<360?x=L2e({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(b,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):x=FQ({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),W.createElement("path",kC({},Je(r,!0),{className:g,d:x,role:"img"}))};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jC.apply(this,arguments)}function O8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(r),!0).forEach(function(n){M2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M2e(t,e,r){return e=N2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N2e(t){var e=k2e(t,"string");return hm(e)=="symbol"?e:e+""}function k2e(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C8={curveBasisClosed:rRe,curveBasisOpen:nRe,curveBasis:tRe,curveBumpX:UOe,curveBumpY:GOe,curveLinearClosed:iRe,curveLinear:Tx,curveMonotoneX:aRe,curveMonotoneY:sRe,curveNatural:oRe,curveStep:lRe,curveStepAfter:uRe,curveStepBefore:cRe},cy=function(e){return e.x===+e.x&&e.y===+e.y},Vh=function(e){return e.x},qh=function(e){return e.y},j2e=function(e,r){if(st(e))return e;var n="curve".concat(wx(e));return(n==="curveMonotone"||n==="curveBump")&&r?C8["".concat(n).concat(r==="vertical"?"Y":"X")]:C8[n]||Tx},$2e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=j2e(n,o),f=c?a.filter(function(b){return cy(b)}):a,p;if(Array.isArray(s)){var g=c?s.filter(function(b){return cy(b)}):s,y=f.map(function(b,x){return R8(R8({},b),{},{base:g[x]})});return o==="vertical"?p=ey().y(qh).x1(Vh).x0(function(b){return b.base.x}):p=ey().x(Vh).y1(qh).y0(function(b){return b.base.y}),p.defined(cy).curve(d),p(y)}return o==="vertical"&&De(s)?p=ey().y(qh).x1(Vh).x0(s):De(s)?p=ey().x(Vh).y1(qh).y0(s):p=$Y().x(Vh).y(qh),p.defined(cy).curve(d),p(f)},Td=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?$2e(e):i;return W.createElement("path",jC({},Je(e,!1),N0(e),{className:ht("recharts-curve",r),d:s,ref:a}))},tO={exports:{}},rO,P8;function F2e(){if(P8)return rO;P8=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rO=t,rO}var nO,D8;function B2e(){if(D8)return nO;D8=1;var t=F2e();function e(){}function r(){}return r.resetWarningCache=e,nO=function(){function n(s,o,l,c,d,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},nO}var L8;function U2e(){return L8||(L8=1,tO.exports=B2e()()),tO.exports}var G2e=U2e();const Gt=$t(G2e);var z2e=Object.getOwnPropertyNames,V2e=Object.getOwnPropertySymbols,q2e=Object.prototype.hasOwnProperty;function I8(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function uy(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function M8(t){return z2e(t).concat(V2e(t))}var H2e=Object.hasOwn||function(t,e){return q2e.call(t,e)};function cu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var K2e="__v",W2e="__o",Y2e="_owner",N8=Object.getOwnPropertyDescriptor,k8=Object.keys;function X2e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Q2e(t,e){return cu(t.getTime(),e.getTime())}function Z2e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function J2e(t,e){return t===e}function j8(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var c=e.entries(),d=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var p=s.value,g=o.value;if(r.equals(p[0],g[0],l,f,t,e,r)&&r.equals(p[1],g[1],p[0],g[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var eke=cu;function tke(t,e,r){var n=k8(t),i=n.length;if(k8(e).length!==i)return!1;for(;i-- >0;)if(!UQ(t,e,r,n[i]))return!1;return!0}function Hh(t,e,r){var n=M8(t),i=n.length;if(M8(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!UQ(t,e,r,a)||(s=N8(t,a),o=N8(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function rke(t,e){return cu(t.valueOf(),e.valueOf())}function nke(t,e){return t.source===e.source&&t.flags===e.flags}function $8(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),c=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function ike(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function ake(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function UQ(t,e,r,n){return(n===Y2e||n===W2e||n===K2e)&&(t.$$typeof||e.$$typeof)?!0:H2e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ske="[object Arguments]",oke="[object Boolean]",lke="[object Date]",cke="[object Error]",uke="[object Map]",dke="[object Number]",fke="[object Object]",hke="[object RegExp]",pke="[object Set]",mke="[object String]",gke="[object URL]",vke=Array.isArray,F8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,B8=Object.assign,yke=Object.prototype.toString.call.bind(Object.prototype.toString);function bke(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(y,b,x){if(y===b)return!0;if(y==null||b==null)return!1;var w=typeof y;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?s(y,b,x):w==="function"?i(y,b,x):!1;var E=y.constructor;if(E!==b.constructor)return!1;if(E===Object)return o(y,b,x);if(vke(y))return e(y,b,x);if(F8!=null&&F8(y))return f(y,b,x);if(E===Date)return r(y,b,x);if(E===RegExp)return c(y,b,x);if(E===Map)return a(y,b,x);if(E===Set)return d(y,b,x);var T=yke(y);return T===lke?r(y,b,x):T===hke?c(y,b,x):T===uke?a(y,b,x):T===pke?d(y,b,x):T===fke?typeof y.then!="function"&&typeof b.then!="function"&&o(y,b,x):T===gke?p(y,b,x):T===cke?n(y,b,x):T===ske?o(y,b,x):T===oke||T===dke||T===mke?l(y,b,x):!1}}function xke(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Hh:X2e,areDatesEqual:Q2e,areErrorsEqual:Z2e,areFunctionsEqual:J2e,areMapsEqual:n?I8(j8,Hh):j8,areNumbersEqual:eke,areObjectsEqual:n?Hh:tke,arePrimitiveWrappersEqual:rke,areRegExpsEqual:nke,areSetsEqual:n?I8($8,Hh):$8,areTypedArraysEqual:n?Hh:ike,areUrlsEqual:ake};if(r&&(i=B8({},i,r(i))),e){var a=uy(i.areArraysEqual),s=uy(i.areMapsEqual),o=uy(i.areObjectsEqual),l=uy(i.areSetsEqual);i=B8({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function Ske(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function wke(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var d=n(),f=d.cache,p=f===void 0?e?new WeakMap:void 0:f,g=d.meta;return r(l,c,{cache:p,equals:i,meta:g,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,s)}}var Eke=Cl();Cl({strict:!0});Cl({circular:!0});Cl({circular:!0,strict:!0});Cl({createInternalComparator:function(){return cu}});Cl({strict:!0,createInternalComparator:function(){return cu}});Cl({circular:!0,createInternalComparator:function(){return cu}});Cl({circular:!0,createInternalComparator:function(){return cu},strict:!0});function Cl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=xke(t),l=bke(o),c=n?n(l):Ske(l);return wke({circular:r,comparator:l,createState:i,equals:c,strict:s})}function Tke(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function U8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Tke(i)};requestAnimationFrame(n)}function $C(t){"@babel/helpers - typeof";return $C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$C(t)}function Ake(t){return Cke(t)||Rke(t)||Oke(t)||_ke()}function _ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oke(t,e){if(t){if(typeof t=="string")return G8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G8(t,e)}}function G8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cke(t){if(Array.isArray(t))return t}function Pke(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Ake(s),l=o[0],c=o.slice(1);if(typeof l=="number"){U8(i.bind(null,c),l);return}i(l),U8(i.bind(null,c));return}$C(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(r),!0).forEach(function(n){GQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GQ(t,e,r){return e=Dke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dke(t){var e=Lke(t,"string");return pm(e)==="symbol"?e:String(e)}function Lke(t,e){if(pm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ike=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Mke=function(e){return e},Nke=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gp=function(e,r){return Object.keys(r).reduce(function(n,i){return V8(V8({},n),{},GQ({},i,e(i,r[i])))},{})},q8=function(e,r,n){return e.map(function(i){return"".concat(Nke(i)," ").concat(r,"ms ").concat(n)}).join(",")};function kke(t,e){return Fke(t)||$ke(t,e)||zQ(t,e)||jke()}function jke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Fke(t){if(Array.isArray(t))return t}function Bke(t){return zke(t)||Gke(t)||zQ(t)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zQ(t,e){if(t){if(typeof t=="string")return FC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(t,e)}}function Gke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zke(t){if(Array.isArray(t))return FC(t)}function FC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lb=1e-4,VQ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},qQ=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},H8=function(e,r){return function(n){var i=VQ(e,r);return qQ(i,n)}},Vke=function(e,r){return function(n){var i=VQ(e,r),a=[].concat(Bke(i.map(function(s,o){return s*o}).slice(1)),[0]);return qQ(a,n)}},K8=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=kke(c,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=H8(i,s),p=H8(a,o),g=Vke(i,s),y=function(w){return w>1?1:w<0?0:w},b=function(w){for(var E=w>1?1:w,T=E,O=0;O<8;++O){var _=f(T)-E,P=g(T);if(Math.abs(_-E)<lb||P<lb)return p(T);T=y(T-_/P)}return p(T)};return b.isStepper=!1,b},qke=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,p){var g=-(d-f)*n,y=p*a,b=p+(g-y)*o/1e3,x=p*o/1e3+d;return Math.abs(x-f)<lb&&Math.abs(b)<lb?[f,0]:[x,b]};return l.isStepper=!0,l.dt=o,l},Hke=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return K8(i);case"spring":return qke();default:if(i.split("(")[0]==="cubic-bezier")return K8(i)}return typeof i=="function"?i:null};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function W8(t){return Yke(t)||Wke(t)||HQ(t)||Kke()}function Kke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yke(t){if(Array.isArray(t))return UC(t)}function Y8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y8(Object(r),!0).forEach(function(n){BC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BC(t,e,r){return e=Xke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xke(t){var e=Qke(t,"string");return mm(e)==="symbol"?e:String(e)}function Qke(t,e){if(mm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zke(t,e){return tje(t)||eje(t,e)||HQ(t,e)||Jke()}function Jke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HQ(t,e){if(t){if(typeof t=="string")return UC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UC(t,e)}}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eje(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function tje(t){if(Array.isArray(t))return t}var cb=function(e,r,n){return e+(r-e)*n},GC=function(e){var r=e.from,n=e.to;return r!==n},rje=function t(e,r,n){var i=gp(function(a,s){if(GC(s)){var o=e(s.from,s.to,s.velocity),l=Zke(o,2),c=l[0],d=l[1];return pn(pn({},s),{},{from:c,velocity:d})}return s},r);return n<1?gp(function(a,s){return GC(s)?pn(pn({},s),{},{velocity:cb(s.velocity,i[a].velocity,n),from:cb(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const nje=function(t,e,r,n,i){var a=Ike(t,e),s=a.reduce(function(x,w){return pn(pn({},x),{},BC({},w,[t[w],e[w]]))},{}),o=a.reduce(function(x,w){return pn(pn({},x),{},BC({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,d,f=function(){return null},p=function(){return gp(function(w,E){return E.from},o)},g=function(){return!Object.values(o).filter(GC).length},y=function(w){c||(c=w);var E=w-c,T=E/r.dt;o=rje(r,o,T),i(pn(pn(pn({},t),e),p())),c=w,g()||(l=requestAnimationFrame(f))},b=function(w){d||(d=w);var E=(w-d)/n,T=gp(function(_,P){return cb.apply(void 0,W8(P).concat([r(E)]))},s);if(i(pn(pn(pn({},t),e),T)),E<1)l=requestAnimationFrame(f);else{var O=gp(function(_,P){return cb.apply(void 0,W8(P).concat([r(1)]))},s);i(pn(pn(pn({},t),e),O))}};return f=r.isStepper?y:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}var ije=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aje(t,e){if(t==null)return{};var r=sje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sje(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function iO(t){return uje(t)||cje(t)||lje(t)||oje()}function oje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lje(t,e){if(t){if(typeof t=="string")return zC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(t,e)}}function cje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uje(t){if(Array.isArray(t))return zC(t)}function zC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(r),!0).forEach(function(n){rp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rp(t,e,r){return e=KQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fje(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KQ(n.key),n)}}function hje(t,e,r){return e&&fje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KQ(t){var e=pje(t,"string");return Hd(e)==="symbol"?e:String(e)}function pje(t,e){if(Hd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VC(t,e)}function VC(t,e){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VC(t,e)}function gje(t){var e=vje();return function(){var n=ub(t),i;if(e){var a=ub(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qC(this,i)}}function qC(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HC(t)}function HC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ub(t){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ub(t)}var Za=function(t){mje(r,t);var e=gje(r);function r(n,i){var a;dje(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,d=s.to,f=s.steps,p=s.children,g=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(HC(a)),a.changeStyle=a.changeStyle.bind(HC(a)),!o||g<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:d}),qC(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof p=="function")return a.state={style:c},qC(a);a.state={style:l?rp({},l,c):c}}else a.state={style:{}};return a}return hje(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,p=this.state.style;if(o){if(!s){var g={style:l?rp({},l,d):d};this.state&&p&&(l&&p[l]!==d||!l&&p!==d)&&this.setState(g);return}if(!(Eke(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||c?f:i.to;if(this.state&&p){var x={style:l?rp({},l,b):b};(l&&p[l]!==b||!l&&p!==b)&&this.setState(x)}this.runAnimation(ia(ia({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,g=nje(s,o,Hke(c),l,this.changeStyle),y=function(){a.stopJSAnimation=g()};this.manager.start([p,d,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],d=c.style,f=c.duration,p=f===void 0?0:f,g=function(b,x,w){if(w===0)return b;var E=x.duration,T=x.easing,O=T===void 0?"ease":T,_=x.style,P=x.properties,R=x.onAnimationEnd,D=w>0?s[w-1]:x,I=P||Object.keys(_);if(typeof O=="function"||O==="spring")return[].concat(iO(b),[a.runJSAnimation.bind(a,{from:D.style,to:_,duration:E,easing:O}),E]);var M=q8(I,E,O),N=ia(ia(ia({},D.style),_),{},{transition:M});return[].concat(iO(b),[N,E,R]).filter(Mke)};return this.manager.start([l].concat(iO(s.reduce(g,[d,Math.max(p,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Pke());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,g=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var b=o?rp({},o,l):l,x=q8(Object.keys(b),s,c);y.start([d,a,ia(ia({},b),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=aje(i,ije),c=A.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||c===0||s<=0)return a;var f=function(g){var y=g.props,b=y.style,x=b===void 0?{}:b,w=y.className,E=A.cloneElement(g,ia(ia({},l),{},{style:ia(ia({},x),d),className:w}));return E};return c===1?f(A.Children.only(a)):W.createElement("div",null,A.Children.map(a,function(p){return f(p)}))}}]),r}(A.PureComponent);Za.displayName="Animate";Za.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Za.propTypes={from:Gt.oneOfType([Gt.object,Gt.string]),to:Gt.oneOfType([Gt.object,Gt.string]),attributeName:Gt.string,duration:Gt.number,begin:Gt.number,easing:Gt.oneOfType([Gt.string,Gt.func]),steps:Gt.arrayOf(Gt.shape({duration:Gt.number.isRequired,style:Gt.object.isRequired,easing:Gt.oneOfType([Gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Gt.func]),properties:Gt.arrayOf("string"),onAnimationEnd:Gt.func})),children:Gt.oneOfType([Gt.node,Gt.func]),isActive:Gt.bool,canBegin:Gt.bool,onAnimationEnd:Gt.func,shouldReAnimate:Gt.bool,onAnimationStart:Gt.func,onAnimationReStart:Gt.func};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},db.apply(this,arguments)}function yje(t,e){return wje(t)||Sje(t,e)||xje(t,e)||bje()}function bje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xje(t,e){if(t){if(typeof t=="string")return Q8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q8(t,e)}}function Q8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sje(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function wje(t){if(Array.isArray(t))return t}function Z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(r),!0).forEach(function(n){Eje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eje(t,e,r){return e=Tje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tje(t){var e=Aje(t,"string");return gm(e)=="symbol"?e:e+""}function Aje(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e6=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,g=4;p<g;p++)f[p]=a[p]>s?s:a[p];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);d="M ".concat(e,",").concat(r+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*y,`
            L `).concat(e+n,",").concat(r+i-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+n-l*y,",").concat(r+i,`
            L `).concat(e+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(r+i-o*y," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},_je=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),p=Math.max(s,s+l);return n>=c&&n<=d&&i>=f&&i<=p}return!1},Oje={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},II=function(e){var r=J8(J8({},Oje),e),n=A.useRef(),i=A.useState(-1),a=yje(i,2),s=a[0],o=a[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&o(O)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,p=r.radius,g=r.className,y=r.animationEasing,b=r.animationDuration,x=r.animationBegin,w=r.isAnimationActive,E=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var T=ht("recharts-rectangle",g);return E?W.createElement(Za,{canBegin:s>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:b,animationEasing:y,isActive:E},function(O){var _=O.width,P=O.height,R=O.x,D=O.y;return W.createElement(Za,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:w,easing:y},W.createElement("path",db({},Je(r,!0),{className:T,d:e6(R,D,_,P,p),ref:n})))}):W.createElement("path",db({},Je(r,!0),{className:T,d:e6(l,c,d,f,p)}))},Rje=["points","className","baseLinePoints","connectNulls"];function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sd.apply(this,arguments)}function Cje(t,e){if(t==null)return{};var r=Pje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function t6(t){return Mje(t)||Ije(t)||Lje(t)||Dje()}function Dje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lje(t,e){if(t){if(typeof t=="string")return KC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KC(t,e)}}function Ije(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mje(t){if(Array.isArray(t))return KC(t)}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var r6=function(e){return e&&e.x===+e.x&&e.y===+e.y},Nje=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){r6(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),r6(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vp=function(e,r){var n=Nje(e);r&&(n=[n.reduce(function(a,s){return[].concat(t6(a),t6(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},kje=function(e,r,n){var i=vp(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vp(r.reverse(),n).slice(1))},jje=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=Cje(e,Rje);if(!r||!r.length)return null;var o=ht("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=kje(r,i,a);return W.createElement("g",{className:o},W.createElement("path",sd({},Je(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?W.createElement("path",sd({},Je(s,!0),{fill:"none",d:vp(r,a)})):null,l?W.createElement("path",sd({},Je(s,!0),{fill:"none",d:vp(i,a)})):null)}var d=vp(r,a);return W.createElement("path",sd({},Je(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function WC(){return WC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WC.apply(this,arguments)}var Ux=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=ht("recharts-dot",a);return r===+r&&n===+n&&i===+i?W.createElement("circle",WC({},Je(e,!1),N0(e),{className:s,cx:r,cy:n,r:i})):null};function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}var $je=["x","y","top","left","width","height","className"];function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YC.apply(this,arguments)}function n6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fje(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(r),!0).forEach(function(n){Bje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bje(t,e,r){return e=Uje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uje(t){var e=Gje(t,"string");return vm(e)=="symbol"?e:e+""}function Gje(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zje(t,e){if(t==null)return{};var r=Vje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qje=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Hje=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,p=e.height,g=p===void 0?0:p,y=e.className,b=zje(e,$je),x=Fje({x:n,y:a,top:o,left:c,width:f,height:g},b);return!De(n)||!De(a)||!De(f)||!De(g)||!De(o)||!De(c)?null:W.createElement("path",YC({},Je(x,!0),{className:ht("recharts-cross",y),d:qje(n,a,f,g,o,c)}))},aO,i6;function Kje(){if(i6)return aO;i6=1;var t=kx(),e=lQ(),r=ss();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return aO=n,aO}var Wje=Kje();const Yje=$t(Wje);var sO,a6;function Xje(){if(a6)return sO;a6=1;var t=kx(),e=ss(),r=cQ();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return sO=n,sO}var Qje=Xje();const Zje=$t(Qje);var Jje=["cx","cy","angle","ticks","axisLine"],e$e=["ticks","tick","angle","tickFormatter","stroke"];function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yp.apply(this,arguments)}function s6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(r),!0).forEach(function(n){Gx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o6(t,e){if(t==null)return{};var r=t$e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function r$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YQ(n.key),n)}}function n$e(t,e,r){return e&&l6(t.prototype,e),r&&l6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i$e(t,e,r){return e=fb(e),a$e(t,WQ()?Reflect.construct(e,r||[],fb(t).constructor):e.apply(t,r))}function a$e(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s$e(t)}function s$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WQ=function(){return!!t})()}function fb(t){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fb(t)}function o$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XC(t,e)}function Gx(t,e,r){return e=YQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YQ(t){var e=l$e(t,"string");return Kd(e)=="symbol"?e:e+""}function l$e(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zx=function(t){function e(){return r$e(this,e),i$e(this,e,arguments)}return o$e(e,t),n$e(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,l=a.cy;return or(o,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=Yje(o,function(d){return d.coordinate||0}),c=Zje(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,c=o6(n,Jje),d=o.reduce(function(y,b){return[Math.min(y[0],b.coordinate),Math.max(y[1],b.coordinate)]},[1/0,-1/0]),f=or(i,a,d[0],s),p=or(i,a,d[1],s),g=sc(sc(sc({},Je(c,!1)),{},{fill:"none"},Je(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return W.createElement("line",yp({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,d=o6(i,e$e),f=this.getTickTextAnchor(),p=Je(d,!1),g=Je(s,!1),y=a.map(function(b,x){var w=n.getTickValueCoord(b),E=sc(sc(sc(sc({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(w.x,", ").concat(w.y,")")},p),{},{stroke:"none",fill:c},g),{},{index:x},w),{},{payload:b});return W.createElement(Dt,yp({className:ht("recharts-polar-radius-axis-tick",jQ(s)),key:"tick-".concat(b.coordinate)},Wc(n.props,b,x)),e.renderTickItem(s,E,l?l(b.value,x):b.value))});return W.createElement(Dt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:W.createElement(Dt,{className:ht("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),sn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):st(n)?s=n(i):s=W.createElement(Yc,yp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(A.PureComponent);Gx(zx,"displayName","PolarRadiusAxis");Gx(zx,"axisType","radiusAxis");Gx(zx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gc.apply(this,arguments)}function c6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c6(Object(r),!0).forEach(function(n){Vx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QQ(n.key),n)}}function u$e(t,e,r){return e&&u6(t.prototype,e),r&&u6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d$e(t,e,r){return e=hb(e),f$e(t,XQ()?Reflect.construct(e,r||[],hb(t).constructor):e.apply(t,r))}function f$e(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h$e(t)}function h$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XQ=function(){return!!t})()}function hb(t){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hb(t)}function p$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QC(t,e)}function QC(t,e){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QC(t,e)}function Vx(t,e,r){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QQ(t){var e=m$e(t,"string");return Wd(e)=="symbol"?e:e+""}function m$e(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g$e=Math.PI/180,v$e=1e-5,qx=function(t){function e(){return c$e(this,e),d$e(this,e,arguments)}return p$e(e,t),u$e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,d=c||8,f=or(a,s,o,n.coordinate),p=or(a,s,o+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*g$e),s;return a>v$e?s=i==="outer"?"start":"end":a<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,c=oc(oc({},Je(this.props,!1)),{},{fill:"none"},Je(o,!1));if(l==="circle")return W.createElement(Ux,gc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(p){return or(i,a,s,p.coordinate)});return W.createElement(jje,gc({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,d=Je(this.props,!1),f=Je(s,!1),p=oc(oc({},d),{},{fill:"none"},Je(o,!1)),g=a.map(function(y,b){var x=n.getTickLineCoord(y),w=n.getTickTextAnchor(y),E=oc(oc(oc({textAnchor:w},d),{},{stroke:"none",fill:c},f),{},{index:b,payload:y,x:x.x2,y:x.y2});return W.createElement(Dt,gc({className:ht("recharts-polar-angle-axis-tick",jQ(s)),key:"tick-".concat(y.coordinate)},Wc(n.props,y,b)),o&&W.createElement("line",gc({className:"recharts-polar-angle-axis-tick-line"},p,x)),s&&e.renderTickItem(s,E,l?l(y.value,b):y.value))});return W.createElement(Dt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:W.createElement(Dt,{className:ht("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):st(n)?s=n(i):s=W.createElement(Yc,gc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(A.PureComponent);Vx(qx,"displayName","PolarAngleAxis");Vx(qx,"axisType","angleAxis");Vx(qx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var oO,d6;function y$e(){if(d6)return oO;d6=1;var t=oX(),e=t(Object.getPrototypeOf,Object);return oO=e,oO}var lO,f6;function b$e(){if(f6)return lO;f6=1;var t=ho(),e=y$e(),r=po(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function c(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var p=o.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==l}return lO=c,lO}var x$e=b$e();const S$e=$t(x$e);var cO,h6;function w$e(){if(h6)return cO;h6=1;var t=ho(),e=po(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return cO=n,cO}var E$e=w$e();const T$e=$t(E$e);function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(this,arguments)}function A$e(t,e){return C$e(t)||R$e(t,e)||O$e(t,e)||_$e()}function _$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(t,e){if(t){if(typeof t=="string")return p6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p6(t,e)}}function p6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function C$e(t){if(Array.isArray(t))return t}function m6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m6(Object(r),!0).forEach(function(n){P$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P$e(t,e,r){return e=D$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D$e(t){var e=L$e(t,"string");return ym(e)=="symbol"?e:e+""}function L$e(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v6=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},I$e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M$e=function(e){var r=g6(g6({},I$e),e),n=A.useRef(),i=A.useState(-1),a=A$e(i,2),s=a[0],o=a[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&o(T)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,g=r.className,y=r.animationEasing,b=r.animationDuration,x=r.animationBegin,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var E=ht("recharts-trapezoid",g);return w?W.createElement(Za,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:p,x:l,y:c},duration:b,animationEasing:y,isActive:w},function(T){var O=T.upperWidth,_=T.lowerWidth,P=T.height,R=T.x,D=T.y;return W.createElement(Za,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:y},W.createElement("path",pb({},Je(r,!0),{className:E,d:v6(R,D,O,_,P),ref:n})))}):W.createElement("g",null,W.createElement("path",pb({},Je(r,!0),{className:E,d:v6(l,c,d,f,p)})))},N$e=["option","shapeType","propTransformer","activeClassName","isActive"];function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function k$e(t,e){if(t==null)return{};var r=j$e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function j$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(r),!0).forEach(function(n){$$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $$e(t,e,r){return e=F$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F$e(t){var e=B$e(t,"string");return bm(e)=="symbol"?e:e+""}function B$e(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U$e(t,e){return mb(mb({},e),t)}function G$e(t,e){return t==="symbols"}function b6(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(II,r);case"trapezoid":return W.createElement(M$e,r);case"sector":return W.createElement(BQ,r);case"symbols":if(G$e(e))return W.createElement(ZL,r);break;default:return null}}function z$e(t){return A.isValidElement(t)?t.props:t}function ZQ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?U$e:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=k$e(t,N$e),c;if(A.isValidElement(e))c=A.cloneElement(e,mb(mb({},l),z$e(e)));else if(st(e))c=e(l);else if(S$e(e)&&!T$e(e)){var d=i(e,l);c=W.createElement(b6,{shapeType:r,elementProps:d})}else{var f=l;c=W.createElement(b6,{shapeType:r,elementProps:f})}return o?W.createElement(Dt,{className:s},c):c}function Hx(t,e){return e!=null&&"trapezoids"in t.props}function Kx(t,e){return e!=null&&"sectors"in t.props}function xm(t,e){return e!=null&&"points"in t.props}function V$e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function q$e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function H$e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function K$e(t,e){var r;return Hx(t,e)?r=V$e:Kx(t,e)?r=q$e:xm(t,e)&&(r=H$e),r}function W$e(t,e){var r;return Hx(t,e)?r="trapezoids":Kx(t,e)?r="sectors":xm(t,e)&&(r="points"),r}function Y$e(t,e){if(Hx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Kx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return xm(t,e)?e.payload:{}}function X$e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=W$e(r,e),a=Y$e(r,e),s=n.filter(function(l,c){var d=Vd(a,l),f=r.props[i].filter(function(y){var b=K$e(r,e);return b(y,e)}),p=r.props[i].indexOf(f[f.length-1]),g=c===p;return d&&g}),o=n.indexOf(s[s.length-1]);return o}var Ny;function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},od.apply(this,arguments)}function x6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(r),!0).forEach(function(n){$i(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eZ(n.key),n)}}function Z$e(t,e,r){return e&&S6(t.prototype,e),r&&S6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function J$e(t,e,r){return e=gb(e),eFe(t,JQ()?Reflect.construct(e,r||[],gb(t).constructor):e.apply(t,r))}function eFe(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tFe(t)}function tFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JQ=function(){return!!t})()}function gb(t){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(t)}function rFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZC(t,e)}function ZC(t,e){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZC(t,e)}function $i(t,e,r){return e=eZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eZ(t){var e=nFe(t,"string");return Yd(e)=="symbol"?e:e+""}function nFe(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var go=function(t){function e(r){var n;return Q$e(this,e),n=J$e(this,e,[r]),$i(n,"pieRef",null),$i(n,"sectorRefs",[]),$i(n,"id",wf("recharts-pie-")),$i(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),st(i)&&i()}),$i(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),st(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return rFe(e,t),Z$e(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,d=Je(this.props,!1),f=Je(s,!1),p=Je(o,!1),g=s&&s.offsetRadius||20,y=n.map(function(b,x){var w=(b.startAngle+b.endAngle)/2,E=or(b.cx,b.cy,b.outerRadius+g,w),T=ir(ir(ir(ir({},d),b),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(E.x,b.cx)},E),O=ir(ir(ir(ir({},d),b),{},{fill:"none",stroke:b.fill},p),{},{index:x,points:[or(b.cx,b.cy,b.outerRadius,w),E]}),_=l;return ft(l)&&ft(c)?_="value":ft(l)&&(_=c),W.createElement(Dt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},o&&e.renderLabelLineItem(o,O,"line"),e.renderLabelItem(s,T,Kr(b,_)))});return W.createElement(Dt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return n.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),p=l&&i.hasActiveIndex()?l:null,g=f?s:p,y=ir(ir({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return W.createElement(Dt,od({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Wc(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),W.createElement(ZQ,od({option:g,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state,p=f.prevSectors,g=f.prevIsAnimationActive;return W.createElement(Za,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var b=y.t,x=[],w=a&&a[0],E=w.startAngle;return a.forEach(function(T,O){var _=p&&p[O],P=O>0?mi(T,"paddingAngle",0):0;if(_){var R=Wn(_.endAngle-_.startAngle,T.endAngle-T.startAngle),D=ir(ir({},T),{},{startAngle:E+P,endAngle:E+R(b)+P});x.push(D),E=D.endAngle}else{var I=T.endAngle,M=T.startAngle,N=Wn(0,I-M),k=N(b),F=ir(ir({},T),{},{startAngle:E+P,endAngle:E+k+P});x.push(F),E=F.endAngle}}),W.createElement(Dt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Vd(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,l=i.label,c=i.cx,d=i.cy,f=i.innerRadius,p=i.outerRadius,g=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!s||!s.length||!De(c)||!De(d)||!De(f)||!De(p))return null;var b=ht("recharts-pie",o);return W.createElement(Dt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(w){n.pieRef=w}},this.renderSectors(),l&&this.renderLabels(s),sn.renderCallByParent(this.props,null,!1),(!g||y)&&Ws.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(W.isValidElement(n))return W.cloneElement(n,i);if(st(n))return n(i);var s=ht("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(Td,od({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(W.isValidElement(n))return W.cloneElement(n,i);var s=a;if(st(n)&&(s=n(i),W.isValidElement(s)))return s;var o=ht("recharts-pie-label-text",typeof n!="boolean"&&!st(n)?n.className:"");return W.createElement(Yc,od({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(A.PureComponent);Ny=go;$i(go,"displayName","Pie");$i(go,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!su.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$i(go,"parseDeltaAngle",function(t,e){var r=Ln(e-t),n=Math.min(Math.abs(e-t),360);return r*n});$i(go,"getRealPieData",function(t){var e=t.data,r=t.children,n=Je(t,!1),i=Ui(r,Cx);return e&&e.length?e.map(function(a,s){return ir(ir(ir({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return ir(ir({},n),a.props)}):[]});$i(go,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=kQ(i,a),o=n+In(t.cx,i,i/2),l=r+In(t.cy,a,a/2),c=In(t.innerRadius,s,0),d=In(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}});$i(go,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?ir(ir({},e.type.defaultProps),e.props):e.props,i=Ny.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,g=Math.abs(n.minAngle),y=Ny.parseCoordinateOfPie(n,r),b=Ny.parseDeltaAngle(s,o),x=Math.abs(b),w=c;ft(c)&&ft(f)?(ma(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ft(c)&&(ma(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var E=i.filter(function(D){return Kr(D,w,0)!==0}).length,T=(x>=360?E:E-1)*l,O=x-E*g-T,_=i.reduce(function(D,I){var M=Kr(I,w,0);return D+(De(M)?M:0)},0),P;if(_>0){var R;P=i.map(function(D,I){var M=Kr(D,w,0),N=Kr(D,d,I),k=(De(M)?M:0)/_,F;I?F=R.endAngle+Ln(b)*l*(M!==0?1:0):F=s;var U=F+Ln(b)*((M!==0?g:0)+k*O),z=(F+U)/2,j=(y.innerRadius+y.outerRadius)/2,H=[{name:N,value:M,payload:D,dataKey:w,type:p}],V=or(y.cx,y.cy,j,z);return R=ir(ir(ir({percent:k,cornerRadius:a,name:N,tooltipPayload:H,midAngle:z,middleRadius:j,tooltipPosition:V},D),y),{},{value:Kr(D,w),startAngle:F,endAngle:U,payload:D,paddingAngle:Ln(b)*l}),R})}return ir(ir({},y),{},{sectors:P,data:i})});var uO,w6;function iFe(){if(w6)return uO;w6=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var o=-1,l=e(t((i-n)/(a||1)),0),c=Array(l);l--;)c[s?l:++o]=n,n+=a;return c}return uO=r,uO}var dO,E6;function tZ(){if(E6)return dO;E6=1;var t=EX(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*r}return i===i?i:0}return dO=n,dO}var fO,T6;function aFe(){if(T6)return fO;T6=1;var t=iFe(),e=Rx(),r=tZ();function n(i){return function(a,s,o){return o&&typeof o!="number"&&e(a,s,o)&&(s=o=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),o=o===void 0?a<s?1:-1:r(o),t(a,s,o,i)}}return fO=n,fO}var hO,A6;function sFe(){if(A6)return hO;A6=1;var t=aFe(),e=t();return hO=e,hO}var oFe=sFe();const vb=$t(oFe);function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function _6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(r),!0).forEach(function(n){rZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rZ(t,e,r){return e=lFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lFe(t){var e=cFe(t,"string");return Sm(e)=="symbol"?e:e+""}function cFe(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uFe=["Webkit","Moz","O","ms"],dFe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=uFe.reduce(function(a,s){return O6(O6({},a),{},rZ({},s+n,r))},{});return i[e]=r,i};function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yb.apply(this,arguments)}function R6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iZ(n.key),n)}}function hFe(t,e,r){return e&&C6(t.prototype,e),r&&C6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pFe(t,e,r){return e=bb(e),mFe(t,nZ()?Reflect.construct(e,r||[],bb(t).constructor):e.apply(t,r))}function mFe(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gFe(t)}function gFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nZ=function(){return!!t})()}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(t)}function vFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JC(t,e)}function JC(t,e){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JC(t,e)}function si(t,e,r){return e=iZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iZ(t){var e=yFe(t,"string");return Xd(e)=="symbol"?e:e+""}function yFe(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bFe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=pp().domain(vb(0,l)).range([a,a+s-o]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:d}},P6=function(e){return e.changedTouches&&!!e.changedTouches.length},Qd=function(t){function e(r){var n;return fFe(this,e),n=pFe(this,e,[r]),si(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),si(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),si(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),si(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),si(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),si(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),si(n,"handleSlideDragStart",function(i){var a=P6(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return vFe(e,t),hFe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,f=Math.min(i,a),p=Math.max(i,a),g=e.getIndexInRange(s,f),y=e.getIndexInRange(s,p);return{startIndex:g-g%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Kr(a[n],o,n);return st(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,p=l.startIndex,g=l.endIndex,y=l.onChange,b=n.pageX-a;b>0?b=Math.min(b,c+d-f-o,c+d-f-s):b<0&&(b=Math.max(b,c-s,c-o));var x=this.getIndex({startX:s+b,endX:o+b});(x.startIndex!==p||x.endIndex!==g)&&y&&y(x),this.setState({startX:s+b,endX:o+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=P6(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],d=this.props,f=d.x,p=d.width,g=d.travellerWidth,y=d.onChange,b=d.gap,x=d.data,w={startX:this.state.startX,endX:this.state.endX},E=n.pageX-a;E>0?E=Math.min(E,f+p-g-c):E<0&&(E=Math.max(E,f-c)),w[s]=c+E;var T=this.getIndex(w),O=T.startIndex,_=T.endIndex,P=function(){var D=x.length-1;return s==="startX"&&(o>l?O%b===0:_%b===0)||o<l&&_===D||s==="endX"&&(o>l?_%b===0:O%b===0)||o>l&&_===D};this.setState(si(si({},s,c+E),"brushMoveStartX",n.pageX),function(){y&&P()&&y(T)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=o.length)){var g=o[p];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(si({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return W.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,c=n.children,d=n.padding,f=A.Children.only(c);return f?W.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,p=l.traveller,g=l.ariaLabel,y=l.data,b=l.startIndex,x=l.endIndex,w=Math.max(n,this.props.x),E=pO(pO({},Je(this.props,!1)),{},{x:w,y:c,width:d,height:f}),T=g||"Min value: ".concat((a=y[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[x])===null||s===void 0?void 0:s.name);return W.createElement(Dt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),o.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,E))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,p=d.endX,g=5,y={pointerEvents:"none",fill:c};return W.createElement(Dt,{className:"recharts-brush-texts"},W.createElement(Yc,yb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-g,y:s+o/2},y),this.getTextOfTick(i)),W.createElement(Yc,yb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+g,y:s+o/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,p=this.state,g=p.startX,y=p.endX,b=p.isTextActive,x=p.isSlideMoving,w=p.isTravellerMoving,E=p.isTravellerFocused;if(!i||!i.length||!De(o)||!De(l)||!De(c)||!De(d)||c<=0||d<=0)return null;var T=ht("recharts-brush",a),O=W.Children.count(s)===1,_=dFe("userSelect","none");return W.createElement(Dt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(b||x||w||E||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(a+o/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),W.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return W.isValidElement(n)?a=W.cloneElement(n,i):st(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return pO({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?bFe({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var p=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(A.PureComponent);si(Qd,"displayName","Brush");si(Qd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var mO,D6;function xFe(){if(D6)return mO;D6=1;var t=aI();function e(r,n){var i;return t(r,function(a,s,o){return i=n(a,s,o),!i}),!!i}return mO=e,mO}var gO,L6;function SFe(){if(L6)return gO;L6=1;var t=eX(),e=ss(),r=xFe(),n=Zn(),i=Rx();function a(s,o,l){var c=n(s)?t:r;return l&&i(s,o,l)&&(o=void 0),c(s,e(o,3))}return gO=a,gO}var wFe=SFe();const EFe=$t(wFe);var Ha=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},vO,I6;function TFe(){if(I6)return vO;I6=1;var t=yX();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return vO=e,vO}var yO,M6;function AFe(){if(M6)return yO;M6=1;var t=TFe(),e=gX(),r=ss();function n(i,a){var s={};return a=r(a,3),e(i,function(o,l,c){t(s,l,a(o,l,c))}),s}return yO=n,yO}var _Fe=AFe();const OFe=$t(_Fe);var bO,N6;function RFe(){if(N6)return bO;N6=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return bO=t,bO}var xO,k6;function CFe(){if(k6)return xO;k6=1;var t=aI();function e(r,n){var i=!0;return t(r,function(a,s,o){return i=!!n(a,s,o),i}),i}return xO=e,xO}var SO,j6;function PFe(){if(j6)return SO;j6=1;var t=RFe(),e=CFe(),r=ss(),n=Zn(),i=Rx();function a(s,o,l){var c=n(s)?t:e;return l&&i(s,o,l)&&(o=void 0),c(s,r(o,3))}return SO=a,SO}var DFe=PFe();const aZ=$t(DFe);var LFe=["x","y"];function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function eP(){return eP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eP.apply(this,arguments)}function $6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(r),!0).forEach(function(n){IFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IFe(t,e,r){return e=MFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MFe(t){var e=NFe(t,"string");return wm(e)=="symbol"?e:e+""}function NFe(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kFe(t,e){if(t==null)return{};var r=jFe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $Fe(t,e){var r=t.x,n=t.y,i=kFe(t,LFe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),p=parseInt(f,10);return Kh(Kh(Kh(Kh(Kh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function F6(t){return W.createElement(ZQ,eP({shapeType:"rectangle",propTransformer:$Fe,activeClassName:"recharts-active-bar"},t))}var FFe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||Qc(),r)}},BFe=["value","background"],sZ;function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function UFe(t,e){if(t==null)return{};var r=GFe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xb.apply(this,arguments)}function B6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B6(Object(r),!0).forEach(function(n){ol(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lZ(n.key),n)}}function VFe(t,e,r){return e&&U6(t.prototype,e),r&&U6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qFe(t,e,r){return e=Sb(e),HFe(t,oZ()?Reflect.construct(e,r||[],Sb(t).constructor):e.apply(t,r))}function HFe(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KFe(t)}function KFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oZ=function(){return!!t})()}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(t)}function WFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tP(t,e)}function tP(t,e){return tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tP(t,e)}function ol(t,e,r){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lZ(t){var e=YFe(t,"string");return Zd(e)=="symbol"?e:e+""}function YFe(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sg=function(t){function e(){var r;zFe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=qFe(this,e,[].concat(i)),ol(r,"state",{isAnimationFinished:!1}),ol(r,"id",wf("recharts-bar-")),ol(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),ol(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return WFe(e,t),VFe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,d=Je(this.props,!1);return n&&n.map(function(f,p){var g=p===l,y=g?c:s,b=Nr(Nr(Nr({},d),f),{},{isActive:g,option:y,index:p,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(Dt,xb({className:"recharts-bar-rectangle"},Wc(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),W.createElement(F6,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,p=this.state.prevData;return W.createElement(Za,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,b=a.map(function(x,w){var E=p&&p[w];if(E){var T=Wn(E.x,x.x),O=Wn(E.y,x.y),_=Wn(E.width,x.width),P=Wn(E.height,x.height);return Nr(Nr({},x),{},{x:T(y),y:O(y),width:_(y),height:P(y)})}if(s==="horizontal"){var R=Wn(0,x.height),D=R(y);return Nr(Nr({},x),{},{y:x.y+x.height-D,height:D})}var I=Wn(0,x.width),M=I(y);return Nr(Nr({},x),{},{width:M})});return W.createElement(Dt,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Vd(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Je(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,p=UFe(c,BFe);if(!f)return null;var g=Nr(Nr(Nr(Nr(Nr({},p),{},{fill:"#eee"},f),l),Wc(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(F6,xb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=Ui(d,Bx);if(!f)return null;var p=c==="vertical"?s[0].height/2:s[0].width/2,g=function(x,w){var E=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:E,errorVal:Kr(x,w)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return W.createElement(Dt,y,f.map(function(b){return W.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,p=n.height,g=n.isAnimationActive,y=n.background,b=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,w=ht("recharts-bar",s),E=o&&o.allowDataOverflow,T=l&&l.allowDataOverflow,O=E||T,_=ft(b)?this.id:b;return W.createElement(Dt,{className:w},E||T?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(_)},W.createElement("rect",{x:E?c:c-f/2,y:T?d:d-p/2,width:E?f:f*2,height:T?p:p*2}))):null,W.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(_,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,_),(!g||x)&&Ws.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(A.PureComponent);sZ=sg;ol(sg,"displayName","Bar");ol(sg,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!su.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ol(sg,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,g=ENe(n,r);if(!g)return null;var y=e.layout,b=r.type.defaultProps,x=b!==void 0?Nr(Nr({},b),r.props):r.props,w=x.dataKey,E=x.children,T=x.minPointSize,O=y==="horizontal"?s:a,_=c?O.scale.domain():null,P=PNe({numericAxis:O}),R=Ui(E,Cx),D=f.map(function(I,M){var N,k,F,U,z,j;c?N=TNe(c[d+M],_):(N=Kr(I,w),Array.isArray(N)||(N=[P,N]));var H=FFe(T,sZ.defaultProps.minPointSize)(N[1],M);if(y==="horizontal"){var V,q=[s.scale(N[0]),s.scale(N[1])],G=q[0],Y=q[1];k=h8({axis:a,ticks:o,bandSize:i,offset:g.offset,entry:I,index:M}),F=(V=Y??G)!==null&&V!==void 0?V:void 0,U=g.size;var X=G-Y;if(z=Number.isNaN(X)?0:X,j={x:k,y:s.y,width:U,height:s.height},Math.abs(H)>0&&Math.abs(z)<Math.abs(H)){var te=Ln(z||H)*(Math.abs(H)-Math.abs(z));F-=te,z+=te}}else{var ee=[a.scale(N[0]),a.scale(N[1])],ue=ee[0],he=ee[1];if(k=ue,F=h8({axis:s,ticks:l,bandSize:i,offset:g.offset,entry:I,index:M}),U=he-ue,z=g.size,j={x:a.x,y:F,width:a.width,height:z},Math.abs(H)>0&&Math.abs(U)<Math.abs(H)){var ve=Ln(U||H)*(Math.abs(H)-Math.abs(U));U+=ve}}return Nr(Nr(Nr({},I),{},{x:k,y:F,width:U,height:z,value:c?N:N[1],payload:I,background:j},R&&R[M]&&R[M].props),{},{tooltipPayload:[MQ(r,I)],tooltipPosition:{x:k+U/2,y:F+z/2}})});return Nr({data:D,layout:y},p)});function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function XFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cZ(n.key),n)}}function QFe(t,e,r){return e&&G6(t.prototype,e),r&&G6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(r),!0).forEach(function(n){Wx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wx(t,e,r){return e=cZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cZ(t){var e=ZFe(t,"string");return Em(e)=="symbol"?e:e+""}function ZFe(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JFe=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!oi(c,sg);return d.reduce(function(g,y){var b=r[y],x=b.orientation,w=b.domain,E=b.padding,T=E===void 0?{}:E,O=b.mirror,_=b.reversed,P="".concat(x).concat(O?"Mirror":""),R,D,I,M,N;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var k=w[1]-w[0],F=1/0,U=b.categoricalDomain.sort(dOe);if(U.forEach(function(ee,ue){ue>0&&(F=Math.min((ee||0)-(U[ue-1]||0),F))}),Number.isFinite(F)){var z=F/k,j=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(R=z*j/2),b.padding==="no-gap"){var H=In(e.barCategoryGap,z*j),V=z*j/2;R=V-H-(V-H)/j*H}}}i==="xAxis"?D=[n.left+(T.left||0)+(R||0),n.left+n.width-(T.right||0)-(R||0)]:i==="yAxis"?D=l==="horizontal"?[n.top+n.height-(T.bottom||0),n.top+(T.top||0)]:[n.top+(T.top||0)+(R||0),n.top+n.height-(T.bottom||0)-(R||0)]:D=b.range,_&&(D=[D[1],D[0]]);var q=PQ(b,a,p),G=q.scale,Y=q.realScaleType;G.domain(w).range(D),DQ(G);var X=LQ(G,ca(ca({},b),{},{realScaleType:Y}));i==="xAxis"?(N=x==="top"&&!O||x==="bottom"&&O,I=n.left,M=f[P]-N*b.height):i==="yAxis"&&(N=x==="left"&&!O||x==="right"&&O,I=f[P]-N*b.width,M=n.top);var te=ca(ca(ca({},b),X),{},{realScaleType:Y,x:I,y:M,scale:G,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return te.bandSize=ab(te,X),!b.hide&&i==="xAxis"?f[P]+=(N?-1:1)*te.height:b.hide||(f[P]+=(N?-1:1)*te.width),ca(ca({},g),{},Wx({},y,te))},{})},uZ=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},eBe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return uZ({x:r,y:n},{x:i,y:a})},dZ=function(){function t(e){XFe(this,t),this.scale=e}return QFe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Wx(dZ,"EPS",1e-4);var MI=function(e){var r=Object.keys(e).reduce(function(n,i){return ca(ca({},n),{},Wx({},i,dZ.create(e[i])))},{});return ca(ca({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return OFe(i,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return aZ(i,function(a,s){return r[s].isInRange(a)})}})};function tBe(t){return(t%180+180)%180}var rBe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=tBe(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},wO,V6;function nBe(){if(V6)return wO;V6=1;var t=ss(),e=tg(),r=_x();function n(i){return function(a,s,o){var l=Object(a);if(!e(a)){var c=t(s,3);a=r(a),s=function(f){return c(l[f],f,l)}}var d=i(a,s,o);return d>-1?l[c?a[d]:d]:void 0}}return wO=n,wO}var EO,q6;function iBe(){if(q6)return EO;q6=1;var t=tZ();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return EO=e,EO}var TO,H6;function aBe(){if(H6)return TO;H6=1;var t=dX(),e=ss(),r=iBe(),n=Math.max;function i(a,s,o){var l=a==null?0:a.length;if(!l)return-1;var c=o==null?0:r(o);return c<0&&(c=n(l+c,0)),t(a,e(s,3),c)}return TO=i,TO}var AO,K6;function sBe(){if(K6)return AO;K6=1;var t=nBe(),e=aBe(),r=t(e);return AO=r,AO}var oBe=sBe();const lBe=$t(oBe);var cBe=OY();const uBe=$t(cBe);var dBe=uBe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),NI=A.createContext(void 0),kI=A.createContext(void 0),fZ=A.createContext(void 0),hZ=A.createContext({}),pZ=A.createContext(void 0),mZ=A.createContext(0),gZ=A.createContext(0),W6=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,d=dBe(a);return W.createElement(NI.Provider,{value:n},W.createElement(kI.Provider,{value:i},W.createElement(hZ.Provider,{value:a},W.createElement(fZ.Provider,{value:d},W.createElement(pZ.Provider,{value:s},W.createElement(mZ.Provider,{value:c},W.createElement(gZ.Provider,{value:l},o)))))))},fBe=function(){return A.useContext(pZ)},vZ=function(e){var r=A.useContext(NI);r==null&&Qc();var n=r[e];return n==null&&Qc(),n},hBe=function(){var e=A.useContext(NI);return rl(e)},pBe=function(){var e=A.useContext(kI),r=lBe(e,function(n){return aZ(n.domain,Number.isFinite)});return r||rl(e)},yZ=function(e){var r=A.useContext(kI);r==null&&Qc();var n=r[e];return n==null&&Qc(),n},mBe=function(){var e=A.useContext(fZ);return e},gBe=function(){return A.useContext(hZ)},jI=function(){return A.useContext(gZ)},$I=function(){return A.useContext(mZ)};function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function vBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xZ(n.key),n)}}function bBe(t,e,r){return e&&yBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xBe(t,e,r){return e=wb(e),SBe(t,bZ()?Reflect.construct(e,r||[],wb(t).constructor):e.apply(t,r))}function SBe(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wBe(t)}function wBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bZ=function(){return!!t})()}function wb(t){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(t)}function EBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rP(t,e)}function rP(t,e){return rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rP(t,e)}function Y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(r),!0).forEach(function(n){FI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FI(t,e,r){return e=xZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xZ(t){var e=TBe(t,"string");return Jd(e)=="symbol"?e:e+""}function TBe(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ABe(t,e){return CBe(t)||RBe(t,e)||OBe(t,e)||_Be()}function _Be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OBe(t,e){if(t){if(typeof t=="string")return Q6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q6(t,e)}}function Q6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function CBe(t){if(Array.isArray(t))return t}function nP(){return nP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nP.apply(this,arguments)}var PBe=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):st(e)?n=e(r):n=W.createElement("line",nP({},r,{className:"recharts-reference-line-line"})),n},DBe=function(e,r,n,i,a,s,o,l,c){var d=a.x,f=a.y,p=a.width,g=a.height;if(n){var y=c.y,b=e.y.apply(y,{position:s});if(Ha(c,"discard")&&!e.y.isInRange(b))return null;var x=[{x:d+p,y:b},{x:d,y:b}];return l==="left"?x.reverse():x}if(r){var w=c.x,E=e.x.apply(w,{position:s});if(Ha(c,"discard")&&!e.x.isInRange(E))return null;var T=[{x:E,y:f+g},{x:E,y:f}];return o==="top"?T.reverse():T}if(i){var O=c.segment,_=O.map(function(P){return e.apply(P,{position:s})});return Ha(c,"discard")&&EFe(_,function(P){return!e.isInRange(P)})?null:_}return null};function LBe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=fBe(),d=vZ(i),f=yZ(a),p=mBe();if(!c||!p)return null;ma(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=MI({x:d.scale,y:f.scale}),y=Wr(e),b=Wr(r),x=n&&n.length===2,w=DBe(g,y,b,x,p,t.position,d.orientation,f.orientation,t);if(!w)return null;var E=ABe(w,2),T=E[0],O=T.x,_=T.y,P=E[1],R=P.x,D=P.y,I=Ha(t,"hidden")?"url(#".concat(c,")"):void 0,M=X6(X6({clipPath:I},Je(t,!0)),{},{x1:O,y1:_,x2:R,y2:D});return W.createElement(Dt,{className:ht("recharts-reference-line",o)},PBe(s,M),sn.renderCallByParent(t,eBe({x1:O,y1:_,x2:R,y2:D})))}var BI=function(t){function e(){return vBe(this,e),xBe(this,e,arguments)}return EBe(e,t),bBe(e,[{key:"render",value:function(){return W.createElement(LBe,this.props)}}])}(W.Component);FI(BI,"displayName","ReferenceLine");FI(BI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iP(){return iP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iP.apply(this,arguments)}function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(r),!0).forEach(function(n){Yx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wZ(n.key),n)}}function NBe(t,e,r){return e&&MBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kBe(t,e,r){return e=Eb(e),jBe(t,SZ()?Reflect.construct(e,r||[],Eb(t).constructor):e.apply(t,r))}function jBe(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Be(t)}function $Be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SZ=function(){return!!t})()}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(t)}function FBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aP(t,e)}function aP(t,e){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aP(t,e)}function Yx(t,e,r){return e=wZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wZ(t){var e=BBe(t,"string");return ef(e)=="symbol"?e:e+""}function BBe(t,e){if(ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UBe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=MI({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Ha(e,"discard")&&!s.isInRange(o)?null:o},Xx=function(t){function e(){return IBe(this,e),kBe(this,e,arguments)}return FBe(e,t),NBe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Wr(i),d=Wr(a);if(ma(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=UBe(this.props);if(!f)return null;var p=f.x,g=f.y,y=this.props,b=y.shape,x=y.className,w=Ha(this.props,"hidden")?"url(#".concat(l,")"):void 0,E=J6(J6({clipPath:w},Je(this.props,!0)),{},{cx:p,cy:g});return W.createElement(Dt,{className:ht("recharts-reference-dot",x)},e.renderDot(b,E),sn.renderCallByParent(this.props,{x:p-s,y:g-s,width:2*s,height:2*s}))}}])}(W.Component);Yx(Xx,"displayName","ReferenceDot");Yx(Xx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Yx(Xx,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):st(t)?r=t(e):r=W.createElement(Ux,iP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function sP(){return sP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sP.apply(this,arguments)}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function eG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eG(Object(r),!0).forEach(function(n){Qx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TZ(n.key),n)}}function VBe(t,e,r){return e&&zBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qBe(t,e,r){return e=Tb(e),HBe(t,EZ()?Reflect.construct(e,r||[],Tb(t).constructor):e.apply(t,r))}function HBe(t,e){if(e&&(tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KBe(t)}function KBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EZ=function(){return!!t})()}function Tb(t){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(t)}function WBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oP(t,e)}function oP(t,e){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oP(t,e)}function Qx(t,e,r){return e=TZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TZ(t){var e=YBe(t,"string");return tf(e)=="symbol"?e:e+""}function YBe(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XBe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var p=MI({x:d.scale,y:f.scale}),g={x:e?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return Ha(a,"discard")&&(!p.isInRange(g)||!p.isInRange(y))?null:uZ(g,y)},Zx=function(t){function e(){return GBe(this,e),qBe(this,e,arguments)}return WBe(e,t),VBe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;ma(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Wr(i),p=Wr(a),g=Wr(s),y=Wr(o),b=this.props.shape;if(!f&&!p&&!g&&!y&&!b)return null;var x=XBe(f,p,g,y,this.props);if(!x&&!b)return null;var w=Ha(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(Dt,{className:ht("recharts-reference-area",l)},e.renderRect(b,tG(tG({clipPath:w},Je(this.props,!0)),x)),sn.renderCallByParent(this.props,x))}}])}(W.Component);Qx(Zx,"displayName","ReferenceArea");Qx(Zx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Qx(Zx,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):st(t)?r=t(e):r=W.createElement(II,sP({},e,{className:"recharts-reference-area-rect"})),r});function AZ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function QBe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return rBe(n,r)}function ZBe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Ab(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function JBe(t,e){return AZ(t,e+1)}function eUe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,c=1,d=s,f=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:AZ(n,c)};var b=l,x,w=function(){return x===void 0&&(x=r(y,b)),x},E=y.coordinate,T=l===0||Ab(t,E,w,d,o);T||(l=0,d=s,c+=1),T&&(d=E+t*(w()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function rG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function En(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rG(Object(r),!0).forEach(function(n){tUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tUe(t,e,r){return e=rUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rUe(t){var e=nUe(t,"string");return Tm(e)=="symbol"?e:e+""}function nUe(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iUe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(p){var g=a[p],y,b=function(){return y===void 0&&(y=r(g,p)),y};if(p===s-1){var x=t*(g.coordinate+t*b()/2-l);a[p]=g=En(En({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else a[p]=g=En(En({},g),{},{tickCoord:g.coordinate});var w=Ab(t,g.tickCoord,b,o,l);w&&(l=g.tickCoord-t*(b()/2+i),a[p]=En(En({},g),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return a}function aUe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var d=n[o-1],f=r(d,o-1),p=t*(d.coordinate+t*f/2-c);s[o-1]=d=En(En({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var g=Ab(t,d.tickCoord,function(){return f},l,c);g&&(c=d.tickCoord-t*(f/2+i),s[o-1]=En(En({},d),{},{isShow:!0}))}for(var y=a?o-1:o,b=function(E){var T=s[E],O,_=function(){return O===void 0&&(O=r(T,E)),O};if(E===0){var P=t*(T.coordinate-t*_()/2-l);s[E]=T=En(En({},T),{},{tickCoord:P<0?T.coordinate-P*t:T.coordinate})}else s[E]=T=En(En({},T),{},{tickCoord:T.coordinate});var R=Ab(t,T.tickCoord,_,l,c);R&&(l=T.tickCoord+t*(_()/2+i),s[E]=En(En({},T),{},{isShow:!0}))},x=0;x<y;x++)b(x);return s}function UI(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(De(l)||su.isSsr)return JBe(i,typeof l=="number"&&De(l)?l:0);var p=[],g=o==="top"||o==="bottom"?"width":"height",y=d&&g==="width"?hp(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(T,O){var _=st(c)?c(T.value,O):T.value;return g==="width"?QBe(hp(_,{fontSize:e,letterSpacing:r}),y,f):hp(_,{fontSize:e,letterSpacing:r})[g]},x=i.length>=2?Ln(i[1].coordinate-i[0].coordinate):1,w=ZBe(a,x,g);return l==="equidistantPreserveStart"?eUe(x,w,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=aUe(x,w,b,i,s,l==="preserveStartEnd"):p=iUe(x,w,b,i,s),p.filter(function(E){return E.isShow}))}var sUe=["viewBox"],oUe=["viewBox"],lUe=["ticks"];function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ld.apply(this,arguments)}function nG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nG(Object(r),!0).forEach(function(n){GI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _O(t,e){if(t==null)return{};var r=cUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OZ(n.key),n)}}function dUe(t,e,r){return e&&iG(t.prototype,e),r&&iG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fUe(t,e,r){return e=_b(e),hUe(t,_Z()?Reflect.construct(e,r||[],_b(t).constructor):e.apply(t,r))}function hUe(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pUe(t)}function pUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Z=function(){return!!t})()}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(t)}function mUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lP(t,e)}function lP(t,e){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lP(t,e)}function GI(t,e,r){return e=OZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OZ(t){var e=gUe(t,"string");return rf(e)=="symbol"?e:e+""}function gUe(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Of=function(t){function e(r){var n;return uUe(this,e),n=fUe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return mUe(e,t),dUe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=_O(n,sUe),o=this.props,l=o.viewBox,c=_O(o,oUe);return!Sd(a,l)||!Sd(s,c)||!Sd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,p=i.tickMargin,g,y,b,x,w,E,T=f?-1:1,O=n.tickSize||d,_=De(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":g=y=n.coordinate,x=s+ +!f*l,b=x-T*O,E=b-T*p,w=_;break;case"left":b=x=n.coordinate,y=a+ +!f*o,g=y-T*O,w=g-T*p,E=_;break;case"right":b=x=n.coordinate,y=a+ +f*o,g=y+T*O,w=g+T*p,E=_;break;default:g=y=n.coordinate,x=s+ +f*l,b=x+T*O,E=b+T*p,w=_;break}return{line:{x1:g,y1:b,x2:y,y2:x},tick:{x:w,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=Pn(Pn(Pn({},Je(this.props,!1)),Je(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=Pn(Pn({},f),{},{x1:i,y1:a+p*o,x2:i+s,y2:a+p*o})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=Pn(Pn({},f),{},{x1:i+g*s,y1:a,x2:i+g*s,y2:a+o})}return W.createElement("line",ld({},f,{className:ht("recharts-cartesian-axis-line",mi(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,f=o.tickFormatter,p=o.unit,g=UI(Pn(Pn({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=Je(this.props,!1),w=Je(d,!1),E=Pn(Pn({},x),{},{fill:"none"},Je(l,!1)),T=g.map(function(O,_){var P=s.getTickLineCoord(O),R=P.line,D=P.tick,I=Pn(Pn(Pn(Pn({textAnchor:y,verticalAnchor:b},x),{},{stroke:"none",fill:c},w),D),{},{index:_,payload:O,visibleTicksCount:g.length,tickFormatter:f});return W.createElement(Dt,ld({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Wc(s.props,O,_)),l&&W.createElement("line",ld({},E,R,{className:ht("recharts-cartesian-axis-tick-line",mi(l,"className"))})),d&&e.renderTickItem(d,I,"".concat(st(f)?f(O.value,_):O.value).concat(p||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,p=f.ticks,g=_O(f,lUe),y=p;return st(l)&&(y=p&&p.length>0?l(this.props):l(g)),s<=0||o<=0||!y||!y.length?null:W.createElement(Dt,{className:ht("recharts-cartesian-axis",c),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),sn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):st(n)?s=n(i):s=W.createElement(Yc,ld({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(A.Component);GI(Of,"displayName","CartesianAxis");GI(Of,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vUe=["x1","y1","x2","y2","key"],yUe=["offset"];function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function aG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function An(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aG(Object(r),!0).forEach(function(n){bUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bUe(t,e,r){return e=xUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xUe(t){var e=SUe(t,"string");return Zc(e)=="symbol"?e:e+""}function SUe(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ec.apply(this,arguments)}function sG(t,e){if(t==null)return{};var r=wUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var EUe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return W.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RZ(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(st(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=sG(e,vUe),c=Je(l,!1);c.offset;var d=sG(c,yUe);r=W.createElement("line",Ec({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function TUe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=An(An({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return RZ(i,c)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function AUe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=An(An({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return RZ(i,c)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function _Ue(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==d[0]&&d.unshift(0);var f=d.map(function(p,g){var y=!d[g+1],b=y?i+s-p:d[g+1]-p;if(b<=0)return null;var x=g%e.length;return W.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:b,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function OUe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,g){return p-g});a!==d[0]&&d.unshift(0);var f=d.map(function(p,g){var y=!d[g+1],b=y?a+o-p:d[g+1]-p;if(b<=0)return null;var x=g%n.length;return W.createElement("rect",{key:"react-".concat(g),x:p,y:s,width:b,height:l,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var RUe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return CQ(UI(An(An(An({},Of.defaultProps),n),{},{ticks:Us(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},CUe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return CQ(UI(An(An(An({},Of.defaultProps),n),{},{ticks:Us(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},nd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function cP(t){var e,r,n,i,a,s,o=jI(),l=$I(),c=gBe(),d=An(An({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:nd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:nd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:nd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:nd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:nd.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:nd.verticalFill,x:De(t.x)?t.x:c.left,y:De(t.y)?t.y:c.top,width:De(t.width)?t.width:c.width,height:De(t.height)?t.height:c.height}),f=d.x,p=d.y,g=d.width,y=d.height,b=d.syncWithTicks,x=d.horizontalValues,w=d.verticalValues,E=hBe(),T=pBe();if(!De(g)||g<=0||!De(y)||y<=0||!De(f)||f!==+f||!De(p)||p!==+p)return null;var O=d.verticalCoordinatesGenerator||RUe,_=d.horizontalCoordinatesGenerator||CUe,P=d.horizontalPoints,R=d.verticalPoints;if((!P||!P.length)&&st(_)){var D=x&&x.length,I=_({yAxis:T?An(An({},T),{},{ticks:D?x:T.ticks}):void 0,width:o,height:l,offset:c},D?!0:b);ma(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zc(I),"]")),Array.isArray(I)&&(P=I)}if((!R||!R.length)&&st(O)){var M=w&&w.length,N=O({xAxis:E?An(An({},E),{},{ticks:M?w:E.ticks}):void 0,width:o,height:l,offset:c},M?!0:b);ma(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zc(N),"]")),Array.isArray(N)&&(R=N)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(EUe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement(TUe,Ec({},d,{offset:c,horizontalPoints:P,xAxis:E,yAxis:T})),W.createElement(AUe,Ec({},d,{offset:c,verticalPoints:R,xAxis:E,yAxis:T})),W.createElement(_Ue,Ec({},d,{horizontalPoints:P})),W.createElement(OUe,Ec({},d,{verticalPoints:R})))}cP.displayName="CartesianGrid";var PUe=["layout","type","stroke","connectNulls","isRange","ref"],DUe=["key"],CZ;function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function PZ(t,e){if(t==null)return{};var r=LUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tc.apply(this,arguments)}function oG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oG(Object(r),!0).forEach(function(n){Ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LZ(n.key),n)}}function MUe(t,e,r){return e&&lG(t.prototype,e),r&&lG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NUe(t,e,r){return e=Ob(e),kUe(t,DZ()?Reflect.construct(e,r||[],Ob(t).constructor):e.apply(t,r))}function kUe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jUe(t)}function jUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DZ=function(){return!!t})()}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(t)}function $Ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uP(t,e)}function uP(t,e){return uP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uP(t,e)}function Ga(t,e,r){return e=LZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LZ(t){var e=FUe(t,"string");return nf(e)=="symbol"?e:e+""}function FUe(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var io=function(t){function e(){var r;IUe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=NUe(this,e,[].concat(i)),Ga(r,"state",{isAnimationFinished:!0}),Ga(r,"id",wf("recharts-area-")),Ga(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),st(s)&&s()}),Ga(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),st(s)&&s()}),r}return $Ue(e,t),MUe(e,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,p=Je(this.props,!1),g=Je(c,!0),y=d.map(function(x,w){var E=Yo(Yo(Yo({key:"dot-".concat(w),r:3},p),g),{},{index:w,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return e.renderDotItem(c,E)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return W.createElement(Dt,Tc({className:"recharts-area-dots"},b),y)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,d=n*Math.abs(l-c),f=sl(s.map(function(p){return p.y||0}));return De(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(sl(a.map(function(p){return p.y||0})),f)),De(f)?W.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,d=n*Math.abs(l-c),f=sl(s.map(function(p){return p.x||0}));return De(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(sl(a.map(function(p){return p.x||0})),f)),De(f)?W.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var o=this.props,l=o.layout,c=o.type,d=o.stroke,f=o.connectNulls,p=o.isRange;o.ref;var g=PZ(o,PUe);return W.createElement(Dt,{clipPath:a?"url(#clipPath-".concat(s,")"):null},W.createElement(Td,Tc({},Je(g,!0),{points:n,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&W.createElement(Td,Tc({},Je(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),d!=="none"&&p&&W.createElement(Td,Tc({},Je(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,g=s.animationId,y=this.state,b=y.prevPoints,x=y.prevBaseLine;return W.createElement(Za,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var E=w.t;if(b){var T=b.length/o.length,O=o.map(function(D,I){var M=Math.floor(I*T);if(b[M]){var N=b[M],k=Wn(N.x,D.x),F=Wn(N.y,D.y);return Yo(Yo({},D),{},{x:k(E),y:F(E)})}return D}),_;if(De(l)&&typeof l=="number"){var P=Wn(x,l);_=P(E)}else if(ft(l)||Sf(l)){var R=Wn(x,0);_=R(E)}else _=l.map(function(D,I){var M=Math.floor(I*T);if(x[M]){var N=x[M],k=Wn(N.x,D.x),F=Wn(N.y,D.y);return Yo(Yo({},D),{},{x:k(E),y:F(E)})}return D});return a.renderAreaStatically(O,_,n,i)}return W.createElement(Dt,null,W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(E))),W.createElement(Dt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,p=c.totalLength;return l&&s&&s.length&&(!d&&p>0||!Vd(d,s)||!Vd(f,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,d=i.left,f=i.xAxis,p=i.yAxis,g=i.width,y=i.height,b=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,E=o.length===1,T=ht("recharts-area",l),O=f&&f.allowDataOverflow,_=p&&p.allowDataOverflow,P=O||_,R=ft(x)?this.id:x,D=(n=Je(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=D.r,M=I===void 0?3:I,N=D.strokeWidth,k=N===void 0?2:N,F=xOe(s)?s:{},U=F.clipDot,z=U===void 0?!0:U,j=M*2+k;return W.createElement(Dt,{className:T},O||_?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(R)},W.createElement("rect",{x:O?d:d-g/2,y:_?c:c-y/2,width:O?g:g*2,height:_?y:y*2})),!z&&W.createElement("clipPath",{id:"clipPath-dots-".concat(R)},W.createElement("rect",{x:d-j/2,y:c-j/2,width:g+j,height:y+j}))):null,E?null:this.renderArea(P,R),(s||E)&&this.renderDots(P,z,R),(!b||w)&&Ws.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(A.PureComponent);CZ=io;Ga(io,"displayName","Area");Ga(io,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!su.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ga(io,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(De(o)&&typeof o=="number")return o;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Ga(io,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,p=t.offset,g=e.layout,y=c&&c.length,b=CZ.getBaseValue(e,r,n,i),x=g==="horizontal",w=!1,E=f.map(function(O,_){var P;y?P=c[d+_]:(P=Kr(O,l),Array.isArray(P)?w=!0:P=[b,P]);var R=P[1]==null||y&&Kr(O,l)==null;return x?{x:f8({axis:n,ticks:a,bandSize:o,entry:O,index:_}),y:R?null:i.scale(P[1]),value:P,payload:O}:{x:R?null:n.scale(P[1]),y:f8({axis:i,ticks:s,bandSize:o,entry:O,index:_}),value:P,payload:O}}),T;return y||w?T=E.map(function(O){var _=Array.isArray(O.value)?O.value[0]:null;return x?{x:O.x,y:_!=null&&O.y!=null?i.scale(_):null}:{x:_!=null?n.scale(_):null,y:O.y}}):T=x?i.scale(b):n.scale(b),Yo({points:E,baseLine:T,layout:g,isRange:w},p)});Ga(io,"renderDotItem",function(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(st(t))r=t(e);else{var n=ht("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=PZ(e,DUe);r=W.createElement(Ux,Tc({},a,{key:i,className:n}))}return r});function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function BUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NZ(n.key),n)}}function GUe(t,e,r){return e&&UUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zUe(t,e,r){return e=Rb(e),VUe(t,IZ()?Reflect.construct(e,r||[],Rb(t).constructor):e.apply(t,r))}function VUe(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qUe(t)}function qUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IZ=function(){return!!t})()}function Rb(t){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(t)}function HUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dP(t,e)}function dP(t,e){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dP(t,e)}function MZ(t,e,r){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NZ(t){var e=KUe(t,"string");return af(e)=="symbol"?e:e+""}function KUe(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fP(){return fP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fP.apply(this,arguments)}function WUe(t){var e=t.xAxisId,r=jI(),n=$I(),i=vZ(e);return i==null?null:W.createElement(Of,fP({},i,{className:ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Us(s,!0)}}))}var Am=function(t){function e(){return BUe(this,e),zUe(this,e,arguments)}return HUe(e,t),GUe(e,[{key:"render",value:function(){return W.createElement(WUe,this.props)}}])}(W.Component);MZ(Am,"displayName","XAxis");MZ(Am,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function YUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$Z(n.key),n)}}function QUe(t,e,r){return e&&XUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZUe(t,e,r){return e=Cb(e),JUe(t,kZ()?Reflect.construct(e,r||[],Cb(t).constructor):e.apply(t,r))}function JUe(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e3e(t)}function e3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kZ=function(){return!!t})()}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(t)}function t3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hP(t,e)}function hP(t,e){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hP(t,e)}function jZ(t,e,r){return e=$Z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Z(t){var e=r3e(t,"string");return sf(e)=="symbol"?e:e+""}function r3e(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pP(){return pP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pP.apply(this,arguments)}var n3e=function(e){var r=e.yAxisId,n=jI(),i=$I(),a=yZ(r);return a==null?null:W.createElement(Of,pP({},a,{className:ht("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Us(o,!0)}}))},_m=function(t){function e(){return YUe(this,e),ZUe(this,e,arguments)}return t3e(e,t),QUe(e,[{key:"render",value:function(){return W.createElement(n3e,this.props)}}])}(W.Component);jZ(_m,"displayName","YAxis");jZ(_m,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cG(t){return o3e(t)||s3e(t)||a3e(t)||i3e()}function i3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a3e(t,e){if(t){if(typeof t=="string")return mP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mP(t,e)}}function s3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o3e(t){if(Array.isArray(t))return mP(t)}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gP=function(e,r,n,i,a){var s=Ui(e,BI),o=Ui(e,Xx),l=[].concat(cG(s),cG(o)),c=Ui(e,Zx),d="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(b,x){if(x.props[d]===n&&Ha(x.props,"extendDomain")&&De(x.props[f])){var w=x.props[f];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},p)),c.length){var g="".concat(f,"1"),y="".concat(f,"2");p=c.reduce(function(b,x){if(x.props[d]===n&&Ha(x.props,"extendDomain")&&De(x.props[g])&&De(x.props[y])){var w=x.props[g],E=x.props[y];return[Math.min(b[0],w,E),Math.max(b[1],w,E)]}return b},p)}return a&&a.length&&(p=a.reduce(function(b,x){return De(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},p)),p},OO={exports:{}},uG;function l3e(){return uG||(uG=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,p),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,y=new Array(g);p<g;p++)y[p]=f[p].fn;return y},o.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,p,g,y){var b=r?r+c:c;if(!this._events[b])return!1;var x=this._events[b],w=arguments.length,E,T;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,p),!0;case 5:return x.fn.call(x.context,d,f,p,g),!0;case 6:return x.fn.call(x.context,d,f,p,g,y),!0}for(T=1,E=new Array(w-1);T<w;T++)E[T-1]=arguments[T];x.fn.apply(x.context,E)}else{var O=x.length,_;for(T=0;T<O;T++)switch(x[T].once&&this.removeListener(c,x[T].fn,void 0,!0),w){case 1:x[T].fn.call(x[T].context);break;case 2:x[T].fn.call(x[T].context,d);break;case 3:x[T].fn.call(x[T].context,d,f);break;case 4:x[T].fn.call(x[T].context,d,f,p);break;default:if(!E)for(_=1,E=new Array(w-1);_<w;_++)E[_-1]=arguments[_];x[T].fn.apply(x[T].context,E)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,p){var g=r?r+c:c;if(!this._events[g])return this;if(!d)return s(this,g),this;var y=this._events[g];if(y.fn)y.fn===d&&(!p||y.once)&&(!f||y.context===f)&&s(this,g);else{for(var b=0,x=[],w=y.length;b<w;b++)(y[b].fn!==d||p&&!y[b].once||f&&y[b].context!==f)&&x.push(y[b]);x.length?this._events[g]=x.length===1?x[0]:x:s(this,g)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o}(OO)),OO.exports}var c3e=l3e();const u3e=$t(c3e);var RO=new u3e,CO="recharts.syncMouseEvents";function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function d3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FZ(n.key),n)}}function h3e(t,e,r){return e&&f3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PO(t,e,r){return e=FZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FZ(t){var e=p3e(t,"string");return Om(e)=="symbol"?e:e+""}function p3e(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m3e=function(){function t(){d3e(this,t),PO(this,"activeIndex",0),PO(this,"coordinateList",[]),PO(this,"layout","horizontal")}return h3e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,p=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function g3e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&De(n)&&De(i))return!0}return!1}function v3e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function BZ(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=or(e,r,n,i),o=or(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function y3e(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,p=or(o,l,c,f),g=or(o,l,d,f);n=p.x,i=p.y,a=g.x,s=g.y}else return BZ(e);return[{x:n,y:i},{x:a,y:s}]}function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function dG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dG(Object(r),!0).forEach(function(n){b3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b3e(t,e,r){return e=x3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x3e(t){var e=S3e(t,"string");return Rm(e)=="symbol"?e:e+""}function S3e(t,e){if(Rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w3e(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!s||p!=="ScatterChart"&&i!=="axis")return null;var y,b=Td;if(p==="ScatterChart")y=s,b=Hje;else if(p==="BarChart")y=v3e(f,s,l,d),b=II;else if(f==="radial"){var x=BZ(s),w=x.cx,E=x.cy,T=x.radius,O=x.startAngle,_=x.endAngle;y={cx:w,cy:E,startAngle:O,endAngle:_,innerRadius:T,outerRadius:T},b=BQ}else y={points:y3e(f,s,l)},b=Td;var P=dy(dy(dy(dy({stroke:"#ccc",pointerEvents:"none"},l),y),Je(g,!1)),{},{payload:o,payloadIndex:c,className:ht("recharts-tooltip-cursor",g.className)});return A.isValidElement(g)?A.cloneElement(g,P):A.createElement(b,P)}var E3e=["item"],T3e=["children","className","width","height","style","compact","title","desc"];function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cd.apply(this,arguments)}function fG(t,e){return O3e(t)||_3e(t,e)||GZ(t,e)||A3e()}function A3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function O3e(t){if(Array.isArray(t))return t}function hG(t,e){if(t==null)return{};var r=R3e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function C3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zZ(n.key),n)}}function D3e(t,e,r){return e&&P3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L3e(t,e,r){return e=Pb(e),I3e(t,UZ()?Reflect.construct(e,r||[],Pb(t).constructor):e.apply(t,r))}function I3e(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M3e(t)}function M3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UZ=function(){return!!t})()}function Pb(t){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(t)}function N3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vP(t,e)}function vP(t,e){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vP(t,e)}function lf(t){return $3e(t)||j3e(t)||GZ(t)||k3e()}function k3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GZ(t,e){if(t){if(typeof t=="string")return yP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(t,e)}}function j3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $3e(t){if(Array.isArray(t))return yP(t)}function yP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pG(Object(r),!0).forEach(function(n){at(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function at(t,e,r){return e=zZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zZ(t){var e=F3e(t,"string");return of(e)=="symbol"?e:e+""}function F3e(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B3e={xAxis:["bottom","top"],yAxis:["left","right"]},U3e={width:"100%",height:"100%"},VZ={x:0,y:0};function fy(t){return t}var G3e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},z3e=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return be(be(be({},i),or(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return be(be(be({},i),or(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return VZ},Jx=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(lf(o),lf(c)):o},[]);return s.length>0?s:e&&e.length&&De(i)&&De(a)?e.slice(i,a+1):[]};function qZ(t){return t==="number"?[0,"auto"]:void 0}var bP=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Jx(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var g=f===void 0?o:f;p=M0(g,s.dataKey,i)}else p=f&&f[n]||o[n];return p?[].concat(lf(l),[MQ(c,p)]):l},[])},mG=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=G3e(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=vNe(s,o,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,p=bP(e,r,d,f),g=z3e(n,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:g}}return null},V3e=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,p=e.stackOffset,g=RQ(d,a);return n.reduce(function(y,b){var x,w=b.type.defaultProps!==void 0?be(be({},b.type.defaultProps),b.props):b.props,E=w.type,T=w.dataKey,O=w.allowDataOverflow,_=w.allowDuplicatedCategory,P=w.scale,R=w.ticks,D=w.includeHidden,I=w[s];if(y[I])return y;var M=Jx(e.data,{graphicalItems:i.filter(function(X){var te,ee=s in X.props?X.props[s]:(te=X.type.defaultProps)===null||te===void 0?void 0:te[s];return ee===I}),dataStartIndex:l,dataEndIndex:c}),N=M.length,k,F,U;g3e(w.domain,O,E)&&(k=IC(w.domain,null,O),g&&(E==="number"||P!=="auto")&&(U=mp(M,T,"category")));var z=qZ(E);if(!k||k.length===0){var j,H=(j=w.domain)!==null&&j!==void 0?j:z;if(T){if(k=mp(M,T,E),E==="category"&&g){var V=uOe(k);_&&V?(F=k,k=vb(0,N)):_||(k=g8(H,k,b).reduce(function(X,te){return X.indexOf(te)>=0?X:[].concat(lf(X),[te])},[]))}else if(E==="category")_?k=k.filter(function(X){return X!==""&&!ft(X)}):k=g8(H,k,b).reduce(function(X,te){return X.indexOf(te)>=0||te===""||ft(te)?X:[].concat(lf(X),[te])},[]);else if(E==="number"){var q=wNe(M,i.filter(function(X){var te,ee,ue=s in X.props?X.props[s]:(te=X.type.defaultProps)===null||te===void 0?void 0:te[s],he="hide"in X.props?X.props.hide:(ee=X.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ue===I&&(D||!he)}),T,a,d);q&&(k=q)}g&&(E==="number"||P!=="auto")&&(U=mp(M,T,"category"))}else g?k=vb(0,N):o&&o[I]&&o[I].hasStack&&E==="number"?k=p==="expand"?[0,1]:IQ(o[I].stackGroups,l,c):k=OQ(M,i.filter(function(X){var te=s in X.props?X.props[s]:X.type.defaultProps[s],ee="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return te===I&&(D||!ee)}),E,d,!0);if(E==="number")k=gP(f,k,I,a,R),H&&(k=IC(H,k,O));else if(E==="category"&&H){var G=H,Y=k.every(function(X){return G.indexOf(X)>=0});Y&&(k=G)}}return be(be({},y),{},at({},I,be(be({},w),{},{axisType:a,domain:k,categoricalDomain:U,duplicateDomain:F,originalDomain:(x=w.domain)!==null&&x!==void 0?x:z,isCategorical:g,layout:d})))},{})},q3e=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,p=Jx(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),g=p.length,y=RQ(d,a),b=-1;return n.reduce(function(x,w){var E=w.type.defaultProps!==void 0?be(be({},w.type.defaultProps),w.props):w.props,T=E[s],O=qZ("number");if(!x[T]){b++;var _;return y?_=vb(0,g):o&&o[T]&&o[T].hasStack?(_=IQ(o[T].stackGroups,l,c),_=gP(f,_,T,a)):(_=IC(O,OQ(p,n.filter(function(P){var R,D,I=s in P.props?P.props[s]:(R=P.type.defaultProps)===null||R===void 0?void 0:R[s],M="hide"in P.props?P.props.hide:(D=P.type.defaultProps)===null||D===void 0?void 0:D.hide;return I===T&&!M}),"number",d),i.defaultProps.allowDataOverflow),_=gP(f,_,T,a)),be(be({},x),{},at({},T,be(be({axisType:a},i.defaultProps),{},{hide:!0,orientation:mi(B3e,"".concat(a,".").concat(b%2),null),domain:_,originalDomain:O,isCategorical:y,layout:d})))}return x},{})},H3e=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),p=Ui(d,a),g={};return p&&p.length?g=V3e(e,{axes:p,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(g=q3e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),g},K3e=function(e){var r=rl(e),n=Us(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:sI(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ab(r,n)}},gG=function(e){var r=e.children,n=e.defaultShowTooltip,i=oi(r,Qd),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},W3e=function(e){return!e||!e.length?!1:e.some(function(r){var n=Hs(r&&r.type);return n&&n.indexOf("Bar")>=0})},vG=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Y3e=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,d=n.height,f=n.children,p=n.margin||{},g=oi(f,Qd),y=oi(f,_c),b=Object.keys(l).reduce(function(_,P){var R=l[P],D=R.orientation;return!R.mirror&&!R.hide?be(be({},_),{},at({},D,_[D]+R.width)):_},{left:p.left||0,right:p.right||0}),x=Object.keys(s).reduce(function(_,P){var R=s[P],D=R.orientation;return!R.mirror&&!R.hide?be(be({},_),{},at({},D,mi(_,"".concat(D))+R.height)):_},{top:p.top||0,bottom:p.bottom||0}),w=be(be({},x),b),E=w.bottom;g&&(w.bottom+=g.props.height||Qd.defaultProps.height),y&&r&&(w=xNe(w,i,n,r));var T=c-w.left-w.right,O=d-w.top-w.bottom;return be(be({brushBottom:E},w),{},{width:Math.max(T,0),height:Math.max(O,0)})},X3e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},HZ=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(w,E){var T=E.graphicalItems,O=E.stackGroups,_=E.offset,P=E.updateId,R=E.dataStartIndex,D=E.dataEndIndex,I=w.barSize,M=w.layout,N=w.barGap,k=w.barCategoryGap,F=w.maxBarSize,U=vG(M),z=U.numericAxisName,j=U.cateAxisName,H=W3e(T),V=[];return T.forEach(function(q,G){var Y=Jx(w.data,{graphicalItems:[q],dataStartIndex:R,dataEndIndex:D}),X=q.type.defaultProps!==void 0?be(be({},q.type.defaultProps),q.props):q.props,te=X.dataKey,ee=X.maxBarSize,ue=X["".concat(z,"Id")],he=X["".concat(j,"Id")],ve={},Se=l.reduce(function(Ae,_e){var Pe=E["".concat(_e.axisType,"Map")],Ne=X["".concat(_e.axisType,"Id")];Pe&&Pe[Ne]||_e.axisType==="zAxis"||Qc();var tt=Pe[Ne];return be(be({},Ae),{},at(at({},_e.axisType,tt),"".concat(_e.axisType,"Ticks"),Us(tt)))},ve),me=Se[j],Ee=Se["".concat(j,"Ticks")],Ce=O&&O[ue]&&O[ue].hasStack&&DNe(q,O[ue].stackGroups),ce=Hs(q.type).indexOf("Bar")>=0,ke=ab(me,Ee),Ue=[],ut=H&&yNe({barSize:I,stackGroups:O,totalSize:X3e(Se,j)});if(ce){var Ie,nt,Z=ft(ee)?F:ee,ae=(Ie=(nt=ab(me,Ee,!0))!==null&&nt!==void 0?nt:Z)!==null&&Ie!==void 0?Ie:0;Ue=bNe({barGap:N,barCategoryGap:k,bandSize:ae!==ke?ae:ke,sizeList:ut[he],maxBarSize:Z}),ae!==ke&&(Ue=Ue.map(function(Ae){return be(be({},Ae),{},{position:be(be({},Ae.position),{},{offset:Ae.position.offset-ae/2})})}))}var ne=q&&q.type&&q.type.getComposedData;ne&&V.push({props:be(be({},ne(be(be({},Se),{},{displayedData:Y,props:w,dataKey:te,item:q,bandSize:ke,barPosition:Ue,offset:_,stackedData:Ce,layout:M,dataStartIndex:R,dataEndIndex:D}))),{},at(at(at({key:q.key||"item-".concat(G)},z,Se[z]),j,Se[j]),"animationId",P)),childIndex:EOe(q,w.children),item:q})}),V},g=function(w,E){var T=w.props,O=w.dataStartIndex,_=w.dataEndIndex,P=w.updateId;if(!PU({props:T}))return null;var R=T.children,D=T.layout,I=T.stackOffset,M=T.data,N=T.reverseStackOrder,k=vG(D),F=k.numericAxisName,U=k.cateAxisName,z=Ui(R,n),j=CNe(M,z,"".concat(F,"Id"),"".concat(U,"Id"),I,N),H=l.reduce(function(X,te){var ee="".concat(te.axisType,"Map");return be(be({},X),{},at({},ee,H3e(T,be(be({},te),{},{graphicalItems:z,stackGroups:te.axisType===F&&j,dataStartIndex:O,dataEndIndex:_}))))},{}),V=Y3e(be(be({},H),{},{props:T,graphicalItems:z}),E==null?void 0:E.legendBBox);Object.keys(H).forEach(function(X){H[X]=d(T,H[X],V,X.replace("Map",""),r)});var q=H["".concat(U,"Map")],G=K3e(q),Y=p(T,be(be({},H),{},{dataStartIndex:O,dataEndIndex:_,updateId:P,graphicalItems:z,stackGroups:j,offset:V}));return be(be({formattedGraphicalItems:Y,graphicalItems:z,offset:V,stackGroups:j},G),H)},y=function(x){function w(E){var T,O,_;return C3e(this,w),_=L3e(this,w,[E]),at(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),at(_,"accessibilityManager",new m3e),at(_,"handleLegendBBoxUpdate",function(P){if(P){var R=_.state,D=R.dataStartIndex,I=R.dataEndIndex,M=R.updateId;_.setState(be({legendBBox:P},g({props:_.props,dataStartIndex:D,dataEndIndex:I,updateId:M},be(be({},_.state),{},{legendBBox:P}))))}}),at(_,"handleReceiveSyncEvent",function(P,R,D){if(_.props.syncId===P){if(D===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(R)}}),at(_,"handleBrushChange",function(P){var R=P.startIndex,D=P.endIndex;if(R!==_.state.dataStartIndex||D!==_.state.dataEndIndex){var I=_.state.updateId;_.setState(function(){return be({dataStartIndex:R,dataEndIndex:D},g({props:_.props,dataStartIndex:R,dataEndIndex:D,updateId:I},_.state))}),_.triggerSyncEvent({dataStartIndex:R,dataEndIndex:D})}}),at(_,"handleMouseEnter",function(P){var R=_.getMouseInfo(P);if(R){var D=be(be({},R),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var I=_.props.onMouseEnter;st(I)&&I(D,P)}}),at(_,"triggeredAfterMouseMove",function(P){var R=_.getMouseInfo(P),D=R?be(be({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(D),_.triggerSyncEvent(D);var I=_.props.onMouseMove;st(I)&&I(D,P)}),at(_,"handleItemMouseEnter",function(P){_.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),at(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),at(_,"handleMouseMove",function(P){P.persist(),_.throttleTriggeredAfterMouseMove(P)}),at(_,"handleMouseLeave",function(P){_.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};_.setState(R),_.triggerSyncEvent(R);var D=_.props.onMouseLeave;st(D)&&D(R,P)}),at(_,"handleOuterEvent",function(P){var R=wOe(P),D=mi(_.props,"".concat(R));if(R&&st(D)){var I,M;/.*touch.*/i.test(R)?M=_.getMouseInfo(P.changedTouches[0]):M=_.getMouseInfo(P),D((I=M)!==null&&I!==void 0?I:{},P)}}),at(_,"handleClick",function(P){var R=_.getMouseInfo(P);if(R){var D=be(be({},R),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var I=_.props.onClick;st(I)&&I(D,P)}}),at(_,"handleMouseDown",function(P){var R=_.props.onMouseDown;if(st(R)){var D=_.getMouseInfo(P);R(D,P)}}),at(_,"handleMouseUp",function(P){var R=_.props.onMouseUp;if(st(R)){var D=_.getMouseInfo(P);R(D,P)}}),at(_,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),at(_,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&_.handleMouseDown(P.changedTouches[0])}),at(_,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&_.handleMouseUp(P.changedTouches[0])}),at(_,"handleDoubleClick",function(P){var R=_.props.onDoubleClick;if(st(R)){var D=_.getMouseInfo(P);R(D,P)}}),at(_,"handleContextMenu",function(P){var R=_.props.onContextMenu;if(st(R)){var D=_.getMouseInfo(P);R(D,P)}}),at(_,"triggerSyncEvent",function(P){_.props.syncId!==void 0&&RO.emit(CO,_.props.syncId,P,_.eventEmitterSymbol)}),at(_,"applySyncEvent",function(P){var R=_.props,D=R.layout,I=R.syncMethod,M=_.state.updateId,N=P.dataStartIndex,k=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)_.setState(be({dataStartIndex:N,dataEndIndex:k},g({props:_.props,dataStartIndex:N,dataEndIndex:k,updateId:M},_.state)));else if(P.activeTooltipIndex!==void 0){var F=P.chartX,U=P.chartY,z=P.activeTooltipIndex,j=_.state,H=j.offset,V=j.tooltipTicks;if(!H)return;if(typeof I=="function")z=I(V,P);else if(I==="value"){z=-1;for(var q=0;q<V.length;q++)if(V[q].value===P.activeLabel){z=q;break}}var G=be(be({},H),{},{x:H.left,y:H.top}),Y=Math.min(F,G.x+G.width),X=Math.min(U,G.y+G.height),te=V[z]&&V[z].value,ee=bP(_.state,_.props.data,z),ue=V[z]?{x:D==="horizontal"?V[z].coordinate:Y,y:D==="horizontal"?X:V[z].coordinate}:VZ;_.setState(be(be({},P),{},{activeLabel:te,activeCoordinate:ue,activePayload:ee,activeTooltipIndex:z}))}else _.setState(P)}),at(_,"renderCursor",function(P){var R,D=_.state,I=D.isTooltipActive,M=D.activeCoordinate,N=D.activePayload,k=D.offset,F=D.activeTooltipIndex,U=D.tooltipAxisBandSize,z=_.getTooltipEventType(),j=(R=P.props.active)!==null&&R!==void 0?R:I,H=_.props.layout,V=P.key||"_recharts-cursor";return W.createElement(w3e,{key:V,activeCoordinate:M,activePayload:N,activeTooltipIndex:F,chartName:r,element:P,isActive:j,layout:H,offset:k,tooltipAxisBandSize:U,tooltipEventType:z})}),at(_,"renderPolarAxis",function(P,R,D){var I=mi(P,"type.axisType"),M=mi(_.state,"".concat(I,"Map")),N=P.type.defaultProps,k=N!==void 0?be(be({},N),P.props):P.props,F=M&&M[k["".concat(I,"Id")]];return A.cloneElement(P,be(be({},F),{},{className:ht(I,F.className),key:P.key||"".concat(R,"-").concat(D),ticks:Us(F,!0)}))}),at(_,"renderPolarGrid",function(P){var R=P.props,D=R.radialLines,I=R.polarAngles,M=R.polarRadius,N=_.state,k=N.radiusAxisMap,F=N.angleAxisMap,U=rl(k),z=rl(F),j=z.cx,H=z.cy,V=z.innerRadius,q=z.outerRadius;return A.cloneElement(P,{polarAngles:Array.isArray(I)?I:Us(z,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(M)?M:Us(U,!0).map(function(G){return G.coordinate}),cx:j,cy:H,innerRadius:V,outerRadius:q,key:P.key||"polar-grid",radialLines:D})}),at(_,"renderLegend",function(){var P=_.state.formattedGraphicalItems,R=_.props,D=R.children,I=R.width,M=R.height,N=_.props.margin||{},k=I-(N.left||0)-(N.right||0),F=AQ({children:D,formattedGraphicalItems:P,legendWidth:k,legendContent:c});if(!F)return null;var U=F.item,z=hG(F,E3e);return A.cloneElement(U,be(be({},z),{},{chartWidth:I,chartHeight:M,margin:N,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),at(_,"renderTooltip",function(){var P,R=_.props,D=R.children,I=R.accessibilityLayer,M=oi(D,ki);if(!M)return null;var N=_.state,k=N.isTooltipActive,F=N.activeCoordinate,U=N.activePayload,z=N.activeLabel,j=N.offset,H=(P=M.props.active)!==null&&P!==void 0?P:k;return A.cloneElement(M,{viewBox:be(be({},j),{},{x:j.left,y:j.top}),active:H,label:z,payload:H?U:[],coordinate:F,accessibilityLayer:I})}),at(_,"renderBrush",function(P){var R=_.props,D=R.margin,I=R.data,M=_.state,N=M.offset,k=M.dataStartIndex,F=M.dataEndIndex,U=M.updateId;return A.cloneElement(P,{key:P.key||"_recharts-brush",onChange:oy(_.handleBrushChange,P.props.onChange),data:I,x:De(P.props.x)?P.props.x:N.left,y:De(P.props.y)?P.props.y:N.top+N.height+N.brushBottom-(D.bottom||0),width:De(P.props.width)?P.props.width:N.width,startIndex:k,endIndex:F,updateId:"brush-".concat(U)})}),at(_,"renderReferenceElement",function(P,R,D){if(!P)return null;var I=_,M=I.clipPathId,N=_.state,k=N.xAxisMap,F=N.yAxisMap,U=N.offset,z=P.type.defaultProps||{},j=P.props,H=j.xAxisId,V=H===void 0?z.xAxisId:H,q=j.yAxisId,G=q===void 0?z.yAxisId:q;return A.cloneElement(P,{key:P.key||"".concat(R,"-").concat(D),xAxis:k[V],yAxis:F[G],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:M})}),at(_,"renderActivePoints",function(P){var R=P.item,D=P.activePoint,I=P.basePoint,M=P.childIndex,N=P.isRange,k=[],F=R.props.key,U=R.item.type.defaultProps!==void 0?be(be({},R.item.type.defaultProps),R.item.props):R.item.props,z=U.activeDot,j=U.dataKey,H=be(be({index:M,dataKey:j,cx:D.x,cy:D.y,r:4,fill:LI(R.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Je(z,!1)),N0(z));return k.push(w.renderActiveDot(z,H,"".concat(F,"-activePoint-").concat(M))),I?k.push(w.renderActiveDot(z,be(be({},H),{},{cx:I.x,cy:I.y}),"".concat(F,"-basePoint-").concat(M))):N&&k.push(null),k}),at(_,"renderGraphicChild",function(P,R,D){var I=_.filterFormatItem(P,R,D);if(!I)return null;var M=_.getTooltipEventType(),N=_.state,k=N.isTooltipActive,F=N.tooltipAxis,U=N.activeTooltipIndex,z=N.activeLabel,j=_.props.children,H=oi(j,ki),V=I.props,q=V.points,G=V.isRange,Y=V.baseLine,X=I.item.type.defaultProps!==void 0?be(be({},I.item.type.defaultProps),I.item.props):I.item.props,te=X.activeDot,ee=X.hide,ue=X.activeBar,he=X.activeShape,ve=!!(!ee&&k&&H&&(te||ue||he)),Se={};M!=="axis"&&H&&H.props.trigger==="click"?Se={onClick:oy(_.handleItemMouseEnter,P.props.onClick)}:M!=="axis"&&(Se={onMouseLeave:oy(_.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:oy(_.handleItemMouseEnter,P.props.onMouseEnter)});var me=A.cloneElement(P,be(be({},I.props),Se));function Ee(_e){return typeof F.dataKey=="function"?F.dataKey(_e.payload):null}if(ve)if(U>=0){var Ce,ce;if(F.dataKey&&!F.allowDuplicatedCategory){var ke=typeof F.dataKey=="function"?Ee:"payload.".concat(F.dataKey.toString());Ce=M0(q,ke,z),ce=G&&Y&&M0(Y,ke,z)}else Ce=q==null?void 0:q[U],ce=G&&Y&&Y[U];if(he||ue){var Ue=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[A.cloneElement(P,be(be(be({},I.props),Se),{},{activeIndex:Ue})),null,null]}if(!ft(Ce))return[me].concat(lf(_.renderActivePoints({item:I,activePoint:Ce,basePoint:ce,childIndex:U,isRange:G})))}else{var ut,Ie=(ut=_.getItemByXY(_.state.activeCoordinate))!==null&&ut!==void 0?ut:{graphicalItem:me},nt=Ie.graphicalItem,Z=nt.item,ae=Z===void 0?P:Z,ne=nt.childIndex,Ae=be(be(be({},I.props),Se),{},{activeIndex:ne});return[A.cloneElement(ae,Ae),null,null]}return G?[me,null,null]:[me,null]}),at(_,"renderCustomized",function(P,R,D){return A.cloneElement(P,be(be({key:"recharts-customized-".concat(D)},_.props),_.state))}),at(_,"renderMap",{CartesianGrid:{handler:fy,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:fy},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:fy},YAxis:{handler:fy},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((T=E.id)!==null&&T!==void 0?T:wf("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=TX(_.triggeredAfterMouseMove,(O=E.throttleDelay)!==null&&O!==void 0?O:1e3/60),_.state={},_}return N3e(w,x),D3e(w,[{key:"componentDidMount",value:function(){var T,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,O=T.children,_=T.data,P=T.height,R=T.layout,D=oi(O,ki);if(D){var I=D.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,N=bP(this.state,_,I,M),k=this.state.tooltipTicks[I].coordinate,F=(this.state.offset.top+P)/2,U=R==="horizontal",z=U?{x:k,y:F}:{y:k,x:F},j=this.state.formattedGraphicalItems.find(function(V){var q=V.item;return q.type.name==="Scatter"});j&&(z=be(be({},z),j.props.points[I].tooltipPosition),N=j.props.points[I].tooltipPayload);var H={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:M,activePayload:N,activeCoordinate:z};this.setState(H),this.renderCursor(D),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var _,P;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(T){eC([oi(T.children,ki)],[oi(this.props.children,ki)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=oi(this.props.children,ki);if(T&&typeof T.props.shared=="boolean"){var O=T.props.shared?"axis":"item";return o.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var O=this.container,_=O.getBoundingClientRect(),P=cDe(_),R={chartX:Math.round(T.pageX-P.left),chartY:Math.round(T.pageY-P.top)},D=_.width/O.offsetWidth||1,I=this.inRange(R.chartX,R.chartY,D);if(!I)return null;var M=this.state,N=M.xAxisMap,k=M.yAxisMap,F=this.getTooltipEventType(),U=mG(this.state,this.props.data,this.props.layout,I);if(F!=="axis"&&N&&k){var z=rl(N).scale,j=rl(k).scale,H=z&&z.invert?z.invert(R.chartX):null,V=j&&j.invert?j.invert(R.chartY):null;return be(be({},R),{},{xValue:H,yValue:V},U)}return U?be(be({},R),U):null}},{key:"inRange",value:function(T,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,R=T/_,D=O/_;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,M=R>=I.left&&R<=I.left+I.width&&D>=I.top&&D<=I.top+I.height;return M?{x:R,y:D}:null}var N=this.state,k=N.angleAxisMap,F=N.radiusAxisMap;if(k&&F){var U=rl(k);return b8({x:R,y:D},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,O=this.getTooltipEventType(),_=oi(T,ki),P={};_&&O==="axis"&&(_.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=N0(this.props,this.handleOuterEvent);return be(be({},R),P)}},{key:"addListener",value:function(){RO.on(CO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){RO.removeListener(CO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,O,_){for(var P=this.state.formattedGraphicalItems,R=0,D=P.length;R<D;R++){var I=P[R];if(I.item===T||I.props.key===T.key||O===Hs(I.item.type)&&_===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,O=this.state.offset,_=O.left,P=O.top,R=O.height,D=O.width;return W.createElement("defs",null,W.createElement("clipPath",{id:T},W.createElement("rect",{x:_,y:P,height:R,width:D})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(O,_){var P=fG(_,2),R=P[0],D=P[1];return be(be({},O),{},at({},R,D.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(O,_){var P=fG(_,2),R=P[0],D=P[1];return be(be({},O),{},at({},R,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[T])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(T){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[T])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(T){var O=this.state,_=O.formattedGraphicalItems,P=O.activeItem;if(_&&_.length)for(var R=0,D=_.length;R<D;R++){var I=_[R],M=I.props,N=I.item,k=N.type.defaultProps!==void 0?be(be({},N.type.defaultProps),N.props):N.props,F=Hs(N.type);if(F==="Bar"){var U=(M.data||[]).find(function(V){return _je(T,V)});if(U)return{graphicalItem:I,payload:U}}else if(F==="RadialBar"){var z=(M.data||[]).find(function(V){return b8(T,V)});if(z)return{graphicalItem:I,payload:z}}else if(Hx(I,P)||Kx(I,P)||xm(I,P)){var j=X$e({graphicalItem:I,activeTooltipItem:P,itemData:k.data}),H=k.activeIndex===void 0?j:k.activeIndex;return{graphicalItem:be(be({},I),{},{childIndex:H}),payload:xm(I,P)?k.data[j]:I.props.data[j]}}}return null}},{key:"render",value:function(){var T=this;if(!PU(this))return null;var O=this.props,_=O.children,P=O.className,R=O.width,D=O.height,I=O.style,M=O.compact,N=O.title,k=O.desc,F=hG(O,T3e),U=Je(F,!1);if(M)return W.createElement(W6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(rC,cd({},U,{width:R,height:D,title:N,desc:k}),this.renderClipPath(),LU(_,this.renderMap)));if(this.props.accessibilityLayer){var z,j;U.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,U.role=(j=this.props.role)!==null&&j!==void 0?j:"application",U.onKeyDown=function(V){T.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){T.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return W.createElement(W6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",cd({className:ht("recharts-wrapper",P),style:be({position:"relative",cursor:"default",width:R,height:D},I)},H,{ref:function(q){T.container=q}}),W.createElement(rC,cd({},U,{width:R,height:D,title:N,desc:k,style:U3e}),this.renderClipPath(),LU(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);at(y,"displayName",r),at(y,"defaultProps",be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),at(y,"getDerivedStateFromProps",function(x,w){var E=x.dataKey,T=x.data,O=x.children,_=x.width,P=x.height,R=x.layout,D=x.stackOffset,I=x.margin,M=w.dataStartIndex,N=w.dataEndIndex;if(w.updateId===void 0){var k=gG(x);return be(be(be({},k),{},{updateId:0},g(be(be({props:x},k),{},{updateId:0}),w)),{},{prevDataKey:E,prevData:T,prevWidth:_,prevHeight:P,prevLayout:R,prevStackOffset:D,prevMargin:I,prevChildren:O})}if(E!==w.prevDataKey||T!==w.prevData||_!==w.prevWidth||P!==w.prevHeight||R!==w.prevLayout||D!==w.prevStackOffset||!Sd(I,w.prevMargin)){var F=gG(x),U={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},z=be(be({},mG(w,T,R)),{},{updateId:w.updateId+1}),j=be(be(be({},F),U),z);return be(be(be({},j),g(be({props:x},j),w)),{},{prevDataKey:E,prevData:T,prevWidth:_,prevHeight:P,prevLayout:R,prevStackOffset:D,prevMargin:I,prevChildren:O})}if(!eC(O,w.prevChildren)){var H,V,q,G,Y=oi(O,Qd),X=Y&&(H=(V=Y.props)===null||V===void 0?void 0:V.startIndex)!==null&&H!==void 0?H:M,te=Y&&(q=(G=Y.props)===null||G===void 0?void 0:G.endIndex)!==null&&q!==void 0?q:N,ee=X!==M||te!==N,ue=!ft(T),he=ue&&!ee?w.updateId:w.updateId+1;return be(be({updateId:he},g(be(be({props:x},w),{},{updateId:he,dataStartIndex:X,dataEndIndex:te}),w)),{},{prevChildren:O,dataStartIndex:X,dataEndIndex:te})}return null}),at(y,"renderActiveDot",function(x,w,E){var T;return A.isValidElement(x)?T=A.cloneElement(x,w):st(x)?T=x(w):T=W.createElement(Ux,w),W.createElement(Dt,{className:"recharts-active-dot",key:E},T)});var b=A.forwardRef(function(w,E){return W.createElement(y,cd({},w,{ref:E}))});return b.displayName=y.displayName,b},Q3e=HZ({chartName:"PieChart",GraphicalChild:go,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qx},{axisType:"radiusAxis",AxisComp:zx}],formatAxisMap:UNe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),yG=HZ({chartName:"AreaChart",GraphicalChild:io,axisComponents:[{axisType:"xAxis",AxisComp:Am},{axisType:"yAxis",AxisComp:_m}],formatAxisMap:JFe});const Z3e=()=>{var a;const{data:t,isLoading:e,error:r}=VAe(void 0),n=(((a=t==null?void 0:t.data)==null?void 0:a.distribution)||[{name:"Movies",value:1},{name:"TV Shows",value:0},{name:"Documentaries",value:0}]).filter(s=>s.value>0);n.length===0&&n.push({name:"No Content",value:1});const i=["#FACC15","#38BDF8","#FB7185","#A3E635"];return v.jsxs(sr,{className:"col-span-7 md:col-span-3 border border-gray-800/20 dark:border-gray-100/10",children:[v.jsxs(Sr,{children:[v.jsx(wr,{children:"Content Distribution"}),v.jsx(Nn,{children:"Breakdown by content type"})]}),v.jsx(fr,{children:e?v.jsx("div",{className:"flex justify-center items-center h-[250px]",children:v.jsx(Jo,{className:"h-8 w-8 animate-spin text-yellow-500"})}):r?v.jsx("div",{className:"flex justify-center items-center h-[250px]",children:v.jsx("p",{className:"text-red-500",children:"Failed to load content distribution data"})}):n.every(s=>s.value===0)?v.jsx("div",{className:"flex justify-center items-center h-[250px]",children:v.jsx("p",{className:"text-muted-foreground",children:"No content distribution data available"})}):v.jsx("div",{className:"h-[250px] w-full",children:v.jsx(gC,{width:"100%",height:"100%",children:v.jsxs(Q3e,{children:[v.jsx(go,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:({name:s,percent:o})=>`${s}: ${(o*100).toFixed(0)}%`,children:n.map((s,o)=>v.jsx(Cx,{fill:i[o%i.length]},`cell-${o}`))}),v.jsx(ki,{formatter:s=>[`${s} videos`,"Count"]}),v.jsx(_c,{})]})})})})]})},J3e=({activeChartTab:t,setActiveChartTab:e})=>{const r=[{name:"Jan",views:4e3},{name:"Feb",views:3e3},{name:"Mar",views:5e3},{name:"Apr",views:7800},{name:"May",views:5e3},{name:"Jun",views:6e3},{name:"Jul",views:8700}],n=[{name:"Jan",users:2400},{name:"Feb",users:4200},{name:"Mar",users:5800},{name:"Apr",users:7900},{name:"May",users:9100},{name:"Jun",users:10400},{name:"Jul",users:12500}];return v.jsxs(sr,{className:"col-span-7 md:col-span-4 border border-gray-800/20 dark:border-gray-100/10",children:[v.jsx(Sr,{children:v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("div",{children:[v.jsx(wr,{children:"Platform Analytics"}),v.jsx(Nn,{children:"Visualized performance metrics"})]}),v.jsx("div",{children:v.jsx(nY,{value:t,onValueChange:e,children:v.jsxs(LL,{className:"grid w-[200px] grid-cols-2",children:[v.jsx(yd,{value:"views",children:"Views"}),v.jsx(yd,{value:"users",children:"Users"})]})})})]})}),v.jsxs(fr,{children:[t==="views"&&v.jsx("div",{className:"h-[300px] w-full",children:v.jsx(gC,{width:"100%",height:"100%",children:v.jsxs(yG,{data:r,margin:{top:10,right:30,left:0,bottom:0},children:[v.jsx(cP,{strokeDasharray:"3 3",opacity:.1}),v.jsx(Am,{dataKey:"name"}),v.jsx(_m,{}),v.jsx(ki,{}),v.jsx(io,{type:"monotone",dataKey:"views",stroke:"#FACC15",fill:"#FACC15",fillOpacity:.2})]})})}),t==="users"&&v.jsx("div",{className:"h-[300px] w-full",children:v.jsx(gC,{width:"100%",height:"100%",children:v.jsxs(yG,{data:n,margin:{top:10,right:30,left:0,bottom:0},children:[v.jsx(cP,{strokeDasharray:"3 3",opacity:.1}),v.jsx(Am,{dataKey:"name"}),v.jsx(_m,{}),v.jsx(ki,{}),v.jsx(io,{type:"monotone",dataKey:"users",stroke:"#FACC15",fill:"#FACC15",fillOpacity:.2})]})})})]})]})},e4e=()=>v.jsxs("header",{className:"flex justify-between h-16 shrink-0 items-center gap-2 border-b border-gray-800/10 dark:border-gray-100/10 pe-4",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4",children:[v.jsx(ts,{className:"flex md:hidden -ml-1"}),v.jsx(ns,{children:v.jsxs(is,{children:[v.jsx(Cr,{className:"hidden md:block",children:v.jsxs(zi,{href:"/",children:[v.jsx("span",{className:"text-yellow-500 font-bold",children:"N"}),"Movies"]})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsx(Cr,{children:v.jsx(lo,{children:"Admin Dashboard"})})]})})]}),v.jsx(co,{on:!0})]}),t4e=()=>{const[t,e]=A.useState("views"),[r,n]=A.useState("analytics");return v.jsxs(es,{children:[v.jsx(oo,{}),v.jsxs(rs,{children:[v.jsx(e4e,{}),v.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6 overflow-auto",children:[v.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:v.jsxs("div",{children:[v.jsxs("h1",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:[v.jsx(vre,{className:"h-6 w-6 text-yellow-500"}),"Admin Control Panel"]}),v.jsx("p",{className:"text-muted-foreground",children:"Manage platform content, users, and system settings"})]})}),v.jsx(YAe,{}),v.jsxs(nY,{value:r,onValueChange:n,className:"w-full",children:[v.jsxs(LL,{className:"grid w-full grid-cols-3 mb-4",children:[v.jsx(yd,{value:"analytics",children:"Analytics"}),v.jsx(yd,{value:"users",children:"Users"}),v.jsx(yd,{value:"videos",children:"Videos"})]}),v.jsxs(bd,{value:"analytics",className:"space-y-4",children:[v.jsxs("div",{className:"grid gap-6 md:grid-cols-7",children:[v.jsx(J3e,{activeChartTab:t,setActiveChartTab:e}),v.jsx(Z3e,{})]}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-7",children:[v.jsx(x_e,{}),v.jsx(w_e,{})]})]}),v.jsx(bd,{value:"users",className:"space-y-4",children:v.jsx(b_e,{})}),v.jsx(bd,{value:"videos",className:"space-y-4",children:v.jsx(h_e,{})})]})]})]})]})},r4e=()=>{const{data:t}=BH(void 0);return v.jsx(es,{children:v.jsx(n4e,{videos:t})})},n4e=({videos:t})=>{const{open:e,setOpen:r,isMobile:n}=ya();return n===!0&&r(!1),v.jsxs(v.Fragment,{children:[v.jsx(oo,{}),v.jsxs(rs,{children:[v.jsxs("header",{className:"flex justify-between h-16 shrink-0 items-center gap-2 border-b border-gray-800/10 dark:border-gray-100/10 pe-4",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4",children:[v.jsx(ts,{className:"flex md:hidden -ml-1"}),v.jsx(ns,{children:v.jsxs(is,{children:[v.jsx(Cr,{className:"hidden md:block",children:v.jsxs(zi,{href:"/",children:[v.jsx("span",{className:"text-yellow-500 font-bold italic",children:"N"}),"Movies"]})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsx(Cr,{children:v.jsx(lo,{children:"Bookmark"})})]})})]}),v.jsx(co,{on:!0})]}),v.jsx("div",{className:"min-h-screen",children:v.jsx(hd,{title:"Watch Later",open:e,Videos:t})}),v.jsx(ix,{})]})]})},i4e=()=>{const{data:t}=FH(void 0);return v.jsx(es,{children:v.jsx(a4e,{videos:t})})},a4e=({videos:t})=>{const{open:e,setOpen:r,isMobile:n}=ya();return n===!0&&r(!1),v.jsxs(v.Fragment,{children:[v.jsx(oo,{}),v.jsxs(rs,{children:[v.jsxs("header",{className:"flex justify-between h-16 shrink-0 items-center gap-2 border-b border-gray-800/10 dark:border-gray-100/10 pe-4",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4",children:[v.jsx(ts,{className:"flex md:hidden -ml-1"}),v.jsx(ns,{children:v.jsxs(is,{children:[v.jsx(Cr,{className:"hidden md:block",children:v.jsxs(zi,{href:"/",children:[v.jsx("span",{className:"text-yellow-500 font-bold italic",children:"N"}),"Movies"]})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsx(Cr,{children:v.jsx(lo,{children:"History"})})]})})]}),v.jsx(co,{on:!0})]}),v.jsx("div",{className:"min-h-screen",children:v.jsx(hd,{title:"History",open:e,Videos:t})}),v.jsx(ix,{})]})]})},s4e=()=>{const{data:t}=$H(void 0);return v.jsx(es,{children:v.jsx(o4e,{videos:t})})},o4e=({videos:t})=>{const{open:e,setOpen:r,isMobile:n}=ya();return n===!0&&r(!1),v.jsxs(v.Fragment,{children:[v.jsx(oo,{}),v.jsxs(rs,{children:[v.jsxs("header",{className:"flex justify-between h-16 shrink-0 items-center gap-2 border-b border-gray-800/10 dark:border-gray-100/10 pe-4",children:[v.jsxs("div",{className:"flex items-center gap-2 px-4",children:[v.jsx(ts,{className:"flex md:hidden -ml-1"}),v.jsx(ns,{children:v.jsxs(is,{children:[v.jsx(Cr,{className:"hidden md:block",children:v.jsxs(zi,{href:"/",children:[v.jsx("span",{className:"text-yellow-500 font-bold italic",children:"N"}),"Movies"]})}),v.jsx(Vi,{className:"hidden md:block"}),v.jsx(Cr,{children:v.jsx(lo,{children:"Trending"})})]})})]}),v.jsx(co,{on:!0})]}),v.jsx("div",{className:"min-h-screen",children:v.jsx(hd,{title:"Trending",open:e,Videos:t})}),v.jsx(ix,{})]})]})},l4e=fce([{path:"/",element:v.jsx(Uye,{})},{path:"video/:id",element:v.jsx(D1e,{})},{path:"/login",element:v.jsx(D0e,{})},{path:"/register",element:v.jsx(I0e,{})},{path:"/bookmark",element:v.jsx(r4e,{})},{path:"/trending",element:v.jsx(s4e,{})},{path:"/history",element:v.jsx(i4e,{})},{path:"/dashboard/my-dashboard",element:v.jsx(nAe,{})},{path:"/dashboard/my-videos",element:v.jsx(cAe,{})},{path:"/dashboard/edit-profile",element:v.jsx(dAe,{})},{path:"/dashboard/adminDashboard",element:v.jsx(t4e,{})}]);lte.createRoot(document.getElementById("root")).render(v.jsx(A.StrictMode,{children:v.jsxs(Iye,{defaultTheme:"light",storageKey:"",children:[v.jsx(Qde,{store:R9,children:v.jsx(C9,{loading:null,persistor:g0e,children:v.jsx(xce,{router:l4e})})}),v.jsx(Cye,{})]})}));
